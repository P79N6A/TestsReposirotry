public class SdkHttpUtilsTest {
  @Test public void testEncodeNull(){
    Assert.assertEquals("urlEncode(null) returned something unexpected","",SdkHttpUtils.urlEncode(null,false));
  }
  @Test public void testEncodeEmptyString(){
    Assert.assertEquals("urlEncode(\"\") returned something unexpected","",SdkHttpUtils.urlEncode("",false));
  }
  @Test public void testNoEncoding(){
    String test="abcdefghijklmnopqrstuvwxyz" + "ABCDEFGHIJKLMNOPQRSTUVWXYZ" + "0123456789"+ "-_.~";
    Assert.assertEquals("urlEncode(\"" + test + "\") returned something "+ "unexpected",test,SdkHttpUtils.urlEncode(test,false));
  }
  @Test public void testNoEncodingPath(){
    String test="abcdefghijklmnopqrstuvwxyz" + "ABCDEFGHIJKLMNOPQRSTUVWXYZ" + "0123456789"+ "-_.~/";
    Assert.assertEquals("urlEncode(\"" + test + "\") returned something "+ "unexpected",test,SdkHttpUtils.urlEncode(test,true));
  }
  @Test public void testEncoding(){
    String test="\t\n\r " + "!\"#$" + "%&'("+ ")*+,"+ "/:;<"+ "=>?@"+ "[\\]^"+ "`{|}";
    String expected="%09%0A%0D%20" + "%21%22%23%24" + "%25%26%27%28"+ "%29%2A%2B%2C"+ "%2F%3A%3B%3C"+ "%3D%3E%3F%40"+ "%5B%5C%5D%5E"+ "%60%7B%7C%7D";
    Assert.assertEquals("urlEncode(\"" + test + "\") returned something "+ "unexpected",expected,SdkHttpUtils.urlEncode(test,false));
  }
  @Test public void testAppendUriNoPath(){
    String host="foo.com/";
    String resourcePath="";
    Assert.assertEquals(SdkHttpUtils.appendUri(host,resourcePath,true),"foo.com/");
  }
  @Test public void testAppendUriNoPathTrailingSlashAdded(){
    String host="foo.com";
    String resourcePath="";
    Assert.assertEquals(SdkHttpUtils.appendUri(host,resourcePath,true),"foo.com/");
  }
  @Test public void testAppendUriTrimExtraHostTrailingSlash(){
    String host="foo.com/";
    String resourcePath="bar";
    Assert.assertEquals(SdkHttpUtils.appendUri(host,resourcePath,true),"foo.com/bar");
  }
  @Test public void testAppendUriEscapeDoubleSlash(){
    String host="foo.com";
    String resourcePath="aws//java/sdk";
    Assert.assertEquals(SdkHttpUtils.appendUri(host,resourcePath,true),"foo.com/aws/%2Fjava/sdk");
  }
  @Test public void testAppendUriNoEscapeDoubleSlash(){
    String host="foo.com";
    String resourcePath="aws//java/sdk";
    Assert.assertEquals(SdkHttpUtils.appendUri(host,resourcePath,false),"foo.com/aws//java/sdk");
  }
}
