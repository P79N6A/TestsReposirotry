/** 
 * A mock HttpClient implementation that does nothing but throws the specified IOException or RuntimeException upon any call on execute(...) method.
 */
public static class ThrowingExceptionHttpClient extends MockHttpClient {
  private final Throwable t;
  /** 
 * @param t An IOException or RuntimeException object.
 */
  public ThrowingExceptionHttpClient(  Throwable t){
    this.t=t;
  }
  @Override public HttpResponse execute(  HttpUriRequest request) throws IOException, ClientProtocolException {
    if (t instanceof IOException) {
      throw (IOException)t;
    }
 else     if (t instanceof RuntimeException) {
      throw (RuntimeException)t;
    }
 else {
      Assert.fail("The expected throwable should be either an IOException or RuntimeException.");
      return null;
    }
  }
}
