public class ThrowablesTest {
  @Test public void typical(){
    Throwable a=new Throwable();
    Throwable b=new Throwable(a);
    assertSame(a,Throwables.getRootCause(b));
    assertSame(a,Throwables.getRootCause(a));
  }
  @Test public void circularRef(){
    Throwable a=new Throwable();
    Throwable b=new Throwable(a);
    a.initCause(b);
    assertSame(b,Throwables.getRootCause(b));
    assertSame(a,Throwables.getRootCause(a));
  }
  @Test public void nullCause(){
    Throwable a=new Throwable();
    assertSame(a,Throwables.getRootCause(a));
  }
  @Test public void simplyNull(){
    assertNull(Throwables.getRootCause(null));
  }
}
