/** 
 * Test CRC32ChecksumInputStream can calculate CRC32 checksum correctly.
 */
public class CRC32ChecksumInputStreamTest {
  private final String TEST_DARA="Jason, Yifei, Zach";
  @Test public void testCRC32Checksum() throws IOException {
    CRC32 crc32=new CRC32();
    crc32.update(TEST_DARA.getBytes());
    long expectedCRC32Checksum=crc32.getValue();
    CRC32ChecksumCalculatingInputStream crc32InputStream=new CRC32ChecksumCalculatingInputStream(new ByteArrayInputStream(TEST_DARA.getBytes()));
    while (crc32InputStream.read() != -1)     ;
    assertEquals(expectedCRC32Checksum,crc32InputStream.getCRC32Checksum());
  }
}
