public abstract class MockServerTestBase {
  protected MockServer server;
  @Before public void setupBaseFixture(){
    server=buildMockServer();
    server.startServer();
  }
  @After public void tearDownBaseFixture(){
    server.stopServer();
  }
  protected EmptyHttpRequest newGetRequest(){
    return new EmptyHttpRequest(server.getEndpoint(),HttpMethodName.GET);
  }
  /** 
 * Implemented by test subclasses to build the correct type of  {@link MockServer}
 */
  protected abstract MockServer buildMockServer();
}
