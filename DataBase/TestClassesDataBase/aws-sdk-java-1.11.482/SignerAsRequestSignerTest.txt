@RunWith(MockitoJUnitRunner.class) public class SignerAsRequestSignerTest {
  @Mock Signer signer;
  @Mock AWSCredentialsProvider credentialsProvider;
  @Mock AWSCredentials credentials;
  @Mock SignableRequest request;
  @InjectMocks SignerAsRequestSigner sut;
  @Test public void callsDownToUnderlyingSignerWithCredentialsFromCredentialProvider(){
    when(credentialsProvider.getCredentials()).thenReturn(credentials);
    sut.sign(request);
    verify(signer).sign(request,credentials);
  }
}
