public class ClientConnectionRequestFactoryTest {
  ConnectionRequest noop=new ConnectionRequest(){
    @Override public HttpClientConnection get(    long timeout,    TimeUnit tunit) throws InterruptedException, ExecutionException, ConnectionPoolTimeoutException {
      return null;
    }
    @Override public boolean cancel(){
      return false;
    }
  }
;
  @Test public void wrapOnce(){
    ConnectionRequest wrapped=ClientConnectionRequestFactory.wrap(noop);
    assertTrue(wrapped instanceof Wrapped);
  }
  @Test(expected=IllegalArgumentException.class) public void wrapTwice(){
    ConnectionRequest wrapped=ClientConnectionRequestFactory.wrap(noop);
    ClientConnectionRequestFactory.wrap(wrapped);
  }
}
