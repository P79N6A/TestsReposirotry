public class IdempotencyPathMarshallersTest {
  private final PathMarshallers.PathMarshaller marshaller=PathMarshallers.IDEMPOTENCY;
  @Test public void nullPathValue_ReplacesWithGeneratedValue(){
    assertTrue(marshaller.marshall("/foo/{pathParam}","pathParam",(String)null).matches("/foo/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}"));
  }
  @Test(expected=IllegalArgumentException.class) public void emptyPathValue_ThrowsException(){
    marshaller.marshall("/foo/{pathParam}","pathParam","");
  }
  @Test public void nonEmptyPathValue_ReplacesPlaceholder(){
    assertEquals("/foo/nonEmpty",marshaller.marshall("/foo/{pathParam}","pathParam","nonEmpty"));
  }
  @Test public void pathValueWithSlashes_UrlEncodedWhenReplaced(){
    assertEquals("/foo/has%2Fslash",marshaller.marshall("/foo/{pathParam}","pathParam","has/slash"));
  }
}
