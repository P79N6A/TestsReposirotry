/** 
 * Unit tests for context in a DefaultRequest class.
 */
public class DefaultRequestTest {
  @Test public void getContext_returns_the_value_set(){
    Request<?> request=new DefaultRequest<Object>(null,"service-name");
    Integer intValue=new Integer(10);
    HandlerContextKey<Integer> integerContextKey=new HandlerContextKey<Integer>("integer-context-key");
    request.addHandlerContext(integerContextKey,intValue);
    Assert.assertEquals(intValue,request.getHandlerContext(integerContextKey));
  }
  @Test public void defaultRequestShouldInheritModelRequestContextCopy(){
    HandlerContextKey<String> context=new HandlerContextKey<String>("");
    AmazonWebServiceRequest modelRequest=new AmazonWebServiceRequest(){
    }
;
    modelRequest.addHandlerContext(context,"Hello");
    Request<?> request=new DefaultRequest<Object>(modelRequest,"service-name");
    Assert.assertEquals("Hello",request.getHandlerContext(context));
    modelRequest.addHandlerContext(context,"Hello2");
    request.addHandlerContext(context,"Hello3");
    Assert.assertEquals("Hello2",modelRequest.getHandlerContext(context));
    Assert.assertEquals("Hello3",request.getHandlerContext(context));
  }
}
