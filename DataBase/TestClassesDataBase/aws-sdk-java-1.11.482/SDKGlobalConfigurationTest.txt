public class SDKGlobalConfigurationTest {
  @After public void tearDown(){
    System.clearProperty(DISABLE_CERT_CHECKING_SYSTEM_PROPERTY);
    System.clearProperty(AWS_EC2_METADATA_DISABLED_SYSTEM_PROPERTY);
  }
  /** 
 * Flag specified as -Dcom.amazonaws.sdk.disableCertChecking
 */
  @Test public void disableCertChecking_FlagEnabled_TurnsOffCertChecking(){
    System.setProperty(DISABLE_CERT_CHECKING_SYSTEM_PROPERTY,"");
    assertTrue(SDKGlobalConfiguration.isCertCheckingDisabled());
  }
  @Test public void disableCertChecking_PropertySetToTrue_TurnsOffCertChecking(){
    System.setProperty(DISABLE_CERT_CHECKING_SYSTEM_PROPERTY,"true");
    assertTrue(SDKGlobalConfiguration.isCertCheckingDisabled());
  }
  @Test public void disableCertChecking_PropertySet_TurnsOffCertChecking(){
    System.setProperty(DISABLE_CERT_CHECKING_SYSTEM_PROPERTY,"anything");
    assertTrue(SDKGlobalConfiguration.isCertCheckingDisabled());
  }
  @Test public void disableCertChecking_PropertySetToFalse_TurnsOffCertChecking(){
    System.setProperty(DISABLE_CERT_CHECKING_SYSTEM_PROPERTY,"false");
    assertFalse(SDKGlobalConfiguration.isCertCheckingDisabled());
  }
  @Test public void disableEc2Metadata_PropertySetToFalse_turnOnEc2Metadata(){
    System.setProperty(AWS_EC2_METADATA_DISABLED_SYSTEM_PROPERTY,"false");
    assertFalse(SDKGlobalConfiguration.isEc2MetadataDisabled());
  }
  @Test public void disableEc2Metadata_PropertySetToAnything_turnOnEc2Metadata(){
    System.setProperty(AWS_EC2_METADATA_DISABLED_SYSTEM_PROPERTY,"anything");
    assertFalse(SDKGlobalConfiguration.isEc2MetadataDisabled());
  }
  @Test public void disableEc2Metadata_PropertySetToTrueMixedCase_turnOffEc2Metadata(){
    System.setProperty(DISABLE_CERT_CHECKING_SYSTEM_PROPERTY,"tRuE");
    assertTrue(SDKGlobalConfiguration.isCertCheckingDisabled());
  }
}
