public class S3LinkIDTest {
  @Test public void testToFromJson(){
    String region="ap-northeast-1";
    S3Link.ID id=new S3Link.ID(region,"bucket","key");
    String json=id.toJson();
    S3Link.ID twin=Jackson.fromJsonString(json,S3Link.ID.class);
    assertEquals("bucket",twin.getBucket());
    assertEquals("key",twin.getKey());
    assertEquals(region,twin.getRegionId());
  }
  @Test public void testDefaultRegion(){
    S3Link.ID id=new S3Link.ID("bucketname","keyname");
    assertEquals(Region.US_Standard.getFirstRegionId(),id.getRegionId());
    String json=id.toJson();
    S3Link.ID twin=Jackson.fromJsonString(json,S3Link.ID.class);
    assertEquals("bucketname",twin.getBucket());
    assertEquals("keyname",twin.getKey());
    assertEquals(Region.US_Standard.getFirstRegionId(),twin.getRegionId());
  }
}
