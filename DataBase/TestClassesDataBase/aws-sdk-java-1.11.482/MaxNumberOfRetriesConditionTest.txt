public class MaxNumberOfRetriesConditionTest {
  @Test(expected=IllegalArgumentException.class) public void negativeMaxRetries_ThrowsException(){
    new MaxNumberOfRetriesCondition(-1);
  }
  @Test(expected=IllegalArgumentException.class) public void zeroMaxRetries_ThrowsException(){
    new MaxNumberOfRetriesCondition(0);
  }
  @Test public void positiveMaxRetries_OneMoreAttemptToMax_ReturnsTrue(){
    assertTrue(new MaxNumberOfRetriesCondition(3).shouldRetry(RetryPolicyContexts.withRetriesAttempted(2)));
  }
  @Test public void positiveMaxRetries_AtMaxAttempts_ReturnsFalse(){
    assertFalse(new MaxNumberOfRetriesCondition(3).shouldRetry(RetryPolicyContexts.withRetriesAttempted(3)));
  }
  @Test public void positiveMaxRetries_PastMaxAttempts_ReturnsFalse(){
    assertFalse(new MaxNumberOfRetriesCondition(3).shouldRetry(RetryPolicyContexts.withRetriesAttempted(4)));
  }
}
