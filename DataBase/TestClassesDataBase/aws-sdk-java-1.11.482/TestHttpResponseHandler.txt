/** 
 * An error response handler implementation that simply - keeps the status code - sets the error code by the status text (which comes from the reason phrase in the low-level response)
 */
public static class TestHttpResponseHandler implements HttpResponseHandler<AmazonServiceException> {
  @Override public AmazonServiceException handle(  com.amazonaws.http.HttpResponse response) throws Exception {
    AmazonServiceException ase=new AmazonServiceException("Fake service exception.");
    ase.setStatusCode(response.getStatusCode());
    ase.setErrorCode(response.getStatusText());
    return ase;
  }
  @Override public boolean needsConnectionLeftOpen(){
    return false;
  }
}
