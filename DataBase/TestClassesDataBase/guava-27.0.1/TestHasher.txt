@CanIgnoreReturnValue private class TestHasher extends AbstractByteHasher {
  private final ByteArrayOutputStream out=new ByteArrayOutputStream();
  @Override protected void update(  byte b){
    out.write(b);
  }
  @Override protected void update(  byte[] b,  int off,  int len){
    out.write(b,off,len);
  }
  byte[] bytes(){
    return out.toByteArray();
  }
  void assertBytes(  byte[] expected){
    assertArrayEquals(expected,bytes());
  }
  @Override public HashCode hash(){
    return HashCode.fromBytesNoCopy(bytes());
  }
}
