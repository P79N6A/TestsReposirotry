/** 
 * A generic JUnit test which tests  {@code retainAll} operations on a list. Can't be invokeddirectly; please see  {@link com.google.common.collect.testing.ListTestSuiteBuilder}.
 * @author Chris Povirk
 */
@GwtCompatible @Ignore public class ListRetainAllTester<E> extends AbstractListTester<E> {
  @CollectionFeature.Require(SUPPORTS_REMOVE) @CollectionSize.Require(absent={ZERO,ONE}) public void testRetainAll_duplicatesKept(){
    E[] array=createSamplesArray();
    array[1]=e0();
    collection=getSubjectGenerator().create(array);
    assertFalse("containsDuplicates.retainAll(superset) should return false",collection.retainAll(MinimalCollection.of(createSamplesArray())));
    expectContents(array);
  }
  @SuppressWarnings("unchecked") @CollectionFeature.Require(SUPPORTS_REMOVE) @CollectionSize.Require(SEVERAL) public void testRetainAll_duplicatesRemoved(){
    E[] array=createSamplesArray();
    array[1]=e0();
    collection=getSubjectGenerator().create(array);
    assertTrue("containsDuplicates.retainAll(subset) should return true",collection.retainAll(MinimalCollection.of(e2())));
    expectContents(e2());
  }
  @SuppressWarnings("unchecked") @CollectionFeature.Require(SUPPORTS_REMOVE) @CollectionSize.Require(SEVERAL) public void testRetainAll_countIgnored(){
    resetContainer(getSubjectGenerator().create(e0(),e2(),e1(),e0()));
    assertTrue(getList().retainAll(Arrays.asList(e0(),e1())));
    assertContentsInOrder(getList(),e0(),e1(),e0());
  }
}
