private class In extends InputStream {
  private int pos;
  @Override public int read() throws IOException {
    byte[] b=new byte[1];
    return read(b) == -1 ? -1 : UnsignedBytes.toInt(b[0]);
  }
  @Override public int read(  byte[] b,  int off,  int len){
    if (pos >= bytes.length) {
      return -1;
    }
    int lenToRead=Math.min(len,bytes.length - pos);
    System.arraycopy(bytes,pos,b,off,lenToRead);
    pos+=lenToRead;
    return lenToRead;
  }
}
