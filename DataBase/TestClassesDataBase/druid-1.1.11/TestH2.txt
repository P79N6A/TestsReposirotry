public class TestH2 extends TestCase {
  private DruidDataSource dataSource;
  protected void setUp() throws Exception {
    dataSource=new DruidDataSource();
    dataSource.setUrl("jdbc:h2:mem:");
    dataSource.setPoolPreparedStatements(true);
    dataSource.setMaxOpenPreparedStatements(10);
    dataSource.init();
  }
  protected void tearDown() throws Exception {
    JdbcUtils.close(dataSource);
  }
  public void test_h2() throws Exception {
    Assert.assertSame(JdbcUtils.H2,dataSource.getDbType());
    Connection conn=dataSource.getConnection();
    PreparedStatement stmt=conn.prepareStatement("SELECT ?");
    stmt.setString(1,"xxxx");
    ResultSet rs=stmt.executeQuery();
    rs.next();
    Assert.assertEquals("xxxx",rs.getString(1));
    rs.close();
    stmt.close();
    conn.close();
  }
}
