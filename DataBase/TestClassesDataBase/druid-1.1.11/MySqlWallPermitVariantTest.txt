/** 
 * 这个场景测试访问Oracle系统对象
 * @author admin
 */
public class MySqlWallPermitVariantTest extends TestCase {
  private String sql="select * FROM X where id=1 or version=@@version_compile_os";
  public void test_allow() throws Exception {
    MySqlWallProvider provider=new MySqlWallProvider();
    provider.getConfig().setVariantCheck(false);
    Assert.assertTrue(provider.checkValid(sql));
  }
  public void test_not_allow() throws Exception {
    MySqlWallProvider provider=new MySqlWallProvider();
    provider.getConfig().setVariantCheck(true);
    Assert.assertFalse(provider.checkValid(sql));
  }
}
