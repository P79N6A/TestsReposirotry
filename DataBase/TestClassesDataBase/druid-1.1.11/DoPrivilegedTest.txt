public class DoPrivilegedTest extends TestCase {
  public void test_0() throws Exception {
    Assert.assertTrue(WallUtils.isValidateMySql("select @@version_compile_os FROM X"));
  }
  public void test_0_0() throws Exception {
    Assert.assertFalse(WallUtils.isValidateMySql("select * FROM X where version=@@version_compile_os"));
  }
  public void test_1() throws Exception {
    final WallConfig config=new WallConfig();
    config.setDoPrivilegedAllow(true);
    WallProvider.doPrivileged(new PrivilegedAction<Object>(){
      @Override public Object run(){
        Assert.assertTrue(WallUtils.isValidateMySql("select @@version_compile_os FROM X",config));
        return null;
      }
    }
);
  }
}
