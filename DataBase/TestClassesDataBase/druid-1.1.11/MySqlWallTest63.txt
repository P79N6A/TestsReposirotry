/** 
 * SQLServerWallTest
 * @author RaymondXiu
 * @version 1.0, 2012-3-18
 * @see
 */
public class MySqlWallTest63 extends TestCase {
  public void test_true() throws Exception {
    WallProvider provider=new MySqlWallProvider();
    provider.getConfig().setSchemaCheck(true);
    provider.getConfig().setSelectUnionCheck(true);
    provider.setBlackListEnable(false);
    provider.setWhiteListEnable(false);
    Assert.assertTrue(provider.checkValid("SELECT FID, FNAME FROM T WHERE C=1 UNION SELECT 1, 'AAA'"));
    Assert.assertFalse(provider.checkValid("SELECT FID, FNAME FROM T WHERE C=1 UNION SELECT 1, 'AAA' --"));
    Assert.assertEquals(1,provider.getTableStats().size());
  }
}
