@SuppressWarnings("unchecked") public class VerificationExcludingStubsTest extends TestBase {
  @Mock IMethods mock;
  @Test public void shouldAllowToExcludeStubsForVerification() throws Exception {
    when(mock.simpleMethod()).thenReturn("foo");
    String stubbed=mock.simpleMethod();
    mock.objectArgMethod(stubbed);
    verify(mock).objectArgMethod("foo");
    try {
      verifyNoMoreInteractions(mock);
      fail();
    }
 catch (    NoInteractionsWanted e) {
    }
    ignoreStubs(mock);
    verifyNoMoreInteractions(mock);
  }
  @Test public void shouldExcludeFromVerificationInOrder() throws Exception {
    when(mock.simpleMethod()).thenReturn("foo");
    mock.objectArgMethod("1");
    mock.objectArgMethod("2");
    mock.simpleMethod();
    InOrder inOrder=inOrder(ignoreStubs(mock));
    inOrder.verify(mock).objectArgMethod("1");
    inOrder.verify(mock).objectArgMethod("2");
    inOrder.verifyNoMoreInteractions();
    verifyNoMoreInteractions(mock);
  }
  @Test(expected=NotAMockException.class) public void shouldIgnoringStubsDetectNulls() throws Exception {
    ignoreStubs(mock,null);
  }
  @Test(expected=NotAMockException.class) public void shouldIgnoringStubsDetectNonMocks() throws Exception {
    ignoreStubs(mock,new Object());
  }
}
