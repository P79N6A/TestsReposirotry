public class PluginFileReaderTest extends TestBase {
  PluginFileReader reader=new PluginFileReader();
  @Test public void no_class_in_resource() throws IOException {
    assertNull(reader.readPluginClass(impl("")));
    assertNull(reader.readPluginClass(impl("  ")));
    assertNull(reader.readPluginClass(impl(" \n ")));
    assertNull(reader.readPluginClass(impl("#foo")));
    assertNull(reader.readPluginClass(impl("  # foo  ")));
    assertNull(reader.readPluginClass(impl("  # # # java.langString # ")));
    assertNull(reader.readPluginClass(impl("  \n # foo \n # foo \n ")));
  }
  private InputStream impl(  String s){
    return new ByteArrayInputStream(s.getBytes());
  }
  @Test public void reads_class_name() throws IOException {
    assertEquals("java.lang.String",reader.readPluginClass(impl("java.lang.String")));
    assertEquals("x",reader.readPluginClass(impl("x")));
    assertEquals("x y z",reader.readPluginClass(impl(" x y z ")));
    assertEquals("foo.Foo",reader.readPluginClass(impl(" #my class\n  foo.Foo \n #other class ")));
    assertEquals("foo.Foo",reader.readPluginClass(impl("foo.Foo  # cool class")));
  }
}
