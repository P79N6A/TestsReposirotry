@SuppressWarnings({"serial","unchecked","rawtypes"}) public class StubbingWithBadThrowablesTest extends TestBase {
  @Mock List mock;
  @Test public void handles_bad_exception(){
    Assertions.assertThatThrownBy(new ThrowableAssert.ThrowingCallable(){
      public void call(){
        doThrow(UninstantiableException.class).when(mock).clear();
      }
    }
).isInstanceOf(InstantiationError.class);
    Mockito.validateMockitoUsage();
  }
abstract static class UninstantiableException extends RuntimeException {
  }
}
