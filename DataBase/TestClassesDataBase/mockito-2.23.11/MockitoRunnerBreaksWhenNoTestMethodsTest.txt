public class MockitoRunnerBreaksWhenNoTestMethodsTest extends TestBase {
  @Test public void ensure_the_test_runner_breaks() throws Exception {
    JUnitCore runner=new JUnitCore();
    runner.addListener(new TextListener(DevNull.out));
    Result result=runner.run(TestClassWithoutTestMethod.class);
    assertEquals(1,result.getFailureCount());
    assertTrue(result.getFailures().get(0).getException() instanceof MockitoException);
    assertFalse(result.wasSuccessful());
  }
@RunWith(MockitoJUnitRunner.class) static class TestClassWithoutTestMethod {
    public void notATestMethod(){
    }
  }
public static final class DevNull {
    public final static PrintStream out=new PrintStream(new OutputStream(){
      public void close(){
      }
      public void flush(){
      }
      public void write(      byte[] b){
      }
      public void write(      byte[] b,      int off,      int len){
      }
      public void write(      int b){
      }
    }
);
  }
}
