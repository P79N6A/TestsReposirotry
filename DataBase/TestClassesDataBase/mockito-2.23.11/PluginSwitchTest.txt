public class PluginSwitchTest {
  @SuppressWarnings("CheckReturnValue") @Test public void plugin_switcher_is_used(){
    mock(List.class);
    assertEquals(MyPluginSwitch.invokedFor,asList(MyMockMaker.class.getName(),MyStackTraceCleanerProvider.class.getName(),MyInstantiatorProvider2.class.getName()));
  }
  @Test public void uses_custom_mock_maker(){
    MyMockMaker.explosive.set(new Object());
    try {
      mock(List.class);
      fail();
    }
 catch (    Exception e) {
      assertEquals(MyMockMaker.class.getName(),e.getMessage());
    }
 finally {
      MyMockMaker.explosive.remove();
    }
  }
}
