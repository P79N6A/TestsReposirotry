public class LenientMockAnnotationTest {
  public @Rule MockitoRule rule=MockitoJUnit.rule().strictness(Strictness.STRICT_STUBS);
  @Mock(lenient=true) IMethods lenientMock;
  @Mock IMethods regularMock;
  @Test public void mock_is_lenient(){
    when(lenientMock.simpleMethod("1")).thenReturn("1");
    when(regularMock.simpleMethod("2")).thenReturn("2");
    ProductionCode.simpleMethod(lenientMock,"3");
    Assertions.assertThatThrownBy(new ThrowableAssert.ThrowingCallable(){
      public void call(){
        ProductionCode.simpleMethod(regularMock,"4");
      }
    }
).isInstanceOf(PotentialStubbingProblem.class);
  }
}
