@SuppressWarnings("serial") public class LocationImplTest extends TestBase {
  @Test public void shouldLocationNotContainGetStackTraceMethod(){
    assertThat(new LocationImpl().toString()).contains("shouldLocationNotContainGetStackTraceMethod");
  }
  @Test public void shouldBeSafeInCaseForSomeReasonFilteredStackTraceIsEmpty(){
    StackTraceFilter filterReturningEmptyArray=new StackTraceFilter(){
      @Override public StackTraceElement[] filter(      StackTraceElement[] target,      boolean keepTop){
        return new StackTraceElement[0];
      }
    }
;
    String loc=new LocationImpl(filterReturningEmptyArray).toString();
    assertEquals("-> at <<unknown line>>",loc);
  }
  @Test public void provides_location_class(){
    final List<String> files=new ArrayList<String>();
    new Runnable(){
      public void run(){
        files.add(new LocationImpl().getSourceFile());
      }
    }
.run();
    assertEquals("LocationImplTest.java",files.get(0));
  }
}
