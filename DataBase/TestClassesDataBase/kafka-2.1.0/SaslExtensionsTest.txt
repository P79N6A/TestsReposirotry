public class SaslExtensionsTest {
  Map<String,String> map;
  @Before public void setUp(){
    this.map=new HashMap<>();
    this.map.put("what","42");
    this.map.put("who","me");
  }
  @Test(expected=UnsupportedOperationException.class) public void testReturnedMapIsImmutable(){
    SaslExtensions extensions=new SaslExtensions(this.map);
    extensions.map().put("hello","test");
  }
  @Test public void testCannotAddValueToMapReferenceAndGetFromExtensions(){
    SaslExtensions extensions=new SaslExtensions(this.map);
    assertNull(extensions.map().get("hello"));
    this.map.put("hello","42");
    assertNull(extensions.map().get("hello"));
  }
}
