class LockingReporter implements MetricsReporter {
  Map<MetricName,KafkaMetric> activeMetrics=new HashMap<>();
  @Override public synchronized void init(  List<KafkaMetric> metrics){
  }
  @Override public synchronized void metricChange(  KafkaMetric metric){
    activeMetrics.put(metric.metricName(),metric);
  }
  @Override public synchronized void metricRemoval(  KafkaMetric metric){
    activeMetrics.remove(metric.metricName(),metric);
  }
  @Override public synchronized void close(){
  }
  @Override public void configure(  Map<String,?> configs){
  }
  synchronized void processMetrics(){
    for (    KafkaMetric metric : activeMetrics.values()) {
      assertNotNull("Invalid metric value",metric.metricValue());
    }
  }
}
