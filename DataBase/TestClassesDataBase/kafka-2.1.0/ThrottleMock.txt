/** 
 * ThrottleMock is a subclass of Throttle that uses a MockTime object.  It calls MockTime#sleep instead of Object#wait.
 */
private static class ThrottleMock extends Throttle {
  final MockTime time;
  ThrottleMock(  MockTime time,  int maxPerSec){
    super(maxPerSec,100);
    this.time=time;
  }
  @Override protected Time time(){
    return time;
  }
  @Override protected synchronized void delay(  long amount) throws InterruptedException {
    time.sleep(amount);
  }
}
