public class BufferSupplierTest {
  @Test public void testGrowableBuffer(){
    BufferSupplier.GrowableBufferSupplier supplier=new BufferSupplier.GrowableBufferSupplier();
    ByteBuffer buffer=supplier.get(1024);
    assertEquals(0,buffer.position());
    assertEquals(1024,buffer.capacity());
    supplier.release(buffer);
    ByteBuffer cached=supplier.get(512);
    assertEquals(0,cached.position());
    assertSame(buffer,cached);
    ByteBuffer increased=supplier.get(2048);
    assertEquals(2048,increased.capacity());
    assertEquals(0,increased.position());
  }
}
