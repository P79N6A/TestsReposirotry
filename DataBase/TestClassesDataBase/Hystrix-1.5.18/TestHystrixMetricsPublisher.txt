private static class TestHystrixMetricsPublisher extends HystrixMetricsPublisher {
  AtomicInteger commandCounter=new AtomicInteger();
  AtomicInteger threadCounter=new AtomicInteger();
  @Override public HystrixMetricsPublisherCommand getMetricsPublisherForCommand(  HystrixCommandKey commandKey,  HystrixCommandGroupKey commandOwner,  HystrixCommandMetrics metrics,  HystrixCircuitBreaker circuitBreaker,  HystrixCommandProperties properties){
    return new HystrixMetricsPublisherCommand(){
      @Override public void initialize(){
        commandCounter.incrementAndGet();
      }
    }
;
  }
  @Override public HystrixMetricsPublisherThreadPool getMetricsPublisherForThreadPool(  HystrixThreadPoolKey threadPoolKey,  HystrixThreadPoolMetrics metrics,  HystrixThreadPoolProperties properties){
    return new HystrixMetricsPublisherThreadPool(){
      @Override public void initialize(){
        threadCounter.incrementAndGet();
      }
    }
;
  }
}
