private static class ExceptionToBadRequestByExecutionHookCommand extends TestHystrixCommand<Boolean> {
  public ExceptionToBadRequestByExecutionHookCommand(  TestCircuitBreaker circuitBreaker,  ExecutionIsolationStrategy isolationType){
    super(testPropsBuilder().setCircuitBreaker(circuitBreaker).setCommandPropertiesDefaults(HystrixCommandPropertiesTest.getUnitTestPropertiesSetter().withExecutionIsolationStrategy(isolationType)).setMetrics(circuitBreaker.metrics).setExecutionHook(new TestableExecutionHook(){
      @Override public <T>Exception onRunError(      HystrixInvokable<T> commandInstance,      Exception e){
        super.onRunError(commandInstance,e);
        return new HystrixBadRequestException("autoconverted exception",e);
      }
    }
));
  }
  @Override protected Boolean run() throws BusinessException {
    throw new BusinessException("invalid input by the user");
  }
  @Override protected String getCacheKey(){
    return "nein";
  }
}
