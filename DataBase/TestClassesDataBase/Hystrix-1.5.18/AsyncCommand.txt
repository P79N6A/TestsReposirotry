class AsyncCommand extends HystrixObservableCommand<Boolean> {
  public AsyncCommand(){
    super(Setter.withGroupKey(HystrixCommandGroupKey.Factory.asKey("ASYNC")));
  }
  @Override protected Observable<Boolean> construct(){
    return Observable.error(new RuntimeException("construct failure"));
  }
  @Override protected Observable<Boolean> resumeWithFallback(){
    return Observable.defer(new Func0<Observable<Boolean>>(){
      @Override public Observable<Boolean> call(){
        try {
          Thread.sleep(100);
          return Observable.just(false);
        }
 catch (        InterruptedException ex) {
          return Observable.error(ex);
        }
      }
    }
).subscribeOn(Schedulers.io());
  }
}
