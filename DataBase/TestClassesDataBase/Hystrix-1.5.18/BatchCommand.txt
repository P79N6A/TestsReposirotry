private static final class BatchCommand extends HystrixCommand<List<String>> {
  private final Collection<CollapsedRequest<String,Integer>> requests;
  private BatchCommand(  Collection<CollapsedRequest<String,Integer>> requests){
    super(Setter.withGroupKey(HystrixCommandGroupKey.Factory.asKey("ExampleGroup")).andCommandKey(HystrixCommandKey.Factory.asKey("GetValueForKey")));
    this.requests=requests;
  }
  @Override protected List<String> run(){
    ArrayList<String> response=new ArrayList<String>();
    for (    CollapsedRequest<String,Integer> request : requests) {
      response.add("ValueForKey: " + request.getArgument());
    }
    return response;
  }
}
