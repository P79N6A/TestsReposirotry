@EnableWebSecurity static class OAuth2LoginConfigCustomAuthorizationRequestResolver extends CommonWebSecurityConfigurerAdapter {
  private ClientRegistrationRepository clientRegistrationRepository=new InMemoryClientRegistrationRepository(GOOGLE_CLIENT_REGISTRATION);
  OAuth2AuthorizationRequestResolver resolver=mock(OAuth2AuthorizationRequestResolver.class);
  @Override protected void configure(  HttpSecurity http) throws Exception {
    http.oauth2Login().clientRegistrationRepository(this.clientRegistrationRepository).authorizationEndpoint().authorizationRequestResolver(this.resolver);
    super.configure(http);
  }
}
