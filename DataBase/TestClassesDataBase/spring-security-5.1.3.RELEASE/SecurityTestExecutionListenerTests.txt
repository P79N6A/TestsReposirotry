@RunWith(SpringJUnit4ClassRunner.class) @SecurityTestExecutionListeners public class SecurityTestExecutionListenerTests {
  @WithMockUser @Test public void withSecurityContextTestExecutionListenerIsRegistered(){
    assertThat(SecurityContextHolder.getContext().getAuthentication().getName()).isEqualTo("user");
  }
  @WithMockUser @Test public void reactorContextTestSecurityContextHolderExecutionListenerTestIsRegistered(){
    Mono<String> name=ReactiveSecurityContextHolder.getContext().map(SecurityContext::getAuthentication).map(Principal::getName);
    StepVerifier.create(name).expectNext("user").verifyComplete();
  }
}
