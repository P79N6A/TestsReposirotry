@EnableWebSecurity @Configuration @EnableWebMvc static class MvcMatcherPathVariablesConfig extends WebSecurityConfigurerAdapter {
  @Override protected void configure(  HttpSecurity http) throws Exception {
    http.httpBasic().and().authorizeRequests().mvcMatchers("/user/{userName}").access("#userName == 'user'");
  }
  @Override protected void configure(  AuthenticationManagerBuilder auth) throws Exception {
    auth.inMemoryAuthentication();
  }
@RestController static class PathController {
    @RequestMapping("/path") public String path(){
      return "path";
    }
  }
}
