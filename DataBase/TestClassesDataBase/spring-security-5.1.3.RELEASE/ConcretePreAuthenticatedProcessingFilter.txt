private static class ConcretePreAuthenticatedProcessingFilter extends AbstractPreAuthenticatedProcessingFilter {
  private Object principal="testPrincipal";
  private boolean initFilterBeanInvoked;
  protected Object getPreAuthenticatedPrincipal(  HttpServletRequest httpRequest){
    return principal;
  }
  protected Object getPreAuthenticatedCredentials(  HttpServletRequest httpRequest){
    return "testCredentials";
  }
  @Override protected void initFilterBean() throws ServletException {
    super.initFilterBean();
    initFilterBeanInvoked=true;
  }
}
