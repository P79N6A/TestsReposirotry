@EnableWebSecurity static class InMemoryConfigureGlobalConfig extends WebSecurityConfigurerAdapter {
  @Autowired public void configureGlobal(  AuthenticationManagerBuilder auth) throws Exception {
    auth.inMemoryAuthentication().withUser(PasswordEncodedUser.user());
  }
  @Override @Bean public UserDetailsService userDetailsServiceBean() throws Exception {
    return super.userDetailsServiceBean();
  }
}
