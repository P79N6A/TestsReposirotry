@EnableGlobalMethodSecurity(prePostEnabled=true) public static class InMemoryAuthWithGlobalMethodSecurityConfig extends GlobalMethodSecurityConfiguration {
  @Override protected void configure(  AuthenticationManagerBuilder auth) throws Exception {
    auth.inMemoryAuthentication();
  }
  @Bean public MockEventListener<AbstractAuthenticationEvent> listener(){
    return new MockEventListener<AbstractAuthenticationEvent>(){
    }
;
  }
}
