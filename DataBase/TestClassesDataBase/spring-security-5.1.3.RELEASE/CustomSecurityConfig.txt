@EnableWebSecurity static class CustomSecurityConfig extends WebSecurityConfigurerAdapter {
  static CsrfTokenRepository CSRF_REPO;
  static SecurityContextRepository CONTEXT_REPO;
  @Override protected void configure(  HttpSecurity http) throws Exception {
    http.csrf().csrfTokenRepository(CSRF_REPO).and().securityContext().securityContextRepository(CONTEXT_REPO);
  }
}
