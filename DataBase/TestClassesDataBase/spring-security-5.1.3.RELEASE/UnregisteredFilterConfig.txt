@EnableWebSecurity static class UnregisteredFilterConfig extends WebSecurityConfigurerAdapter {
  protected void configure(  HttpSecurity http) throws Exception {
    http.addFilter(new UnregisteredFilter());
  }
  protected void configure(  AuthenticationManagerBuilder auth) throws Exception {
    auth.inMemoryAuthentication().withUser(PasswordEncodedUser.user());
  }
}
