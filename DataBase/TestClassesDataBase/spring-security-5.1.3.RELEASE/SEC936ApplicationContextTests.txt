/** 
 * @author Luke Taylor
 * @since 2.0
 */
@ContextConfiguration(locations={"/sec-936-app-context.xml"}) @RunWith(SpringJUnit4ClassRunner.class) public class SEC936ApplicationContextTests {
  @Autowired private SessionRegistry sessionRegistry;
  @Test(expected=AccessDeniedException.class) public void securityInterceptorHandlesCallWithNoTargetObject(){
    SecurityContextHolder.getContext().setAuthentication(new UsernamePasswordAuthenticationToken("bob","bobspassword"));
    sessionRegistry.getAllPrincipals();
  }
}
