static class CustomAuthManager implements AuthenticationManager, ApplicationContextAware {
  private String beanName;
  private AuthenticationManager authenticationManager;
  CustomAuthManager(  String beanName){
    this.beanName=beanName;
  }
  public Authentication authenticate(  Authentication authentication) throws AuthenticationException {
    return authenticationManager.authenticate(authentication);
  }
  public void setApplicationContext(  ApplicationContext applicationContext) throws BeansException {
    this.authenticationManager=applicationContext.getBean(beanName,AuthenticationManager.class);
  }
}
