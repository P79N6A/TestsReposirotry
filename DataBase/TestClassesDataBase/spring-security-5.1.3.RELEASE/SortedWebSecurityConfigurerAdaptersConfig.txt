@EnableWebSecurity @Import(AuthenticationTestConfiguration.class) static class SortedWebSecurityConfigurerAdaptersConfig {
@Configuration @Order(1) static class WebConfigurer1 extends WebSecurityConfigurerAdapter {
    @Override public void configure(    WebSecurity web) throws Exception {
      web.ignoring().antMatchers("/ignore1","/ignore2");
    }
    @Override protected void configure(    HttpSecurity http) throws Exception {
      http.antMatcher("/role1/**").authorizeRequests().anyRequest().hasRole("1");
    }
  }
@Configuration @Order(2) static class WebConfigurer2 extends WebSecurityConfigurerAdapter {
    @Override protected void configure(    HttpSecurity http) throws Exception {
      http.antMatcher("/role2/**").authorizeRequests().anyRequest().hasRole("2");
    }
  }
@Configuration @Order(3) static class WebConfigurer3 extends WebSecurityConfigurerAdapter {
    @Override protected void configure(    HttpSecurity http) throws Exception {
      http.antMatcher("/role3/**").authorizeRequests().anyRequest().hasRole("3");
    }
  }
@Configuration static class WebConfigurer4 extends WebSecurityConfigurerAdapter {
    @Override protected void configure(    HttpSecurity http) throws Exception {
      http.authorizeRequests().anyRequest().hasRole("4");
    }
  }
}
