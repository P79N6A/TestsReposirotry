@EnableWebSecurity static class MultipleBearerTokenResolverBeansConfig extends WebSecurityConfigurerAdapter {
  @Override protected void configure(  HttpSecurity http) throws Exception {
    http.authorizeRequests().anyRequest().authenticated().and().oauth2ResourceServer().jwt();
  }
  @Bean BearerTokenResolver resolverOne(){
    DefaultBearerTokenResolver resolver=new DefaultBearerTokenResolver();
    resolver.setAllowUriQueryParameter(true);
    return resolver;
  }
  @Bean BearerTokenResolver resolverTwo(){
    DefaultBearerTokenResolver resolver=new DefaultBearerTokenResolver();
    resolver.setAllowFormEncodedBodyParameter(true);
    return resolver;
  }
}
