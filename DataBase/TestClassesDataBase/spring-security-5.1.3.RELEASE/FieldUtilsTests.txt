/** 
 * @author Luke Taylor
 */
public class FieldUtilsTests {
  @Test public void gettingAndSettingProtectedFieldIsSuccessful() throws Exception {
    new FieldUtils();
    Object tc=new TestClass();
    assertThat(FieldUtils.getProtectedFieldValue("protectedField",tc)).isEqualTo("x");
    assertThat(FieldUtils.getFieldValue(tc,"nested.protectedField")).isEqualTo("z");
    FieldUtils.setProtectedFieldValue("protectedField",tc,"y");
    assertThat(FieldUtils.getProtectedFieldValue("protectedField",tc)).isEqualTo("y");
    try {
      FieldUtils.getProtectedFieldValue("nonExistentField",tc);
    }
 catch (    IllegalStateException expected) {
    }
  }
}
