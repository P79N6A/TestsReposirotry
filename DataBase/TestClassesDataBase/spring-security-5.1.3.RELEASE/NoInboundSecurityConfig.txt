@Configuration @EnableWebSocketMessageBroker @Import(SyncExecutorConfig.class) static class NoInboundSecurityConfig extends AbstractSecurityWebSocketMessageBrokerConfigurer {
  public void registerStompEndpoints(  StompEndpointRegistry registry){
    registry.addEndpoint("/other").withSockJS().setInterceptors(new HttpSessionHandshakeInterceptor());
    registry.addEndpoint("/chat").withSockJS().setInterceptors(new HttpSessionHandshakeInterceptor());
  }
  @Override protected void configureInbound(  MessageSecurityMetadataSourceRegistry messages){
  }
  @Override public void configureMessageBroker(  MessageBrokerRegistry registry){
    registry.enableSimpleBroker("/queue/","/topic/");
    registry.setApplicationDestinationPrefixes("/permitAll","/denyAll");
  }
  @Bean public MyController myController(){
    return new MyController();
  }
}
