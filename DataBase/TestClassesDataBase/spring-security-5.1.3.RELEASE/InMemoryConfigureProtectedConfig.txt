@EnableWebSecurity static class InMemoryConfigureProtectedConfig extends WebSecurityConfigurerAdapter {
  @Override protected void configure(  AuthenticationManagerBuilder auth) throws Exception {
    auth.inMemoryAuthentication().withUser(PasswordEncodedUser.user());
  }
  @Override @Bean public UserDetailsService userDetailsServiceBean() throws Exception {
    return super.userDetailsServiceBean();
  }
}
