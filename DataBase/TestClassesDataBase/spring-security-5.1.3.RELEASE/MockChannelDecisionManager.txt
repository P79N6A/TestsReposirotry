private class MockChannelDecisionManager implements ChannelDecisionManager {
  private String supportAttribute;
  private boolean commitAResponse;
  public MockChannelDecisionManager(  boolean commitAResponse,  String supportAttribute){
    this.commitAResponse=commitAResponse;
    this.supportAttribute=supportAttribute;
  }
  public void decide(  FilterInvocation invocation,  Collection<ConfigAttribute> config) throws IOException, ServletException {
    if (commitAResponse) {
      invocation.getHttpResponse().sendRedirect("/redirected");
    }
  }
  public boolean supports(  ConfigAttribute attribute){
    if (attribute.getAttribute().equals(supportAttribute)) {
      return true;
    }
 else {
      return false;
    }
  }
}
