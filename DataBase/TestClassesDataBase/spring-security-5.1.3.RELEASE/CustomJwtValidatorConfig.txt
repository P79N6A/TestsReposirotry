@EnableWebSecurity static class CustomJwtValidatorConfig extends WebSecurityConfigurerAdapter {
  @Value("${mock.jwk-set-uri}") String uri;
  private final OAuth2TokenValidator<Jwt> jwtValidator=mock(OAuth2TokenValidator.class);
  @Override protected void configure(  HttpSecurity http) throws Exception {
    NimbusJwtDecoderJwkSupport jwtDecoder=new NimbusJwtDecoderJwkSupport(this.uri);
    jwtDecoder.setJwtValidator(this.jwtValidator);
    http.oauth2ResourceServer().jwt().decoder(jwtDecoder);
  }
  public OAuth2TokenValidator<Jwt> getJwtValidator(){
    return this.jwtValidator;
  }
}
