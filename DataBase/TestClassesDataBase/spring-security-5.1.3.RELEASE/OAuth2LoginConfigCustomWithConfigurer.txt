@EnableWebSecurity static class OAuth2LoginConfigCustomWithConfigurer extends CommonWebSecurityConfigurerAdapter {
  @Override protected void configure(  HttpSecurity http) throws Exception {
    http.oauth2Login().clientRegistrationRepository(new InMemoryClientRegistrationRepository(GOOGLE_CLIENT_REGISTRATION)).userInfoEndpoint().userAuthoritiesMapper(createGrantedAuthoritiesMapper());
    super.configure(http);
  }
}
