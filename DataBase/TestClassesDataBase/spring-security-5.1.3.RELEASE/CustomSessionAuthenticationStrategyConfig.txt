@EnableWebSecurity static class CustomSessionAuthenticationStrategyConfig extends WebSecurityConfigurerAdapter {
  static SessionAuthenticationStrategy customSessionAuthenticationStrategy=mock(SessionAuthenticationStrategy.class);
  @Override public void configure(  HttpSecurity http) throws Exception {
    http.formLogin().and().sessionManagement().sessionAuthenticationStrategy(customSessionAuthenticationStrategy);
  }
  @Override protected void configure(  AuthenticationManagerBuilder auth) throws Exception {
    auth.inMemoryAuthentication().withUser(PasswordEncodedUser.user());
  }
}
