public static class TeapotAuthenticationHandler implements AuthenticationSuccessHandler, AuthenticationFailureHandler {
  @Override public void onAuthenticationFailure(  HttpServletRequest request,  HttpServletResponse response,  AuthenticationException exception) throws IOException, ServletException {
    response.setStatus(HttpStatus.I_AM_A_TEAPOT.value());
  }
  @Override public void onAuthenticationSuccess(  HttpServletRequest request,  HttpServletResponse response,  Authentication authentication) throws IOException, ServletException {
    response.setStatus(HttpStatus.I_AM_A_TEAPOT.value());
  }
}
