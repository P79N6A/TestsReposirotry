static class SessionRepositoryFilter extends OncePerRequestFilter {
  @Override protected void doFilterInternal(  HttpServletRequest request,  HttpServletResponse response,  FilterChain filterChain) throws ServletException, IOException {
    filterChain.doFilter(new SessionRequestWrapper(request),response);
  }
static class SessionRequestWrapper extends HttpServletRequestWrapper {
    HttpSession session=new MockHttpSession();
    public SessionRequestWrapper(    HttpServletRequest request){
      super(request);
    }
    @Override public HttpSession getSession(    boolean create){
      return this.session;
    }
    @Override public HttpSession getSession(){
      return this.session;
    }
  }
}
