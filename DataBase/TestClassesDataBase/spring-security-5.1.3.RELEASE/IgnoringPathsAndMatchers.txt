@EnableWebSecurity static class IgnoringPathsAndMatchers extends WebSecurityConfigurerAdapter {
  RequestMatcher requestMatcher=request -> HttpMethod.POST.name().equals(request.getMethod());
  @Override protected void configure(  HttpSecurity http) throws Exception {
    http.csrf().ignoringAntMatchers("/no-csrf").ignoringRequestMatchers(this.requestMatcher);
  }
}
