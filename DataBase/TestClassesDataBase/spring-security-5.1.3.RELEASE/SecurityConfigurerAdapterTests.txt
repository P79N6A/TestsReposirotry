public class SecurityConfigurerAdapterTests {
  ConcereteSecurityConfigurerAdapter adapter;
  @Before public void setup(){
    adapter=new ConcereteSecurityConfigurerAdapter();
  }
  @Test public void postProcessObjectPostProcessorsAreSorted(){
    adapter.addObjectPostProcessor(new OrderedObjectPostProcessor(Ordered.LOWEST_PRECEDENCE));
    adapter.addObjectPostProcessor(new OrderedObjectPostProcessor(Ordered.HIGHEST_PRECEDENCE));
    assertThat(adapter.postProcess("hi")).isEqualTo("hi " + Ordered.HIGHEST_PRECEDENCE + " "+ Ordered.LOWEST_PRECEDENCE);
  }
static class OrderedObjectPostProcessor implements ObjectPostProcessor<String>, Ordered {
    private final int order;
    public OrderedObjectPostProcessor(    int order){
      this.order=order;
    }
    public int getOrder(){
      return order;
    }
    @SuppressWarnings("unchecked") public String postProcess(    String object){
      return object + " " + order;
    }
  }
}
