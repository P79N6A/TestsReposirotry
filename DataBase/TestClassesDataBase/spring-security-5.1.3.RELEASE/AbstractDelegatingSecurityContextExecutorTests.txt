/** 
 * Abstract class for testing  {@link DelegatingSecurityContextExecutor} which allowscustomization of how  {@link DelegatingSecurityContextExecutor} and its mocks arecreated.
 * @author Rob Winch
 * @since 3.2
 * @see CurrentDelegatingSecurityContextExecutorTests
 * @see ExplicitDelegatingSecurityContextExecutorTests
 */
public abstract class AbstractDelegatingSecurityContextExecutorTests extends AbstractDelegatingSecurityContextTestSupport {
  @Mock protected ScheduledExecutorService delegate;
  private DelegatingSecurityContextExecutor executor;
  @Test(expected=IllegalArgumentException.class) public void constructorNullDelegate(){
    new DelegatingSecurityContextExecutor(null);
  }
  @Test public void execute(){
    executor=create();
    executor.execute(runnable);
    verify(getExecutor()).execute(wrappedRunnable);
  }
  protected Executor getExecutor(){
    return delegate;
  }
  protected abstract DelegatingSecurityContextExecutor create();
}
