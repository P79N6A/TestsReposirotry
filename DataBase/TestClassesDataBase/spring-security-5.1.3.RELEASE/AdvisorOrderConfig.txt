private static class AdvisorOrderConfig implements ImportBeanDefinitionRegistrar {
private static class ExceptingInterceptor implements MethodInterceptor {
    @Override public Object invoke(    MethodInvocation invocation){
      throw new UnsupportedOperationException("Deny All");
    }
  }
  @Override public void registerBeanDefinitions(  AnnotationMetadata importingClassMetadata,  BeanDefinitionRegistry registry){
    BeanDefinitionBuilder advice=BeanDefinitionBuilder.rootBeanDefinition(ExceptingInterceptor.class);
    registry.registerBeanDefinition("exceptingInterceptor",advice.getBeanDefinition());
    BeanDefinitionBuilder advisor=BeanDefinitionBuilder.rootBeanDefinition(MethodSecurityMetadataSourceAdvisor.class);
    advisor.setRole(BeanDefinition.ROLE_INFRASTRUCTURE);
    advisor.addConstructorArgValue("exceptingInterceptor");
    advisor.addConstructorArgReference("methodSecurityMetadataSource");
    advisor.addConstructorArgValue("methodSecurityMetadataSource");
    advisor.addPropertyValue("order",0);
    registry.registerBeanDefinition("exceptingAdvisor",advisor.getBeanDefinition());
  }
}
