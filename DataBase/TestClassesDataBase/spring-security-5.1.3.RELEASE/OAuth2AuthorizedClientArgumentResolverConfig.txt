@EnableWebMvc @EnableWebSecurity static class OAuth2AuthorizedClientArgumentResolverConfig extends WebSecurityConfigurerAdapter {
  static OAuth2AuthorizedClientRepository AUTHORIZED_CLIENT_REPOSITORY;
  @Override protected void configure(  HttpSecurity http) throws Exception {
  }
@RestController public class Controller {
    @GetMapping("/authorized-client") public String authorizedClient(    @RegisteredOAuth2AuthorizedClient("client1") OAuth2AuthorizedClient authorizedClient){
      return authorizedClient != null ? "resolved" : "not-resolved";
    }
  }
  @Bean public ClientRegistrationRepository clientRegistrationRepository(){
    return mock(ClientRegistrationRepository.class);
  }
  @Bean public OAuth2AuthorizedClientRepository authorizedClientRepository(){
    return AUTHORIZED_CLIENT_REPOSITORY;
  }
}
