@EnableWebSecurity static class WithTransientAuthenticationConfig extends WebSecurityConfigurerAdapter {
  @Override protected void configure(  HttpSecurity http) throws Exception {
    super.configure(http);
    http.csrf().disable();
  }
  @Override protected void configure(  AuthenticationManagerBuilder auth) throws Exception {
    auth.authenticationProvider(new TransientAuthenticationProvider());
  }
}
