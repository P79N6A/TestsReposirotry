@RunWith(MockitoJUnitRunner.class) public class JdbcAclServiceTests {
  @Mock private DataSource dataSource;
  @Mock private LookupStrategy lookupStrategy;
  private JdbcAclService aclService;
  @Before public void setUp(){
    aclService=new JdbcAclService(dataSource,lookupStrategy);
  }
  @Test(expected=NotFoundException.class) public void readAclByIdMissingAcl(){
    Map<ObjectIdentity,Acl> result=new HashMap<>();
    when(lookupStrategy.readAclsById(anyListOf(ObjectIdentity.class),anyListOf(Sid.class))).thenReturn(result);
    ObjectIdentity objectIdentity=new ObjectIdentityImpl(Object.class,1);
    List<Sid> sids=Arrays.<Sid>asList(new PrincipalSid("user"));
    aclService.readAclById(objectIdentity,sids);
  }
}
