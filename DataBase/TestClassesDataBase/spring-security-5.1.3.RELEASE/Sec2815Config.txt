@EnableGlobalMethodSecurity(prePostEnabled=true) static class Sec2815Config {
  @Bean public MethodSecurityService service(){
    return new MethodSecurityServiceImpl();
  }
  @Bean public MockBeanPostProcessor mockBeanPostProcessor(){
    return new MockBeanPostProcessor();
  }
  @Bean public DataSource dataSource(){
    return mock(DataSource.class);
  }
@Configuration static class AuthConfig extends GlobalAuthenticationConfigurerAdapter {
    @Autowired DataSource dataSource;
    @Override public void init(    AuthenticationManagerBuilder auth) throws Exception {
      auth.inMemoryAuthentication();
    }
  }
}
