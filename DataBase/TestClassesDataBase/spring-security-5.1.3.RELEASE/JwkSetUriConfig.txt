@EnableWebFlux @EnableWebFluxSecurity static class JwkSetUriConfig {
  private MockWebServer mockWebServer=new MockWebServer();
  @Bean SecurityWebFilterChain springSecurity(  ServerHttpSecurity http){
    String jwkSetUri=mockWebServer().url("/.well-known/jwks.json").toString();
    http.oauth2ResourceServer().jwt().jwkSetUri(jwkSetUri);
    return http.build();
  }
  @Bean MockWebServer mockWebServer(){
    return this.mockWebServer;
  }
  @PreDestroy void shutdown() throws IOException {
    this.mockWebServer.shutdown();
  }
}
