@Configuration @EnableWebSocketMessageBroker static class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {
  public void registerStompEndpoints(  StompEndpointRegistry registry){
    registry.addEndpoint("/chat").withSockJS();
  }
  @Override public void configureMessageBroker(  MessageBrokerRegistry registry){
    registry.enableSimpleBroker("/queue/","/topic/");
    registry.setApplicationDestinationPrefixes("/permitAll","/denyAll");
  }
  @Bean public MyController myController(){
    return new MyController();
  }
}
