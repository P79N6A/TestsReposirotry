/** 
 * @author Rob Winch
 * @since 4.0
 */
public class HttpStatusEntryPointTests {
  MockHttpServletRequest request;
  MockHttpServletResponse response;
  AuthenticationException authException;
  HttpStatusEntryPoint entryPoint;
  @SuppressWarnings("serial") @Before public void setup(){
    request=new MockHttpServletRequest();
    response=new MockHttpServletResponse();
    authException=new AuthenticationException(""){
    }
;
    entryPoint=new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED);
  }
  @Test(expected=IllegalArgumentException.class) public void constructorNullStatus(){
    new HttpStatusEntryPoint(null);
  }
  @Test public void unauthorized() throws Exception {
    entryPoint.commence(request,response,authException);
    assertThat(response.getStatus()).isEqualTo(HttpStatus.UNAUTHORIZED.value());
  }
}
