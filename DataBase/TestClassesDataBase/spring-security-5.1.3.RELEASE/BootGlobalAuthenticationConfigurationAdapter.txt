static class BootGlobalAuthenticationConfigurationAdapter extends GlobalAuthenticationConfigurerAdapter {
  private final ApplicationContext context;
  private AuthenticationManager authenticationManager;
  @Autowired BootGlobalAuthenticationConfigurationAdapter(  ApplicationContext context){
    this.context=context;
  }
  @Override public void init(  AuthenticationManagerBuilder auth) throws Exception {
    AuthenticationConfiguration configuration=this.context.getBean(AuthenticationConfiguration.class);
    this.authenticationManager=configuration.getAuthenticationManager();
  }
}
