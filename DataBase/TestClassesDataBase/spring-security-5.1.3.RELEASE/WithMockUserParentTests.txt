/** 
 * @author Eddú Meléndez
 */
@RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(classes=WithMockUserParentTests.Config.class) public class WithMockUserParentTests extends WithMockUserParent {
  @Autowired private MessageService messageService;
  @Test public void getMessageWithMockUser(){
    String message=messageService.getMessage();
    assertThat(message).contains("user");
  }
@EnableGlobalMethodSecurity(prePostEnabled=true) @ComponentScan(basePackageClasses=HelloMessageService.class) static class Config {
    @Autowired public void configureGlobal(    AuthenticationManagerBuilder auth) throws Exception {
      auth.inMemoryAuthentication().withUser("user").password("password").roles("USER");
    }
  }
}
