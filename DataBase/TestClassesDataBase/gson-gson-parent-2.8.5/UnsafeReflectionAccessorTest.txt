/** 
 * Unit tests for  {@link UnsafeReflectionAccessor}
 * @author Inderjeet Singh
 */
public class UnsafeReflectionAccessorTest {
  @Test public void testMakeAccessibleWithUnsafe() throws Exception {
    UnsafeReflectionAccessor accessor=new UnsafeReflectionAccessor();
    Field field=ClassWithPrivateFinalFields.class.getDeclaredField("a");
    try {
      boolean success=accessor.makeAccessibleWithUnsafe(field);
      assertTrue(success);
    }
 catch (    Exception e) {
      fail("Unsafe didn't work on the JDK");
    }
  }
@SuppressWarnings("unused") private static final class ClassWithPrivateFinalFields {
    private final String a;
    public ClassWithPrivateFinalFields(    String a){
      this.a=a;
    }
  }
}
