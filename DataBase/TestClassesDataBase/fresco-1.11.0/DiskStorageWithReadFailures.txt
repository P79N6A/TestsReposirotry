private static class DiskStorageWithReadFailures extends DynamicDefaultDiskStorage {
  public static final IOException POISON_EXCEPTION=new IOException("Poisoned resource requested");
  private String mPoisonResourceId;
  public DiskStorageWithReadFailures(  int version,  Supplier<File> baseDirectoryPathSupplier,  String baseDirectoryName,  CacheErrorLogger cacheErrorLogger){
    super(version,baseDirectoryPathSupplier,baseDirectoryName,cacheErrorLogger);
  }
  public void setPoisonResourceId(  String poisonResourceId){
    mPoisonResourceId=poisonResourceId;
  }
  @Override public BinaryResource getResource(  String resourceId,  Object debugInfo) throws IOException {
    if (resourceId.equals(mPoisonResourceId)) {
      throw POISON_EXCEPTION;
    }
    return get().getResource(resourceId,debugInfo);
  }
  @Override public boolean touch(  String resourceId,  Object debugInfo) throws IOException {
    if (resourceId.equals(mPoisonResourceId)) {
      throw POISON_EXCEPTION;
    }
    return super.touch(resourceId,debugInfo);
  }
}
