/** 
 * Tests  {@link ImagePerfImageOriginListener} 
 */
public class ImagePerfImageOriginListenerTest {
  private static final String CONTROLLER_ID="abc";
  private ImagePerfMonitor mImagePerfMonitor;
  private ImagePerfState mImagePerfState;
  private ImagePerfImageOriginListener mListener;
  @Before public void setUp(){
    mImagePerfMonitor=mock(ImagePerfMonitor.class);
    mImagePerfState=mock(ImagePerfState.class);
    mListener=new ImagePerfImageOriginListener(mImagePerfState,mImagePerfMonitor);
  }
  @Test public void testOnImageLoaded(){
    mListener.onImageLoaded(CONTROLLER_ID,ImageOrigin.NETWORK,true);
    verify(mImagePerfState).setImageOrigin(eq(ImageOrigin.NETWORK));
    verify(mImagePerfMonitor).notifyStatusUpdated(eq(mImagePerfState),eq(ImageLoadStatus.ORIGIN_AVAILABLE));
    verifyNoMoreInteractions(mImagePerfMonitor);
  }
}
