@RunWith(RobolectricTestRunner.class) public class MatrixDrawableTest {
  private Drawable mUnderlyingDrawable;
  private Matrix mMatrix1;
  private Matrix mMatrix2;
  private MatrixDrawable mMatrixDrawable;
  @Before public void setUp(){
    mUnderlyingDrawable=mock(Drawable.class);
    mMatrix1=mock(Matrix.class);
    mMatrix2=mock(Matrix.class);
    mMatrixDrawable=new MatrixDrawable(mUnderlyingDrawable,mMatrix1);
  }
  @Test public void testIntrinsicDimensions(){
    when(mUnderlyingDrawable.getIntrinsicWidth()).thenReturn(100);
    when(mUnderlyingDrawable.getIntrinsicHeight()).thenReturn(200);
    Assert.assertEquals(100,mMatrixDrawable.getIntrinsicWidth());
    Assert.assertEquals(200,mMatrixDrawable.getIntrinsicHeight());
  }
  @Test public void testSetMatrix() throws Exception {
    Assert.assertEquals(mUnderlyingDrawable,mMatrixDrawable.getCurrent());
    Assert.assertEquals(mMatrixDrawable.getMatrix(),mMatrix1);
    mMatrixDrawable.setMatrix(mMatrix2);
    Assert.assertEquals(mUnderlyingDrawable,mMatrixDrawable.getCurrent());
    Assert.assertEquals(mMatrixDrawable.getMatrix(),mMatrix2);
  }
}
