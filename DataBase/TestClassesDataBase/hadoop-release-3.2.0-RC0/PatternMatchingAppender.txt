/** 
 * An appender that matches logged messages against the given regular expression.
 */
public static class PatternMatchingAppender extends AppenderSkeleton {
  private final Pattern pattern;
  private volatile boolean matched;
  public PatternMatchingAppender(  String pattern){
    this.pattern=Pattern.compile(pattern);
    this.matched=false;
  }
  public boolean isMatched(){
    return matched;
  }
  @Override protected void append(  LoggingEvent event){
    if (pattern.matcher(event.getMessage().toString()).matches()) {
      matched=true;
    }
  }
  @Override public void close(){
  }
  @Override public boolean requiresLayout(){
    return false;
  }
}
