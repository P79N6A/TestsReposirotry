static class DebugGridmix extends Gridmix {
  private JobFactory<?> factory;
  private TestMonitor monitor;
  @Override protected JobMonitor createJobMonitor(  Statistics stats,  Configuration conf) throws IOException {
    monitor=new TestMonitor(3,stats);
    return monitor;
  }
  @Override protected JobFactory<?> createJobFactory(  JobSubmitter submitter,  String traceIn,  Path scratchDir,  Configuration conf,  CountDownLatch startFlag,  UserResolver userResolver) throws IOException {
    factory=DebugJobFactory.getFactory(submitter,scratchDir,NJOBS,conf,startFlag,userResolver);
    return factory;
  }
  public void checkMonitor() throws Exception {
    monitor.verify(((DebugJobFactory.Debuggable)factory).getSubmitted());
  }
}
