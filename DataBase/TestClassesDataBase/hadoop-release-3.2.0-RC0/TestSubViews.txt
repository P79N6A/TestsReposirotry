public class TestSubViews {
static public class MainView extends HtmlPage {
    @Override public void render(    Page.HTML<__> html){
      html.body().div().__(Sub1.class).__().div().i("inline text").__(Sub2.class).__().__().__();
    }
  }
static public class Sub1 extends HtmlBlock {
    @Override public void render(    Block html){
      html.div("#sub1").__("sub1 text").__();
    }
  }
static public class Sub2 extends HtmlBlock {
    @Override public void render(    Block html){
      html.pre().__("sub2 text").__();
    }
  }
  @Test public void testSubView() throws Exception {
    Injector injector=WebAppTests.createMockInjector(this);
    injector.getInstance(MainView.class).render();
    PrintWriter out=injector.getInstance(HttpServletResponse.class).getWriter();
    out.flush();
    verify(out).print("sub1 text");
    verify(out).print("sub2 text");
    verify(out,times(16)).println();
  }
}
