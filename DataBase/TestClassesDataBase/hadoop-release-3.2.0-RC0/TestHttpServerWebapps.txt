/** 
 * Test webapp loading
 */
public class TestHttpServerWebapps extends HttpServerFunctionalTest {
  private static final Logger LOG=LoggerFactory.getLogger(TestHttpServerWebapps.class);
  /** 
 * Test that the test server is loadable on the classpath
 * @throws Throwable if something went wrong
 */
  @Test public void testValidServerResource() throws Throwable {
    HttpServer2 server=null;
    try {
      server=createServer("test");
    }
  finally {
      stop(server);
    }
  }
  /** 
 * Test that an invalid webapp triggers an exception
 * @throws Throwable if something went wrong
 */
  @Test public void testMissingServerResource() throws Throwable {
    try {
      HttpServer2 server=createServer("NoSuchWebapp");
      String serverDescription=server.toString();
      stop(server);
      fail("Expected an exception, got " + serverDescription);
    }
 catch (    FileNotFoundException expected) {
      LOG.debug("Expected exception " + expected,expected);
    }
  }
}
