private static class Listener implements ContainerStateTransitionListener {
  private final Map<ContainerId,List<org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerState>> states=new HashMap<>();
  private final Map<ContainerId,List<ContainerEventType>> events=new HashMap<>();
  @Override public void init(  Context context){
  }
  @Override public void preTransition(  ContainerImpl op,  org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerState beforeState,  ContainerEvent eventToBeProcessed){
    if (!states.containsKey(op.getContainerId())) {
      states.put(op.getContainerId(),new ArrayList<>());
      states.get(op.getContainerId()).add(beforeState);
      events.put(op.getContainerId(),new ArrayList<>());
    }
  }
  @Override public void postTransition(  ContainerImpl op,  org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerState beforeState,  org.apache.hadoop.yarn.server.nodemanager.containermanager.container.ContainerState afterState,  ContainerEvent processedEvent){
    states.get(op.getContainerId()).add(afterState);
    events.get(op.getContainerId()).add(processedEvent.getType());
  }
}
