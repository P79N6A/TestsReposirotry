private static class ConfigurableMiniMRCluster extends MiniMRCluster {
  private static Properties config;
  public static void setConfiguration(  Properties props){
    config=props;
  }
  public ConfigurableMiniMRCluster(  int numTaskTrackers,  String namenode,  int numDir,  JobConf conf) throws Exception {
    super(0,0,numTaskTrackers,namenode,numDir,null,null,null,conf);
  }
  public JobConf createJobConf(){
    JobConf conf=super.createJobConf();
    if (config != null) {
      for (      Map.Entry entry : config.entrySet()) {
        conf.set((String)entry.getKey(),(String)entry.getValue());
      }
    }
    return conf;
  }
}
