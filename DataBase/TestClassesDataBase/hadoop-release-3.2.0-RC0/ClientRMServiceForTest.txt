class ClientRMServiceForTest extends ClientRMService {
  public ClientRMServiceForTest(  Configuration conf,  ResourceScheduler scheduler,  RMDelegationTokenSecretManager rmDTSecretManager){
    super(mock(RMContext.class),scheduler,mock(RMAppManager.class),new ApplicationACLsManager(conf),new QueueACLsManager(scheduler,conf),rmDTSecretManager);
  }
  @Override InetSocketAddress getBindAddress(  Configuration conf){
    return conf.getSocketAddr(YarnConfiguration.RM_ADDRESS,YarnConfiguration.DEFAULT_RM_ADDRESS,0);
  }
  @Override protected void serviceStop() throws Exception {
    if (rmDTSecretManager != null) {
      rmDTSecretManager.stopThreads();
    }
    super.serviceStop();
  }
}
