final class SubmitThread extends Thread {
  private boolean isInterrupted=false;
  @Override public void run(){
    ApplicationSubmissionContext context=mock(ApplicationSubmissionContext.class);
    ApplicationId applicationId=ApplicationId.newInstance(System.currentTimeMillis(),1);
    when(context.getApplicationId()).thenReturn(applicationId);
    ((MockYarnClient)client).setYarnApplicationState(YarnApplicationState.NEW);
    try {
      client.submitApplication(context);
    }
 catch (    YarnException|IOException e) {
      if (e instanceof YarnException && e.getCause() != null && e.getCause() instanceof InterruptedException) {
        isInterrupted=true;
      }
    }
  }
}
