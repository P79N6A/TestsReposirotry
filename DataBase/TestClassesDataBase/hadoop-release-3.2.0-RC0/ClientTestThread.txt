class ClientTestThread extends Thread {
  private RMAdminRequestInterceptor interceptor;
  @Override public void run(){
    try {
      interceptor=pipeline();
    }
 catch (    IOException|InterruptedException e) {
      e.printStackTrace();
    }
  }
  private RMAdminRequestInterceptor pipeline() throws IOException, InterruptedException {
    return UserGroupInformation.createRemoteUser(user).doAs(new PrivilegedExceptionAction<RMAdminRequestInterceptor>(){
      @Override public RMAdminRequestInterceptor run() throws Exception {
        RequestInterceptorChainWrapper wrapper=getRouterRMAdminService().getInterceptorChain();
        RMAdminRequestInterceptor interceptor=wrapper.getRootInterceptor();
        Assert.assertNotNull(interceptor);
        LOG.info("init rm admin interceptor success for user" + user);
        return interceptor;
      }
    }
);
  }
}
