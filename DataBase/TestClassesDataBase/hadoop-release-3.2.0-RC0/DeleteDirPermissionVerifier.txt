private class DeleteDirPermissionVerifier extends DeletePermissionVerifier {
  private short[] childPermissions;
  void set(  Path path,  short ancestorPermission,  short parentPermission,  short permission,  short[] childPermissions){
    set(path,ancestorPermission,parentPermission,permission);
    this.childPermissions=childPermissions;
  }
  @Override void setOpPermission(){
    this.opParentPermission=SEARCH_MASK | WRITE_MASK;
    this.opPermission=SEARCH_MASK | WRITE_MASK | READ_MASK;
  }
  @Override protected boolean expectPermissionDeny(){
    if (super.expectPermissionDeny()) {
      return true;
    }
 else {
      if (childPermissions != null) {
        for (        short childPermission : childPermissions) {
          if ((requiredPermission & childPermission) != requiredPermission) {
            return true;
          }
        }
      }
      return false;
    }
  }
}
