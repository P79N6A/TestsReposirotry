static class FailingAttemptsMRApp extends MRApp {
  FailingAttemptsMRApp(  int maps,  int reduces){
    super(maps,reduces,true,"FailingAttemptsMRApp",true);
  }
  @Override protected void attemptLaunched(  TaskAttemptId attemptID){
    getContext().getEventHandler().handle(new TaskAttemptDiagnosticsUpdateEvent(attemptID,"Test Diagnostic Event"));
    getContext().getEventHandler().handle(new TaskAttemptFailEvent(attemptID));
  }
  protected EventHandler<JobHistoryEvent> createJobHistoryHandler(  AppContext context){
    return new EventHandler<JobHistoryEvent>(){
      @Override public void handle(      JobHistoryEvent event){
        if (event.getType() == org.apache.hadoop.mapreduce.jobhistory.EventType.MAP_ATTEMPT_FAILED) {
          TaskAttemptUnsuccessfulCompletion datum=(TaskAttemptUnsuccessfulCompletion)event.getHistoryEvent().getDatum();
          Assert.assertEquals("Diagnostic Information is not Correct","Test Diagnostic Event",datum.get(8).toString());
        }
      }
    }
;
  }
}
