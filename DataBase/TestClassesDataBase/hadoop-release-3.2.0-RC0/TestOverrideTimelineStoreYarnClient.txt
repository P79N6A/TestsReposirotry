public class TestOverrideTimelineStoreYarnClient {
  @Test public void testLifecycleAndOverride() throws Throwable {
    YarnConfiguration conf=new YarnConfiguration();
    try (NoRMStore store=new NoRMStore()){
      store.init(conf);
      store.start();
      Assert.assertEquals(EntityGroupFSTimelineStore.AppState.ACTIVE,store.getAppState(ApplicationId.newInstance(1,1)));
      store.stop();
    }
   }
private static class NoRMStore extends EntityGroupFSTimelineStore {
    @Override protected YarnClient createAndInitYarnClient(    Configuration conf){
      return null;
    }
    @Override protected AppState getAppState(    ApplicationId appId) throws IOException {
      return AppState.ACTIVE;
    }
  }
}
