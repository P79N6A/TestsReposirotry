/** 
 * A utility class to perform a checkpoint in a different thread.
 */
private static class DoCheckpointThread extends Thread {
  private final SecondaryNameNode snn;
  private volatile Throwable thrown=null;
  DoCheckpointThread(  SecondaryNameNode snn){
    this.snn=snn;
  }
  @Override public void run(){
    try {
      snn.doCheckpoint();
    }
 catch (    Throwable t) {
      thrown=t;
    }
  }
  void propagateExceptions(){
    if (thrown != null) {
      throw new RuntimeException(thrown);
    }
  }
}
