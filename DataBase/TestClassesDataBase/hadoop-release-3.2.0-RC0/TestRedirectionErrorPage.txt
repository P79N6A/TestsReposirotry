/** 
 * This class tests the RedirectionErrorPage.
 */
public class TestRedirectionErrorPage {
  @Test public void testAppBlockRenderWithNullCurrentAppAttempt() throws Exception {
    ApplicationId appId=ApplicationId.newInstance(1234L,0);
    Injector injector;
    final RMContext rmContext=TestRMWebApp.mockRMContext(15,1,2,8);
    injector=WebAppTests.createMockInjector(RMContext.class,rmContext,new Module(){
      @Override public void configure(      Binder binder){
        try {
          ResourceManager rm=TestRMWebApp.mockRm(rmContext);
          binder.bind(ResourceManager.class).toInstance(rm);
        }
 catch (        IOException e) {
          throw new IllegalStateException(e);
        }
      }
    }
);
    ErrorBlock instance=injector.getInstance(ErrorBlock.class);
    instance.set(YarnWebParams.APPLICATION_ID,appId.toString());
    instance.set(YarnWebParams.ERROR_MESSAGE,"This is an error");
    instance.render();
  }
}
