/** 
 * add some extra functionality for testing 1. toString(); 2. cancel() and isCanceled()
 */
private static class MyToken extends Token<DelegationTokenIdentifier> {
  public String status="GOOD";
  public static final String CANCELED="CANCELED";
  public MyToken(  DelegationTokenIdentifier dtId1,  MyDelegationTokenSecretManager sm){
    super(dtId1,sm);
    setKind(KIND);
    status="GOOD";
  }
  public boolean isCanceled(){
    return status.equals(CANCELED);
  }
  public void cancelToken(){
    this.status=CANCELED;
  }
  @Override public long renew(  Configuration conf) throws IOException, InterruptedException {
    return super.renew(conf);
  }
  public String toString(){
    StringBuilder sb=new StringBuilder(1024);
    sb.append("id=");
    String id=StringUtils.byteToHexString(this.getIdentifier());
    int idLen=id.length();
    sb.append(id.substring(idLen - 6));
    sb.append(";k=");
    sb.append(this.getKind());
    sb.append(";s=");
    sb.append(this.getService());
    return sb.toString();
  }
}
