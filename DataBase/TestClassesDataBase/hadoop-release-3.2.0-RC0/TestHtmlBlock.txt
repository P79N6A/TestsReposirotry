public class TestHtmlBlock {
public static class TestBlock extends HtmlBlock {
    @Override public void render(    Block html){
      html.p("#testid").__("test note").__();
    }
  }
public static class ShortBlock extends HtmlBlock {
    @Override public void render(    Block html){
      html.p().__("should throw");
    }
  }
public static class ShortPage extends HtmlPage {
    @Override public void render(    Page.HTML<__> html){
      html.title("short test").__(ShortBlock.class);
    }
  }
  @Test public void testUsual(){
    Injector injector=WebAppTests.testBlock(TestBlock.class);
    PrintWriter out=injector.getInstance(PrintWriter.class);
    verify(out).print(" id=\"testid\"");
    verify(out).print("test note");
  }
  @Test(expected=WebAppException.class) public void testShortBlock(){
    WebAppTests.testBlock(ShortBlock.class);
  }
  @Test(expected=WebAppException.class) public void testShortPage(){
    WebAppTests.testPage(ShortPage.class);
  }
}
