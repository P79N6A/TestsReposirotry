/** 
 * Test  {@link ErasureCodingPolicyInfo}.
 */
public class TestErasureCodingPolicyInfo {
  @Test public void testPolicyAndStateCantBeNull(){
    try {
      new ErasureCodingPolicyInfo(null);
      fail("Null policy should fail");
    }
 catch (    NullPointerException expected) {
    }
    try {
      new ErasureCodingPolicyInfo(SystemErasureCodingPolicies.getByID(RS_6_3_POLICY_ID),null);
      fail("Null policy should fail");
    }
 catch (    NullPointerException expected) {
    }
  }
  @Test public void testStates(){
    ErasureCodingPolicyInfo info=new ErasureCodingPolicyInfo(SystemErasureCodingPolicies.getByID(RS_6_3_POLICY_ID));
    info.setState(ENABLED);
    assertFalse(info.isDisabled());
    assertTrue(info.isEnabled());
    assertFalse(info.isRemoved());
    info.setState(REMOVED);
    assertFalse(info.isDisabled());
    assertFalse(info.isEnabled());
    assertTrue(info.isRemoved());
    info.setState(DISABLED);
    assertTrue(info.isDisabled());
    assertFalse(info.isEnabled());
    assertFalse(info.isRemoved());
  }
}
