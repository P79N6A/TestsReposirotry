public static class NMHeartbeatThread extends Thread {
  private List<MockNM> mockNMS;
  private int interval;
  private volatile boolean shouldStop=false;
  public NMHeartbeatThread(  List<MockNM> mockNMs,  int interval){
    this.mockNMS=mockNMs;
    this.interval=interval;
  }
  public void run(){
    while (true) {
      if (shouldStop) {
        break;
      }
      for (      MockNM nm : mockNMS) {
        try {
          nm.nodeHeartbeat(true);
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
      }
      try {
        Thread.sleep(interval);
      }
 catch (      InterruptedException e) {
        e.printStackTrace();
      }
    }
  }
  public void setShouldStop(){
    shouldStop=true;
  }
}
