/** 
 * Run the  {@link FileSystemContractBaseTest} test suite against azure storage.
 */
public class ITestNativeAzureFileSystemContractLive extends FileSystemContractBaseTest {
  private AzureBlobStorageTestAccount testAccount;
  private Path basePath;
  @Rule public TestName methodName=new TestName();
  private void nameThread(){
    Thread.currentThread().setName("JUnit-" + methodName.getMethodName());
  }
  @Before public void setUp() throws Exception {
    nameThread();
    testAccount=AzureBlobStorageTestAccount.create();
    if (testAccount != null) {
      fs=testAccount.getFileSystem();
    }
    assumeNotNull(fs);
    basePath=fs.makeQualified(AzureTestUtils.createTestPath(new Path("NativeAzureFileSystemContractLive")));
  }
  @Override public void tearDown() throws Exception {
    super.tearDown();
    testAccount=AzureTestUtils.cleanup(testAccount);
    fs=null;
  }
  @Override public Path getTestBaseDir(){
    return basePath;
  }
  protected int getGlobalTimeout(){
    return AzureTestConstants.AZURE_TEST_TIMEOUT;
  }
  /** 
 * The following tests are failing on Azure and the Azure  file system code needs to be modified to make them pass. A separate work item has been opened for this.
 */
  @Ignore @Test public void testMoveFileUnderParent() throws Throwable {
  }
  @Ignore @Test public void testRenameFileToSelf() throws Throwable {
  }
  @Ignore @Test public void testRenameChildDirForbidden() throws Exception {
  }
  @Ignore @Test public void testMoveDirUnderParent() throws Throwable {
  }
  @Ignore @Test public void testRenameDirToSelf() throws Throwable {
  }
}
