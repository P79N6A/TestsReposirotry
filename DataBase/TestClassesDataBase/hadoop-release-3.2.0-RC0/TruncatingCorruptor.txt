static class TruncatingCorruptor implements Corruptor {
  @Override public void corrupt(  File editFile) throws IOException {
    long fileLen=editFile.length();
    RandomAccessFile rwf=new RandomAccessFile(editFile,"rw");
    rwf.setLength(fileLen - 1);
    rwf.close();
  }
  @Override public boolean needRecovery(  boolean finalized){
    return finalized;
  }
  @Override public String getName(){
    return "truncated";
  }
}
