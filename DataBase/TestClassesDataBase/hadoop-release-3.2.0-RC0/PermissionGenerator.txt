static class PermissionGenerator {
  private final Random r;
  private final short[] permissions=new short[MAX_PERMISSION + 1];
  private int numLeft=MAX_PERMISSION + 1;
  PermissionGenerator(  Random r){
    this.r=r;
    for (int i=0; i <= MAX_PERMISSION; i++) {
      permissions[i]=(short)i;
    }
  }
  short next() throws IOException {
    if (numLeft == 0) {
      throw new IOException("No more permission is avaialbe");
    }
    int index=r.nextInt(numLeft);
    numLeft--;
    short temp=permissions[numLeft];
    permissions[numLeft]=permissions[index];
    permissions[index]=temp;
    return permissions[numLeft];
  }
}
