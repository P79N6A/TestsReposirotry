/** 
 * Listener that wakes up all threads waiting on it
 */
private static class NotifyingListener implements ServiceStateChangeListener {
  public Service.STATE notifyingState=Service.STATE.NOTINITED;
  public synchronized void stateChanged(  Service service){
    notifyingState=service.getServiceState();
    this.notifyAll();
  }
}
