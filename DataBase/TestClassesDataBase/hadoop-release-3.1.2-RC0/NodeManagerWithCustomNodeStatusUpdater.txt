private abstract class NodeManagerWithCustomNodeStatusUpdater extends NodeManager {
  private NodeStatusUpdater updater;
  private NodeManagerWithCustomNodeStatusUpdater(){
  }
  @Override protected NodeStatusUpdater createNodeStatusUpdater(  Context context,  Dispatcher dispatcher,  NodeHealthCheckerService healthChecker){
    updater=createUpdater(context,dispatcher,healthChecker);
    return updater;
  }
  public NodeStatusUpdater getUpdater(){
    return updater;
  }
  abstract NodeStatusUpdater createUpdater(  Context context,  Dispatcher dispatcher,  NodeHealthCheckerService healthChecker);
}
