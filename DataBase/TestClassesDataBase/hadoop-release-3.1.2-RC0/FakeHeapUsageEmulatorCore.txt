/** 
 * This is a dummy class that fakes heap usage.
 */
private static class FakeHeapUsageEmulatorCore extends DefaultHeapUsageEmulator {
  private int numCalls=0;
  @Override public void load(  long sizeInMB){
    ++numCalls;
    super.load(sizeInMB);
  }
  int getNumCalls(){
    return numCalls;
  }
  long getHeapUsageInMB(){
    return getHeapSpaceSize();
  }
  @Override public void reset(){
  }
  /** 
 * For re-testing purpose.
 */
  void resetFake(){
    numCalls=0;
    super.reset();
  }
}
