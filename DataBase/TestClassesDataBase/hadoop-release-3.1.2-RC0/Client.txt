public static class Client implements CallbackHandler {
  String user=null;
  String password=null;
  Client(  String user,  String password){
    this.user=user;
    this.password=password;
  }
  @Override public void handle(  Callback[] callbacks) throws UnsupportedCallbackException {
    for (    Callback callback : callbacks) {
      if (callback instanceof NameCallback) {
        ((NameCallback)callback).setName(user);
      }
 else       if (callback instanceof PasswordCallback) {
        ((PasswordCallback)callback).setPassword(password.toCharArray());
      }
 else {
        throw new UnsupportedCallbackException(callback,"Unrecognized SASL PLAIN Callback");
      }
    }
  }
}
