/** 
 * Test that the  {@link SimulatedFSDataset} works correctly when configuredwith multiple storages.
 */
public class TestSimulatedFSDatasetWithMultipleStorages extends TestSimulatedFSDataset {
  public TestSimulatedFSDatasetWithMultipleStorages(){
    super(2);
  }
  @Before public void setUp() throws Exception {
    super.setUp();
    conf.set(DFS_DATANODE_DATA_DIR_KEY,"data1,data2");
  }
  @Test public void testMultipleStoragesConfigured(){
    SimulatedFSDataset fsDataset=getSimulatedFSDataset();
    assertEquals(2,fsDataset.getStorageReports(bpid).length);
  }
}
