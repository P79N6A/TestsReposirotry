/** 
 * Testable UnmanagedApplicationManager that talks to a mock RM.
 */
public static class TestableUnmanagedApplicationManager extends UnmanagedApplicationManager {
  private MockResourceManagerFacade rmProxy;
  public TestableUnmanagedApplicationManager(  Configuration conf,  ApplicationId appId,  String queueName,  String submitter,  String appNameSuffix,  boolean keepContainersAcrossApplicationAttempts){
    super(conf,appId,queueName,submitter,appNameSuffix,keepContainersAcrossApplicationAttempts);
  }
  @SuppressWarnings("unchecked") @Override protected <T>T createRMProxy(  final Class<T> protocol,  Configuration config,  UserGroupInformation user,  Token<AMRMTokenIdentifier> token){
    if (rmProxy == null) {
      rmProxy=new MockResourceManagerFacade(config,0);
    }
    return (T)rmProxy;
  }
  public void setShouldReRegisterNext(){
    if (rmProxy != null) {
      rmProxy.setShouldReRegisterNext();
    }
  }
  public MockResourceManagerFacade getRMProxy(){
    return rmProxy;
  }
  public void setRMProxy(  MockResourceManagerFacade proxy){
    this.rmProxy=proxy;
  }
}
