static class SafePaddingCorruptor implements Corruptor {
  private final byte padByte;
  public SafePaddingCorruptor(  byte padByte){
    this.padByte=padByte;
    assert ((this.padByte == 0) || (this.padByte == -1));
  }
  @Override public void corrupt(  File editFile) throws IOException {
    RandomAccessFile rwf=new RandomAccessFile(editFile,"rw");
    rwf.seek(editFile.length());
    rwf.write((byte)-1);
    for (int i=0; i < 1024; i++) {
      rwf.write(padByte);
    }
    rwf.close();
  }
  @Override public boolean needRecovery(  boolean finalized){
    return false;
  }
  @Override public String getName(){
    return "pad" + ((int)padByte);
  }
}
