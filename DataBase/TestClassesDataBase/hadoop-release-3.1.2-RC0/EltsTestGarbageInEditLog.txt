private static class EltsTestGarbageInEditLog extends EditLogTestSetup {
  final private long BAD_TXID=4;
  final private long MAX_TXID=10;
  @Override public void addTransactionsToLog(  EditLogOutputStream elos,  OpInstanceCache cache) throws IOException {
    for (long txid=1; txid <= MAX_TXID; txid++) {
      if (txid == BAD_TXID) {
        byte garbage[]={0x1,0x2,0x3};
        elos.writeRaw(garbage,0,garbage.length);
      }
 else {
        DeleteOp op;
        op=DeleteOp.getInstance(cache);
        op.setTransactionId(txid);
        op.setPath("/foo." + txid);
        op.setTimestamp(txid);
        elos.write(op);
      }
    }
  }
  @Override public long getLastValidTxId(){
    return BAD_TXID - 1;
  }
  @Override public Set<Long> getValidTxIds(){
    return Sets.newHashSet(1L,2L,3L,5L,6L,7L,8L,9L,10L);
  }
}
