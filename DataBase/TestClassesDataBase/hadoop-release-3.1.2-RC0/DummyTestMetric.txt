class DummyTestMetric {
  @Metric(valueName="testing") private MutableRollingAverages rollingAverages;
  static final String METRIC_NAME="RollingAveragesTestMetric";
  protected void create(){
    DefaultMetricsSystem.instance().register(METRIC_NAME,"mutable rolling averages test",this);
    rollingAverages.replaceScheduledTask(10,1000,TimeUnit.MILLISECONDS);
  }
  void add(  String name,  long latency){
    rollingAverages.add(name,latency);
  }
  void collectThreadLocalStates(){
    rollingAverages.collectThreadLocalStates();
  }
  Map<String,Double> getStats(){
    return rollingAverages.getStats(0);
  }
}
