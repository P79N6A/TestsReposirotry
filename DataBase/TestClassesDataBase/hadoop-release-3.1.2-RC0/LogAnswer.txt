/** 
 * An answer simply delegate some basic log methods to real LOG.
 */
private static class LogAnswer implements Answer {
  private static final List<String> DELEGATE_METHODS=Lists.asList("error",new String[]{"warn","info","debug","trace"});
  @Override public Object answer(  InvocationOnMock invocation){
    String methodName=invocation.getMethod().getName();
    if (!DELEGATE_METHODS.contains(methodName)) {
      return null;
    }
    try {
      String msg=invocation.getArguments()[0].toString();
      Method delegateMethod=LOG.getClass().getMethod(methodName,msg.getClass());
      delegateMethod.invoke(LOG,msg);
    }
 catch (    Throwable e) {
      throw new IllegalStateException("Unsupported delegate method: " + methodName);
    }
    return null;
  }
}
