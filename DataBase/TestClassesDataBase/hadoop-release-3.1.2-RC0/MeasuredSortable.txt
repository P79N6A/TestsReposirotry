public static class MeasuredSortable implements IndexedSortable {
  private int comparisions;
  private int swaps;
  private final int maxcmp;
  private final int maxswp;
  private IndexedSortable s;
  public MeasuredSortable(  IndexedSortable s){
    this(s,Integer.MAX_VALUE);
  }
  public MeasuredSortable(  IndexedSortable s,  int maxcmp){
    this(s,maxcmp,Integer.MAX_VALUE);
  }
  public MeasuredSortable(  IndexedSortable s,  int maxcmp,  int maxswp){
    this.s=s;
    this.maxcmp=maxcmp;
    this.maxswp=maxswp;
  }
  public int getCmp(){
    return comparisions;
  }
  public int getSwp(){
    return swaps;
  }
  @Override public int compare(  int i,  int j){
    assertTrue("Expected fewer than " + maxcmp + " comparisons",++comparisions < maxcmp);
    return s.compare(i,j);
  }
  @Override public void swap(  int i,  int j){
    assertTrue("Expected fewer than " + maxswp + " swaps",++swaps < maxswp);
    s.swap(i,j);
  }
}
