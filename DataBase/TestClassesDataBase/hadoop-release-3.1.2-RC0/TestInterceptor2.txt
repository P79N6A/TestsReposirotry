static class TestInterceptor2 implements ApplicationMasterServiceProcessor {
  private ApplicationMasterServiceProcessor nextProcessor;
  @Override public void init(  ApplicationMasterServiceContext amsContext,  ApplicationMasterServiceProcessor next){
    initCount.incrementAndGet();
    this.nextProcessor=next;
  }
  @Override public void registerApplicationMaster(  ApplicationAttemptId applicationAttemptId,  RegisterApplicationMasterRequest request,  RegisterApplicationMasterResponse response) throws IOException, YarnException {
    beforeRegCount.incrementAndGet();
    nextProcessor.registerApplicationMaster(applicationAttemptId,request,response);
    afterRegCount.incrementAndGet();
  }
  @Override public void allocate(  ApplicationAttemptId appAttemptId,  AllocateRequest request,  AllocateResponse response) throws YarnException {
    beforeAllocCount.incrementAndGet();
    nextProcessor.allocate(appAttemptId,request,response);
    afterAllocCount.incrementAndGet();
  }
  @Override public void finishApplicationMaster(  ApplicationAttemptId applicationAttemptId,  FinishApplicationMasterRequest request,  FinishApplicationMasterResponse response){
    beforeFinishCount.incrementAndGet();
    nextProcessor.finishApplicationMaster(applicationAttemptId,request,response);
    afterFinishCount.incrementAndGet();
  }
}
