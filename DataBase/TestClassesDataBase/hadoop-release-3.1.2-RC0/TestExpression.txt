private class TestExpression extends BaseExpression implements Expression {
  private Expression expr;
  private FileStatusChecker checker;
  public TestExpression(  Expression expr,  FileStatusChecker checker){
    this.expr=expr;
    this.checker=checker;
  }
  @Override public Result apply(  PathData item,  int depth) throws IOException {
    FileStatus fileStatus=getFileStatus(item,depth);
    checker.check(fileStatus);
    return expr.apply(item,depth);
  }
  @Override public void setOptions(  FindOptions options) throws IOException {
    super.setOptions(options);
    expr.setOptions(options);
  }
  @Override public void prepare() throws IOException {
    expr.prepare();
  }
  @Override public void finish() throws IOException {
    expr.finish();
  }
}
