/** 
 * To test class  {@link ConfigurableResource}.
 */
public class TestConfigurableResource {
  private final Resource clusterResource=Resources.createResource(2048,2);
  @Test public void testGetResourceWithPercentage(){
    ConfigurableResource configurableResource=new ConfigurableResource(new double[]{0.5,0.5});
    assertEquals(configurableResource.getResource(clusterResource).getMemorySize(),1024);
    assertEquals(configurableResource.getResource(clusterResource).getVirtualCores(),1);
    assertNull("The absolute resource should be null since object" + " configurableResource is initialized with percentages",configurableResource.getResource());
    assertNull("The absolute resource should be null since cluster resource" + " is null",configurableResource.getResource(null));
  }
  @Test public void testGetResourceWithAbsolute(){
    ConfigurableResource configurableResource=new ConfigurableResource(Resources.createResource(3072,3));
    assertEquals(configurableResource.getResource().getMemorySize(),3072);
    assertEquals(configurableResource.getResource().getVirtualCores(),3);
    assertEquals(configurableResource.getResource(clusterResource).getMemorySize(),3072);
    assertEquals(configurableResource.getResource(clusterResource).getVirtualCores(),3);
    assertEquals(configurableResource.getResource(null).getMemorySize(),3072);
    assertEquals(configurableResource.getResource(null).getVirtualCores(),3);
  }
}
