private static class TestExceptionReporter implements ExceptionReporter {
  private List<Throwable> exceptions=new ArrayList<Throwable>();
  @Override public void reportException(  Throwable t){
    exceptions.add(t);
    t.printStackTrace();
  }
  public int getNumExceptions(){
    return exceptions.size();
  }
}
