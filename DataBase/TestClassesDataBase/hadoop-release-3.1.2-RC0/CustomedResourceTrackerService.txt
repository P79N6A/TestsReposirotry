private class CustomedResourceTrackerService extends ResourceTrackerService {
  public CustomedResourceTrackerService(  RMContext rmContext,  NodesListManager nodesListManager,  NMLivelinessMonitor nmLivelinessMonitor,  RMContainerTokenSecretManager containerTokenSecretManager,  NMTokenSecretManagerInRM nmTokenSecretManager){
    super(rmContext,nodesListManager,nmLivelinessMonitor,containerTokenSecretManager,nmTokenSecretManager);
  }
  @Override public RegisterNodeManagerResponse registerNodeManager(  RegisterNodeManagerRequest request) throws YarnException, IOException {
    resetStartFailoverFlag(true);
    Assert.assertTrue(waittingForFailOver());
    return super.registerNodeManager(request);
  }
  @Override public NodeHeartbeatResponse nodeHeartbeat(  NodeHeartbeatRequest request) throws YarnException, IOException {
    resetStartFailoverFlag(true);
    Assert.assertTrue(waittingForFailOver());
    return super.nodeHeartbeat(request);
  }
}
