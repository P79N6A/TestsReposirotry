private static class TestServerQueue extends Server {
  final CountDownLatch firstCallLatch=new CountDownLatch(1);
  final CountDownLatch callBlockLatch=new CountDownLatch(1);
  TestServerQueue(  int expectedCalls,  int readers,  int callQ,  int handlers,  Configuration conf) throws IOException {
    super(ADDRESS,0,LongWritable.class,handlers,readers,callQ,conf,null,null);
  }
  @Override public Writable call(  RPC.RpcKind rpcKind,  String protocol,  Writable param,  long receiveTime) throws IOException {
    firstCallLatch.countDown();
    try {
      callBlockLatch.await();
    }
 catch (    InterruptedException e) {
      throw new IOException(e);
    }
    return param;
  }
}
