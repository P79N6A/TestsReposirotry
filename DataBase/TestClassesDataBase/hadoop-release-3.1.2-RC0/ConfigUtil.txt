/** 
 * Helpers for config tests and debugging
 */
class ConfigUtil {
  static void dump(  Configuration c){
    dump(null,c,new PrintWriter(System.out));
  }
  static void dump(  String header,  Configuration c){
    dump(header,c,new PrintWriter(System.out));
  }
  static void dump(  String header,  Configuration c,  PrintWriter out){
    PropertiesConfiguration p=new PropertiesConfiguration();
    p.copy(c);
    if (header != null) {
      out.println(header);
    }
    try {
      p.write(out);
    }
 catch (    Exception e) {
      throw new RuntimeException("Error saving config",e);
    }
  }
  static void assertEq(  Configuration expected,  Configuration actual){
    for (Iterator<?> it=expected.getKeys(); it.hasNext(); ) {
      String key=(String)it.next();
      assertTrue("actual should contain " + key,actual.containsKey(key));
      assertEquals("value of " + key,expected.getProperty(key),actual.getProperty(key));
    }
    for (Iterator<?> it=actual.getKeys(); it.hasNext(); ) {
      String key=(String)it.next();
      assertTrue("expected should contain " + key,expected.containsKey(key));
    }
  }
}
