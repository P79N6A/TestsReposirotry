class TestNodeStatusUpdaterImpl3 extends MockNodeStatusUpdater {
  public TestNodeStatusUpdaterImpl3(  Context context,  Dispatcher dispatcher,  NodeHealthCheckerService healthChecker,  NodeManagerMetrics metrics){
    super(context,dispatcher,healthChecker,metrics);
  }
  @Override protected void registerWithRM() throws YarnException, IOException {
    super.registerWithRM();
    registrationCount++;
    if (registrationCount > 1) {
      throw new YarnRuntimeException("Registration with RM failed.");
    }
  }
}
