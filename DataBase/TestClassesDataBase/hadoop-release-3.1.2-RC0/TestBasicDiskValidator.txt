/** 
 * The class to test BasicDiskValidator.
 */
public class TestBasicDiskValidator extends TestDiskChecker {
  @Override protected void checkDirs(  boolean isDir,  String perm,  boolean success) throws Throwable {
    File localDir=isDir ? createTempDir() : createTempFile();
    try {
      Shell.execCommand(Shell.getSetPermissionCommand(perm,false,localDir.getAbsolutePath()));
      DiskValidatorFactory.getInstance(BasicDiskValidator.NAME).checkStatus(localDir);
      assertTrue("call to checkDir() succeeded.",success);
    }
 catch (    DiskErrorException e) {
      if (success) {
        throw e;
      }
    }
 finally {
      localDir.delete();
    }
  }
}
