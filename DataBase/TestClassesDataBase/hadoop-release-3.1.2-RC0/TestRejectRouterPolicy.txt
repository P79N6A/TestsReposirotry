/** 
 * Simple test class for the  {@link RejectRouterPolicy}. Tests that one of the active subcluster is chosen.
 */
public class TestRejectRouterPolicy extends BaseRouterPoliciesTest {
  @Before public void setUp() throws Exception {
    setPolicy(new RejectRouterPolicy());
    setMockActiveSubclusters(2);
    FederationPoliciesTestUtil.initializePolicyContext(getPolicy(),getPolicyInfo(),getActiveSubclusters());
  }
  @Test(expected=FederationPolicyException.class) public void testNoClusterIsChosen() throws YarnException {
    ((FederationRouterPolicy)getPolicy()).getHomeSubcluster(getApplicationSubmissionContext(),null);
  }
  @Override @Test(expected=FederationPolicyException.class) public void testNullQueueRouting() throws YarnException {
    FederationRouterPolicy localPolicy=(FederationRouterPolicy)getPolicy();
    ApplicationSubmissionContext applicationSubmissionContext=ApplicationSubmissionContext.newInstance(null,null,null,null,null,false,false,0,Resources.none(),null,false,null,null);
    localPolicy.getHomeSubcluster(applicationSubmissionContext,null);
  }
}
