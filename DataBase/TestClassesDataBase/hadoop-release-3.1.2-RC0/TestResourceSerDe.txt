/** 
 * Test ResourceSerDe.
 */
public class TestResourceSerDe {
  /** 
 * Testing variables.
 */
  private Gson gson;
  private Resource resource;
  @Before public final void setup(){
    resource=Resource.newInstance(1024 * 100,100);
    gson=new GsonBuilder().registerTypeAdapter(Resource.class,new ResourceSerDe()).create();
  }
  @Test public final void testSerialization(){
    final String json=gson.toJson(resource,new TypeToken<Resource>(){
    }
.getType());
    final Resource resourceDe=gson.fromJson(json,new TypeToken<Resource>(){
    }
.getType());
    Assert.assertEquals(resource.getMemorySize(),resourceDe.getMemorySize());
    Assert.assertEquals(resource.getVirtualCores(),resourceDe.getVirtualCores());
  }
  @After public final void cleanUp(){
    resource=null;
    gson=null;
  }
}
