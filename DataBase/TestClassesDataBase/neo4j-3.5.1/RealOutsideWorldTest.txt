public class RealOutsideWorldTest {
  @Rule public SystemExitRule systemExitRule=SystemExitRule.none();
  @Test public void closeFileSystemOnClose() throws Exception {
    RealOutsideWorld outsideWorld=new RealOutsideWorld();
    FileSystemAbstraction fileSystemMock=mock(FileSystemAbstraction.class);
    outsideWorld.fileSystemAbstraction=fileSystemMock;
    outsideWorld.close();
    verify(fileSystemMock).close();
  }
  @Test public void closeFilesystemOnExit() throws IOException {
    RealOutsideWorld outsideWorld=new RealOutsideWorld();
    FileSystemAbstraction fileSystemMock=mock(FileSystemAbstraction.class);
    outsideWorld.fileSystemAbstraction=fileSystemMock;
    systemExitRule.expectExit(0);
    outsideWorld.exit(0);
    verify(fileSystemMock).close();
  }
}
