private class LabelScanViewNodeStoreWrapper<FAILURE extends Exception> extends LabelScanViewNodeStoreScan<FAILURE> {
  private final LabelScanViewNodeStoreScan<FAILURE> delegate;
  private final Runnable customAction;
  LabelScanViewNodeStoreWrapper(  StorageReader storageReader,  LockService locks,  LabelScanStore labelScanStore,  Visitor<NodeLabelUpdate,FAILURE> labelUpdateVisitor,  Visitor<EntityUpdates,FAILURE> propertyUpdatesVisitor,  int[] labelIds,  IntPredicate propertyKeyIdFilter,  LabelScanViewNodeStoreScan<FAILURE> delegate,  Runnable customAction){
    super(storageReader,locks,labelScanStore,labelUpdateVisitor,propertyUpdatesVisitor,labelIds,propertyKeyIdFilter);
    this.delegate=delegate;
    this.customAction=customAction;
  }
  @Override public EntityIdIterator getEntityIdIterator(){
    EntityIdIterator originalIterator=delegate.getEntityIdIterator();
    return new DelegatingEntityIdIterator(originalIterator,customAction);
  }
}
