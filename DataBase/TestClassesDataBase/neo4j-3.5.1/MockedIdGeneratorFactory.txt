private static class MockedIdGeneratorFactory implements IdGeneratorFactory {
  private final IdGenerator[] generators=new IdGenerator[IdType.values().length];
  @Override public IdGenerator open(  File filename,  IdType idType,  LongSupplier highId,  long maxId){
    return open(filename,0,idType,highId,maxId);
  }
  @Override public IdGenerator open(  File filename,  int grabSize,  IdType idType,  LongSupplier highId,  long maxId){
    return generators[idType.ordinal()]=mock(IdGenerator.class);
  }
  @Override public void create(  File filename,  long highId,  boolean throwIfFileExists){
  }
  @Override public IdGenerator get(  IdType idType){
    return generators[idType.ordinal()];
  }
}
