public class DynamicIntArrayTest {
  @Test public void shouldWorkOnSingleChunk(){
    int defaultValue=0;
    IntArray array=NumberArrayFactory.AUTO_WITHOUT_PAGECACHE.newDynamicIntArray(10,defaultValue);
    array.set(4,5);
    assertEquals(5L,array.get(4));
    assertEquals(defaultValue,array.get(12));
    array.set(7,1324);
    assertEquals(1324L,array.get(7));
  }
  @Test public void shouldChunksAsNeeded(){
    IntArray array=NumberArrayFactory.AUTO_WITHOUT_PAGECACHE.newDynamicIntArray(10,0);
    long index=243;
    int value=5485748;
    array.set(index,value);
    assertEquals(value,array.get(index));
  }
}
