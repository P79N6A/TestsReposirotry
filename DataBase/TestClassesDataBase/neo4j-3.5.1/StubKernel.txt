private class StubKernel implements Kernel {
  private final List<KernelTransactionImplementation> transactions=new ArrayList<>();
  private KernelTransaction remember(  KernelTransactionImplementation kernelTransaction){
    transactions.add(kernelTransaction);
    return kernelTransaction;
  }
  @Override public Transaction beginTransaction(  Transaction.Type type,  LoginContext loginContext){
    return remember(createTransaction());
  }
}
