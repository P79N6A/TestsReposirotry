private static class ExplicitIndexMigrationExceptionBaseMatcher extends TypeSafeDiagnosingMatcher<ExplicitIndexMigrationException> {
  private final String[] failedIndexNames;
  ExplicitIndexMigrationExceptionBaseMatcher(  String... failedIndexNames){
    this.failedIndexNames=failedIndexNames;
  }
  @Override public void describeTo(  Description description){
    description.appendText("Failed index should be one of:").appendText(Arrays.toString(failedIndexNames));
  }
  @Override protected boolean matchesSafely(  ExplicitIndexMigrationException item,  Description mismatchDescription){
    String brokenIndexName=item.getFailedIndexName();
    boolean matched=Arrays.asList(failedIndexNames).contains(brokenIndexName);
    if (!matched) {
      mismatchDescription.appendText("Failed index is: ").appendText(brokenIndexName);
    }
    return matched;
  }
}
