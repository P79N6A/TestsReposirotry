public class CreateAndDeleteNodesIT {
  @Rule public ImpermanentDatabaseRule dbRule=new ImpermanentDatabaseRule();
  enum RelTypes implements RelationshipType {  ASD}
  @Test public void creatingAndDeletingEntitiesShouldNotThrow(){
    GraphDatabaseService dataBase=dbRule.getGraphDatabaseAPI();
    Node myNode;
    try (Transaction bobTransaction=dataBase.beginTx()){
      myNode=dataBase.createNode();
      myNode.setProperty("Name","Bob");
      myNode.createRelationshipTo(dataBase.createNode(),RelTypes.ASD);
      bobTransaction.success();
    }
     GraphDatabaseServiceCleaner.cleanupAllRelationshipsAndNodes(dataBase);
  }
}
