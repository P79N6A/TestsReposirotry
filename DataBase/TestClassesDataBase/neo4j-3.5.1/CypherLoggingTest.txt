public class CypherLoggingTest {
  private final AssertableLogProvider logProvider=new AssertableLogProvider();
  private GraphDatabaseService database;
  @Before public void setUp(){
    database=new TestGraphDatabaseFactory().setUserLogProvider(logProvider).newImpermanentDatabase();
  }
  @After public void tearDown(){
    database.shutdown();
  }
  @Test public void shouldNotLogQueries(){
    database.execute("CREATE (n:Reference) CREATE (foo {test:'me'}) RETURN n");
    database.execute("MATCH (n) RETURN n");
    inLog(org.neo4j.cypher.internal.ExecutionEngine.class);
    logProvider.assertNoLoggingOccurred();
  }
}
