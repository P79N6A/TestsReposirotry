public static class ConfigureEnabledManagementConsolesDocIT extends ExclusiveServerTestBase {
  private NeoServer server;
  @After public void stopTheServer(){
    server.stop();
  }
  @Test public void shouldBeAbleToExplicitlySetConsolesToEnabled() throws Exception {
    server=CommunityServerBuilder.server().withProperty(ServerSettings.console_module_engines.name(),"").usingDataDir(folder.directory(name.getMethodName()).getAbsolutePath()).build();
    server.start();
    assertThat(exec("ls","shell").getStatus(),is(400));
  }
  @Test public void shellConsoleShouldBeEnabledByDefault() throws Exception {
    server=CommunityServerBuilder.server().usingDataDir(folder.directory(name.getMethodName()).getAbsolutePath()).build();
    server.start();
    assertThat(exec("ls","shell").getStatus(),is(200));
  }
  private JaxRsResponse exec(  String command,  String engine){
    return RestRequest.req().post(server.baseUri() + "db/manage/server/console","{" + "\"engine\":\"" + engine + "\","+ "\"command\":\""+ command+ "\\n\"}");
  }
}
