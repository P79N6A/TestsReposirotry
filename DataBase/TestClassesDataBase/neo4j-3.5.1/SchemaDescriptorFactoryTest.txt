public class SchemaDescriptorFactoryTest {
  private static final int REL_TYPE_ID=0;
  private static final int LABEL_ID=0;
  @Test public void shouldCreateLabelDescriptors(){
    LabelSchemaDescriptor labelDesc;
    labelDesc=SchemaDescriptorFactory.forLabel(LABEL_ID,1);
    assertThat(labelDesc.getLabelId(),equalTo(LABEL_ID));
    assertArray(labelDesc.getPropertyIds(),1);
    labelDesc=SchemaDescriptorFactory.forLabel(LABEL_ID,1,2,3);
    assertThat(labelDesc.getLabelId(),equalTo(LABEL_ID));
    SchemaTestUtil.assertArray(labelDesc.getPropertyIds(),1,2,3);
    labelDesc=SchemaDescriptorFactory.forLabel(LABEL_ID);
    assertThat(labelDesc.getLabelId(),equalTo(LABEL_ID));
    SchemaTestUtil.assertArray(labelDesc.getPropertyIds());
  }
  @Test public void shouldCreateRelTypeDescriptors(){
    RelationTypeSchemaDescriptor relTypeDesc;
    relTypeDesc=SchemaDescriptorFactory.forRelType(REL_TYPE_ID,1);
    assertThat(relTypeDesc.getRelTypeId(),equalTo(REL_TYPE_ID));
    assertArray(relTypeDesc.getPropertyIds(),1);
    relTypeDesc=SchemaDescriptorFactory.forRelType(REL_TYPE_ID,1,2,3);
    assertThat(relTypeDesc.getRelTypeId(),equalTo(REL_TYPE_ID));
    SchemaTestUtil.assertArray(relTypeDesc.getPropertyIds(),1,2,3);
    relTypeDesc=SchemaDescriptorFactory.forRelType(REL_TYPE_ID);
    assertThat(relTypeDesc.getRelTypeId(),equalTo(REL_TYPE_ID));
    SchemaTestUtil.assertArray(relTypeDesc.getPropertyIds());
  }
  @Test public void shouldCreateEqualLabels(){
    LabelSchemaDescriptor desc1=SchemaDescriptorFactory.forLabel(LABEL_ID,1);
    LabelSchemaDescriptor desc2=SchemaDescriptorFactory.forLabel(LABEL_ID,1);
    SchemaTestUtil.assertEquality(desc1,desc2);
  }
  @Test public void shouldCreateEqualRelTypes(){
    RelationTypeSchemaDescriptor desc1=SchemaDescriptorFactory.forRelType(REL_TYPE_ID,1);
    RelationTypeSchemaDescriptor desc2=SchemaDescriptorFactory.forRelType(REL_TYPE_ID,1);
    SchemaTestUtil.assertEquality(desc1,desc2);
  }
  @Test public void shouldGiveNiceUserDescriptions(){
    assertThat(SchemaDescriptorFactory.forLabel(1,2).userDescription(SchemaTestUtil.simpleNameLookup),equalTo(":Label1(property2)"));
    assertThat(SchemaDescriptorFactory.forRelType(1,3).userDescription(SchemaTestUtil.simpleNameLookup),equalTo("-[:RelType1(property3)]-"));
  }
}
