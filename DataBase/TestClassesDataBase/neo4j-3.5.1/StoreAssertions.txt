public class StoreAssertions {
  private StoreAssertions(){
  }
  public static void assertConsistentStore(  DatabaseLayout databaseLayout) throws ConsistencyCheckIncompleteException {
    Config configuration=Config.defaults(GraphDatabaseSettings.pagecache_memory,"8m");
    AssertableLogProvider logger=new AssertableLogProvider();
    ConsistencyCheckService.Result result=new ConsistencyCheckService().runFullConsistencyCheck(databaseLayout,configuration,ProgressMonitorFactory.NONE,NullLogProvider.getInstance(),false);
    assertTrue("Consistency check for " + databaseLayout + " found inconsistencies:\n\n"+ logger.serialize(),result.isSuccessful());
  }
}
