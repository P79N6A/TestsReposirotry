public class RecordStorageReaderTest {
  @Test public void shouldCloseOpenedLabelScanReader(){
    Supplier<LabelScanReader> scanStore=mock(Supplier.class);
    LabelScanReader scanReader=mock(LabelScanReader.class);
    when(scanStore.get()).thenReturn(scanReader);
    RecordStorageReader statement=new RecordStorageReader(null,null,MockedNeoStores.basicMockedNeoStores(),null,null,mock(Supplier.class),scanStore,mock(RecordStorageCommandCreationContext.class));
    statement.acquire();
    LabelScanReader actualReader=statement.getLabelScanReader();
    assertEquals(scanReader,actualReader);
    statement.close();
    verify(scanStore).get();
    verifyNoMoreInteractions(scanStore);
    verify(scanReader).close();
    verifyNoMoreInteractions(scanReader);
  }
}
