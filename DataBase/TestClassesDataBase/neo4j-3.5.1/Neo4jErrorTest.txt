public class Neo4jErrorTest {
  @Test public void shouldAssignUnknownStatusToUnpredictedException(){
    Throwable cause=new Throwable("This is not an error we know how to handle.");
    Neo4jError error=Neo4jError.from(cause);
    assertThat(error.status(),equalTo(Status.General.UnknownError));
  }
  @Test public void shouldConvertDeadlockException(){
    Neo4jError error=Neo4jError.from(new DeadlockDetectedException(null));
    assertEquals(Status.Transaction.DeadlockDetected,error.status());
  }
  @Test public void shouldSetStatusToDatabaseUnavailableOnDatabaseShutdownException(){
    DatabaseShutdownException ex=new DatabaseShutdownException();
    Neo4jError error=Neo4jError.from(ex);
    assertThat(error.status(),equalTo(Status.General.DatabaseUnavailable));
    assertThat(error.cause(),equalTo(ex));
  }
}
