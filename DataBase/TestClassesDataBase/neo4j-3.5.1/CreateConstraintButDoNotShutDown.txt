static class CreateConstraintButDoNotShutDown extends SubProcess<Process,File> implements Process {
  private volatile boolean started;
  @Override protected void startup(  File storeDir){
    GraphDatabaseService database=new TestGraphDatabaseFactory().newEmbeddedDatabase(storeDir);
    try (Transaction transaction=database.beginTx()){
      database.schema().constraintFor(label("User")).assertPropertyIsUnique("uuid").create();
      transaction.success();
    }
     started=true;
  }
  @Override public void waitForSchemaTransactionCommitted() throws InterruptedException {
    while (!started) {
      Thread.sleep(10);
    }
  }
}
