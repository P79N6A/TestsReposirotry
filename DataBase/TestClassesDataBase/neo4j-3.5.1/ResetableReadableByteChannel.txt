private static class ResetableReadableByteChannel implements ReadableByteChannel {
  private byte[] bytes;
  private int pos;
  public void reset(  byte[] input){
    bytes=input;
    pos=0;
  }
  @Override public int read(  ByteBuffer dst) throws IOException {
    dst.put(bytes);
    int read=bytes.length;
    pos+=read;
    return read;
  }
  @Override public boolean isOpen(){
    return pos < bytes.length;
  }
  @Override public void close() throws IOException {
  }
}
