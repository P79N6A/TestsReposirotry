class PropertyKeyTokenRecordCheckTest extends RecordCheckTestBase<PropertyKeyTokenRecord,PropertyKeyTokenConsistencyReport,PropertyKeyTokenRecordCheck> {
  PropertyKeyTokenRecordCheckTest(){
    super(new PropertyKeyTokenRecordCheck(),PropertyKeyTokenConsistencyReport.class,new int[0]);
  }
  @Test void shouldNotReportAnythingForRecordNotInUse(){
    PropertyKeyTokenRecord key=notInUse(new PropertyKeyTokenRecord(42));
    PropertyKeyTokenConsistencyReport report=check(key);
    verifyNoMoreInteractions(report);
  }
  @Test void shouldNotReportAnythingForRecordThatDoesNotReferenceADynamicBlock(){
    PropertyKeyTokenRecord key=inUse(new PropertyKeyTokenRecord(42));
    PropertyKeyTokenConsistencyReport report=check(key);
    verifyNoMoreInteractions(report);
  }
  @Test void shouldReportDynamicBlockNotInUse(){
    PropertyKeyTokenRecord key=inUse(new PropertyKeyTokenRecord(42));
    DynamicRecord name=addKeyName(notInUse(new DynamicRecord(6)));
    key.setNameId((int)name.getId());
    PropertyKeyTokenConsistencyReport report=check(key);
    verify(report).nameBlockNotInUse(name);
    verifyNoMoreInteractions(report);
  }
  @Test void shouldReportEmptyName(){
    PropertyKeyTokenRecord key=inUse(new PropertyKeyTokenRecord(42));
    DynamicRecord name=addKeyName(inUse(new DynamicRecord(6)));
    key.setNameId((int)name.getId());
    PropertyKeyTokenConsistencyReport report=check(key);
    verify(report).emptyName(name);
    verifyNoMoreInteractions(report);
  }
}
