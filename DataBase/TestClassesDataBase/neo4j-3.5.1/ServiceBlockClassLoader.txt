private static final class ServiceBlockClassLoader extends ClassLoader {
  ServiceBlockClassLoader(  ClassLoader parent){
    super(parent);
  }
  @Override public URL getResource(  String name){
    return name.startsWith("META-INF/services") ? null : super.getResource(name);
  }
  @Override public Enumeration<URL> getResources(  String name) throws IOException {
    return name.startsWith("META-INF/services") ? Collections.enumeration(Collections.<URL>emptySet()) : super.getResources(name);
  }
  @Override public InputStream getResourceAsStream(  String name){
    return name.startsWith("META-INF/services") ? null : super.getResourceAsStream(name);
  }
}
