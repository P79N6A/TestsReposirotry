class LabelTokenRecordCheckTest extends RecordCheckTestBase<LabelTokenRecord,LabelTokenConsistencyReport,LabelTokenRecordCheck> {
  LabelTokenRecordCheckTest(){
    super(new LabelTokenRecordCheck(),LabelTokenConsistencyReport.class,new int[0]);
  }
  @Test void shouldNotReportAnythingForRecordNotInUse(){
    LabelTokenRecord key=notInUse(new LabelTokenRecord(42));
    LabelTokenConsistencyReport report=check(key);
    verifyNoMoreInteractions(report);
  }
  @Test void shouldNotReportAnythingForRecordThatDoesNotReferenceADynamicBlock(){
    LabelTokenRecord key=inUse(new LabelTokenRecord(42));
    LabelTokenConsistencyReport report=check(key);
    verifyNoMoreInteractions(report);
  }
  @Test void shouldReportDynamicBlockNotInUse(){
    LabelTokenRecord key=inUse(new LabelTokenRecord(42));
    DynamicRecord name=addLabelName(notInUse(new DynamicRecord(6)));
    key.setNameId((int)name.getId());
    LabelTokenConsistencyReport report=check(key);
    verify(report).nameBlockNotInUse(name);
    verifyNoMoreInteractions(report);
  }
  @Test void shouldReportEmptyName(){
    LabelTokenRecord key=inUse(new LabelTokenRecord(42));
    DynamicRecord name=addLabelName(inUse(new DynamicRecord(6)));
    key.setNameId((int)name.getId());
    LabelTokenConsistencyReport report=check(key);
    verify(report).emptyName(name);
    verifyNoMoreInteractions(report);
  }
}
