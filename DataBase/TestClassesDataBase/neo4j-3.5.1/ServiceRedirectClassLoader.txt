private static final class ServiceRedirectClassLoader extends ClassLoader {
  ServiceRedirectClassLoader(  ClassLoader parent){
    super(parent);
  }
  @Override public URL getResource(  String name){
    return name.startsWith("META-INF/services") ? super.getResource("test/" + name) : super.getResource(name);
  }
  @Override public Enumeration<URL> getResources(  String name) throws IOException {
    return name.startsWith("META-INF/services") ? super.getResources("test/" + name) : super.getResources(name);
  }
  @Override public InputStream getResourceAsStream(  String name){
    return name.startsWith("META-INF/services") ? super.getResourceAsStream("test/" + name) : super.getResourceAsStream(name);
  }
}
