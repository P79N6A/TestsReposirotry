class EntityUpdateCollectingVisitor implements Visitor<EntityUpdates,Exception> {
  private final Set<EntityUpdates> updates=new HashSet<>();
  @Override public boolean visit(  EntityUpdates propertyUpdates){
    updates.add(propertyUpdates);
    return false;
  }
  Set<EntityUpdates> getUpdates(){
    return updates;
  }
}
