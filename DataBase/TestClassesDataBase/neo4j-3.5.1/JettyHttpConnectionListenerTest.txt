class JettyHttpConnectionListenerTest {
  private final NetworkConnectionTracker connectionTracker=mock(NetworkConnectionTracker.class);
  private final JettyHttpConnectionListener listener=new JettyHttpConnectionListener(connectionTracker);
  @Test void shouldNotifyAboutOpenConnection(){
    JettyHttpConnection connection=mock(JettyHttpConnection.class);
    listener.onOpened(connection);
    verify(connectionTracker).add(connection);
    verify(connectionTracker,never()).remove(any());
  }
  @Test void shouldNotifyAboutClosedConnection(){
    JettyHttpConnection connection=mock(JettyHttpConnection.class);
    listener.onClosed(connection);
    verify(connectionTracker,never()).add(any());
    verify(connectionTracker).remove(connection);
  }
  @Test void shouldIgnoreOpenConnectionOfUnknownType(){
    Connection connection=mock(Connection.class);
    listener.onOpened(connection);
    verify(connectionTracker,never()).add(any());
    verify(connectionTracker,never()).remove(any());
  }
  @Test void shouldIgnoreClosedConnectionOfUnknownType(){
    Connection connection=mock(Connection.class);
    listener.onClosed(connection);
    verify(connectionTracker,never()).add(any());
    verify(connectionTracker,never()).remove(any());
  }
}
