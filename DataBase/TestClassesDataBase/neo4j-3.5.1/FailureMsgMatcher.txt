class FailureMsgMatcher extends TypeSafeMatcher<ResponseMessage> {
  FailureMessage specialMessage;
  @Override public void describeTo(  Description description){
    description.appendText("FAILURE");
  }
  @Override protected boolean matchesSafely(  ResponseMessage t){
    assertThat(t,instanceOf(FailureMessage.class));
    FailureMessage msg=(FailureMessage)t;
    if (!msg.status().equals(Status.Security.Unauthorized) || !msg.message().contains("The client is unauthorized due to authentication failure.")) {
      specialMessage=msg;
    }
    return true;
  }
  public boolean gotSpecialMessage(){
    return specialMessage != null;
  }
}
