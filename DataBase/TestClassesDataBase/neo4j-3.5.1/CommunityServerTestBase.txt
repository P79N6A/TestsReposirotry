public class CommunityServerTestBase extends ExclusiveServerTestBase {
  protected CommunityNeoServer server;
  @After public void cleanup(){
    if (server != null) {
      server.stop();
    }
  }
  protected void startServer(  boolean authEnabled) throws IOException {
    server=CommunityServerBuilder.serverOnRandomPorts().withProperty(GraphDatabaseSettings.auth_enabled.name(),Boolean.toString(authEnabled)).build();
    server.start();
  }
  protected void startServer(  boolean authEnabled,  String accessControlAllowOrigin) throws IOException {
    server=CommunityServerBuilder.serverOnRandomPorts().withProperty(GraphDatabaseSettings.auth_enabled.name(),Boolean.toString(authEnabled)).withProperty(ServerSettings.http_access_control_allow_origin.name(),accessControlAllowOrigin).build();
    server.start();
  }
  protected String dataURL(){
    return server.baseUri().resolve("db/data/").toString();
  }
  protected String userURL(  String username){
    return server.baseUri().resolve("user/" + username).toString();
  }
  protected String passwordURL(  String username){
    return server.baseUri().resolve("user/" + username + "/password").toString();
  }
  protected String txCommitURL(){
    return server.baseUri().resolve("db/data/transaction/commit").toString();
  }
}
