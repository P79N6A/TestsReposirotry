private static class NodeCreator implements Runnable {
  private final GraphDatabaseService db;
  NodeCreator(  GraphDatabaseService db){
    this.db=db;
  }
  @Override public void run(){
    try (Transaction tx=db.beginTx()){
      Index<Node> index=db.index().forNodes("myIndex");
      index.add(db.createNode(),"one","two");
      tx.success();
    }
   }
}
