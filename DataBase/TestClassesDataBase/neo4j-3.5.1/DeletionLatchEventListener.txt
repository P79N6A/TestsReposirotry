private static class DeletionLatchEventListener extends ModificationEventListener {
  private final CountDownLatch deletionLatch=new CountDownLatch(1);
  DeletionLatchEventListener(  String expectedFileName){
    super(expectedFileName);
  }
  @Override public void fileDeleted(  String fileName){
    if (fileName.endsWith(expectedFileName)) {
      deletionLatch.countDown();
    }
  }
  void awaitDeletionNotification() throws InterruptedException {
    deletionLatch.await();
  }
}
