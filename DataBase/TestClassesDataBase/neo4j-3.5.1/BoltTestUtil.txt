public class BoltTestUtil {
  public static BoltChannel newTestBoltChannel(){
    return newTestBoltChannel("bolt-1");
  }
  public static BoltChannel newTestBoltChannel(  String id){
    return new BoltChannel(id,"bolt",new EmbeddedChannel());
  }
  public static void assertByteBufEquals(  ByteBuf expected,  ByteBuf actual){
    try {
      assertEquals(expected,actual);
    }
  finally {
      releaseIfPossible(expected);
      releaseIfPossible(actual);
    }
  }
  private static void releaseIfPossible(  ByteBuf buf){
    if (buf.refCnt() > 0) {
      buf.release();
    }
  }
}
