private static class FailedTestExecutionListener implements TestExecutionListener {
  private int resultsObserved;
  @Override public void executionFinished(  TestIdentifier testIdentifier,  TestExecutionResult testExecutionResult){
    if (testExecutionResult.getStatus() == FAILED) {
      resultsObserved++;
      String exceptionMessage=testExecutionResult.getThrowable().map(Throwable::getMessage).orElse(EMPTY);
      assertThat(exceptionMessage,containsString("Fail to cleanup test directory for lockFileAndFailToDeleteDirectory"));
    }
  }
  void assertTestObserver(){
    assertEquals(1,resultsObserved);
  }
}
