@RunWith(MockitoJUnitRunner.class) public class OnDirectoryTest {
  @Mock public ThrowingConsumer<Path,IOException> operation;
  @Mock public FileVisitor<Path> wrapped;
  @Test public void shouldOperateOnDirectories() throws IOException {
    Path dir=Paths.get("/some/path");
    onDirectory(operation,wrapped).preVisitDirectory(dir,null);
    verify(operation).accept(dir);
  }
  @Test public void shouldNotOperateOnFiles() throws IOException {
    Path file=Paths.get("/some/path");
    onDirectory(operation,wrapped).visitFile(file,null);
    verify(operation,never()).accept(file);
  }
}
