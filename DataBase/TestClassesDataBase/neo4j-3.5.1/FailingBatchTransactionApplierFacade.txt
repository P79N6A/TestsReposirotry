private static class FailingBatchTransactionApplierFacade extends BatchTransactionApplierFacade {
  private final Exception failure;
  FailingBatchTransactionApplierFacade(  Exception failure,  BatchTransactionApplier... appliers){
    super(appliers);
    this.failure=failure;
  }
  @Override public void close() throws Exception {
    throw failure;
  }
}
