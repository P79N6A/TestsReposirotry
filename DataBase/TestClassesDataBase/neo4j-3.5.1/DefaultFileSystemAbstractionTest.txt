public class DefaultFileSystemAbstractionTest extends FileSystemAbstractionTest {
  @Override protected FileSystemAbstraction buildFileSystemAbstraction(){
    return new DefaultFileSystemAbstraction();
  }
  @Test void shouldFailGracefullyWhenPathCannotBeCreated(){
    path=new File(testDirectory.directory(),String.valueOf(UUID.randomUUID())){
      @Override public boolean mkdirs(){
        return false;
      }
    }
;
    IOException exception=assertThrows(IOException.class,() -> fsa.mkdirs(path));
    assertFalse(fsa.fileExists(path));
    String expectedMessage=format(UNABLE_TO_CREATE_DIRECTORY_FORMAT,path);
    assertThat(exception.getMessage(),is(expectedMessage));
  }
}
