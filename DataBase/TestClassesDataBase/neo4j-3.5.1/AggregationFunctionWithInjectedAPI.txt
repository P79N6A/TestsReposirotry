public static class AggregationFunctionWithInjectedAPI {
  @Context public MyAwesomeAPI api;
  @UserAggregationFunction public VoidOutput listCoolPeople(){
    return new VoidOutput(api);
  }
public static class VoidOutput {
    private MyAwesomeAPI api;
    public VoidOutput(    MyAwesomeAPI api){
      this.api=api;
    }
    @UserAggregationUpdate public void update(){
    }
    @UserAggregationResult public String result(){
      return api.listCoolPeople().toString();
    }
  }
}
