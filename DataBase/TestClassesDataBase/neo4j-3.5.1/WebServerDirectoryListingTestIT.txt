public class WebServerDirectoryListingTestIT extends ExclusiveServerTestBase {
  private CommunityNeoServer server;
  @Test public void shouldDisallowDirectoryListings() throws Exception {
    server=CommunityServerBuilder.serverOnRandomPorts().build();
    server.start();
    HTTP.Response okResource=HTTP.GET(server.baseUri().resolve("/browser/index.html").toString());
    HTTP.Response illegalResource=HTTP.GET(server.baseUri().resolve("/browser/assets/").toString());
    assertEquals(200,okResource.status());
    assertEquals(403,illegalResource.status());
  }
  @After public void cleanup(){
    if (server != null) {
      server.stop();
    }
  }
}
