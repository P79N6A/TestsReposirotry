private class CountingPathExpander implements PathExpander {
  private MutableInt nodesVisited;
  private final PathExpander delegate;
  CountingPathExpander(  PathExpander delegate){
    nodesVisited=new MutableInt(0);
    this.delegate=delegate;
  }
  CountingPathExpander(  PathExpander delegate,  MutableInt nodesVisited){
    this(delegate);
    this.nodesVisited=nodesVisited;
  }
  @Override public Iterable expand(  Path path,  BranchState state){
    nodesVisited.increment();
    return delegate.expand(path,state);
  }
  @Override public PathExpander reverse(){
    return new CountingPathExpander(delegate.reverse(),nodesVisited);
  }
}
