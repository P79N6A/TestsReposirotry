public class CompiledIndexUtilsTest {
  @Test public void shouldCallIndexSeek() throws KernelException {
    Read read=mock(Read.class);
    IndexReference index=mock(IndexReference.class);
    when(index.properties()).thenReturn(new int[]{42});
    CompiledIndexUtils.indexSeek(read,mock(CursorFactory.class),index,"hello");
    verify(read,times(1)).nodeIndexSeek(any(),any(),any(),anyBoolean(),any());
  }
  @Test public void shouldHandleNullInIndexSeek() throws KernelException {
    Read read=mock(Read.class);
    IndexReference index=mock(IndexReference.class);
    when(index.properties()).thenReturn(new int[]{42});
    NodeValueIndexCursor cursor=CompiledIndexUtils.indexSeek(mock(Read.class),mock(CursorFactory.class),index,null);
    verify(read,never()).nodeIndexSeek(any(),any(),any(),anyBoolean());
    assertFalse(cursor.next());
  }
}
