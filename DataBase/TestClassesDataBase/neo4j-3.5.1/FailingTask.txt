private static class FailingTask implements Task<Void> {
  private final Exception exception;
  private final Barrier.Control latch=new Barrier.Control();
  FailingTask(  Exception exception){
    this.exception=exception;
  }
  @Override public void run(  Void nothing) throws Exception {
    try {
      throw exception;
    }
  finally {
      latch.reached();
    }
  }
}
