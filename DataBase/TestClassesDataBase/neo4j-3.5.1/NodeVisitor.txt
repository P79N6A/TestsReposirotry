private static class NodeVisitor implements Visitor<StorageCommand,IOException> {
  long nodeId;
  @Override public boolean visit(  StorageCommand element){
    if (element instanceof NodeCommand) {
      nodeId=((NodeCommand)element).getKey();
    }
    return false;
  }
  public NodeVisitor clear(){
    nodeId=-1;
    return this;
  }
}
