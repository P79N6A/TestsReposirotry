class BeginMessageDecoderTest {
  private final BoltResponseHandler responseHandler=mock(BoltResponseHandler.class);
  private final RequestMessageDecoder decoder=new BeginMessageDecoder(responseHandler);
  @Test void shouldReturnCorrectSignature(){
    assertEquals(BeginMessage.SIGNATURE,decoder.signature());
  }
  @Test void shouldReturnConnectResponseHandler(){
    assertEquals(responseHandler,decoder.responseHandler());
  }
  @Test void shouldDecodeBeginMessage() throws Exception {
    BeginMessage originalMessage=new BeginMessage(VirtualValues.map(new String[]{"tx_metadata","tx_timeout"},new AnyValue[]{EMPTY,longValue(10000)}));
    assertOriginalMessageEqualsToDecoded(originalMessage,decoder);
  }
}
