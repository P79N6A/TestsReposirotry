private static class MonitorDirty extends Monitor.Adaptor {
  private boolean called;
  private boolean cleanOnStart;
  @Override public void startupState(  boolean clean){
    if (called) {
      throw new IllegalStateException("State has already been set. Can't set it again.");
    }
    called=true;
    cleanOnStart=clean;
  }
  boolean cleanOnStart(){
    if (!called) {
      throw new IllegalStateException("State has not been set");
    }
    return cleanOnStart;
  }
}
