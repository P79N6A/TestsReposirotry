public class ThirdPartyJAXRSModuleTest {
  @Test public void shouldReportThirdPartyPackagesAtSpecifiedMount() throws Exception {
    WebServer webServer=mock(WebServer.class);
    CommunityNeoServer neoServer=mock(CommunityNeoServer.class);
    when(neoServer.baseUri()).thenReturn(new URI("http://localhost:7575"));
    when(neoServer.getWebServer()).thenReturn(webServer);
    Database database=mock(Database.class);
    when(neoServer.getDatabase()).thenReturn(database);
    Config config=mock(Config.class);
    List<ThirdPartyJaxRsPackage> jaxRsPackages=new ArrayList<>();
    String path="/third/party/package";
    jaxRsPackages.add(new ThirdPartyJaxRsPackage("org.example.neo4j",path));
    when(config.get(ServerSettings.third_party_packages)).thenReturn(jaxRsPackages);
    ThirdPartyJAXRSModule module=new ThirdPartyJAXRSModule(webServer,config,NullLogProvider.getInstance(),neoServer);
    module.start();
    verify(webServer).addJAXRSPackages(any(List.class),anyString(),anyCollection());
  }
}
