class GenerationTest {
  @Test void shouldSetLowGenerations(){
    shouldComposeAndDecomposeGeneration(GenerationSafePointer.MIN_GENERATION,GenerationSafePointer.MIN_GENERATION + 1);
  }
  @Test void shouldSetHighGenerations(){
    shouldComposeAndDecomposeGeneration(GenerationSafePointer.MAX_GENERATION - 1,GenerationSafePointer.MAX_GENERATION);
  }
  private void shouldComposeAndDecomposeGeneration(  long stable,  long unstable){
    long generation=Generation.generation(stable,unstable);
    long readStable=Generation.stableGeneration(generation);
    long readUnstable=Generation.unstableGeneration(generation);
    assertEquals(stable,readStable);
    assertEquals(unstable,readUnstable);
  }
}
