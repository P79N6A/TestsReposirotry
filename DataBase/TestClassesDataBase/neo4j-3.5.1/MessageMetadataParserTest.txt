class MessageMetadataParserTest {
  @Test void shouldAllowNoTransactionTimeout() throws Exception {
    assertNull(parseTransactionTimeout(emptyMap()));
  }
  @Test void shouldAllowNoTransactionMetadata() throws Exception {
    assertNull(parseTransactionMetadata(emptyMap()));
  }
  @Test void shouldThrowForIncorrectTransactionTimeout(){
    BoltIOException e=assertThrows(BoltIOException.class,() -> parseTransactionTimeout(asMapValue(map("tx_timeout","15 minutes"))));
    assertTrue(e.causesFailureMessage());
  }
  @Test void shouldThrowForIncorrectTransactionMetadata(){
    BoltIOException e=assertThrows(BoltIOException.class,() -> parseTransactionMetadata(asMapValue(map("tx_metadata","{key1: 'value1', key2: 'value2'}"))));
    assertTrue(e.causesFailureMessage());
  }
}
