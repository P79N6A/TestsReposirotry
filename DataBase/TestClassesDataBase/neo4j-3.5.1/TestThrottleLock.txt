private static class TestThrottleLock implements ThrottleLock {
  private AtomicInteger lockCount=new AtomicInteger(0);
  private AtomicInteger unlockCount=new AtomicInteger(0);
  private ThrottleLock actualLock=new DefaultThrottleLock();
  @Override public void lock(  Channel channel,  long timeout) throws InterruptedException {
    actualLock.lock(channel,timeout);
    lockCount.incrementAndGet();
  }
  @Override public void unlock(  Channel channel){
    actualLock.unlock(channel);
    unlockCount.incrementAndGet();
  }
  public int lockCallCount(){
    return lockCount.get();
  }
  public int unlockCallCount(){
    return unlockCount.get();
  }
}
