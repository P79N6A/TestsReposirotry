private abstract static class DummyKernelEventHandler implements KernelEventHandler {
  private static int counter;
  private Integer beforeShutdown;
  private Integer kernelPanic;
  private final Object resource;
  DummyKernelEventHandler(  Object resource){
    this.resource=resource;
  }
  @Override public void beforeShutdown(){
    beforeShutdown=counter++;
  }
  @Override public Object getResource(){
    return this.resource;
  }
  @Override public void kernelPanic(  ErrorState error){
    kernelPanic=counter++;
  }
}
