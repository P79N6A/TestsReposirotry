public class ClientConnectionInfoTest {
  @Test public void connectionDetailsForBoltQuerySource(){
    ClientConnectionInfo clientConnection=new BoltConnectionInfo("bolt-42","username","neo4j-java-bolt-driver",new InetSocketAddress("127.0.0.1",56789),new InetSocketAddress("127.0.0.1",7687)).withUsername("username");
    String connectionDetails=clientConnection.asConnectionDetails();
    assertEquals("bolt-session\tbolt\tusername\tneo4j-java-bolt-driver\t\tclient/127.0.0.1:56789\t" + "server/127.0.0.1:7687>\tusername",connectionDetails);
  }
  @Test public void connectionDetailsForHttpQuerySource(){
    ClientConnectionInfo clientConnection=new HttpConnectionInfo("http-42","http",new InetSocketAddress("127.0.0.1",1337),null,"/db/data/transaction/45/commit").withUsername("username");
    String connectionDetails=clientConnection.asConnectionDetails();
    assertEquals("server-session\thttp\t127.0.0.1\t/db/data/transaction/45/commit\tusername",connectionDetails);
  }
  @Test public void connectionDetailsForEmbeddedQuerySource(){
    String connectionDetails=ClientConnectionInfo.EMBEDDED_CONNECTION.asConnectionDetails();
    assertEquals("embedded-session\t",connectionDetails);
  }
}
