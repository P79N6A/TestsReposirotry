private static class DepthStateExpander implements PathExpander<Integer> {
  @Override public Iterable<Relationship> expand(  Path path,  BranchState<Integer> state){
    assertEquals(path.length(),state.getState().intValue());
    state.setState(state.getState() + 1);
    return path.endNode().getRelationships(Direction.OUTGOING);
  }
  @Override public PathExpander<Integer> reverse(){
    return this;
  }
}
