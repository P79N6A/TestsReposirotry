public class CursorsClosedPostCondition implements TestRule {
  private Supplier<ManagedTestCursors> cursors;
  CursorsClosedPostCondition(  Supplier<ManagedTestCursors> c){
    this.cursors=c;
  }
  @Override public Statement apply(  Statement base,  Description description){
    return new Statement(){
      @Override public void evaluate() throws Throwable {
        base.evaluate();
        cursors.get().assertAllClosedAndReset();
      }
    }
;
  }
}
