public class RecordedBoltResponse {
  private List<QueryResult.Record> records;
  private BoltResponseMessage response;
  private Map<String,AnyValue> metadata;
  public RecordedBoltResponse(){
    records=new ArrayList<>();
    response=null;
    metadata=new HashMap<>();
  }
  public void addRecord(  QueryResult.Record record){
    records.add(record);
  }
  public void addMetadata(  String key,  AnyValue value){
    metadata.put(key,value);
  }
  public BoltResponseMessage message(){
    return response;
  }
  public void setResponse(  BoltResponseMessage message){
    this.response=message;
  }
  public boolean hasMetadata(  String key){
    return metadata.containsKey(key);
  }
  public AnyValue metadata(  String key){
    return metadata.get(key);
  }
  public void assertRecord(  int index,  Object... values){
    assertThat(index,lessThan(records.size()));
    assertArrayEquals(records.get(index).fields(),values);
  }
  public QueryResult.Record[] records(){
    QueryResult.Record[] recordArray=new QueryResult.Record[records.size()];
    return records.toArray(recordArray);
  }
  @Override public String toString(){
    return "RecordedBoltResponse{" + "records=" + records + ", response="+ response+ ", metadata="+ metadata+ '}';
  }
}
