private static class MyProvider extends DiagnosticsOfflineReportProvider {
  private final FileSystemAbstraction fs;
  private final List<DiagnosticsReportSource> logFiles=new ArrayList<>();
  MyProvider(  FileSystemAbstraction fs){
    super("my-provider","logs");
    this.fs=fs;
  }
  void addFile(  String destination,  File file){
    logFiles.add(newDiagnosticsFile(destination,fs,file));
  }
  @Override public void init(  FileSystemAbstraction fs,  Config config,  File storeDirectory){
  }
  @Override public List<DiagnosticsReportSource> provideSources(  Set<String> classifiers){
    List<DiagnosticsReportSource> sources=new ArrayList<>();
    if (classifiers.contains("fail")) {
      sources.add(new FailingSource());
    }
    if (classifiers.contains("logs")) {
      sources.addAll(logFiles);
    }
    return sources;
  }
}
