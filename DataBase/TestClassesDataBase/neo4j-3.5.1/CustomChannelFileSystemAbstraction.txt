private class CustomChannelFileSystemAbstraction extends DelegatingFileSystemAbstraction {
  private final StoreChannel channel;
  private int numberOfCallsToOpen;
  CustomChannelFileSystemAbstraction(  DefaultFileSystemAbstraction delegate,  StoreChannel channel){
    super(delegate);
    this.channel=channel;
  }
  @Override public StoreChannel open(  File fileName,  OpenMode openMode){
    numberOfCallsToOpen++;
    return channel;
  }
  public int getNumberOfCallsToOpen(){
    return numberOfCallsToOpen;
  }
}
