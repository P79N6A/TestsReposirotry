private static class InMemSink extends SimpleJavaFileObject {
  private ByteArrayOutputStream byteCodeStream=new ByteArrayOutputStream();
  InMemSink(  String className){
    super(URI.create("mem:///" + className + Kind.CLASS.extension),Kind.CLASS);
  }
  public byte[] getBytes(){
    return byteCodeStream.toByteArray();
  }
  @Override public OutputStream openOutputStream(){
    return byteCodeStream;
  }
}
