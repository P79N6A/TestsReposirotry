private static class TrackingIndexAccessor extends IndexAccessor.Adapter {
  private final IndexUpdater updater=mock(IndexUpdater.class);
  @Override public void drop(){
    throw new UnsupportedOperationException("Not required");
  }
  @Override public IndexUpdater newUpdater(  IndexUpdateMode mode){
    return updater;
  }
  @Override public IndexReader newReader(){
    throw new UnsupportedOperationException("Not required");
  }
  @Override public BoundedIterable<Long> newAllEntriesReader(){
    throw new UnsupportedOperationException("Not required");
  }
  @Override public ResourceIterator<File> snapshotFiles(){
    throw new UnsupportedOperationException("Not required");
  }
}
