private class NotifyingThreadPoolFactory implements ExecutorFactory {
  @Override public ExecutorService create(  int corePoolSize,  int maxPoolSize,  Duration keepAlive,  int queueSize,  boolean startCoreThreads,  ThreadFactory threadFactory){
    return new NotifyingThreadPoolExecutor(corePoolSize,maxPoolSize,keepAlive,new SynchronousQueue<>(),threadFactory,new ThreadPoolExecutor.AbortPolicy());
  }
}
