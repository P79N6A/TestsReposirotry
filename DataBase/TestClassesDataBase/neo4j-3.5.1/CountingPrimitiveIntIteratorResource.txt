private static final class CountingPrimitiveIntIteratorResource implements PrimitiveIntIterator, AutoCloseable {
  private final PrimitiveIntIterator delegate;
  private final AtomicInteger closeCounter;
  private CountingPrimitiveIntIteratorResource(  PrimitiveIntIterator delegate,  AtomicInteger closeCounter){
    this.delegate=delegate;
    this.closeCounter=closeCounter;
  }
  @Override public void close(){
    closeCounter.incrementAndGet();
  }
  @Override public boolean hasNext(){
    return delegate.hasNext();
  }
  @Override public int next(){
    return delegate.next();
  }
}
