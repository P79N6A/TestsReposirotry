@RunWith(MockitoJUnitRunner.class) public class LuceneIndexAccessorTest {
  @Mock private SchemaIndex schemaIndex;
  @Mock private IndexDescriptor schemaIndexDescriptor;
  private LuceneIndexAccessor accessor;
  @Before public void setUp(){
    accessor=new LuceneIndexAccessor(schemaIndex,schemaIndexDescriptor);
  }
  @Test public void indexIsDirtyWhenLuceneIndexIsNotValid(){
    when(schemaIndex.isValid()).thenReturn(false);
    assertTrue(accessor.isDirty());
  }
  @Test public void indexIsCleanWhenLuceneIndexIsValid(){
    when(schemaIndex.isValid()).thenReturn(true);
    assertFalse(accessor.isDirty());
  }
}
