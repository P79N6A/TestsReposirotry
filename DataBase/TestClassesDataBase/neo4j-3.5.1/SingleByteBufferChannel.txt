private static class SingleByteBufferChannel extends StoreFileChannel {
  SingleByteBufferChannel(  StoreFileChannel channel){
    super(channel);
  }
  @Override public int write(  ByteBuffer src) throws IOException {
    byte b=src.get();
    ByteBuffer byteBuffer=ByteBuffer.wrap(new byte[]{b});
    return super.write(byteBuffer);
  }
  @Override public int read(  ByteBuffer dst) throws IOException {
    ByteBuffer byteBuffer=ByteBuffer.allocate(1);
    int read=super.read(byteBuffer);
    if (read > 0) {
      byteBuffer.flip();
      dst.put(byteBuffer.get());
    }
    return read;
  }
}
