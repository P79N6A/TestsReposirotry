public class CommunityCommitProcessFactoryTest {
  @Test public void createReadOnlyCommitProcess(){
    CommunityCommitProcessFactory factory=new CommunityCommitProcessFactory();
    Config config=Config.defaults(GraphDatabaseSettings.read_only,"true");
    TransactionCommitProcess commitProcess=factory.create(mock(TransactionAppender.class),mock(StorageEngine.class),config);
    assertThat(commitProcess,instanceOf(ReadOnlyTransactionCommitProcess.class));
  }
  @Test public void createRegularCommitProcess(){
    CommunityCommitProcessFactory factory=new CommunityCommitProcessFactory();
    TransactionCommitProcess commitProcess=factory.create(mock(TransactionAppender.class),mock(StorageEngine.class),Config.defaults());
    assertThat(commitProcess,instanceOf(TransactionRepresentationCommitProcess.class));
  }
}
