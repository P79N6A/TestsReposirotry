static class InjectableFactory implements ClusterResolverFactory<AwsEndpoint> {
  private final AtomicReference<List<AwsEndpoint>> currentEndpointsRef=new AtomicReference<>();
  @Override public ClusterResolver<AwsEndpoint> createClusterResolver(){
    return new StaticClusterResolver<>("regionA",currentEndpointsRef.get());
  }
  void setEndpoints(  List<AwsEndpoint> endpoints){
    currentEndpointsRef.set(endpoints);
  }
}
