public static class SimultaneousStarter extends Thread {
  private final CountDownLatch starterLatch;
  private final CountDownLatch finishLatch;
  private final Runnable runnable;
  public SimultaneousStarter(  CountDownLatch starterLatch,  CountDownLatch finishLatch,  Runnable runnable){
    this.starterLatch=starterLatch;
    this.finishLatch=finishLatch;
    this.runnable=runnable;
  }
  @Override public void run(){
    starterLatch.countDown();
    try {
      starterLatch.await();
      runnable.run();
      finishLatch.countDown();
    }
 catch (    InterruptedException e) {
      throw new RuntimeException("Something went wrong...");
    }
  }
}
