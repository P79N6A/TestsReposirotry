public class JerseyApplicationClientTest extends EurekaHttpClientCompatibilityTestSuite {
  private JerseyApplicationClient jerseyHttpClient;
  @Override @After public void tearDown() throws Exception {
    if (jerseyHttpClient != null) {
      jerseyHttpClient.shutdown();
    }
    super.tearDown();
  }
  @Override protected EurekaHttpClient getEurekaHttpClient(  URI serviceURI){
    Preconditions.checkState(jerseyHttpClient == null,"EurekaHttpClient has been already created");
    TransportClientFactory clientFactory=JerseyEurekaHttpClientFactory.newBuilder().withClientName("compatibilityTestClient").build();
    jerseyHttpClient=(JerseyApplicationClient)clientFactory.newClient(new DefaultEndpoint(serviceURI.toString()));
    return jerseyHttpClient;
  }
}
