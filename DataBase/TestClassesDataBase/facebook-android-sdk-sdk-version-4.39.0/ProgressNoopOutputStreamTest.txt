public class ProgressNoopOutputStreamTest extends FacebookTestCase {
  private ProgressNoopOutputStream stream;
  @Before public void before() throws Exception {
    FacebookSdk.setApplicationId("123456789");
    FacebookSdk.setAutoLogAppEventsEnabled(false);
    FacebookSdk.sdkInitialize(RuntimeEnvironment.application);
    stream=new ProgressNoopOutputStream(null);
  }
  @After public void after() throws Exception {
    stream.close();
  }
  @Test public void testSetup(){
    assertEquals(0,stream.getMaxProgress());
    assertTrue(stream.getProgressMap().isEmpty());
  }
  @Test public void testWriting(){
    assertEquals(0,stream.getMaxProgress());
    stream.write(0);
    assertEquals(1,stream.getMaxProgress());
    final byte[] buf=new byte[8];
    stream.write(buf);
    assertEquals(9,stream.getMaxProgress());
    stream.write(buf,2,2);
    assertEquals(11,stream.getMaxProgress());
    stream.addProgress(16);
    assertEquals(27,stream.getMaxProgress());
  }
}
