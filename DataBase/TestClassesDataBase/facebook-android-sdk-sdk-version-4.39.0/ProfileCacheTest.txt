public final class ProfileCacheTest extends FacebookTestCase {
  @Before public void before() throws Exception {
    FacebookSdk.setApplicationId("123456789");
    FacebookSdk.setAutoLogAppEventsEnabled(false);
    FacebookSdk.sdkInitialize(RuntimeEnvironment.application);
    RuntimeEnvironment.application.getSharedPreferences(ProfileCache.SHARED_PREFERENCES_NAME,Context.MODE_PRIVATE).edit().clear().commit();
  }
  @Test public void testEmptyCase(){
    ProfileCache cache=new ProfileCache();
    assertNull(cache.load());
  }
  @Test public void testSaveGetAndClear(){
    ProfileCache cache=new ProfileCache();
    Profile profile1=ProfileTest.createDefaultProfile();
    cache.save(profile1);
    Profile profile2=cache.load();
    ProfileTest.assertDefaultObjectGetters(profile2);
    assertEquals(profile1,profile2);
    profile1=ProfileTest.createMostlyNullsProfile();
    cache.save(profile1);
    profile2=cache.load();
    ProfileTest.assertMostlyNullsObjectGetters(profile2);
    assertEquals(profile1,profile2);
    cache.clear();
    assertNull(cache.load());
  }
}
