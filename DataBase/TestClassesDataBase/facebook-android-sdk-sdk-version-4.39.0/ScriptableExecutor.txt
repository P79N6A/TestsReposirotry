static class ScriptableExecutor implements Executor {
  private final ArrayList<Runnable> runnables=new ArrayList<Runnable>();
  int getPendingCount(){
    return runnables.size();
  }
  void runNext(){
    assertTrue(runnables.size() > 0);
    runnables.get(0).run();
    runnables.remove(0);
  }
  void runLast(){
    assertTrue(runnables.size() > 0);
    int index=runnables.size() - 1;
    runnables.get(index).run();
    runnables.remove(index);
  }
  @Override public void execute(  Runnable runnable){
synchronized (this) {
      runnables.add(runnable);
    }
  }
}
