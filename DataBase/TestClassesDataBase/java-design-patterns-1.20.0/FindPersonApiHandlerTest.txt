/** 
 * Unit tests for FindPersonApiHandler Created by dheeraj.mummar on 3/5/18.
 */
@RunWith(MockitoJUnitRunner.class) public class FindPersonApiHandlerTest {
  private FindPersonApiHandler findPersonApiHandler;
  @Mock private DynamoDBMapper dynamoDbMapper;
  @Before public void setUp(){
    this.findPersonApiHandler=new FindPersonApiHandler();
    this.findPersonApiHandler.setDynamoDbMapper(dynamoDbMapper);
  }
  @Test public void handleRequest(){
    findPersonApiHandler.handleRequest(apiGatewayProxyRequestEvent(),mock(Context.class));
    verify(dynamoDbMapper,times(1)).load(Person.class,"37e7a1fe-3544-473d-b764-18128f02d72d");
  }
  private APIGatewayProxyRequestEvent apiGatewayProxyRequestEvent(){
    return new APIGatewayProxyRequestEvent().withPathParamters(Collections.singletonMap("id","37e7a1fe-3544-473d-b764-18128f02d72d"));
  }
}
