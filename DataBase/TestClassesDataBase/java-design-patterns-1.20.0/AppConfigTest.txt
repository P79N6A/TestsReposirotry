/** 
 * This case is Just for test the Annotation Based configuration
 */
@ExtendWith(SpringExtension.class) @ContextConfiguration(classes={AppConfig.class},loader=AnnotationConfigContextLoader.class) public class AppConfigTest {
  @Autowired DataSource dataSource;
  /** 
 * Test for bean instance
 */
  @Test public void testDataSource(){
    assertNotNull(dataSource);
  }
  /** 
 * Test for correct query execution
 */
  @Test @Transactional public void testQuery() throws SQLException {
    ResultSet resultSet=dataSource.getConnection().createStatement().executeQuery("SELECT 1");
    String result=null;
    String expected="1";
    while (resultSet.next()) {
      result=resultSet.getString(1);
    }
    assertTrue(result.equals(expected));
  }
}
