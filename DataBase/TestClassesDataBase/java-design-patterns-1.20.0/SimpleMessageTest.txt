/** 
 * Date: 12/27/15 - 10:25 PM
 * @author Jeroen Meulemeester
 */
public class SimpleMessageTest {
  @Test public void testGetHeaders(){
    final SimpleMessage message=new SimpleMessage();
    assertNotNull(message.getHeaders());
    assertTrue(message.getHeaders().isEmpty());
    final String senderName="test";
    message.addHeader(Message.Headers.SENDER,senderName);
    assertNotNull(message.getHeaders());
    assertFalse(message.getHeaders().isEmpty());
    assertEquals(senderName,message.getHeaders().get(Message.Headers.SENDER));
  }
  @Test public void testUnModifiableHeaders(){
    final SimpleMessage message=new SimpleMessage();
    final Map<Message.Headers,String> headers=message.getHeaders();
    assertThrows(UnsupportedOperationException.class,() -> {
      headers.put(Message.Headers.SENDER,"test");
    }
);
  }
}
