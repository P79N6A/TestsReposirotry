/** 
 * Test for hadoop 2's version of MetricsThriftServerSourceFactory.
 */
@Category({MetricsTests.class,SmallTests.class}) public class TestMetricsThriftServerSourceFactoryImpl {
  @ClassRule public static final HBaseClassTestRule CLASS_RULE=HBaseClassTestRule.forClass(TestMetricsThriftServerSourceFactoryImpl.class);
  @Test public void testCompatabilityRegistered(){
    assertNotNull(CompatibilitySingletonFactory.getInstance(MetricsThriftServerSourceFactory.class));
    assertTrue(CompatibilitySingletonFactory.getInstance(MetricsThriftServerSourceFactory.class) instanceof MetricsThriftServerSourceFactoryImpl);
  }
  @Test public void testCreateThriftOneSource(){
    assertSame(new MetricsThriftServerSourceFactoryImpl().createThriftOneSource(),new MetricsThriftServerSourceFactoryImpl().createThriftOneSource());
  }
  @Test public void testCreateThriftTwoSource(){
    assertSame(new MetricsThriftServerSourceFactoryImpl().createThriftTwoSource(),new MetricsThriftServerSourceFactoryImpl().createThriftTwoSource());
  }
}
