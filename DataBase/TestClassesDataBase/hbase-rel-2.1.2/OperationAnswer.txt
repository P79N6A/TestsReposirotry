private static abstract class OperationAnswer implements Answer<Void> {
  private boolean ran=false;
  public void ensureRan(){
    assertTrue("Prepare mocking didn't actually run!",ran);
  }
  @Override public final Void answer(  InvocationOnMock invocation) throws Throwable {
    this.ran=true;
    doWork();
    return null;
  }
  protected abstract void doWork() throws Throwable ;
}
