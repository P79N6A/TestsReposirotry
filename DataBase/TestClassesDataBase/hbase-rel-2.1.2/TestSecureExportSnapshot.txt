/** 
 * Reruns TestExportSnapshot using ExportSnapshot in secure mode.
 */
@Category({VerySlowRegionServerTests.class,LargeTests.class}) public class TestSecureExportSnapshot extends TestExportSnapshot {
  @ClassRule public static final HBaseClassTestRule CLASS_RULE=HBaseClassTestRule.forClass(TestSecureExportSnapshot.class);
  @BeforeClass public static void setUpBeforeClass() throws Exception {
    setUpBaseConf(TEST_UTIL.getConfiguration());
    TEST_UTIL.getDataTestDir();
    UserProvider.setUserProviderForTesting(TEST_UTIL.getConfiguration(),HadoopSecurityEnabledUserProviderForTesting.class);
    SecureTestUtil.enableSecurity(TEST_UTIL.getConfiguration());
    TEST_UTIL.startMiniCluster(1,3);
    TEST_UTIL.startMiniMapReduceCluster();
    TEST_UTIL.waitTableEnabled(AccessControlLists.ACL_TABLE_NAME);
  }
}
