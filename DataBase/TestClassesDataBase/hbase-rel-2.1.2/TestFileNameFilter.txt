/** 
 * Filters both test classes and anything in the hadoop-compat modules 
 */
public static class TestFileNameFilter implements FileNameFilter, ResourcePathFilter {
  private static final Pattern hadoopCompactRe=Pattern.compile("hbase-hadoop\\d?-compat");
  @Override public boolean isCandidateFile(  String fileName,  String absFilePath){
    boolean isTestFile=fileName.startsWith("Test") || fileName.startsWith("IntegrationTest");
    return isTestFile && !hadoopCompactRe.matcher(absFilePath).find();
  }
  @Override public boolean isCandidatePath(  String resourcePath,  boolean isJar){
    return !hadoopCompactRe.matcher(resourcePath).find();
  }
}
