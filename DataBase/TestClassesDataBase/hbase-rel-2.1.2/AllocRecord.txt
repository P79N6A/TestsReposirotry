private static class AllocRecord implements Comparable<AllocRecord> {
  private final ByteBuffer alloc;
  private final int offset;
  private final int size;
  public AllocRecord(  ByteBuffer alloc,  int offset,  int size){
    super();
    this.alloc=alloc;
    this.offset=offset;
    this.size=size;
  }
  @Override public int compareTo(  AllocRecord e){
    if (alloc != e.alloc) {
      throw new RuntimeException("Can only compare within a particular array");
    }
    return Ints.compare(this.offset,e.offset);
  }
  @Override public String toString(){
    return "AllocRecord(offset=" + this.offset + ", size="+ size+ ")";
  }
}
