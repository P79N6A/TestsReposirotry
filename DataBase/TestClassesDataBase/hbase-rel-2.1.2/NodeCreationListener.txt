public static class NodeCreationListener extends ZKListener {
  private static final Logger LOG=LoggerFactory.getLogger(NodeCreationListener.class);
  private Semaphore lock;
  private String node;
  public NodeCreationListener(  ZKWatcher watcher,  String node){
    super(watcher);
    lock=new Semaphore(0);
    this.node=node;
  }
  @Override public void nodeCreated(  String path){
    if (path.equals(node)) {
      LOG.debug("nodeCreated(" + path + ")");
      lock.release();
    }
  }
  public void waitForCreation() throws InterruptedException {
    lock.acquire();
  }
}
