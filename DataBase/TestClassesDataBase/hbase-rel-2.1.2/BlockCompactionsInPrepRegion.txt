/** 
 * An override of HRegion that allows us park compactions in a holding pattern and then when appropriate for the test, allow them proceed again.
 */
public static class BlockCompactionsInPrepRegion extends CompactionBlockerRegion {
  public BlockCompactionsInPrepRegion(  Path tableDir,  WAL log,  FileSystem fs,  Configuration confParam,  RegionInfo info,  TableDescriptor htd,  RegionServerServices rsServices){
    super(tableDir,log,fs,confParam,info,htd,rsServices);
  }
  @Override protected void doRegionCompactionPrep() throws IOException {
    compactionsWaiting.countDown();
    try {
      compactionsBlocked.await();
    }
 catch (    InterruptedException ex) {
      throw new IOException();
    }
    super.doRegionCompactionPrep();
  }
}
