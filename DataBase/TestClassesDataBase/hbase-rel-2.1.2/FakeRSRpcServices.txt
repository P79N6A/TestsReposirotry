public static class FakeRSRpcServices extends RSRpcServices {
  private ExceptionInjector exceptions;
  public FakeRSRpcServices(  HRegionServer rs) throws IOException {
    super(rs);
    exceptions=new RoundRobinExceptionInjector();
  }
  public void setExceptionInjector(  ExceptionInjector injector){
    this.exceptions=injector;
  }
  @Override public GetResponse get(  final RpcController controller,  final ClientProtos.GetRequest request) throws ServiceException {
    exceptions.throwOnGet(this,request);
    return super.get(controller,request);
  }
  @Override public ClientProtos.MutateResponse mutate(  final RpcController controller,  final ClientProtos.MutateRequest request) throws ServiceException {
    exceptions.throwOnMutate(this,request);
    return super.mutate(controller,request);
  }
  @Override public ClientProtos.ScanResponse scan(  final RpcController controller,  final ClientProtos.ScanRequest request) throws ServiceException {
    exceptions.throwOnScan(this,request);
    return super.scan(controller,request);
  }
}
