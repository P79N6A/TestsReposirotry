/** 
 * Test class for  {@link ObservedExceptionsInBatch}.
 */
@Category(SmallTests.class) public class TestObservedExceptionsInBatch {
  @ClassRule public static final HBaseClassTestRule CLASS_RULE=HBaseClassTestRule.forClass(TestObservedExceptionsInBatch.class);
  private ObservedExceptionsInBatch observedExceptions;
  @Before public void setup(){
    observedExceptions=new ObservedExceptionsInBatch();
  }
  @Test public void testNoObservationsOnCreation(){
    assertFalse(observedExceptions.hasSeenFailedSanityCheck());
    assertFalse(observedExceptions.hasSeenNoSuchFamily());
    assertFalse(observedExceptions.hasSeenWrongRegion());
  }
  @Test public void testObservedAfterRecording(){
    observedExceptions.sawFailedSanityCheck();
    assertTrue(observedExceptions.hasSeenFailedSanityCheck());
    observedExceptions.sawNoSuchFamily();
    assertTrue(observedExceptions.hasSeenNoSuchFamily());
    observedExceptions.sawWrongRegion();
    assertTrue(observedExceptions.hasSeenWrongRegion());
  }
}
