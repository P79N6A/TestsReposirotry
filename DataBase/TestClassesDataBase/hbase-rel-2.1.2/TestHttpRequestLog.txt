@Category({MiscTests.class,SmallTests.class}) public class TestHttpRequestLog {
  @ClassRule public static final HBaseClassTestRule CLASS_RULE=HBaseClassTestRule.forClass(TestHttpRequestLog.class);
  @Test public void testAppenderUndefined(){
    RequestLog requestLog=HttpRequestLog.getRequestLog("test");
    assertNull("RequestLog should be null",requestLog);
  }
  @Test public void testAppenderDefined(){
    HttpRequestLogAppender requestLogAppender=new HttpRequestLogAppender();
    requestLogAppender.setName("testrequestlog");
    Logger.getLogger("http.requests.test").addAppender(requestLogAppender);
    RequestLog requestLog=HttpRequestLog.getRequestLog("test");
    Logger.getLogger("http.requests.test").removeAppender(requestLogAppender);
    assertNotNull("RequestLog should not be null",requestLog);
    assertEquals("Class mismatch",NCSARequestLog.class,requestLog.getClass());
  }
}
