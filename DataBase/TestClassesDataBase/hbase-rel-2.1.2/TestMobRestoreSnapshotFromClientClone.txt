@Category({LargeTests.class,ClientTests.class}) public class TestMobRestoreSnapshotFromClientClone extends RestoreSnapshotFromClientCloneTestBase {
  @ClassRule public static final HBaseClassTestRule CLASS_RULE=HBaseClassTestRule.forClass(TestMobRestoreSnapshotFromClientClone.class);
  @BeforeClass public static void setupCluster() throws Exception {
    setupConf(TEST_UTIL.getConfiguration());
    TEST_UTIL.startMiniCluster(3);
  }
  protected static void setupConf(  Configuration conf){
    RestoreSnapshotFromClientTestBase.setupConf(conf);
    TEST_UTIL.getConfiguration().setInt(MobConstants.MOB_FILE_CACHE_SIZE_KEY,0);
  }
  @Override protected void createTable() throws Exception {
    MobSnapshotTestingUtils.createMobTable(TEST_UTIL,tableName,getNumReplicas(),FAMILY);
  }
  @Override protected void verifyRowCount(  HBaseTestingUtility util,  TableName tableName,  long expectedRows) throws IOException {
    MobSnapshotTestingUtils.verifyMobRowCount(util,tableName,expectedRows);
  }
  @Override protected int countRows(  Table table,  byte[]... families) throws IOException {
    return MobSnapshotTestingUtils.countMobRows(table,families);
  }
}
