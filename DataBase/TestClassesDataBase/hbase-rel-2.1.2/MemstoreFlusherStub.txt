private static class MemstoreFlusherStub implements FlushRequester {
  long memstoreSize;
  FlushRequestListener listener;
  FlushType flushType=FlushType.NORMAL;
  public MemstoreFlusherStub(  long memstoreSize){
    this.memstoreSize=memstoreSize;
  }
  @Override public boolean requestFlush(  HRegion region,  boolean forceFlushAllStores,  FlushLifeCycleTracker tracker){
    this.listener.flushRequested(flushType,region);
    return true;
  }
  @Override public boolean requestDelayedFlush(  HRegion region,  long delay,  boolean forceFlushAllStores){
    return true;
  }
  @Override public void registerFlushRequestListener(  FlushRequestListener listener){
    this.listener=listener;
  }
  @Override public boolean unregisterFlushRequestListener(  FlushRequestListener listener){
    return false;
  }
  @Override public void setGlobalMemStoreLimit(  long globalMemStoreSize){
    this.memstoreSize=globalMemStoreSize;
  }
}
