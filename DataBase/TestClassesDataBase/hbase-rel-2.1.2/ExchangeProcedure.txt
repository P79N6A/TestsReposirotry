public static final class ExchangeProcedure extends ProcedureTestingUtility.NoopProcedure<Void> {
  private final Exchanger<Boolean> exchanger=new Exchanger<>();
  @SuppressWarnings("unchecked") @Override protected Procedure<Void>[] execute(  Void env) throws ProcedureYieldException, ProcedureSuspendedException, InterruptedException {
    if (exchanger.exchange(Boolean.TRUE)) {
      return new Procedure[]{this};
    }
 else {
      return null;
    }
  }
}
