/** 
 * Custom HRegionServer instance that instantiates  {@link HeartbeatRPCServices} in place of{@link RSRpcServices} to allow us to toggle support for heartbeat messages
 */
private static class HeartbeatHRegionServer extends HRegionServer {
  public HeartbeatHRegionServer(  Configuration conf) throws IOException, InterruptedException {
    super(conf);
  }
  @Override protected RSRpcServices createRpcServices() throws IOException {
    return new HeartbeatRPCServices(this);
  }
}
