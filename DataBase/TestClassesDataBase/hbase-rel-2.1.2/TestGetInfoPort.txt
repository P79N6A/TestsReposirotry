/** 
 * Trivial test to confirm that we do not get 0 infoPort. See HBASE-12863.
 */
@Category({MasterTests.class,MediumTests.class}) public class TestGetInfoPort {
  @ClassRule public static final HBaseClassTestRule CLASS_RULE=HBaseClassTestRule.forClass(TestGetInfoPort.class);
  private final HBaseTestingUtility testUtil=new HBaseTestingUtility();
  @Before public void setUp() throws Exception {
    testUtil.getConfiguration().setInt(HConstants.MASTER_INFO_PORT,0);
    testUtil.startMiniCluster(1,1);
  }
  @After public void tearDown() throws Exception {
    testUtil.shutdownMiniCluster();
  }
  @Test public void test(){
    assertTrue(testUtil.getMiniHBaseCluster().getRegionServer(0).getMasterAddressTracker().getMasterInfoPort() > 0);
  }
}
