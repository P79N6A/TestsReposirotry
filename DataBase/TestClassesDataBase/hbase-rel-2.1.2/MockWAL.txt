static class MockWAL extends FSHLog {
  boolean doCompleteCacheFlush=false;
  public MockWAL(  FileSystem fs,  Path rootDir,  String logName,  Configuration conf) throws IOException {
    super(fs,rootDir,logName,HConstants.HREGION_OLDLOGDIR_NAME,conf,null,true,null,null);
  }
  @Override public void completeCacheFlush(  byte[] encodedRegionName){
    if (!doCompleteCacheFlush) {
      return;
    }
    super.completeCacheFlush(encodedRegionName);
  }
}
