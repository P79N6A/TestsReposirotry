public static class CPRegionServerObserver implements RegionServerCoprocessor, RegionServerObserver {
  private volatile boolean shouldFailMerge=false;
  public void failMerge(  boolean fail){
    shouldFailMerge=fail;
  }
  private boolean triggered=false;
  public synchronized void waitUtilTriggered() throws InterruptedException {
    while (!triggered) {
      wait();
    }
  }
  @Override public Optional<RegionServerObserver> getRegionServerObserver(){
    return Optional.of(this);
  }
}
