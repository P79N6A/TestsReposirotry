/** 
 * Test class for  {@link Gauge}.
 */
@Category(SmallTests.class) public class TestGauge {
  @ClassRule public static final HBaseClassTestRule CLASS_RULE=HBaseClassTestRule.forClass(TestGauge.class);
  @Test public void testGetValue(){
    SimpleGauge gauge=new SimpleGauge();
    assertEquals(0,(long)gauge.getValue());
    gauge.setValue(1000L);
    assertEquals(1000L,(long)gauge.getValue());
  }
  /** 
 * Gauge implementation with a setter.
 */
private static class SimpleGauge implements Gauge<Long> {
    private final AtomicLong value=new AtomicLong(0L);
    @Override public Long getValue(){
      return this.value.get();
    }
    public void setValue(    long value){
      this.value.set(value);
    }
  }
}
