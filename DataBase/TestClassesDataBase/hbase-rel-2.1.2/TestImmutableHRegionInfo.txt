/** 
 * Test ImmutableHRegionInfo
 */
@Category({ClientTests.class,SmallTests.class}) public class TestImmutableHRegionInfo {
  @ClassRule public static final HBaseClassTestRule CLASS_RULE=HBaseClassTestRule.forClass(TestImmutableHRegionInfo.class);
  @Rule public TestName name=new TestName();
  private final List<Consumer<ImmutableHRegionInfo>> TEST_FUNCTIONS=Arrays.asList(hri -> hri.setOffline(true),hri -> hri.setSplit(true));
  @Test public void testImmutable(){
    HRegionInfo hri=new HRegionInfo(TableName.valueOf(name.getMethodName()));
    ImmutableHRegionInfo immutableHri=new ImmutableHRegionInfo(hri);
    TEST_FUNCTIONS.forEach(f -> {
      try {
        f.accept(immutableHri);
        fail("ImmutableHRegionInfo can't be modified !!!");
      }
 catch (      UnsupportedOperationException e) {
      }
    }
);
  }
}
