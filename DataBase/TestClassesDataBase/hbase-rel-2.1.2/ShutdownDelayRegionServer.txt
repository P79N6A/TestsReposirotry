/** 
 * Regionserver implementation that adds a delay on the graceful shutdown.
 */
public static class ShutdownDelayRegionServer extends HRegionServer {
  public ShutdownDelayRegionServer(  Configuration conf) throws IOException, InterruptedException {
    super(conf);
  }
  @Override protected void stopServiceThreads(){
    LOG.info("Adding a delay to the regionserver shutdown");
    try {
      Thread.sleep(2000);
    }
 catch (    InterruptedException ex) {
      LOG.error("Interrupted while sleeping");
    }
    super.stopServiceThreads();
  }
}
