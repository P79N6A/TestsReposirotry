/** 
 * An Answer implementation which verifies the sum of the Region sizes to report is as expected.
 */
private static class ExpectedRegionSizeSummationAnswer implements Answer<Void> {
  private final long expectedSize;
  public ExpectedRegionSizeSummationAnswer(  long expectedSize){
    this.expectedSize=expectedSize;
  }
  @Override public Void answer(  InvocationOnMock invocation) throws Throwable {
    Object[] args=invocation.getArguments();
    assertEquals(1,args.length);
    @SuppressWarnings("unchecked") Map<RegionInfo,Long> regionSizes=(Map<RegionInfo,Long>)args[0];
    long sum=0L;
    for (    Long regionSize : regionSizes.values()) {
      sum+=regionSize;
    }
    assertEquals(expectedSize,sum);
    return null;
  }
}
