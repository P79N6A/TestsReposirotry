public static class FailingSplitMasterObserver implements MasterCoprocessor, MasterObserver {
  volatile CountDownLatch latch;
  @Override public void start(  CoprocessorEnvironment e) throws IOException {
    latch=new CountDownLatch(1);
  }
  @Override public Optional<MasterObserver> getMasterObserver(){
    return Optional.of(this);
  }
  @Override public void preSplitRegionBeforeMETAAction(  final ObserverContext<MasterCoprocessorEnvironment> ctx,  final byte[] splitKey,  final List<Mutation> metaEntries) throws IOException {
    latch.countDown();
    throw new IOException("Causing rollback of region split");
  }
}
