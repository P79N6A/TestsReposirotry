/** 
 * Test Export Snapshot Tool
 */
@Category({VerySlowRegionServerTests.class,LargeTests.class}) public class TestMobExportSnapshot extends TestExportSnapshot {
  @ClassRule public static final HBaseClassTestRule CLASS_RULE=HBaseClassTestRule.forClass(TestMobExportSnapshot.class);
  public static void setUpBaseConf(  Configuration conf){
    TestExportSnapshot.setUpBaseConf(conf);
    conf.setInt(MobConstants.MOB_FILE_CACHE_SIZE_KEY,0);
  }
  @BeforeClass public static void setUpBeforeClass() throws Exception {
    setUpBaseConf(TEST_UTIL.getConfiguration());
    TEST_UTIL.startMiniCluster(1,3);
    TEST_UTIL.startMiniMapReduceCluster();
  }
  @Override protected void createTable() throws Exception {
    MobSnapshotTestingUtils.createPreSplitMobTable(TEST_UTIL,tableName,2,FAMILY);
  }
  @Override protected RegionPredicate getBypassRegionPredicate(){
    return new RegionPredicate(){
      @Override public boolean evaluate(      final RegionInfo regionInfo){
        return MobUtils.isMobRegionInfo(regionInfo);
      }
    }
;
  }
}
