/** 
 * Test webapp loading
 */
@Category({MiscTests.class,SmallTests.class}) public class TestHttpServerWebapps extends HttpServerFunctionalTest {
  @ClassRule public static final HBaseClassTestRule CLASS_RULE=HBaseClassTestRule.forClass(TestHttpServerWebapps.class);
  private static final Logger log=LoggerFactory.getLogger(TestHttpServerWebapps.class);
  /** 
 * Test that the test server is loadable on the classpath
 * @throws Throwable if something went wrong
 */
  @Test public void testValidServerResource() throws Throwable {
    HttpServer server=null;
    try {
      server=createServer("test");
    }
  finally {
      stop(server);
    }
  }
  /** 
 * Test that an invalid webapp triggers an exception
 * @throws Throwable if something went wrong
 */
  @Test public void testMissingServerResource() throws Throwable {
    try {
      HttpServer server=createServer("NoSuchWebapp");
      String serverDescription=server.toString();
      stop(server);
      fail("Expected an exception, got " + serverDescription);
    }
 catch (    FileNotFoundException expected) {
      log.debug("Expected exception " + expected,expected);
    }
  }
}
