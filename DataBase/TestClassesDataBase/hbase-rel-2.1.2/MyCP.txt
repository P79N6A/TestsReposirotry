public static final class MyCP implements RegionObserver, RegionCoprocessor {
  @Override public Optional<RegionObserver> getRegionObserver(){
    return Optional.of(this);
  }
  @Override public void preGetOp(  ObserverContext<RegionCoprocessorEnvironment> c,  Get get,  List<Cell> result) throws IOException {
    if (FAIL && c.getEnvironment().getRegionInfo().isMetaRegion()) {
      throw new IOException("Inject error");
    }
  }
  @Override public void prePut(  ObserverContext<RegionCoprocessorEnvironment> c,  Put put,  WALEdit edit,  Durability durability) throws IOException {
    if (FAIL && c.getEnvironment().getRegionInfo().isMetaRegion()) {
      throw new IOException("Inject error");
    }
  }
}
