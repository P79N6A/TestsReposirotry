public static class SpyingRpcScheduler extends DelegatingRpcScheduler {
  long numPriorityCalls=0;
  public SpyingRpcScheduler(  RpcScheduler delegate){
    super(delegate);
  }
  @Override public boolean dispatch(  CallRunner task) throws IOException, InterruptedException {
    int priority=task.getRpcCall().getPriority();
    if (priority > HConstants.QOS_THRESHOLD) {
      numPriorityCalls++;
    }
    return super.dispatch(task);
  }
}
