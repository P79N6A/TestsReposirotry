public static class TestEndpoint extends HBaseInterClusterReplicationEndpoint {
  private final static BlockingQueue<Entry> entryQueue=new LinkedBlockingQueue<>();
  public static void reset(){
    entryQueue.clear();
  }
  public static List<Entry> getEntries(){
    return new ArrayList<>(entryQueue);
  }
  @Override public boolean canReplicateToSameCluster(){
    return true;
  }
  @Override protected Callable<Integer> createReplicator(  List<Entry> entries,  int ordinal){
    return () -> {
      entryQueue.addAll(entries);
      return ordinal;
    }
;
  }
  @Override public synchronized List<ServerName> getRegionServers(){
    return new ArrayList<>(ImmutableList.of(ServerName.valueOf("www.example.com",12016,1525245876026L),ServerName.valueOf("www.example2.com",12016,1525245876026L),ServerName.valueOf("www.example3.com",12016,1525245876026L),ServerName.valueOf("www.example4.com",12016,1525245876026L),ServerName.valueOf("www.example4.com",12016,1525245876026L)));
  }
}
