/** 
 * Test class for  {@link MetricRegistriesLoader}.
 */
@Category(SmallTests.class) public class TestMetricRegistriesLoader {
  @ClassRule public static final HBaseClassTestRule CLASS_RULE=HBaseClassTestRule.forClass(TestMetricRegistriesLoader.class);
  @Test public void testLoadSinleInstance(){
    MetricRegistries loader=mock(MetricRegistries.class);
    MetricRegistries instance=MetricRegistriesLoader.load(Lists.newArrayList(loader));
    assertEquals(loader,instance);
  }
  @Test public void testLoadMultipleInstances(){
    MetricRegistries loader1=mock(MetricRegistries.class);
    MetricRegistries loader2=mock(MetricRegistries.class);
    MetricRegistries loader3=mock(MetricRegistries.class);
    MetricRegistries instance=MetricRegistriesLoader.load(Lists.newArrayList(loader1,loader2,loader3));
    assertEquals(loader1,instance);
    assertNotEquals(loader2,instance);
    assertNotEquals(loader3,instance);
  }
}
