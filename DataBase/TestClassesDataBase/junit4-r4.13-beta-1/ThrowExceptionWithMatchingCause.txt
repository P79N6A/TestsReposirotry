public static class ThrowExceptionWithMatchingCause {
  @Rule public ExpectedException thrown=none();
  @Test public void throwExceptionWithMatchingCause(){
    NullPointerException expectedCause=new NullPointerException("expected cause");
    thrown.expect(IllegalArgumentException.class);
    thrown.expectMessage("Ack!");
    thrown.expectCause(is(expectedCause));
    throw new IllegalArgumentException("Ack!",expectedCause);
  }
}
