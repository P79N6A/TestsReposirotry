public static class TestFailsAndTwoClosingResourcesFail {
  @Rule public ExternalResource resourceRule1=new ExternalResource(){
    @Override protected void after(){
      throw new RuntimeException("simulating resource1 tear down failure");
    }
  }
;
  @Rule public ExternalResource resourceRule2=new ExternalResource(){
    @Override protected void after(){
      throw new RuntimeException("simulating resource2 tear down failure");
    }
  }
;
  @Test public void failingTest(){
    throw new RuntimeException("simulated test failure");
  }
}
