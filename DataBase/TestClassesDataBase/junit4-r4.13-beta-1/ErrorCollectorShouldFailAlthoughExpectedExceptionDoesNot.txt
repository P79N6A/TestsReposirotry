public static class ErrorCollectorShouldFailAlthoughExpectedExceptionDoesNot {
  @Rule public ErrorCollector collector=new ErrorCollector();
  @Rule(order=Integer.MAX_VALUE) public ExpectedException thrown=ExpectedException.none();
  @Test public void test(){
    collector.addError(new AssertionError(ARBITRARY_MESSAGE));
    thrown.expect(Exception.class);
    throw new RuntimeException();
  }
}
