public static class TestClassRunnerIsOrderableViaOrderWith {
  private static String log="";
public static class Unordered {
    @Test public void a(){
      log+="a";
    }
    @Test public void b(){
      log+="b";
    }
    @Test public void c(){
      log+="c";
    }
  }
@OrderWith(AlphanumericOrdering.class) public static class OrderedAlphanumerically extends Unordered {
  }
@OrderWith(ReverseAlphanumericOrdering.class) public static class OrderedReverseAlphanumerically extends Unordered {
  }
  @Before public void resetLog(){
    log="";
  }
  @Test public void orderingForwardWorksOnTestClassRunner(){
    Request forward=Request.aClass(OrderedAlphanumerically.class);
    new JUnitCore().run(forward);
    assertEquals("abc",log);
  }
  @Test public void orderingBackwardWorksOnTestClassRunner(){
    Request backward=Request.aClass(OrderedReverseAlphanumerically.class);
    new JUnitCore().run(backward);
    assertEquals("cba",log);
  }
@RunWith(Enclosed.class) public static class UnorderedSuite {
public static class A {
      @Test public void a(){
        log+="Aa";
      }
      @Test public void b(){
        log+="Ab";
      }
      @Test public void c(){
        log+="Ac";
      }
    }
public static class B {
      @Test public void a(){
        log+="Ba";
      }
      @Test public void b(){
        log+="Bb";
      }
      @Test public void c(){
        log+="Bc";
      }
    }
  }
@OrderWith(AlphanumericOrdering.class) public static class SuiteOrderedAlphanumerically extends UnorderedSuite {
  }
@OrderWith(ReverseAlphanumericOrdering.class) public static class SuiteOrderedReverseAlphanumerically extends UnorderedSuite {
  }
  @Test public void orderingForwardWorksOnSuite(){
    Request forward=Request.aClass(SuiteOrderedAlphanumerically.class);
    new JUnitCore().run(forward);
    assertEquals("AaAbAcBaBbBc",log);
  }
  @Test public void orderingBackwardWorksOnSuite(){
    Request backward=Request.aClass(SuiteOrderedReverseAlphanumerically.class);
    new JUnitCore().run(backward);
    assertEquals("BcBbBaAcAbAa",log);
  }
}
