private class ExpectedExceptionStatement extends Statement {
  private final Statement next;
  public ExpectedExceptionStatement(  Statement base){
    next=base;
  }
  @Override public void evaluate() throws Throwable {
    try {
      next.evaluate();
    }
 catch (    Throwable e) {
      handleException(e);
      return;
    }
    if (isAnyExceptionExpected()) {
      failDueToMissingException();
    }
  }
}
