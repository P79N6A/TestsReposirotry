public static class CallMethodOnlyOnceRule {
  int countOfMethodCalls=0;
private static class Dummy implements TestRule {
    public Statement apply(    final Statement base,    Description description){
      return new Statement(){
        @Override public void evaluate() throws Throwable {
          base.evaluate();
        }
      }
;
    }
  }
  @Rule public Dummy both(){
    countOfMethodCalls++;
    return new Dummy();
  }
  @Test public void onlyOnce(){
    assertEquals(1,countOfMethodCalls);
  }
}
