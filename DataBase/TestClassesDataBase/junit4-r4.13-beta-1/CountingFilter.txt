private static class CountingFilter extends Filter {
  private final Map<Description,Integer> countMap=new HashMap<Description,Integer>();
  @Override public boolean shouldRun(  Description description){
    Integer count=countMap.get(description);
    if (count == null) {
      countMap.put(description,1);
    }
 else {
      countMap.put(description,count + 1);
    }
    return true;
  }
  @Override public String describe(){
    return "filter counter";
  }
  public int getCount(  final Description desc){
    if (!countMap.containsKey(desc)) {
      throw new IllegalArgumentException("Looking for " + desc + ", but only contains: "+ countMap.keySet());
    }
    return countMap.get(desc);
  }
}
