public class SampleSolrApplicationTests {
  @Rule public OutputCapture outputCapture=new OutputCapture();
  @Test public void testDefaultSettings() throws Exception {
    try {
      SampleSolrApplication.main(new String[0]);
    }
 catch (    IllegalStateException ex) {
      if (serverNotRunning(ex)) {
        return;
      }
    }
    String output=this.outputCapture.toString();
    assertThat(output).contains("name=Sony Playstation");
  }
  @SuppressWarnings("serial") private boolean serverNotRunning(  IllegalStateException ex){
    NestedCheckedException nested=new NestedCheckedException("failed",ex){
    }
;
    Throwable root=nested.getRootCause();
    if (root.getMessage().contains("Connection refused")) {
      return true;
    }
    return false;
  }
}
