@Configuration protected static class CustomAutowiredRegistration {
  @Bean public ServletRegistrationBean<?> dispatcherServletRegistration(  DispatcherServlet dispatcherServlet){
    ServletRegistrationBean<DispatcherServlet> registration=new ServletRegistrationBean<>(dispatcherServlet,"/foo");
    registration.setName("customDispatcher");
    return registration;
  }
  @Bean public DispatcherServletPath dispatcherServletPath(){
    return mock(DispatcherServletPath.class);
  }
}
