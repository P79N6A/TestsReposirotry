/** 
 * Tests for  {@link RestClientTest} with no specific client.
 * @author Phillip Webb
 */
@RunWith(SpringRunner.class) @RestClientTest public class RestClientTestNoComponentIntegrationTests {
  @Autowired private ApplicationContext applicationContext;
  @Autowired private RestTemplateBuilder restTemplateBuilder;
  @Autowired private MockRestServiceServer server;
  @Test(expected=NoSuchBeanDefinitionException.class) public void exampleRestClientIsNotInjected(){
    this.applicationContext.getBean(ExampleRestClient.class);
  }
  @Test public void manuallyCreateBean(){
    ExampleRestClient client=new ExampleRestClient(this.restTemplateBuilder);
    this.server.expect(requestTo("/test")).andRespond(withSuccess("hello",MediaType.TEXT_HTML));
    assertThat(client.test()).isEqualTo("hello");
  }
}
