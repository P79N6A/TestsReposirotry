/** 
 * Tests for generating documentation describing the  {@link IntegrationGraphEndpoint}.
 * @author Tim Ysewyn
 */
public class IntegrationGraphEndpointDocumentationTests extends MockMvcEndpointDocumentationTests {
  @Test public void graph() throws Exception {
    this.mockMvc.perform(get("/actuator/integrationgraph")).andExpect(status().isOk()).andDo(MockMvcRestDocumentation.document("integrationgraph/graph"));
  }
  @Test public void rebuild() throws Exception {
    this.mockMvc.perform(post("/actuator/integrationgraph")).andExpect(status().isNoContent()).andDo(MockMvcRestDocumentation.document("integrationgraph/rebuild"));
  }
@Configuration @EnableIntegration @Import(BaseDocumentationConfiguration.class) static class TestConfiguration {
    @Bean public IntegrationGraphServer integrationGraphServer(){
      return new IntegrationGraphServer();
    }
    @Bean public IntegrationGraphEndpoint endpoint(){
      return new IntegrationGraphEndpoint(integrationGraphServer());
    }
  }
}
