@Configuration static class DirtyWebServiceTemplateConfig {
  @Bean public WebServiceTemplate webServiceTemplateOne(  WebServiceTemplateBuilder builder){
    try {
      return builder.build();
    }
  finally {
      breakBuilderOnNextCall(builder);
    }
  }
  @Bean public WebServiceTemplate webServiceTemplateTwo(  WebServiceTemplateBuilder builder){
    try {
      return builder.build();
    }
  finally {
      breakBuilderOnNextCall(builder);
    }
  }
  private void breakBuilderOnNextCall(  WebServiceTemplateBuilder builder){
    builder.additionalCustomizers((webServiceTemplate) -> {
      throw new IllegalStateException();
    }
);
  }
}
