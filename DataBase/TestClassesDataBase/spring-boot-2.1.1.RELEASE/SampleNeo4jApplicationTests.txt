/** 
 * Tests for  {@link SampleNeo4jApplication}.
 * @author Stephane Nicoll
 */
public class SampleNeo4jApplicationTests {
  @Rule public OutputCapture outputCapture=new OutputCapture();
  @Test public void testDefaultSettings(){
    try {
      SampleNeo4jApplication.main(new String[0]);
    }
 catch (    Exception ex) {
      if (!neo4jServerRunning(ex)) {
        return;
      }
    }
    String output=this.outputCapture.toString();
    assertThat(output).contains("firstName='Alice', lastName='Smith'");
  }
  private boolean neo4jServerRunning(  Throwable ex){
    if (ex instanceof ServiceUnavailableException) {
      return false;
    }
    return (ex.getCause() == null || neo4jServerRunning(ex.getCause()));
  }
}
