/** 
 * Tests for  {@link IntegrationGraphEndpoint}.
 * @author Tim Ysewyn
 */
public class IntegrationGraphEndpointTests {
  @Mock private IntegrationGraphServer integrationGraphServer;
  @InjectMocks private IntegrationGraphEndpoint integrationGraphEndpoint;
  @Before public void setUp(){
    MockitoAnnotations.initMocks(this);
  }
  @Test public void readOperationShouldReturnGraph(){
    Graph mockedGraph=mock(Graph.class);
    given(this.integrationGraphServer.getGraph()).willReturn(mockedGraph);
    Graph graph=this.integrationGraphEndpoint.graph();
    verify(this.integrationGraphServer).getGraph();
    assertThat(graph).isEqualTo(mockedGraph);
  }
  @Test public void writeOperationShouldRebuildGraph(){
    this.integrationGraphEndpoint.rebuild();
    verify(this.integrationGraphServer).rebuild();
  }
}
