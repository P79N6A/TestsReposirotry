/** 
 * Test  {@link MockBean} on a field on a {@code @Configuration} class can be used toinject new mock instances.
 * @author Phillip Webb
 */
@RunWith(SpringRunner.class) public class MockBeanOnConfigurationFieldForNewBeanIntegrationTests {
  @Autowired private Config config;
  @Autowired private ExampleServiceCaller caller;
  @Test public void testMocking(){
    given(this.config.exampleService.greeting()).willReturn("Boot");
    assertThat(this.caller.sayGreeting()).isEqualTo("I say Boot");
  }
@Configuration @Import(ExampleServiceCaller.class) static class Config {
    @MockBean private ExampleService exampleService;
  }
}
