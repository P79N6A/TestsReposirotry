/** 
 * Tests for  {@link OriginTrackedMapPropertySource}.
 * @author Madhura Bhave
 * @author Phillip Webb
 */
public class OriginTrackedMapPropertySourceTests {
  private Map<String,Object> map=new LinkedHashMap<>();
  private OriginTrackedMapPropertySource source=new OriginTrackedMapPropertySource("test",this.map);
  private Origin origin=mock(Origin.class);
  @Test public void getPropertyWhenMissingShouldReturnNull(){
    assertThat(this.source.getProperty("test")).isNull();
  }
  @Test public void getPropertyWhenNonTrackedShouldReturnValue(){
    this.map.put("test","foo");
    assertThat(this.source.getProperty("test")).isEqualTo("foo");
  }
  @Test public void getPropertyWhenTrackedShouldReturnValue(){
    this.map.put("test",OriginTrackedValue.of("foo",this.origin));
    assertThat(this.source.getProperty("test")).isEqualTo("foo");
  }
  @Test public void getPropertyOriginWhenMissingShouldReturnNull(){
    assertThat(this.source.getOrigin("test")).isNull();
  }
  @Test public void getPropertyOriginWhenNonTrackedShouldReturnNull(){
    this.map.put("test","foo");
    assertThat(this.source.getOrigin("test")).isNull();
  }
  @Test public void getPropertyOriginWhenTrackedShouldReturnOrigin(){
    this.map.put("test",OriginTrackedValue.of("foo",this.origin));
    assertThat(this.source.getOrigin("test")).isEqualTo(this.origin);
  }
}
