protected static class TomcatDataSourceSerializer extends JsonSerializer<DataSource> {
  private ConversionService conversionService=new DefaultConversionService();
  @Override public void serialize(  DataSource value,  JsonGenerator jgen,  SerializerProvider provider) throws IOException {
    jgen.writeStartObject();
    for (    PropertyDescriptor property : BeanUtils.getPropertyDescriptors(DataSource.class)) {
      Method reader=property.getReadMethod();
      if (reader != null && property.getWriteMethod() != null && this.conversionService.canConvert(String.class,property.getPropertyType())) {
        jgen.writeObjectField(property.getName(),ReflectionUtils.invokeMethod(reader,value));
      }
    }
    jgen.writeEndObject();
  }
}
