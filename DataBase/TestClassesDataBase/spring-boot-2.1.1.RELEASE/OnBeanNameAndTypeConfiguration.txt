@Configuration @ConditionalOnMissingBean(name="foo",value=Date.class) @ConditionalOnBean(name="foo",value=Date.class) protected static class OnBeanNameAndTypeConfiguration {
  @Bean public String bar(){
    return "bar";
  }
}
