/** 
 * Test  {@link SpyBean} on a test class field can be used to inject a spy instance whenthere are multiple candidates and one is chosen using the name attribute.
 * @author Phillip Webb
 * @author Andy Wilkinson
 */
@RunWith(SpringRunner.class) public class SpyBeanWithNameOnTestFieldForMultipleExistingBeansTests {
  @SpyBean(name="two") private SimpleExampleStringGenericService spy;
  @Test public void testSpying(){
    MockingDetails mockingDetails=Mockito.mockingDetails(this.spy);
    assertThat(mockingDetails.isSpy()).isTrue();
    assertThat(mockingDetails.getMockCreationSettings().getMockName().toString()).isEqualTo("two");
  }
@Configuration static class Config {
    @Bean public SimpleExampleStringGenericService one(){
      return new SimpleExampleStringGenericService("one");
    }
    @Bean public SimpleExampleStringGenericService two(){
      return new SimpleExampleStringGenericService("two");
    }
  }
}
