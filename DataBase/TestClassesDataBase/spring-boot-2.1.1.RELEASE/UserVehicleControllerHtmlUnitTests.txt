/** 
 * HtmlUnit based tests for  {@link UserVehicleController}.
 * @author Phillip Webb
 */
@RunWith(SpringRunner.class) @WebMvcTest(UserVehicleController.class) public class UserVehicleControllerHtmlUnitTests {
  @Autowired private WebClient webClient;
  @MockBean private UserVehicleService userVehicleService;
  @Test public void getVehicleWhenRequestingTextShouldReturnMakeAndModel() throws Exception {
    given(this.userVehicleService.getVehicleDetails("sboot")).willReturn(new VehicleDetails("Honda","Civic"));
    HtmlPage page=this.webClient.getPage("/sboot/vehicle.html");
    assertThat(page.getBody().getTextContent()).isEqualTo("Honda Civic");
  }
}
