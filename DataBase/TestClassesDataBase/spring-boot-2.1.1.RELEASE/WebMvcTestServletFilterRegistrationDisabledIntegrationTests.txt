/** 
 * Tests for  {@link WebMvcTest} with a disabled filter registration.
 * @author Andy Wilkinson
 */
@RunWith(SpringRunner.class) @WebMvcTest public class WebMvcTestServletFilterRegistrationDisabledIntegrationTests {
  @Autowired private MockMvc mvc;
  @Test public void shouldNotApplyFilter() throws Exception {
    this.mvc.perform(get("/one")).andExpect(header().string("x-test",(String)null));
  }
@TestConfiguration static class DisabledRegistrationConfiguration {
    @Bean public FilterRegistrationBean<ExampleFilter> exampleFilterRegistration(    ExampleFilter filter){
      FilterRegistrationBean<ExampleFilter> registration=new FilterRegistrationBean<>(filter);
      registration.setEnabled(false);
      return registration;
    }
  }
}
