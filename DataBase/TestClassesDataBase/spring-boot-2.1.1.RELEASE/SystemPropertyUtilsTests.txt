/** 
 * Tests for  {@link SystemPropertyUtils}.
 * @author Dave Syer
 */
public class SystemPropertyUtilsTests {
  @BeforeClass public static void init(){
    System.setProperty("foo","bar");
  }
  @AfterClass public static void close(){
    System.clearProperty("foo");
  }
  @Test public void testVanillaPlaceholder(){
    assertThat(SystemPropertyUtils.resolvePlaceholders("${foo}")).isEqualTo("bar");
  }
  @Test public void testDefaultValue(){
    assertThat(SystemPropertyUtils.resolvePlaceholders("${bar:foo}")).isEqualTo("foo");
  }
  @Test public void testNestedPlaceholder(){
    assertThat(SystemPropertyUtils.resolvePlaceholders("${bar:${spam:foo}}")).isEqualTo("foo");
  }
  @Test public void testEnvVar(){
    assertThat(SystemPropertyUtils.getProperty("lang")).isEqualTo(System.getenv("LANG"));
  }
}
