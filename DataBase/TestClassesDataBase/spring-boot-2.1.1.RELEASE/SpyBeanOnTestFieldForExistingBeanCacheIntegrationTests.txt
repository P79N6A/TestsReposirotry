/** 
 * Test  {@link SpyBean} on a test class field can be used to replace existing beans whenthe context is cached. This test is identical to {@link SpyBeanOnTestFieldForExistingBeanIntegrationTests} so one of them should triggerapplication context caching.
 * @author Phillip Webb
 * @see SpyBeanOnTestFieldForExistingBeanIntegrationTests
 */
@RunWith(SpringRunner.class) @ContextConfiguration(classes=SpyBeanOnTestFieldForExistingBeanConfig.class) public class SpyBeanOnTestFieldForExistingBeanCacheIntegrationTests {
  @SpyBean private ExampleService exampleService;
  @Autowired private ExampleServiceCaller caller;
  @Test public void testSpying(){
    assertThat(this.caller.sayGreeting()).isEqualTo("I say simple");
    verify(this.caller.getService()).greeting();
  }
}
