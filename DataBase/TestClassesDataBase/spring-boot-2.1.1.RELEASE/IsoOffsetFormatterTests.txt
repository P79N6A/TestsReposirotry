/** 
 * Tests for  {@link IsoOffsetFormatter}.
 * @author Phillip Webb
 */
@RunWith(Parameterized.class) public class IsoOffsetFormatterTests {
  private final ConversionService conversionService;
  public IsoOffsetFormatterTests(  String name,  ConversionService conversionService){
    this.conversionService=conversionService;
  }
  @Test public void convertShouldConvertStringToIsoDate(){
    OffsetDateTime now=OffsetDateTime.now();
    OffsetDateTime converted=this.conversionService.convert(DateTimeFormatter.ISO_OFFSET_DATE_TIME.format(now),OffsetDateTime.class);
    assertThat(converted).isEqualTo(now);
  }
  @Test public void convertShouldConvertIsoDateToString(){
    OffsetDateTime now=OffsetDateTime.now();
    String converted=this.conversionService.convert(now,String.class);
    assertThat(converted).isNotNull().startsWith(now.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME));
  }
  @Parameters(name="{0}") public static Iterable<Object[]> conversionServices(){
    return new ConversionServiceParameters(new IsoOffsetFormatter());
  }
}
