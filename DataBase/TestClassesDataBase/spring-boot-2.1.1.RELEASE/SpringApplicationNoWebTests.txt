/** 
 * Tests for  {@link SpringApplication} when spring web is not on the classpath.
 * @author Stephane Nicoll
 */
@RunWith(ModifiedClassPathRunner.class) @ClassPathExclusions("spring-web*.jar") public class SpringApplicationNoWebTests {
  private ConfigurableApplicationContext context;
  @After public void cleanUp(){
    if (this.context != null) {
      this.context.close();
    }
  }
  @Test public void detectWebApplicationTypeToNone(){
    SpringApplication application=new SpringApplication(ExampleConfig.class);
    assertThat(application.getWebApplicationType()).isEqualTo(WebApplicationType.NONE);
  }
  @Test public void specificApplicationContextClass(){
    SpringApplication application=new SpringApplication(ExampleConfig.class);
    application.setApplicationContextClass(StaticApplicationContext.class);
    this.context=application.run();
    assertThat(this.context).isInstanceOf(StaticApplicationContext.class);
  }
@Configuration static class ExampleConfig {
  }
}
