private static class MockableOnJndi extends OnJndiCondition {
  private boolean jndiAvailable=true;
  private String foundLocation;
  @Override protected boolean isJndiAvailable(){
    return this.jndiAvailable;
  }
  @Override protected JndiLocator getJndiLocator(  String[] locations){
    return new JndiLocator(locations){
      @Override public String lookupFirstLocation(){
        return MockableOnJndi.this.foundLocation;
      }
    }
;
  }
  public void setFoundLocation(  String foundLocation){
    this.foundLocation=foundLocation;
  }
}
