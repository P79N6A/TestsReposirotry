/** 
 * Tests for  {@link OnBootstrapHostsCondition}.
 * @author Stephane Nicoll
 */
public class OnBootstrapHostsConditionTests {
  private final ApplicationContextRunner contextRunner=new ApplicationContextRunner().withUserConfiguration(TestConfig.class);
  @Test public void bootstrapHostsNotDefined(){
    this.contextRunner.run((context) -> assertThat(context).doesNotHaveBean("foo"));
  }
  @Test public void bootstrapHostsDefinedAsCommaSeparated(){
    this.contextRunner.withPropertyValues("spring.couchbase.bootstrap-hosts=value1").run((context) -> assertThat(context).hasBean("foo"));
  }
  @Test public void bootstrapHostsDefinedAsList(){
    this.contextRunner.withPropertyValues("spring.couchbase.bootstrap-hosts[0]=value1").run((context) -> assertThat(context).hasBean("foo"));
  }
@Configuration @Conditional(OnBootstrapHostsCondition.class) protected static class TestConfig {
    @Bean public String foo(){
      return "foo";
    }
  }
}
