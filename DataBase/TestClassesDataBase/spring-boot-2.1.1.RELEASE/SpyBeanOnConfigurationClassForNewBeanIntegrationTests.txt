/** 
 * Test  {@link SpyBean} on a configuration class can be used to inject new spy instances.
 * @author Phillip Webb
 */
@RunWith(SpringRunner.class) public class SpyBeanOnConfigurationClassForNewBeanIntegrationTests {
  @Autowired private ExampleServiceCaller caller;
  @Test public void testSpying(){
    assertThat(this.caller.sayGreeting()).isEqualTo("I say simple");
    verify(this.caller.getService()).greeting();
  }
@Configuration @SpyBean(SimpleExampleService.class) @Import(ExampleServiceCaller.class) static class Config {
  }
}
