/** 
 * Tests for  {@link HttpTunnelServerHandler}.
 * @author Phillip Webb
 */
public class HttpTunnelServerHandlerTests {
  @Test public void serverMustNotBeNull(){
    assertThatIllegalArgumentException().isThrownBy(() -> new HttpTunnelServerHandler(null)).withMessageContaining("Server must not be null");
  }
  @Test public void handleDelegatesToServer() throws Exception {
    HttpTunnelServer server=mock(HttpTunnelServer.class);
    HttpTunnelServerHandler handler=new HttpTunnelServerHandler(server);
    ServerHttpRequest request=mock(ServerHttpRequest.class);
    ServerHttpResponse response=mock(ServerHttpResponse.class);
    handler.handle(request,response);
    verify(server).handle(request,response);
  }
}
