/** 
 * @author Dave Syer
 */
public class CommandRunnerIntegrationTests {
  @Rule public OutputCapture output=new OutputCapture();
  @Test public void debugAddsAutoconfigReport(){
    CommandRunner runner=new CommandRunner("spring");
    runner.addCommand(new RunCommand());
    runner.runAndHandleErrors("run","samples/app.groovy","-d");
    assertThat(this.output.toString()).contains("Negative matches:");
  }
  @Test public void debugSwitchedOffForAppArgs(){
    CommandRunner runner=new CommandRunner("spring");
    runner.addCommand(new RunCommand());
    runner.runAndHandleErrors("run","samples/app.groovy","--","-d");
    assertThat(this.output.toString()).doesNotContain("Negative matches:");
  }
}
