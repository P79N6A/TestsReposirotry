private static final class CopyToContainerCmdExec extends AbstrSyncDockerCmdExec<CopyToContainerCmd,Void> {
  private CopyToContainerCmdExec(  WebTarget baseResource,  DockerClientConfig dockerClientConfig){
    super(baseResource,dockerClientConfig);
  }
  @Override protected Void execute(  CopyToContainerCmd command){
    try (InputStream streamToUpload=new FileInputStream(CompressArchiveUtil.archiveTARFiles(command.getFile().getParentFile(),Arrays.asList(command.getFile()),command.getFile().getName()))){
      WebTarget webResource=getBaseResource().path("/containers/{id}/archive").resolveTemplate("id",command.getContainer());
      webResource.queryParam("path",".").queryParam("noOverwriteDirNonDir",false).request().put(Entity.entity(streamToUpload,"application/x-tar")).close();
      return null;
    }
 catch (    Exception ex) {
      throw new RuntimeException(ex);
    }
  }
}
