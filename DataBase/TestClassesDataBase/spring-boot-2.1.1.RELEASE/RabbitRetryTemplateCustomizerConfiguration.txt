@Configuration protected static class RabbitRetryTemplateCustomizerConfiguration {
  private final BackOffPolicy backOffPolicy=new ExponentialBackOffPolicy();
  private final RetryPolicy retryPolicy=new NeverRetryPolicy();
  @Bean public RabbitRetryTemplateCustomizer rabbitTemplateRetryTemplateCustomizer(){
    return (target,template) -> {
      if (target.equals(RabbitRetryTemplateCustomizer.Target.SENDER)) {
        template.setBackOffPolicy(this.backOffPolicy);
      }
    }
;
  }
  @Bean public RabbitRetryTemplateCustomizer rabbitListenerRetryTemplateCustomizer(){
    return (target,template) -> {
      if (target.equals(RabbitRetryTemplateCustomizer.Target.LISTENER)) {
        template.setRetryPolicy(this.retryPolicy);
      }
    }
;
  }
}
