@Configuration static class DataSourceDelegateConfiguration {
  @Bean public static DataSourceBeanPostProcessor dataSourceBeanPostProcessor(){
    return new DataSourceBeanPostProcessor(){
      @Override public Object postProcessAfterInitialization(      Object bean,      String beanName){
        if (bean instanceof javax.sql.DataSource) {
          return new DelegatingDataSource((javax.sql.DataSource)bean);
        }
        return bean;
      }
    }
;
  }
}
