/** 
 * Test for  {@link ValidationAutoConfiguration} when Hibernate validator is present but noEL implementation is available.
 * @author Stephane Nicoll
 */
@RunWith(ModifiedClassPathRunner.class) @ClassPathExclusions({"tomcat-embed-el-*.jar","el-api-*.jar"}) public class ValidationAutoConfigurationWithHibernateValidatorMissingElImplTests {
  private AnnotationConfigApplicationContext context;
  @After public void close(){
    if (this.context != null) {
      this.context.close();
    }
  }
  @Test public void missingElDependencyIsTolerated(){
    this.context=new AnnotationConfigApplicationContext(ValidationAutoConfiguration.class);
    assertThat(this.context.getBeansOfType(Validator.class)).hasSize(1);
    assertThat(this.context.getBeansOfType(MethodValidationPostProcessor.class)).hasSize(1);
  }
}
