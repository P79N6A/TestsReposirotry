/** 
 * Tests for the auto-configuration imported by  {@link WebMvcTest}.
 * @author Andy Wilkinson
 * @author Levi Puot Paul
 */
@RunWith(SpringRunner.class) @WebMvcTest public class WebMvcTestAutoConfigurationIntegrationTests {
  @Autowired private ApplicationContext applicationContext;
  @Test public void freemarkerAutoConfigurationWasImported(){
    assertThat(this.applicationContext).has(importedAutoConfiguration(FreeMarkerAutoConfiguration.class));
  }
  @Test public void groovyTemplatesAutoConfigurationWasImported(){
    assertThat(this.applicationContext).has(importedAutoConfiguration(GroovyTemplateAutoConfiguration.class));
  }
  @Test public void mustacheAutoConfigurationWasImported(){
    assertThat(this.applicationContext).has(importedAutoConfiguration(MustacheAutoConfiguration.class));
  }
  @Test public void thymeleafAutoConfigurationWasImported(){
    assertThat(this.applicationContext).has(importedAutoConfiguration(ThymeleafAutoConfiguration.class));
  }
  @Test public void taskExecutionAutoConfigurationWasImported(){
    assertThat(this.applicationContext).has(importedAutoConfiguration(TaskExecutionAutoConfiguration.class));
  }
  @Test public void asyncTaskExecutorWithApplicationTaskExecutor(){
    assertThat(this.applicationContext.getBeansOfType(AsyncTaskExecutor.class)).hasSize(1);
    assertThat(ReflectionTestUtils.getField(this.applicationContext.getBean(RequestMappingHandlerAdapter.class),"taskExecutor")).isSameAs(this.applicationContext.getBean("applicationTaskExecutor"));
  }
}
