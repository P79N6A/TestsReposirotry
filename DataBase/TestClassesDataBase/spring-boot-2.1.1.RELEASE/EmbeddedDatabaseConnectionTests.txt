/** 
 * Tests for  {@link EmbeddedDatabaseConnection}.
 * @author Stephane Nicoll
 */
public class EmbeddedDatabaseConnectionTests {
  @Test public void h2CustomDatabaseName(){
    assertThat(EmbeddedDatabaseConnection.H2.getUrl("mydb")).isEqualTo("jdbc:h2:mem:mydb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE");
  }
  @Test public void derbyCustomDatabaseName(){
    assertThat(EmbeddedDatabaseConnection.DERBY.getUrl("myderbydb")).isEqualTo("jdbc:derby:memory:myderbydb;create=true");
  }
  @Test public void hsqlCustomDatabaseName(){
    assertThat(EmbeddedDatabaseConnection.HSQL.getUrl("myhsql")).isEqualTo("jdbc:hsqldb:mem:myhsql");
  }
  @Test public void getUrlWithNullDatabaseName(){
    assertThatIllegalArgumentException().isThrownBy(() -> EmbeddedDatabaseConnection.HSQL.getUrl(null)).withMessageContaining("DatabaseName must not be empty");
  }
  @Test public void getUrlWithEmptyDatabaseName(){
    assertThatIllegalArgumentException().isThrownBy(() -> EmbeddedDatabaseConnection.HSQL.getUrl("  ")).withMessageContaining("DatabaseName must not be empty");
  }
}
