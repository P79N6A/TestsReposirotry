/** 
 * Tests for  {@link RestClientTest} gets reset after test methods.
 * @author Phillip Webb
 */
@RunWith(SpringRunner.class) @RestClientTest(ExampleRestClient.class) public class RestClientRestIntegrationTests {
  @Autowired private MockRestServiceServer server;
  @Autowired private ExampleRestClient client;
  @Test public void mockServerCall1(){
    this.server.expect(requestTo("/test")).andRespond(withSuccess("1",MediaType.TEXT_HTML));
    assertThat(this.client.test()).isEqualTo("1");
  }
  @Test public void mockServerCall2(){
    this.server.expect(requestTo("/test")).andRespond(withSuccess("2",MediaType.TEXT_HTML));
    assertThat(this.client.test()).isEqualTo("2");
  }
  @Test public void mockServerCallWithContent(){
    this.server.expect(requestTo("/test")).andExpect(content().string("test")).andRespond(withSuccess("1",MediaType.TEXT_HTML));
    this.client.testPostWithBody("test");
  }
}
