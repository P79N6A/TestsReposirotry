@org.springframework.context.annotation.Configuration static class JpaUsingApplicationListenerConfiguration {
  @Bean public EventCapturingApplicationListener jpaUsingApplicationListener(  EntityManagerFactory emf){
    return new EventCapturingApplicationListener();
  }
static class EventCapturingApplicationListener implements ApplicationListener<ApplicationEvent> {
    private final List<ApplicationEvent> events=new ArrayList<>();
    @Override public void onApplicationEvent(    ApplicationEvent event){
      this.events.add(event);
    }
  }
}
