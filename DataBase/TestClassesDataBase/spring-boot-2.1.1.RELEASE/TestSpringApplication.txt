private static class TestSpringApplication extends SpringApplication {
  private BeanDefinitionLoader loader;
  private boolean useMockLoader;
  private Banner.Mode bannerMode;
  TestSpringApplication(  Class<?>... primarySources){
    super(primarySources);
  }
  TestSpringApplication(  ResourceLoader resourceLoader,  Class<?>... primarySources){
    super(resourceLoader,primarySources);
  }
  public void setUseMockLoader(  boolean useMockLoader){
    this.useMockLoader=useMockLoader;
  }
  @Override protected BeanDefinitionLoader createBeanDefinitionLoader(  BeanDefinitionRegistry registry,  Object[] sources){
    if (this.useMockLoader) {
      this.loader=mock(BeanDefinitionLoader.class);
    }
 else {
      this.loader=spy(super.createBeanDefinitionLoader(registry,sources));
    }
    return this.loader;
  }
  public BeanDefinitionLoader getLoader(){
    return this.loader;
  }
  @Override public void setBannerMode(  Banner.Mode bannerMode){
    super.setBannerMode(bannerMode);
    this.bannerMode=bannerMode;
  }
  public Banner.Mode getBannerMode(){
    return this.bannerMode;
  }
}
