/** 
 * Tests for the managing dependencies documentation.
 * @author Andy Wilkinson
 * @author Jean-Baptiste Nizet
 */
@RunWith(GradleMultiDslSuite.class) public class ManagingDependenciesDocumentationTests {
  @Rule public GradleBuild gradleBuild;
  @Test public void dependenciesExampleEvaluatesSuccessfully(){
    this.gradleBuild.script("src/main/gradle/managing-dependencies/dependencies").build();
  }
  @Test public void customManagedVersions(){
    assertThat(this.gradleBuild.script("src/main/gradle/managing-dependencies/custom-version").build("slf4jVersion").getOutput()).contains("1.7.20");
  }
  @Test public void dependencyManagementInIsolation(){
    assertThat(this.gradleBuild.script("src/main/gradle/managing-dependencies/configure-bom").build("dependencyManagement").getOutput()).contains("org.springframework.boot:spring-boot-starter ");
  }
  @Test public void dependencyManagementInIsolationWithPluginsBlock(){
    Assume.assumeTrue(this.gradleBuild.getDsl() == Dsl.KOTLIN);
    assertThat(this.gradleBuild.script("src/main/gradle/managing-dependencies/configure-bom-with-plugins").build("dependencyManagement").getOutput()).contains("org.springframework.boot:spring-boot-starter ");
  }
}
