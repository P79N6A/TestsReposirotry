private static class TestAutoConfigurationImportFilter implements AutoConfigurationImportFilter, BeanFactoryAware {
  private final Set<String> nonMatching=new HashSet<>();
  private BeanFactory beanFactory;
  TestAutoConfigurationImportFilter(  String[] configurations,  int... nonMatching){
    for (    int i : nonMatching) {
      this.nonMatching.add(configurations[i]);
    }
  }
  @Override public boolean[] match(  String[] autoConfigurationClasses,  AutoConfigurationMetadata autoConfigurationMetadata){
    boolean[] result=new boolean[autoConfigurationClasses.length];
    for (int i=0; i < result.length; i++) {
      result[i]=!this.nonMatching.contains(autoConfigurationClasses[i]);
    }
    return result;
  }
  @Override public void setBeanFactory(  BeanFactory beanFactory) throws BeansException {
    this.beanFactory=beanFactory;
  }
  public BeanFactory getBeanFactory(){
    return this.beanFactory;
  }
}
