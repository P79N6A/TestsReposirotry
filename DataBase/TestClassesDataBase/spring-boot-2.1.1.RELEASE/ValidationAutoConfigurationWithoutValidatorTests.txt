/** 
 * Test for  {@link ValidationAutoConfiguration} when no JSR-303 provider is available.
 * @author Stephane Nicoll
 */
@RunWith(ModifiedClassPathRunner.class) @ClassPathExclusions("hibernate-validator-*.jar") public class ValidationAutoConfigurationWithoutValidatorTests {
  private AnnotationConfigApplicationContext context;
  @After public void close(){
    if (this.context != null) {
      this.context.close();
    }
  }
  @Test public void validationIsDisabled(){
    this.context=new AnnotationConfigApplicationContext(ValidationAutoConfiguration.class);
    assertThat(this.context.getBeansOfType(Validator.class)).isEmpty();
    assertThat(this.context.getBeansOfType(MethodValidationPostProcessor.class)).isEmpty();
  }
}
