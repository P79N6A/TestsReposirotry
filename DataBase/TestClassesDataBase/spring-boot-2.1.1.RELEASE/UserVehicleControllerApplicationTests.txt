/** 
 * {@code @SpringBootTest} based tests for {@link UserVehicleController}.
 * @author Phillip Webb
 */
@RunWith(SpringRunner.class) @SpringBootTest @AutoConfigureMockMvc @AutoConfigureTestDatabase public class UserVehicleControllerApplicationTests {
  @Autowired private MockMvc mvc;
  @Autowired private ApplicationContext applicationContext;
  @MockBean private UserVehicleService userVehicleService;
  @Test public void getVehicleWhenRequestingTextShouldReturnMakeAndModel() throws Exception {
    given(this.userVehicleService.getVehicleDetails("sboot")).willReturn(new VehicleDetails("Honda","Civic"));
    this.mvc.perform(get("/sboot/vehicle").accept(MediaType.TEXT_PLAIN)).andExpect(status().isOk()).andExpect(content().string("Honda Civic"));
  }
  @Test public void welcomeCommandLineRunnerShouldBeAvailable(){
    assertThat(this.applicationContext.getBean(WelcomeCommandLineRunner.class)).isNotNull();
  }
}
