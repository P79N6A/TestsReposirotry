/** 
 * Tests for  {@link IgnoreErrorsBindHandler}.
 * @author Phillip Webb
 * @author Madhura Bhave
 */
public class IgnoreErrorsBindHandlerTests {
  private List<ConfigurationPropertySource> sources=new ArrayList<>();
  private Binder binder;
  @Before public void setup(){
    MockConfigurationPropertySource source=new MockConfigurationPropertySource();
    source.put("example.foo","bar");
    this.sources.add(source);
    this.binder=new Binder(this.sources);
  }
  @Test public void bindWhenNotIgnoringErrorsShouldFail(){
    assertThatExceptionOfType(BindException.class).isThrownBy(() -> this.binder.bind("example",Bindable.of(Example.class)));
  }
  @Test public void bindWhenIgnoringErrorsShouldBind(){
    Example bound=this.binder.bind("example",Bindable.of(Example.class),new IgnoreErrorsBindHandler()).get();
    assertThat(bound.getFoo()).isEqualTo(0);
  }
public static class Example {
    private int foo;
    public int getFoo(){
      return this.foo;
    }
    public void setFoo(    int foo){
      this.foo=foo;
    }
  }
}
