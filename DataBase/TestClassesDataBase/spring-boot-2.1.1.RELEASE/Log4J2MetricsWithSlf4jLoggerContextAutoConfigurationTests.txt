/** 
 * Tests for  {@link Log4J2MetricsAutoConfiguration}.
 * @author Andy Wilkinson
 */
@RunWith(ModifiedClassPathRunner.class) @ClassPathOverrides({"org.apache.logging.log4j:log4j-to-slf4j:2.11.1","org.apache.logging.log4j:log4j-core:2.11.1"}) @ClassPathExclusions("log4j-slf4j-impl-*.jar") public class Log4J2MetricsWithSlf4jLoggerContextAutoConfigurationTests {
  private final ApplicationContextRunner contextRunner=new ApplicationContextRunner().with(MetricsRun.simple()).withConfiguration(AutoConfigurations.of(Log4J2MetricsAutoConfiguration.class));
  @Test public void backsOffWhenLoggerContextIsBackedBySlf4j(){
    this.contextRunner.run((context) -> assertThat(context).doesNotHaveBean(Log4j2Metrics.class));
  }
}
