private static class MockResourceLoader implements ResourceLoader {
  private final Map<String,Resource> resources=new HashMap<>();
  public void addResource(  String source,  String path){
    this.resources.put(source,new ClassPathResource(path,getClass()));
  }
  @Override public Resource getResource(  String path){
    Resource resource=this.resources.get(path);
    return (resource != null) ? resource : new ClassPathResource("doesnotexist");
  }
  @Override public ClassLoader getClassLoader(){
    return getClass().getClassLoader();
  }
}
