/** 
 * {@code @SpringBootTest} with a random port for {@link SampleTestApplication}.
 * @author Phillip Webb
 */
@RunWith(SpringRunner.class) @SpringBootTest(webEnvironment=WebEnvironment.RANDOM_PORT) @AutoConfigureTestDatabase public class SampleTestApplicationWebIntegrationTests {
  private static final VehicleIdentificationNumber VIN=new VehicleIdentificationNumber("01234567890123456");
  @Autowired private TestRestTemplate restTemplate;
  @MockBean private VehicleDetailsService vehicleDetailsService;
  @Before public void setup(){
    given(this.vehicleDetailsService.getVehicleDetails(VIN)).willReturn(new VehicleDetails("Honda","Civic"));
  }
  @Test public void test(){
    this.restTemplate.getForEntity("/{username}/vehicle",String.class,"sframework");
  }
}
