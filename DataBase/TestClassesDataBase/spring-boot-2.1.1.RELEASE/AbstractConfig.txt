protected abstract static class AbstractConfig {
  @Value("${server.port:8080}") private int port=8080;
  @Bean public HttpHandler httpHandler(  ApplicationContext applicationContext){
    return WebHttpHandlerBuilder.applicationContext(applicationContext).build();
  }
  @Bean public ReactiveWebServerFactory webServerFactory(){
    TomcatReactiveWebServerFactory factory=new TomcatReactiveWebServerFactory();
    factory.setPort(this.port);
    return factory;
  }
  @Bean public static PropertySourcesPlaceholderConfigurer propertyPlaceholder(){
    return new PropertySourcesPlaceholderConfigurer();
  }
  @RequestMapping("/") public Mono<String> home(){
    return Mono.just("Hello World");
  }
}
