abstract static class AbstractTestRunner implements ApplicationContextAware, Ordered {
  private final String[] expectedBefore;
  private ApplicationContext applicationContext;
  private final int order;
  private boolean run;
  AbstractTestRunner(  int order,  String... expectedBefore){
    this.expectedBefore=expectedBefore;
    this.order=order;
  }
  @Override public void setApplicationContext(  ApplicationContext applicationContext) throws BeansException {
    this.applicationContext=applicationContext;
  }
  @Override public int getOrder(){
    return this.order;
  }
  public void markAsRan(){
    this.run=true;
    for (    String name : this.expectedBefore) {
      AbstractTestRunner bean=this.applicationContext.getBean(name,AbstractTestRunner.class);
      assertThat(bean.hasRun()).isTrue();
    }
  }
  public boolean hasRun(){
    return this.run;
  }
}
