/** 
 * Integration test with custom include filter for  {@link DataNeo4jTest}.
 * @author Eddú Meléndez
 */
@RunWith(SpringRunner.class) @ContextConfiguration(initializers=DataNeo4jTestWithIncludeFilterIntegrationTests.Initializer.class) @DataNeo4jTest(includeFilters=@Filter(Service.class)) public class DataNeo4jTestWithIncludeFilterIntegrationTests {
  @ClassRule public static Neo4jContainer neo4j=new Neo4jContainer();
  @Autowired private ExampleService service;
  @Test public void testService(){
    assertThat(this.service.hasNode(ExampleGraph.class)).isFalse();
  }
static class Initializer implements ApplicationContextInitializer<ConfigurableApplicationContext> {
    @Override public void initialize(    ConfigurableApplicationContext configurableApplicationContext){
      TestPropertyValues.of("spring.data.neo4j.uri=bolt://localhost:" + neo4j.getMappedPort()).applyTo(configurableApplicationContext.getEnvironment());
    }
  }
}
