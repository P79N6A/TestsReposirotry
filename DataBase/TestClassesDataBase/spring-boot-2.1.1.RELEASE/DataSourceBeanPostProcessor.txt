private static class DataSourceBeanPostProcessor implements BeanPostProcessor {
  @Override public Object postProcessAfterInitialization(  Object bean,  String beanName){
    if (bean instanceof javax.sql.DataSource) {
      return new ProxyFactory(bean).getProxy();
    }
    return bean;
  }
}
