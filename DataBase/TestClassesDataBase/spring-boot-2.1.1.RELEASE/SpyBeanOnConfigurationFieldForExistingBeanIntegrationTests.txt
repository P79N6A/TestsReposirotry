/** 
 * Test  {@link SpyBean} on a field on a {@code @Configuration} class can be used toreplace existing beans.
 * @author Phillip Webb
 */
@RunWith(SpringRunner.class) public class SpyBeanOnConfigurationFieldForExistingBeanIntegrationTests {
  @Autowired private Config config;
  @Autowired private ExampleServiceCaller caller;
  @Test public void testSpying(){
    assertThat(this.caller.sayGreeting()).isEqualTo("I say simple");
    verify(this.config.exampleService).greeting();
  }
@Configuration @Import({ExampleServiceCaller.class,SimpleExampleService.class}) static class Config {
    @SpyBean private ExampleService exampleService;
  }
}
