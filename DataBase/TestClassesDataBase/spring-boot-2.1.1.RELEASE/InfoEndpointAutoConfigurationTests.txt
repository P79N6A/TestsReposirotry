/** 
 * Tests for  {@link InfoEndpointAutoConfiguration}.
 * @author Phillip Webb
 */
public class InfoEndpointAutoConfigurationTests {
  private final ApplicationContextRunner contextRunner=new ApplicationContextRunner().withConfiguration(AutoConfigurations.of(InfoEndpointAutoConfiguration.class));
  @Test public void runShouldHaveEndpointBean(){
    this.contextRunner.withPropertyValues("management.endpoint.shutdown.enabled:true").run((context) -> assertThat(context).hasSingleBean(InfoEndpoint.class));
  }
  @Test public void runShouldHaveEndpointBeanEvenIfDefaultIsDisabled(){
    this.contextRunner.withPropertyValues("management.endpoint.default.enabled:false").run((context) -> assertThat(context).hasSingleBean(InfoEndpoint.class));
  }
  @Test public void runWhenEnabledPropertyIsFalseShouldNotHaveEndpointBean(){
    this.contextRunner.withPropertyValues("management.endpoint.info.enabled:false").run((context) -> assertThat(context).doesNotHaveBean(InfoEndpoint.class));
  }
}
