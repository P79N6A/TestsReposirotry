@Configuration protected static class MockDataSourceConfiguration {
  @Bean public DataSource dataSource(){
    DataSource dataSource=mock(DataSource.class);
    try {
      given(dataSource.getConnection()).willReturn(mock(Connection.class));
      given(dataSource.getConnection().getMetaData()).willReturn(mock(DatabaseMetaData.class));
    }
 catch (    SQLException ex) {
    }
    return dataSource;
  }
}
