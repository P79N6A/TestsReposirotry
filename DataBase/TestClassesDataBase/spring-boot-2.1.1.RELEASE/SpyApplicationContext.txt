public static class SpyApplicationContext extends AnnotationConfigApplicationContext {
  private final ConfigurableApplicationContext applicationContext=spy(new AnnotationConfigApplicationContext());
  private ResourceLoader resourceLoader;
  private boolean registeredShutdownHook;
  @Override public void setParent(  ApplicationContext parent){
    this.applicationContext.setParent(parent);
  }
  public ConfigurableApplicationContext getApplicationContext(){
    return this.applicationContext;
  }
  @Override public void setResourceLoader(  ResourceLoader resourceLoader){
    super.setResourceLoader(resourceLoader);
    this.resourceLoader=resourceLoader;
  }
  public ResourceLoader getResourceLoader(){
    return this.resourceLoader;
  }
  @Override public void registerShutdownHook(){
    super.registerShutdownHook();
    this.registeredShutdownHook=true;
  }
  public boolean getRegisteredShutdownHook(){
    return this.registeredShutdownHook;
  }
  @Override public void close(){
    super.close();
    this.applicationContext.close();
  }
  @Override public ApplicationContext getParent(){
    return this.applicationContext.getParent();
  }
}
