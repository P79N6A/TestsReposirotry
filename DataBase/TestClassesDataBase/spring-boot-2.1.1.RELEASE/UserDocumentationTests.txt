@RunWith(SpringRunner.class) @SpringBootTest(webEnvironment=WebEnvironment.RANDOM_PORT) @AutoConfigureRestDocs public class UserDocumentationTests {
  @LocalServerPort private int port;
  @Autowired private RequestSpecification documentationSpec;
  @Test public void listUsers(){
    given(this.documentationSpec).filter(document("list-users")).when().port(this.port).get("/").then().assertThat().statusCode(is(200));
  }
}
