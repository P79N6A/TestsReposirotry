@Configuration @ImportAutoConfiguration({JacksonAutoConfiguration.class,HttpMessageConvertersAutoConfiguration.class,ServletWebServerFactoryAutoConfiguration.class,WebMvcAutoConfiguration.class,DispatcherServletAutoConfiguration.class,ErrorMvcAutoConfiguration.class}) static class WebMvcConfiguration {
  @Bean public TomcatServletWebServerFactory tomcat(){
    return new TomcatServletWebServerFactory(0);
  }
  @Bean public WebMvcEndpointHandlerMapping webEndpointHandlerMapping(  Environment environment,  WebEndpointDiscoverer endpointDiscoverer,  EndpointMediaTypes endpointMediaTypes){
    CorsConfiguration corsConfiguration=new CorsConfiguration();
    corsConfiguration.setAllowedOrigins(Arrays.asList("http://example.com"));
    corsConfiguration.setAllowedMethods(Arrays.asList("GET","POST"));
    return new WebMvcEndpointHandlerMapping(new EndpointMapping(environment.getProperty("endpointPath")),endpointDiscoverer.getEndpoints(),endpointMediaTypes,corsConfiguration,new EndpointLinksResolver(endpointDiscoverer.getEndpoints()));
  }
}
