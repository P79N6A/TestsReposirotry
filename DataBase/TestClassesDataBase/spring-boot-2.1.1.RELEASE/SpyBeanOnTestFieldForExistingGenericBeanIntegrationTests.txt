/** 
 * Test  {@link SpyBean} on a test class field can be used to replace existing beans.
 * @author Phillip Webb
 * @see SpyBeanOnTestFieldForExistingBeanCacheIntegrationTests
 */
@RunWith(SpringRunner.class) public class SpyBeanOnTestFieldForExistingGenericBeanIntegrationTests {
  @SpyBean private ExampleGenericService<String> exampleService;
  @Autowired private ExampleGenericServiceCaller caller;
  @Test public void testSpying(){
    assertThat(this.caller.sayGreeting()).isEqualTo("I say 123 simple");
    verify(this.exampleService).greeting();
  }
@Configuration @Import({ExampleGenericServiceCaller.class,SimpleExampleIntegerGenericService.class}) static class SpyBeanOnTestFieldForExistingBeanConfig {
    @Bean public ExampleGenericService<String> simpleExampleStringGenericService(){
      return new SimpleExampleStringGenericService();
    }
  }
}
