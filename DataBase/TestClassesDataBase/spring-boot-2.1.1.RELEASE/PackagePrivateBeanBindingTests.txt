/** 
 * Tests for  {@link Binder} using package private Java beans.
 * @author Madhura Bhave
 */
public class PackagePrivateBeanBindingTests {
  private List<ConfigurationPropertySource> sources=new ArrayList<>();
  private Binder binder;
  private ConfigurationPropertyName name;
  @Before public void setup(){
    this.binder=new Binder(this.sources);
    this.name=ConfigurationPropertyName.of("foo");
  }
  @Test public void bindToPackagePrivateClassShouldBindToInstance(){
    MockConfigurationPropertySource source=new MockConfigurationPropertySource();
    source.put("foo.bar","999");
    this.sources.add(source);
    ExamplePackagePrivateBean bean=this.binder.bind(this.name,Bindable.of(ExamplePackagePrivateBean.class)).get();
    assertThat(bean.getBar()).isEqualTo(999);
  }
static class ExamplePackagePrivateBean {
    private int bar;
    public int getBar(){
      return this.bar;
    }
    public void setBar(    int bar){
      this.bar=bar;
    }
  }
}
