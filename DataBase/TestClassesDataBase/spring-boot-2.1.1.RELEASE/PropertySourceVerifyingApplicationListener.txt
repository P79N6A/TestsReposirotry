private static final class PropertySourceVerifyingApplicationListener implements ApplicationListener<ApplicationEnvironmentPreparedEvent> {
  @Override public void onApplicationEvent(  ApplicationEnvironmentPreparedEvent event){
    PropertySource<?> propertySource=event.getEnvironment().getPropertySources().get(StandardServletEnvironment.SERVLET_CONTEXT_PROPERTY_SOURCE_NAME);
    assertThat(propertySource.getProperty("spring.profiles.active")).isEqualTo("from-servlet-context");
  }
}
