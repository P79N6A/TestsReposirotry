@Configuration static class PrimaryFooConfig {
  @Bean public Foo foo(){
    return new Foo();
  }
  @Bean @Primary public Bar bar(){
    return new Bar();
  }
}
