/** 
 * Tests for  {@link DevToolsDataSourceAutoConfiguration} with an embedded data source.
 * @author Andy Wilkinson
 */
@RunWith(ModifiedClassPathRunner.class) @ClassPathExclusions("HikariCP-*.jar") public class DevToolsEmbeddedDataSourceAutoConfigurationTests extends AbstractDevToolsDataSourceAutoConfigurationTests {
  @Test public void autoConfiguredDataSourceIsNotShutdown() throws SQLException {
    ConfigurableApplicationContext context=createContext(DataSourceAutoConfiguration.class,DataSourceSpyConfiguration.class);
    Statement statement=configureDataSourceBehavior(context.getBean(DataSource.class));
    context.close();
    verify(statement,never()).execute("SHUTDOWN");
  }
}
