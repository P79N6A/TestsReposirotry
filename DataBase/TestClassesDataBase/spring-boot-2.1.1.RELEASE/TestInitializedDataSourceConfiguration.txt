@Configuration static class TestInitializedDataSourceConfiguration {
  private boolean called;
  @Autowired public void validateDataSourceIsInitialized(  DataSource dataSource){
    JdbcTemplate template=new JdbcTemplate(dataSource);
    assertThat(template.queryForObject("SELECT COUNT(*) from BAR",Integer.class)).isEqualTo(1);
    this.called=true;
  }
}
