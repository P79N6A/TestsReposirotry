@Configuration static class TemplateConfiguration {
  @Bean public TemplateAvailabilityProviders templateAvailabilityProviders(){
    return new TestTemplateAvailabilityProviders((view,environment,classLoader,resourceLoader) -> view.equals("index"));
  }
  @Bean public ViewResolver viewResolver(){
    return (name,locale) -> {
      if (name.startsWith("forward:")) {
        return new InternalResourceView(name.substring("forward:".length()));
      }
      return new AbstractView(){
        @Override protected void renderMergedOutputModel(        Map<String,Object> model,        HttpServletRequest request,        HttpServletResponse response) throws Exception {
          response.getWriter().print(name + " template");
        }
      }
;
    }
;
  }
}
