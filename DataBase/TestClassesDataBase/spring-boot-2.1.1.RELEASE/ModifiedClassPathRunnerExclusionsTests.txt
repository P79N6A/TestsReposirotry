/** 
 * Tests for  {@link ModifiedClassPathRunner} excluding entries from the class path.
 * @author Andy Wilkinson
 */
@RunWith(ModifiedClassPathRunner.class) @ClassPathExclusions("hibernate-validator-*.jar") public class ModifiedClassPathRunnerExclusionsTests {
  private static final String EXCLUDED_RESOURCE="META-INF/services/" + "javax.validation.spi.ValidationProvider";
  @Test public void entriesAreFilteredFromTestClassClassLoader(){
    assertThat(getClass().getClassLoader().getResource(EXCLUDED_RESOURCE)).isNull();
  }
  @Test public void entriesAreFilteredFromThreadContextClassLoader(){
    assertThat(Thread.currentThread().getContextClassLoader().getResource(EXCLUDED_RESOURCE)).isNull();
  }
  @Test public void testsThatUseHamcrestWorkCorrectly(){
    Matcher<IllegalStateException> matcher=isA(IllegalStateException.class);
    assertThat(matcher.matches(new IllegalStateException())).isTrue();
  }
}
