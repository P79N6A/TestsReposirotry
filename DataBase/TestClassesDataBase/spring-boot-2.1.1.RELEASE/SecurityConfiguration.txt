@Configuration static class SecurityConfiguration {
  @Bean public WebSecurityConfigurerAdapter webSecurityConfigurerAdapter(){
    return new WebSecurityConfigurerAdapter(){
      @Override protected void configure(      HttpSecurity http) throws Exception {
        http.authorizeRequests().requestMatchers(EndpointRequest.toLinks()).permitAll().requestMatchers(EndpointRequest.to(TestEndpoint1.class)).permitAll().requestMatchers(EndpointRequest.toAnyEndpoint()).authenticated().anyRequest().hasRole("ADMIN").and().httpBasic();
      }
    }
;
  }
}
