@RunWith(SpringJUnit4ClassRunner.class) @SpringBootTest(classes=ConfigurationWithoutConditionalOnProperty.class) @DirtiesContext public static class TestWithBootstrapEnabledAndDefaultNamespacesAndConditionalOff extends AbstractSpringIntegrationTest {
  @Autowired(required=false) private TestBean testBean;
  @BeforeClass public static void beforeClass() throws Exception {
    doSetUp();
    System.setProperty(PropertySourcesConstants.APOLLO_BOOTSTRAP_ENABLED,"true");
    Config config=mock(Config.class);
    mockConfig(ConfigConsts.NAMESPACE_APPLICATION,config);
  }
  @AfterClass public static void afterClass() throws Exception {
    System.clearProperty(PropertySourcesConstants.APOLLO_BOOTSTRAP_ENABLED);
    doTearDown();
  }
  @Test public void test() throws Exception {
    Assert.assertNotNull(testBean);
    Assert.assertTrue(testBean.execute());
  }
}
