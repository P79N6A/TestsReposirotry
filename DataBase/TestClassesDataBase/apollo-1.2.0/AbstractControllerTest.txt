@RunWith(SpringJUnit4ClassRunner.class) @SpringBootTest(classes=AdminServiceTestConfiguration.class,webEnvironment=WebEnvironment.RANDOM_PORT) public abstract class AbstractControllerTest {
  @Autowired private HttpMessageConverters httpMessageConverters;
  protected RestTemplate restTemplate=(new TestRestTemplate()).getRestTemplate();
  @PostConstruct private void postConstruct(){
    restTemplate.setErrorHandler(new DefaultResponseErrorHandler());
    restTemplate.setMessageConverters(httpMessageConverters.getConverters());
  }
  @Value("${local.server.port}") int port;
}
