@RunWith(SpringJUnit4ClassRunner.class) @SpringBootTest(classes=PortalApplication.class,webEnvironment=WebEnvironment.RANDOM_PORT) public abstract class AbstractIntegrationTest {
  protected RestTemplate restTemplate=(new TestRestTemplate()).getRestTemplate();
  @PostConstruct private void postConstruct(){
    System.setProperty("spring.profiles.active","test");
    restTemplate.setErrorHandler(new DefaultResponseErrorHandler());
  }
  @Value("${local.server.port}") int port;
}
