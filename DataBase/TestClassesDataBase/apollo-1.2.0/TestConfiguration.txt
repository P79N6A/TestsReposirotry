@Configuration static class TestConfiguration {
@Configuration @ConditionalOnProfile(SOME_PROFILE) static class SomeConfiguration {
{
      someConfigurationEnabled=true;
    }
  }
@Configuration @ConditionalOnMissingProfile(ANOTHER_PROFILE) static class AnotherConfiguration {
{
      anotherConfigurationEnabled=true;
    }
  }
@Configuration @ConditionalOnMissingProfile(YET_ANOTHER_PROFILE) static class YetAnotherConfiguration {
{
      yetAnotherConfigurationEnabled=true;
    }
  }
@Configuration @ConditionalOnProfile({SOME_PROFILE,ANOTHER_PROFILE}) @ConditionalOnMissingProfile(YET_ANOTHER_PROFILE) static class CombinedConfiguration {
{
      combinedConfigurationEnabled=true;
    }
  }
@Configuration @ConditionalOnProfile(SOME_PROFILE) @ConditionalOnMissingProfile({YET_ANOTHER_PROFILE,ANOTHER_PROFILE}) static class AnotherCombinedConfiguration {
{
      anotherCombinedConfigurationEnabled=true;
    }
  }
}
