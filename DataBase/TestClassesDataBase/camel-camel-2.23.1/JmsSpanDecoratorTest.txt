public class JmsSpanDecoratorTest {
  @Test public void testGetMessageId(){
    String messageId="abcd";
    Exchange exchange=Mockito.mock(Exchange.class);
    Message message=Mockito.mock(Message.class);
    Mockito.when(exchange.getIn()).thenReturn(message);
    Mockito.when(message.getHeader(JmsSpanDecorator.JMS_MESSAGE_ID)).thenReturn(messageId);
    JmsSpanDecorator decorator=new JmsSpanDecorator();
    assertEquals(messageId,decorator.getMessageId(exchange));
  }
}
