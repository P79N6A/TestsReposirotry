@RunWith(PaxExam.class) @ExamReactorStrategy(PerClass.class) public class FhirOsgiIT {
  @Inject private CamelContext context;
  @Configuration public Option[] config() throws IOException {
    return options(PaxExamOptions.KARAF.option(),PaxExamOptions.CAMEL_FHIR.option(),streamBundle(TinyBundles.bundle().read(Files.newInputStream(Paths.get("target").resolve("camel-example-fhir-osgi.jar"))).build()),when(false).useOptions(debugConfiguration("5005",true)),CoreOptions.composite(editConfigurationFilePut("etc/org.apache.camel.example.fhir.osgi.configuration.cfg",new File("org.apache.camel.example.fhir.osgi.configuration.cfg"))));
  }
  @Test public void testRouteStatus(){
    assertNotNull(context);
    assertEquals("Route status is incorrect!",ServiceStatus.Started,context.getRouteStatus("fhir-example-osgi"));
  }
}
