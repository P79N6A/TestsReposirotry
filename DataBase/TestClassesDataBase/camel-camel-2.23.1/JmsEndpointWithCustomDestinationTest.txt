/** 
 * @version 
 */
public class JmsEndpointWithCustomDestinationTest extends CamelSpringTestSupport {
  private Object expectedBody="<hello>world!</hello>";
  @Override protected AbstractApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/component/jms/config/JmsEndpointWithCustomDestinationTest-context.xml");
  }
  @Test public void testMessageSentToCustomEndpoint() throws Exception {
    ActiveMQQueue jmsQueue=context.getRegistry().lookupByNameAndType("jmsQueue",ActiveMQQueue.class);
    assertNotNull("jmsQueue",jmsQueue);
    assertEquals("jmsqueue.getPhysicalName()","Test.Camel.CustomEndpoint",jmsQueue.getPhysicalName());
    getMockEndpoint("mock:result").expectedBodiesReceived(expectedBody);
    template.sendBody("direct:start",expectedBody);
    assertMockEndpointsSatisfied();
  }
}
