/** 
 * @version
 */
public class SpringPropertiesAfterTransactedDSLTest extends SpringTestSupport {
  @Override protected AbstractXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/component/properties/SpringPropertiesAfterTransactedDSLTest.xml");
  }
  @Test public void testResolveHeaderAfterTransactedDSL() throws Exception {
    getMockEndpoint("mock:transactedHeader").expectedMessageCount(1);
    getMockEndpoint("mock:transactedHeader").message(0).header("myHeader").isEqualTo("transacted");
    template.requestBody("direct:transactedHeader","Hello");
    assertMockEndpointsSatisfied();
  }
  @Test public void testResolveBodyAfterTransactedDSL() throws Exception {
    getMockEndpoint("mock:transactedBody").expectedMessageCount(1);
    getMockEndpoint("mock:transactedBody").message(0).body().isEqualTo("transacted");
    template.requestBody("direct:transactedBody","Hello");
    assertMockEndpointsSatisfied();
  }
}
