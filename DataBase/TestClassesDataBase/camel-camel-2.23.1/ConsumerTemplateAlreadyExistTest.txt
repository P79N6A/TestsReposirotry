/** 
 * @version 
 */
@ContextConfiguration public class ConsumerTemplateAlreadyExistTest extends SpringRunWithTestSupport {
  @Autowired private ConsumerTemplate template;
  @Autowired private CamelContext context;
  @Test public void testHasExistingTemplate(){
    assertNotNull("Should have injected a consumer template",template);
    ConsumerTemplate lookup=context.getRegistry().lookupByNameAndType("myConsumerTemplate",ConsumerTemplate.class);
    assertNotNull("Should lookup consumer template",lookup);
    ConsumerTemplate lookup2=context.getRegistry().lookupByNameAndType("consumerTemplate",ConsumerTemplate.class);
    assertNull("Should not be able to lookup consumer template",lookup2);
  }
  @Test public void testShouldBeSingleton(){
    ConsumerTemplate lookup=context.getRegistry().lookupByNameAndType("myConsumerTemplate",ConsumerTemplate.class);
    assertNotNull("Should lookup producer template",lookup);
    ConsumerTemplate lookup2=context.getRegistry().lookupByNameAndType("myConsumerTemplate",ConsumerTemplate.class);
    assertNotNull("Should lookup producer template",lookup);
    assertSame("Should be same instances (singleton)",lookup,lookup2);
  }
}
