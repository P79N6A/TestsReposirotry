public class AWSS3ClientFactoryTest {
  private static final int MAX_CONNECTIONS=1;
  @Test public void getStandardS3ClientDefault(){
    S3Configuration s3Configuration=new S3Configuration();
    S3Client awss3Client=S3ClientFactory.getAWSS3Client(s3Configuration,MAX_CONNECTIONS);
    Assert.assertTrue(awss3Client instanceof S3ClientStandardImpl);
  }
  @Test public void getStandardS3Client(){
    S3Configuration s3Configuration=new S3Configuration();
    s3Configuration.setUseIAMCredentials(false);
    S3Client awss3Client=S3ClientFactory.getAWSS3Client(s3Configuration,MAX_CONNECTIONS);
    Assert.assertTrue(awss3Client instanceof S3ClientStandardImpl);
  }
  @Test public void getIAMOptimizedS3Client(){
    S3Configuration s3Configuration=new S3Configuration();
    s3Configuration.setUseIAMCredentials(true);
    S3Client awss3Client=S3ClientFactory.getAWSS3Client(s3Configuration,MAX_CONNECTIONS);
    Assert.assertTrue(awss3Client instanceof S3ClientIAMOptimizedImpl);
  }
}
