/** 
 * Testing that the servlet mapping can be disabled.
 */
@RunWith(SpringRunner.class) @SpringBootApplication @DirtiesContext @ContextConfiguration(classes=ServletMappingDisablingTest.class) @SpringBootTest(webEnvironment=SpringBootTest.WebEnvironment.RANDOM_PORT,properties={"camel.component.servlet.mapping.enabled=false"}) public class ServletMappingDisablingTest {
  @Autowired private TestRestTemplate restTemplate;
  @Autowired private CamelContext context;
  @Before public void setup() throws Exception {
    context.addRoutes(new RouteBuilder(){
      @Override public void configure() throws Exception {
        rest().get("/thepath").produces("text/plain").route().transform().constant("Hello");
      }
    }
);
  }
  @Test public void testServletMapping(){
    Assert.assertEquals(404,restTemplate.getForEntity("/camel/thepath",String.class).getStatusCodeValue());
  }
}
