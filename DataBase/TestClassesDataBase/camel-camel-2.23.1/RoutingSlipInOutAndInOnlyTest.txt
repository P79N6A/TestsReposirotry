/** 
 * @version 
 */
public class RoutingSlipInOutAndInOnlyTest extends ContextTestSupport {
  private String slip="direct:a,direct:b,direct:c";
  @Test public void testRoutingSlipInOut() throws Exception {
    getMockEndpoint("mock:result").expectedBodiesReceived("HelloABC");
    String out=template.requestBodyAndHeader("direct:start","Hello","slip",slip,String.class);
    assertEquals("HelloABC",out);
    assertMockEndpointsSatisfied();
  }
  @Test public void testRoutingSlipInOnly() throws Exception {
    getMockEndpoint("mock:result").expectedBodiesReceived("HelloABC");
    template.sendBodyAndHeader("direct:start","Hello","slip",slip);
    assertMockEndpointsSatisfied();
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("direct:start").routingSlip(header("slip")).to("mock:result");
        from("direct:a").transform(body().append("A"));
        from("direct:b").transform(body().append("B"));
        from("direct:c").transform(body().append("C"));
      }
    }
;
  }
}
