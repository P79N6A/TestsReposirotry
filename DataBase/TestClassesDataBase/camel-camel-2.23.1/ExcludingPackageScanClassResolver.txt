private static class ExcludingPackageScanClassResolver extends DefaultPackageScanClassResolver {
  public void setExcludedClasses(  Set<Class<?>> excludedClasses){
    if (excludedClasses == null) {
      excludedClasses=Collections.emptySet();
    }
    addFilter(new InvertingPackageScanFilter(new AssignableToPackageScanFilter(excludedClasses)));
  }
}
