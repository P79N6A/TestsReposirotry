public class SpringIntegrationOneWayConsumerTest extends CamelSpringTestSupport {
  private static final String MESSAGE_BODY="hello world";
  @Test public void testSendingOneWayMessage() throws Exception {
    MockEndpoint resultEndpoint=getMockEndpoint("mock:result");
    resultEndpoint.expectedBodiesReceived(MESSAGE_BODY);
    MessageChannel outputChannel=getMandatoryBean(MessageChannel.class,"outputChannel");
    outputChannel.send(new GenericMessage<Object>(MESSAGE_BODY));
    assertMockEndpointsSatisfied();
  }
  public ClassPathXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/component/spring/integration/oneWayConsumer.xml");
  }
}
