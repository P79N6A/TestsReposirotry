public class RibbonLoadBalancerAutoConfigurationTest {
  @Test public void testRibbonLoadBalancerDisabled(){
    new ApplicationContextRunner().withUserConfiguration(TestConfiguration.class).withPropertyValues("spring.main.banner-mode=off","camel.cloud.ribbon.load-balancer.enabled=false").run(context -> {
      assertThat(context).doesNotHaveBean(RibbonServiceCallServiceLoadBalancerConfigurationProperties.class);
      assertThat(context).getBeans(ServiceLoadBalancer.class).doesNotContainKeys("ribbon-load-balancer");
    }
);
  }
  @Test public void testRibbonLoadBalancerEnabled(){
    new ApplicationContextRunner().withUserConfiguration(TestConfiguration.class).withPropertyValues("spring.main.banner-mode=off","camel.cloud.ribbon.load-balancer.enabled=true").run(context -> {
      assertThat(context).hasSingleBean(RibbonServiceCallServiceLoadBalancerConfigurationProperties.class);
      assertThat(context).getBeans(ServiceLoadBalancer.class).containsKeys("ribbon-load-balancer");
    }
);
  }
@EnableAutoConfiguration @Configuration public static class TestConfiguration {
  }
}
