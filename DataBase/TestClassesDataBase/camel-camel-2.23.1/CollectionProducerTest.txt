/** 
 * @version 
 */
@Deprecated public class CollectionProducerTest extends ContextTestSupport {
private static class MyProducer extends CollectionProducer {
    MyProducer(    Endpoint endpoint,    Collection<Exchange> queue){
      super(endpoint,queue);
    }
  }
  @Test public void testCollectionProducer() throws Exception {
    Queue<Exchange> queue=new ArrayBlockingQueue<>(10);
    Endpoint endpoint=context.getEndpoint("seda://foo");
    MyProducer my=new MyProducer(endpoint,queue);
    my.start();
    Exchange exchange=new DefaultExchange(context);
    exchange.getIn().setBody("Hello World");
    my.process(exchange);
    Exchange top=queue.poll();
    assertNotNull(top);
    assertEquals("Hello World",top.getIn().getBody());
  }
}
