/** 
 * Integration test consuming statistics on Docker Platform
 */
public class DockerStatsConsumerTestIT extends DockerITTestSupport {
  private static final String CONTAINER_ID="470b9b823e6c";
  @Test public void testDocker() throws Exception {
    MockEndpoint mock=getMockEndpoint("mock:result");
    mock.expectedMinimumMessageCount(1);
    assertMockEndpointsSatisfied(60,TimeUnit.SECONDS);
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      public void configure(){
        fromF("docker://stats?containerId=%s",CONTAINER_ID).log("${body}").to("mock:result");
      }
    }
;
  }
}
