public static class MyFailProcessor implements Processor {
  public void process(  Exchange exchange) throws Exception {
    int count=counter.incrementAndGet();
    if (count <= 3) {
      throw new IllegalArgumentException("Damn");
    }
  }
}
