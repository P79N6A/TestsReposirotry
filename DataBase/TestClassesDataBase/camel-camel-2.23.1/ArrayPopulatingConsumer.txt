private class ArrayPopulatingConsumer extends DefaultConsumer {
  private final List<String> received;
  ArrayPopulatingConsumer(  final List<String> received){
    super(RabbitMQConsumerIntTestReplyTo.this.channel);
    this.received=received;
  }
  @Override public void handleDelivery(  String consumerTag,  Envelope envelope,  AMQP.BasicProperties properties,  byte[] body) throws IOException {
    received.add(new String(body));
  }
}
