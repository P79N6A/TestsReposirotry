/** 
 * A base class for a test which requires a  {@link org.apache.camel.CamelContext} anda populated  {@link Exchange}
 * @version 
 */
public abstract class ExchangeTestSupport extends CamelTestSupport {
  protected Exchange exchange;
  /** 
 * A factory method to create an Exchange implementation
 */
  protected Exchange createExchange(){
    return new DefaultExchange(context);
  }
  /** 
 * A strategy method to populate an exchange with some example values for use by language plugins
 */
  protected void populateExchange(  Exchange exchange){
    Message in=exchange.getIn();
    in.setHeader("foo","abc");
    in.setHeader("bar",123);
    in.setBody("<hello id='m123'>world!</hello>");
  }
  @Override @Before public void setUp() throws Exception {
    super.setUp();
    exchange=createExchange();
    assertNotNull("No exchange created!",exchange);
    populateExchange(exchange);
  }
}
