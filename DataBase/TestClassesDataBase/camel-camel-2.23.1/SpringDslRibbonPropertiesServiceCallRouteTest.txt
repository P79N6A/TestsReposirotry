@DirtiesContext public class SpringDslRibbonPropertiesServiceCallRouteTest extends SpringRibbonServiceCallRouteTest {
  @Override protected AbstractApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/component/ribbon/cloud/SpringDslRibbonPropertiesServiceCallRouteTest.xml");
  }
  @Test public void testServiceCallConfiguration() throws Exception {
    DefaultServiceCallProcessor processor=findServiceCallProcessor();
    Assert.assertNotNull(processor.getLoadBalancer());
    Assert.assertTrue(processor.getLoadBalancer() instanceof RibbonServiceLoadBalancer);
    RibbonServiceLoadBalancer loadBalancer=(RibbonServiceLoadBalancer)processor.getLoadBalancer();
    Assert.assertNull(loadBalancer.getServiceDiscovery());
  }
}
