/** 
 * @version 
 */
public class SpringJettyNoConnectionTest extends CamelSpringTestSupport {
  @Override protected AbstractXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/component/jetty/jetty-noconnection.xml");
  }
  @Test public void testConnectionOk() throws Exception {
    String reply=template.requestBody("direct:start","World",String.class);
    assertEquals("Bye World",reply);
  }
  @Test public void testConnectionNotOk() throws Exception {
    context.stopRoute("jetty");
    try {
      template.requestBody("direct:start","Moon",String.class);
      fail("Should have thrown an exception");
    }
 catch (    CamelExecutionException e) {
      assertIsInstanceOf(ConnectException.class,e.getCause());
    }
  }
}
