/** 
 * @version 
 */
public class MockExepctedHeadersIssueTest extends ContextTestSupport {
  @Test public void testHeaders() throws Exception {
    MockEndpoint resultEndpoint=getMockEndpoint("mock:result");
    resultEndpoint.expectedHeaderReceived("header2","value2");
    resultEndpoint.expectedHeaderReceived("header1","value1");
    template.sendBody("direct:test",null);
    resultEndpoint.assertIsNotSatisfied();
  }
  @Test public void testHeadersAdded() throws Exception {
    MockEndpoint resultEndpoint=getMockEndpoint("mock:result");
    resultEndpoint.message(0).header("header1").isNull();
    resultEndpoint.message(0).header("header2").isEqualTo("value2");
    template.sendBody("direct:test",null);
    resultEndpoint.assertIsSatisfied();
  }
  @Override protected RouteBuilder createRouteBuilder(){
    return new RouteBuilder(){
      @Override public void configure(){
        from("direct:test").setHeader("header2",constant("value2")).to("mock:result");
      }
    }
;
  }
}
