public class MySplitterBean {
  /** 
 * The split body method returns something that is iteratable such as a java.util.List.
 * @param body the payload of the incoming message
 * @return a list containing each part splitted
 */
  public List<String> splitBody(  String body){
    List<String> answer=new ArrayList<>();
    String[] parts=body.split(",");
    for (    String part : parts) {
      answer.add(part);
    }
    return answer;
  }
  /** 
 * The split message method returns something that is iteratable such as a java.util.List.
 * @param header the header of the incoming message with the name user
 * @param body the payload of the incoming message
 * @return a list containing each part splitted
 */
  public List<Message> splitMessage(  @Header(value="user") String header,  @Body String body,  CamelContext camelContext){
    List<Message> answer=new ArrayList<>();
    String[] parts=header.split(",");
    for (    String part : parts) {
      DefaultMessage message=new DefaultMessage(camelContext);
      message.setHeader("user",part);
      message.setBody(body);
      answer.add(message);
    }
    return answer;
  }
}
