public class MultiSelectPicklistJsonTest {
  private static final String TEST_JSON="{\"MspField\":\"Value1;Value2;Value3\"}";
  private static final String TEST_NULL_JSON="{\"MspField\":null}";
  private static ObjectMapper objectMapper=JsonUtils.createObjectMapper();
  @Test public void testMarshal() throws Exception {
    final MSPTest mspTest=new MSPTest();
    mspTest.setMspField(MSPTest.MSPEnum.values());
    String json=objectMapper.writeValueAsString(mspTest);
    assertEquals(TEST_JSON,json);
    mspTest.setMspField(null);
    json=objectMapper.writeValueAsString(mspTest);
    assertEquals(TEST_NULL_JSON,json);
  }
  @Test public void testUnmarshal() throws Exception {
    MSPTest mspTest=objectMapper.readValue(TEST_JSON,MSPTest.class);
    assertArrayEquals(MSPTest.MSPEnum.values(),mspTest.getMspField());
    mspTest=objectMapper.readValue(TEST_NULL_JSON,MSPTest.class);
    assertNull(mspTest.getMspField());
  }
}
