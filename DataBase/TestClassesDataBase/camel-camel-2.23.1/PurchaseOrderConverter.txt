public static class PurchaseOrderConverter implements Converter {
  @SuppressWarnings("rawtypes") public boolean canConvert(  Class type){
    return PurchaseOrder.class.isAssignableFrom(type);
  }
  public Object unmarshal(  HierarchicalStreamReader reader,  UnmarshallingContext context){
    PurchaseOrder order=new PurchaseOrder();
    order.setName(reader.getAttribute("name"));
    order.setPrice(Double.parseDouble(reader.getAttribute("price")));
    order.setAmount(Double.parseDouble(reader.getAttribute("amount")));
    return order;
  }
  public void marshal(  Object object,  HierarchicalStreamWriter writer,  MarshallingContext context){
    writer.addAttribute("name",((PurchaseOrder)object).getName());
    writer.addAttribute("price",Double.toString(((PurchaseOrder)object).getPrice()));
    writer.addAttribute("amount",Double.toString(((PurchaseOrder)object).getAmount()));
  }
}
