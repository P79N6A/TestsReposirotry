/** 
 * Validates Remove Container Request headers are applied properly
 */
public class RemoveContainerCmdHeaderTest extends BaseDockerHeaderTest<RemoveContainerCmd> {
  @Mock private RemoveContainerCmd mockObject;
  @Test public void removeContainerHeaderTest(){
    String containerId="9c09acd48a25";
    boolean force=false;
    boolean removeVolumes=true;
    Map<String,Object> headers=getDefaultParameters();
    headers.put(DockerConstants.DOCKER_CONTAINER_ID,containerId);
    headers.put(DockerConstants.DOCKER_FORCE,force);
    headers.put(DockerConstants.DOCKER_REMOVE_VOLUMES,removeVolumes);
    template.sendBodyAndHeaders("direct:in","",headers);
    Mockito.verify(dockerClient,Mockito.times(1)).removeContainerCmd(containerId);
    Mockito.verify(mockObject,Mockito.times(1)).withForce(eq(force));
    Mockito.verify(mockObject,Mockito.times(1)).withRemoveVolumes(eq(removeVolumes));
  }
  @Override protected void setupMocks(){
    Mockito.when(dockerClient.removeContainerCmd(anyString())).thenReturn(mockObject);
  }
  @Override protected DockerOperation getOperation(){
    return DockerOperation.REMOVE_CONTAINER;
  }
}
