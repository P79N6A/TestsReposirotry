@DirtiesContext @RunWith(SpringRunner.class) @EnableAutoConfiguration @SpringBootTest(classes=ExistingConversionServiceTest.TestConfig.class) public class ExistingConversionServiceTest extends Assert {
  @Autowired @Qualifier("myService") ConversionService conversionService;
  @Test public void shouldUseProvidedConversionService(){
    assertSame(TestConfig.CONVERSION_SERVICE,conversionService);
  }
@Configuration public static class TestConfig {
    static final ConversionService CONVERSION_SERVICE=new DefaultConversionService();
    @Bean(name="myService") ConversionService providedConversionService(){
      return CONVERSION_SERVICE;
    }
  }
}
