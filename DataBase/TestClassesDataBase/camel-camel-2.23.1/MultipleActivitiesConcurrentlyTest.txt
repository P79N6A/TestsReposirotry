/** 
 * @version 
 */
public class MultipleActivitiesConcurrentlyTest extends MultipleProcessesTest {
  @Override @Test public void testBam() throws Exception {
    overdueEndpoint.expectedMinimumMessageCount(1);
    final CountDownLatch startLatch=new CountDownLatch(1);
    final CountDownLatch endLatch=new CountDownLatch(1);
    Thread thread=new Thread("B sender"){
      public void run(){
        startLatch.countDown();
        sendBMessages();
        endLatch.countDown();
      }
    }
;
    thread.start();
    assertTrue(startLatch.await(30,TimeUnit.SECONDS));
    sendAMessages();
    assertTrue(endLatch.await(30,TimeUnit.SECONDS));
    overdueEndpoint.assertIsSatisfied();
  }
  @Override @Before public void setUp() throws Exception {
    errorTimeout=5;
    super.setUp();
  }
}
