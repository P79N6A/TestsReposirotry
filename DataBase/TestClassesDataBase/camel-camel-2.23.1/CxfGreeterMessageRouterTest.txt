/** 
 * The Greeter test with the MESSAGE date format
 */
public class CxfGreeterMessageRouterTest extends AbstractCXFGreeterRouterTest {
  protected static Endpoint endpoint;
  @AfterClass public static void stopService(){
    if (endpoint != null) {
      endpoint.stop();
    }
  }
  @BeforeClass public static void startService(){
    Object implementor=new GreeterImpl();
    String address="http://localhost:" + getPort1() + "/CxfGreeterMessageRouterTest/SoapContext/SoapPort";
    endpoint=Endpoint.publish(address,implementor);
  }
  @Override protected RouteBuilder createRouteBuilder(){
    return new RouteBuilder(){
      public void configure(){
        from("cxf:bean:routerEndpoint?dataFormat=Message&publishedEndpointUrl=http://www.simple.com/services/test").to("cxf:bean:serviceEndpoint?dataFormat=Message");
      }
    }
;
  }
  @Override protected ClassPathXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/component/cxf/GreeterEndpointBeans.xml");
  }
}
