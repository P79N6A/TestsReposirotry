@RunWith(SpringRunner.class) @EnableAutoConfiguration @SpringBootTest public class SimpleOgnlTest {
  @EndpointInject(uri="mock:result") protected MockEndpoint resultEndpoint;
  @Produce(uri="direct:start") protected ProducerTemplate template;
  @Test public void testSimpleOgnlListExpression() throws Exception {
    List<String> list=new ArrayList<>();
    list.add("one");
    list.add("two");
    resultEndpoint.expectedBodiesReceived(list.get(0));
    template.sendBody(list);
    resultEndpoint.assertIsSatisfied();
  }
@Configuration public static class ContextConfig {
    @Bean public RouteBuilder route(){
      return new RouteBuilder(){
        public void configure(){
          from("direct:start").setBody(simple("${body[0]}")).to("mock:result");
        }
      }
;
    }
  }
}
