/** 
 */
public class BindyMarshalWithQuoteTest extends CamelTestSupport {
  @Test public void testBindyMarshalWithQuote() throws Exception {
    MockEndpoint mock=getMockEndpoint("mock:result");
    mock.expectedBodiesReceived("\"123\",\"Wednesday, November 9, 2011\",\"Central California\"" + ConverterUtils.getStringCarriageReturn("WINDOWS"));
    WeatherModel model=new WeatherModel();
    model.setId(123);
    model.setDate("Wednesday, November 9, 2011");
    model.setPlace("Central California");
    template.sendBody("direct:start",model);
    assertMockEndpointsSatisfied();
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("direct:start").marshal().bindy(BindyType.Csv,org.apache.camel.dataformat.bindy.csv2.WeatherModel.class).to("mock:result");
      }
    }
;
  }
}
