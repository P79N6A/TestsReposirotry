/** 
 */
public class SimpleWithPropertiesTest {
  /** 
 * A property from the property component in a expression  is processed when the expression is evaluated with exchange See https://issues.apache.org/jira/browse/CAMEL-4843 Now camel doesn't support the properties expression of {{test}}
 */
  @Test public void testProperty() throws Exception {
    System.setProperty("test","testValue");
    PropertiesComponent pc=new PropertiesComponent();
    CamelContext context=new DefaultCamelContext();
    context.addComponent("properties",pc);
    Exchange exchange=new DefaultExchange(context);
    String result=SimpleBuilder.simple("${properties:test}").evaluate(exchange,String.class);
    Assert.assertEquals("testValue",result);
    System.clearProperty("test");
  }
}
