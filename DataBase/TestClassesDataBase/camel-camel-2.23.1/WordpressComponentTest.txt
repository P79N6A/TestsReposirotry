public class WordpressComponentTest {
  private static final Logger LOGGER=LoggerFactory.getLogger(WordpressComponentTest.class);
  @Test public void testParseUriPropertiesCriteria() throws Exception {
    final WordpressComponent component=new WordpressComponent(Mockito.mock(CamelContext.class));
    final WordpressEndpoint endpoint=(WordpressEndpoint)component.createEndpoint("wordpress:post?apiVersion=2&url=http://mysite.com/&criteria.search=test&criteria.page=1&criteria.perPage=10&criteria.orderBy=author&criteria.categories=camel,dozer,json");
    assertThat(endpoint.getConfig().getSearchCriteria(),instanceOf(PostSearchCriteria.class));
    assertNotNull(endpoint.getConfig().getSearchCriteria());
    assertThat(endpoint.getConfig().getSearchCriteria().getPage(),is(1));
    assertThat(endpoint.getConfig().getSearchCriteria().getPerPage(),is(10));
    assertThat(endpoint.getConfig().getSearchCriteria().getSearch(),is("test"));
    assertThat(((PostSearchCriteria)endpoint.getConfig().getSearchCriteria()).getOrderBy(),is(PostOrderBy.author));
    assertThat(((PostSearchCriteria)endpoint.getConfig().getSearchCriteria()).getCategories(),notNullValue());
    assertThat(((PostSearchCriteria)endpoint.getConfig().getSearchCriteria()).getCategories(),not(emptyCollectionOf(String.class)));
    LOGGER.info("Categories are {}",((PostSearchCriteria)endpoint.getConfig().getSearchCriteria()).getCategories());
  }
}
