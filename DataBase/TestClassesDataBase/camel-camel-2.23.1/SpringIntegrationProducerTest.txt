public class SpringIntegrationProducerTest extends CamelSpringTestSupport {
  @Test public void testSendingTwoWayMessage() throws Exception {
    String result=template.requestBody("direct:twowayMessage","Willem",String.class);
    assertEquals("Can't get the right response",result,"Hello Willem");
  }
  @Test public void testSendingOneWayMessage() throws Exception {
    template.sendBody("direct:onewayMessage","Greet");
    HelloWorldService service=getMandatoryBean(HelloWorldService.class,"helloService");
    assertEquals("We should call the service",service.getGreetName(),"Greet");
  }
  protected ClassPathXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/component/spring/integration/producer.xml");
  }
}
