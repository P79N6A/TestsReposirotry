public class IrcIntegrationTestSupport extends CamelTestSupport {
  @EndpointInject(uri="mock:result") protected MockEndpoint resultEndpoint;
  protected Properties properties;
  @Before public void doBefore() throws IOException {
    properties=loadProperties();
    resetMock(resultEndpoint);
  }
  protected void resetMock(  MockEndpoint mock){
    mock.reset();
    mock.setResultWaitTime(TimeUnit.MINUTES.toMillis(1));
  }
  private Properties loadProperties() throws IOException {
    Properties p=new Properties();
    p.load(this.getClass().getResourceAsStream("/it-tests.properties"));
    return p;
  }
  @Override protected Properties useOverridePropertiesWithPropertiesComponent(){
    try {
      return loadProperties();
    }
 catch (    IOException e) {
      log.error("Can't load configuration properties");
      return null;
    }
  }
  protected String sendUri(){
    return "ircs://{{camelTo}}@{{server}}?channels={{channel1}}";
  }
  protected String fromUri(){
    return "ircs://{{camelFrom}}@{{server}}?&channels={{channel1}}";
  }
}
