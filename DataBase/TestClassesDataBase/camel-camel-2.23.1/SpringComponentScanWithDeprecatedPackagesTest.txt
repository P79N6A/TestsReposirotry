public class SpringComponentScanWithDeprecatedPackagesTest extends ContextTestSupport {
  private AbstractApplicationContext applicationContext;
  @Override @Before public void setUp() throws Exception {
    super.setUp();
    applicationContext=new ClassPathXmlApplicationContext("org/apache/camel/spring/config/scan/componentScanWithPackages.xml");
    context=applicationContext.getBean("camelContext",ModelCamelContext.class);
    template=context.createProducerTemplate();
  }
  @Override @After public void tearDown() throws Exception {
    IOHelper.close(applicationContext);
    super.tearDown();
  }
  @Test public void testSpringComponentScanFeature() throws InterruptedException {
    template.sendBody("direct:start","request");
    MockEndpoint mock=getMockEndpoint("mock:end");
    mock.expectedMessageCount(1);
    mock.assertIsSatisfied();
  }
}
