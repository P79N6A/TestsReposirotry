public class JMXMonitorTypeStringDiffersTest extends SimpleBeanFixture {
  @Test public void differs() throws Exception {
    ISimpleMXBean simpleBean=getSimpleMXBean();
    simpleBean.setStringValue("changed");
    getMockFixture().waitForMessages();
    getMockFixture().assertMessageReceived(new File("src/test/resources/monitor-consumer/stringDiffers.xml"));
  }
  @Override protected JMXUriBuilder buildFromURI(){
    return super.buildFromURI().withMonitorType("string").withGranularityPeriod(500).withObservedAttribute("StringValue").withStringToCompare("initial").withNotifyDiffer(true);
  }
}
