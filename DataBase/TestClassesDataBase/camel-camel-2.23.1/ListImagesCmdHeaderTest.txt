/** 
 * Validates List Image Request headers are parsed properly
 */
public class ListImagesCmdHeaderTest extends BaseDockerHeaderTest<ListImagesCmd> {
  @Mock private ListImagesCmd mockObject;
  @Test public void listImageHeaderTest(){
    String filter="{\"dangling\":[\"true\"]}";
    Boolean showAll=true;
    Map<String,Object> headers=getDefaultParameters();
    headers.put(DockerConstants.DOCKER_FILTER,filter);
    headers.put(DockerConstants.DOCKER_SHOW_ALL,showAll);
    template.sendBodyAndHeaders("direct:in","",headers);
    Mockito.verify(dockerClient,Mockito.times(1)).listImagesCmd();
    Mockito.verify(mockObject,Mockito.times(1)).withShowAll(eq(showAll));
  }
  @Override protected void setupMocks(){
    Mockito.when(dockerClient.listImagesCmd()).thenReturn(mockObject);
  }
  @Override protected DockerOperation getOperation(){
    return DockerOperation.LIST_IMAGES;
  }
}
