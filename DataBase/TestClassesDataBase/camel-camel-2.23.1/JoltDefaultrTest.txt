/** 
 * Unit test testing the Removr.
 */
public class JoltDefaultrTest extends CamelTestSupport {
  @Test public void testFirstSampleJolt() throws Exception {
    Exchange exchange=template.request("direct://start",new Processor(){
      @Override public void process(      Exchange exchange) throws Exception {
        Map<String,String> body=new HashMap<>();
        body.put("Hello","World");
        exchange.getIn().setBody(body);
      }
    }
);
    assertEquals(3,exchange.getOut().getBody(Map.class).size());
    assertEquals("aa",exchange.getOut().getBody(Map.class).get("a"));
    assertEquals("bb",exchange.getOut().getBody(Map.class).get("b"));
    assertEquals("World",exchange.getOut().getBody(Map.class).get("Hello"));
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      public void configure(){
        from("direct://start").to("jolt:org/apache/camel/component/jolt/defaultr.json?transformDsl=Defaultr");
      }
    }
;
  }
}
