/** 
 * Testing the servlet mapping
 */
@RunWith(SpringRunner.class) @SpringBootApplication @DirtiesContext @ContextConfiguration(classes=ServletMappingAutoConfigurationTest.class) @SpringBootTest(webEnvironment=SpringBootTest.WebEnvironment.RANDOM_PORT) public class ServletMappingAutoConfigurationTest {
  @Autowired private TestRestTemplate restTemplate;
  @Autowired private CamelContext context;
  @Before public void setup() throws Exception {
    context.addRoutes(new RouteBuilder(){
      @Override public void configure() throws Exception {
        rest().get("/thepath").produces("text/plain").route().transform().constant("Hello");
      }
    }
);
  }
  @Test public void testServletMapping(){
    Assert.assertEquals("Hello",restTemplate.getForEntity("/camel/thepath",String.class).getBody());
  }
}
