/** 
 * Unit test will look for the spring .xml file with the same class name but postfixed with -config.xml as filename. <p/> We use Spring Testing for unit test, eg we extend AbstractJUnit4SpringContextTests that is a Spring class.
 * @version 
 */
@ContextConfiguration public class JmsToHttpTXTest extends AbstractJUnit4SpringContextTests {
  @EndpointInject(uri="mock:rollback") MockEndpoint mock;
  @EndpointInject(ref="data") private ProducerTemplate template;
  private String ok="<?xml version=\"1.0\"?><reply><status>ok</status></reply>";
  @Test public void testSendToTXJms() throws Exception {
    mock.expectedMessageCount(2);
    Object out=template.requestBody("<?xml version=\"1.0\"?><request><status id=\"123\"/></request>");
    assertEquals(ok,out);
    mock.assertIsSatisfied();
  }
}
