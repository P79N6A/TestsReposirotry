public static class MyFactory implements ProcessorFactory {
  public Processor createChildProcessor(  RouteContext routeContext,  ProcessorDefinition<?> definition,  boolean mandatory) throws Exception {
    return null;
  }
  public Processor createProcessor(  RouteContext routeContext,  ProcessorDefinition<?> definition) throws Exception {
    if (definition instanceof SplitDefinition) {
      SplitDefinition split=(SplitDefinition)definition;
      split.addOutput(new ToDefinition("mock:extra"));
    }
    if (definition instanceof SetBodyDefinition) {
      SetBodyDefinition set=(SetBodyDefinition)definition;
      set.setExpression(new ConstantExpression("body was altered"));
    }
    return null;
  }
}
