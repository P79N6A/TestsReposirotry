public class NettyHttpCustomOptionsTest extends BaseNettyTest {
  String expectedResponse="response";
  @Test public void shouldReturnCustomResponseForOptions() throws Exception {
    String response=template.requestBodyAndHeader("netty4-http:http://localhost:{{port}}/foo","",HTTP_METHOD,"OPTIONS",String.class);
    assertEquals(expectedResponse,response);
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("netty4-http:http://0.0.0.0:{{port}}/foo?httpMethodRestrict=OPTIONS").setBody().constant(expectedResponse);
      }
    }
;
  }
}
