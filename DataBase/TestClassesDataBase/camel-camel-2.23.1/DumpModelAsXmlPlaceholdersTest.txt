/** 
 */
public class DumpModelAsXmlPlaceholdersTest extends SpringTestSupport {
  @Override protected AbstractXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/spring/DumpModelAsXmlPlaceholdersTest.xml");
  }
  @Test public void testDumpModelAsXml() throws Exception {
    assertEquals("Gouda",context.getRoutes().get(0).getId());
    String xml=ModelHelper.dumpModelAsXml(context,context.getRouteDefinition("Gouda"));
    assertNotNull(xml);
    log.info(xml);
    assertTrue(xml.contains("<route xmlns=\"http://camel.apache.org/schema/spring\" customId=\"true\" id=\"Gouda\">"));
    assertTrue(xml.contains("<from uri=\"direct:start-{{cheese.type}}\"/>"));
    assertTrue(xml.contains("<to customId=\"true\" id=\"log\" uri=\"direct:end-{{cheese.type}}\"/>"));
  }
}
