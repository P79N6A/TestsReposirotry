@RunWith(CamelSpringBootRunner.class) @MockEndpoints @SpringBootApplication @SpringBootTest(classes=MockEndpointsTest.class) public class MockEndpointsTest {
  @Autowired FluentProducerTemplate producerTemplate;
  @Autowired CamelContext camelContext;
  @Test public void shouldMockEndpoints() throws Exception {
    MockEndpoint mock=camelContext.getEndpoint("mock://seda:foo",MockEndpoint.class);
    String msg="msg";
    mock.expectedBodiesReceived(msg);
    producerTemplate.withBody(msg).to("direct:start").send();
    mock.assertIsSatisfied();
  }
}
