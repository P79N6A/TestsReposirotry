private static class MyBookProcessor implements Processor {
  private String encoding;
  private String title;
  MyBookProcessor(  String encoding,  String title){
    this.encoding=encoding;
    this.title=title;
  }
  public void process(  Exchange exchange) throws Exception {
    byte[] body=exchange.getIn().getBody(byte[].class);
    String text;
    if (encoding != null) {
      text=new String(body,encoding);
    }
 else {
      text=new String(body);
    }
    assertEquals(text,title);
  }
}
