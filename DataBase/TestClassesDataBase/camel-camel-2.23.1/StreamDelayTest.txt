/** 
 * Unit test for delay option.
 */
public class StreamDelayTest extends CamelTestSupport {
  @Test public void testStringContent() throws Exception {
    long start=System.currentTimeMillis();
    template.sendBody("direct:in","Hello Text World\n");
    long delta=System.currentTimeMillis() - start;
    assertTrue("Delay should be around 2 sec: " + delta,delta > 1900 && delta < 3000);
  }
  protected RouteBuilder createRouteBuilder(){
    return new RouteBuilder(){
      public void configure(){
        from("direct:in").to("stream:out?delay=2000");
      }
    }
;
  }
}
