public class MultipleCodecsSpringTest extends CamelSpringTestSupport {
  @Override protected AbstractXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("/org/apache/camel/component/netty4/multiple-codecs.xml");
  }
  @Test public void canSupplyMultipleCodecsToEndpointPipeline() throws Exception {
    String poem=new Poetry().getPoem();
    MockEndpoint mock=getMockEndpoint("mock:multiple-codec");
    mock.expectedBodiesReceived(poem);
    sendBody("direct:multiple-codec",poem);
    mock.assertIsSatisfied();
  }
}
