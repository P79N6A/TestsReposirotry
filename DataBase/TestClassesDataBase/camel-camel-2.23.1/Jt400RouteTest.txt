/** 
 * Test case for routes that contain <code>jt400:</code> endpoints This test case does nothing by default -- you can use it to test integration when there is a real AS/400 system available by filling in correct values for {@link #USER},  {@link #PASSWORD},  {@link #SYSTEM},  {@link #LIBRARY} and{@link #QUEUE}
 */
public class Jt400RouteTest extends CamelTestSupport {
  private static final String USER="username";
  private static final String PASSWORD="password";
  private static final String SYSTEM=null;
  private static final String LIBRARY="library";
  private static final String QUEUE="queue";
  @Test public void testBasicTest() throws Exception {
    if (SYSTEM != null) {
      MockEndpoint endpoint=getMockEndpoint("mock:a");
      endpoint.expectedBodiesReceived("Test message");
      sendBody("direct:a","Test message");
      endpoint.assertIsSatisfied();
    }
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        if (SYSTEM != null) {
          String uri=String.format("jt400://%s:%s@%s/QSYS.LIB/%s.LIB/%s.DTAQ",USER,PASSWORD,SYSTEM,LIBRARY,QUEUE);
          from("direct:a").to(uri);
          from(uri).to("mock:a");
        }
      }
    }
;
  }
}
