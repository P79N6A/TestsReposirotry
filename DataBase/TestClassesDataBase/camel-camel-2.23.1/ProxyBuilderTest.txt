/** 
 */
public class ProxyBuilderTest extends ContextTestSupport {
  @Test public void testSayFoo() throws Exception {
    Foo foo=new ProxyBuilder(context).endpoint("direct:start").build(Foo.class);
    Future<String> future=foo.sayHello("Camel");
    assertNotNull(future);
    assertFalse("Should not be done",future.isDone());
    assertEquals("Hello Camel",future.get(5,TimeUnit.SECONDS));
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("direct:start").delay(1000).transform(body().prepend("Hello "));
      }
    }
;
  }
interface Foo {
    Future<String> sayHello(    String body);
  }
}
