public class FtpProducerMultipleSiteCommandTest extends FtpServerTestSupport {
  @Override protected JndiRegistry createRegistry() throws Exception {
    JndiRegistry jndi=super.createRegistry();
    jndi.bind("site","help site\nhelp site");
    return jndi;
  }
  @Override public boolean isUseRouteBuilder(){
    return false;
  }
  private String getFtpUrl(){
    return "ftp://admin@localhost:" + getPort() + "/site?password=admin&siteCommand=#site";
  }
  @Test public void testSiteCommands() throws Exception {
    sendFile(getFtpUrl(),"Hello World","hello.txt");
    File file=new File(FTP_ROOT_DIR + "/site/hello.txt");
    assertTrue("The uploaded file should exists",file.exists());
    assertEquals("Hello World",IOConverter.toString(file,null));
  }
}
