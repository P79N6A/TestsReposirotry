public class BlueprintPropertiesLocationElementTest extends CamelBlueprintTestSupport {
  @Override protected String getBlueprintDescriptor(){
    return "org/apache/camel/test/blueprint/properties-location-element-test.xml";
  }
  @Test public void testPropertiesLocationElement() throws Exception {
    MockEndpoint mock=getMockEndpoint("mock:result");
    mock.expectedHeaderReceived("property-1","property-value-1");
    mock.expectedHeaderReceived("property-2","property-value-2");
    mock.expectedHeaderReceived("cm","cm-value");
    PropertiesComponent pc=context.getComponent("properties",PropertiesComponent.class);
    assertNotNull("Properties component not defined",pc);
    List<PropertiesLocation> locations=pc.getLocations();
    assertNotNull(locations);
    assertEquals("Properties locations",3,locations.size());
    template.sendBody("direct:start",null);
    mock.assertIsSatisfied();
  }
}
