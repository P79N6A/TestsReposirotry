public class CXFMessageProcessor implements Processor {
  static final String RESPONSE="<soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">" + "<soap:Body><greetMeResponse xmlns=\"http://apache.org/hello_world_soap_http/types\">" + "<responseType> Hello CXF</responseType></greetMeResponse></soap:Body></soap:Envelope>";
  public void process(  Exchange exchange) throws Exception {
    Message in=exchange.getIn();
    String request=in.getBody(String.class);
    assertTrue("It should be GreetMe request.",request.indexOf("<greetMe") > 0);
    InputStream is=new ByteArrayInputStream(RESPONSE.getBytes());
    SOAPMessage message=MessageFactory.newInstance().createMessage(null,is);
    exchange.getOut().setBody(message);
  }
}
