public class OpentracingSpanCollectorInRegistryTest extends CamelTestSupport {
  private OpenTracingTracer openTracing;
  @Override protected CamelContext createCamelContext() throws Exception {
    CamelContext context=super.createCamelContext();
    openTracing=new OpenTracingTracer();
    openTracing.init(context);
    return context;
  }
  @Override protected JndiRegistry createRegistry() throws Exception {
    JndiRegistry registry=super.createRegistry();
    registry.bind("tracer",NoopTracerFactory.create());
    return registry;
  }
  @Test public void testZipkinConfiguration() throws Exception {
    assertNotNull(openTracing.getTracer());
    assertTrue(openTracing.getTracer() instanceof NoopTracer);
  }
}
