/** 
 * @version 
 */
@ContextConfiguration public class SpringRemotingWithOneWayTest extends SpringRunWithTestSupport {
  @Autowired protected IAsyncService myService;
  @EndpointInject(uri="mock:results") protected MockEndpoint endpoint;
  @Test public void testAsyncInvocation() throws Exception {
    endpoint.expectedMessageCount(1);
    myService.doSomethingAsync("Hello");
    endpoint.assertIsSatisfied();
    List<Exchange> list=endpoint.getReceivedExchanges();
    for (    Exchange exchange : list) {
      log.info("Received: " + exchange.getIn().getBody());
      ExchangePattern pattern=exchange.getPattern();
      assertEquals("Expected pattern on exchange: " + exchange,ExchangePattern.InOnly,pattern);
    }
  }
}
