public class MyPollStrategy extends RemoteFilePollingConsumerPollStrategy {
  @Override public void commit(  Consumer consumer,  Endpoint endpoint,  int polledMessages){
    counter++;
    if (counter < 3) {
      throw new IllegalArgumentException("Forced by unit test");
    }
  }
  @Override public boolean rollback(  Consumer consumer,  Endpoint endpoint,  int retryCounter,  Exception e) throws Exception {
    rollback++;
    return super.rollback(consumer,endpoint,retryCounter,e);
  }
}
