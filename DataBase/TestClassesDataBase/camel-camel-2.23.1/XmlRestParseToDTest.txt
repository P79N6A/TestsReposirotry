public class XmlRestParseToDTest extends XmlTestSupport {
  @Test public void testParseSimpleRestXml() throws Exception {
    RestDefinition rest=assertOneRest("simpleRestToD.xml");
    assertEquals("/users",rest.getPath());
    assertEquals(1,rest.getVerbs().size());
    GetVerbDefinition get=(GetVerbDefinition)rest.getVerbs().get(0);
    assertEquals("/view/{id}",get.getUri());
    assertEquals("bean:getUser?id=${header.id}",get.getToD().getUri());
  }
  protected RestDefinition assertOneRest(  String uri) throws JAXBException {
    RestContainer context=assertParseRestAsJaxb(uri);
    RestDefinition rest=assertOneElement(context.getRests());
    return rest;
  }
}
