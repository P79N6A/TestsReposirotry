/** 
 * @version 
 */
public class BodyAndHeaderConvertTest extends Assert {
  protected Exchange exchange;
  @Test public void testConversionOfBody() throws Exception {
    Document document=exchange.getIn().getBody(Document.class);
    assertNotNull(document);
    Element element=document.getDocumentElement();
    assertEquals("Root element name","hello",element.getLocalName());
  }
  @Test public void testConversionOfExchangeProperties() throws Exception {
    String text=exchange.getProperty("foo",String.class);
    assertEquals("foo property","1234",text);
  }
  @Test public void testConversionOfMessageHeaders() throws Exception {
    String text=exchange.getIn().getHeader("bar",String.class);
    assertEquals("bar header","567",text);
  }
  @Test public void testConversionOfMessageAttachments() throws Exception {
    DataHandler handler=exchange.getIn().getAttachment("att");
    assertNotNull("attachment got lost",handler);
    Attachment attachment=exchange.getIn().getAttachmentObject("att");
    assertNotNull("attachment got lost",attachment);
  }
  @Before public void setUp() throws Exception {
    exchange=new DefaultExchange(new DefaultCamelContext());
    exchange.setProperty("foo",1234);
    Message message=exchange.getIn();
    message.setBody("<hello>world!</hello>");
    message.setHeader("bar",567);
    message.addAttachmentObject("att",new DefaultAttachment(new URLDataSource(new URL("http://camel.apache.org/message.html"))));
  }
}
