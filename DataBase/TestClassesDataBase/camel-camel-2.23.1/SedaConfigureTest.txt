/** 
 * @version
 */
public class SedaConfigureTest extends ContextTestSupport {
  @SuppressWarnings("unchecked") @Test public void testBlockingQueueConfigured() throws Exception {
    SedaEndpoint endpoint=resolveMandatoryEndpoint("seda:foo?size=2000",SedaEndpoint.class);
    BlockingQueue<Exchange> queue=endpoint.getQueue();
    LinkedBlockingQueue<Exchange> blockingQueue=assertIsInstanceOf(LinkedBlockingQueue.class,queue);
    assertEquals("remainingCapacity",2000,blockingQueue.remainingCapacity());
  }
  @Test public void testConcurrentConsumersConfigured(){
    SedaEndpoint endpoint=resolveMandatoryEndpoint("seda:foo?concurrentConsumers=5",SedaEndpoint.class);
    assertEquals("concurrentConsumers",5,endpoint.getConcurrentConsumers());
  }
  @Test public void testBlockWhenFull(){
    SedaEndpoint endpoint=resolveMandatoryEndpoint("seda:foo?size=2000&blockWhenFull=true",SedaEndpoint.class);
    assertTrue("blockWhenFull",endpoint.isBlockWhenFull());
  }
  @Test public void testDefaults(){
    SedaEndpoint endpoint=resolveMandatoryEndpoint("seda:foo",SedaEndpoint.class);
    assertFalse("blockWhenFull: wrong default",endpoint.isBlockWhenFull());
    assertEquals("concurrentConsumers: wrong default",1,endpoint.getConcurrentConsumers());
    assertEquals("size (remainingCapacity): wrong default",SedaConstants.QUEUE_SIZE,endpoint.getSize());
    assertEquals("timeout: wrong default",30000L,endpoint.getTimeout());
  }
}
