public class NettyUDPSyncTest extends BaseNettyTest {
  private static final String RESPONSE="Go tell the Spartans, thou that passest by, That faithful to their precepts here we lie.";
  private static final String REQUEST="After the Battle of Thermopylae in 480 BC - Simonides of Ceos (c. 556 BC-468 BC), Greek lyric poet wrote ";
  @Test public void testUDPStringInOutWithNettyConsumer() throws Exception {
    for (int i=0; i < 5; i++) {
      String response=template.requestBody("netty4:udp://localhost:{{port}}?sync=true",REQUEST,String.class);
      assertEquals(RESPONSE,response);
    }
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("netty4:udp://localhost:{{port}}?sync=true").process(new Processor(){
          public void process(          Exchange exchange) throws Exception {
            exchange.getOut().setBody(RESPONSE);
          }
        }
);
      }
    }
;
  }
}
