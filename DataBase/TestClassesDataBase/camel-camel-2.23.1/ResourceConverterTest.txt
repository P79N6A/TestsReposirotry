public class ResourceConverterTest extends TestSupport {
  @Test public void testResourceConverterRegistry(){
    Assert.assertNotNull(getResourceTypeConverter());
  }
  @Test public void testNonNullConversion() throws IOException {
    Resource resource=new ClassPathResource("testresource.txt",ResourceConverterTest.class);
    Assert.assertTrue(resource.exists());
    InputStream inputStream=getResourceTypeConverter().convertTo(InputStream.class,resource);
    byte[] resourceBytes=IOConverter.toBytes(resource.getInputStream());
    byte[] inputStreamBytes=IOConverter.toBytes(inputStream);
    Assert.assertArrayEquals(resourceBytes,inputStreamBytes);
  }
  private TypeConverter getResourceTypeConverter(){
    CamelContext camelContext=new DefaultCamelContext();
    TypeConverter typeConverter=camelContext.getTypeConverterRegistry().lookup(InputStream.class,Resource.class);
    return typeConverter;
  }
}
