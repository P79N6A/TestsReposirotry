/** 
 * Test preconfigured Facebook component.
 */
public class FacebookEndpointTest extends CamelFacebookTestSupport {
  public FacebookEndpointTest() throws Exception {
  }
  @Test public void testNoArgsEndpoint() throws Exception {
    final MockEndpoint mockEndpoint=getMockEndpoint("mock://testNoArgs");
    mockEndpoint.expectedMessageCount(1);
    template().requestBodyAndHeader("direct:testNoArgs",null,FacebookConstants.FACEBOOK_PROPERTY_PREFIX + "userId","me");
    mockEndpoint.assertIsSatisfied();
  }
  @Override protected CamelContext createCamelContext() throws Exception {
    final CamelContext camelContext=super.createCamelContext();
    final FacebookComponent component=new FacebookComponent();
    component.setConfiguration(getConfiguration());
    camelContext.addComponent("facebook",component);
    return camelContext;
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("direct:testNoArgs").to("facebook:getuserlikes").to("mock://testNoArgs");
      }
    }
;
  }
}
