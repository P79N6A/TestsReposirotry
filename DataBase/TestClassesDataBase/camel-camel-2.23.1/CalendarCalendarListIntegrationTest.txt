/** 
 * Test class for  {@link com.google.api.services.calendar.Calendar$CalendarList} APIs.
 */
public class CalendarCalendarListIntegrationTest extends AbstractGoogleCalendarTestSupport {
  private static final Logger LOG=LoggerFactory.getLogger(CalendarCalendarListIntegrationTest.class);
  private static final String PATH_PREFIX=GoogleCalendarApiCollection.getCollection().getApiName(CalendarCalendarListApiMethod.class).getName();
  @Test public void testCalendarList() throws Exception {
    Calendar calendar=getCalendar();
    assertTrue("Test calendar should be in the list",isCalendarInList(calendar));
    CalendarListEntry calendarFromGet=requestBody("direct://GET",calendar.getId());
    assertTrue(calendar.getId().equals(calendarFromGet.getId()));
  }
  protected boolean isCalendarInList(  Calendar calendar){
    CalendarList calendarList=requestBody("direct://LIST",null);
    java.util.List<CalendarListEntry> items=calendarList.getItems();
    boolean found=false;
    for (    CalendarListEntry calendarListEntry : items) {
      if (calendar.getSummary().equals(calendarListEntry.getSummary())) {
        found=true;
      }
    }
    return found;
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure(){
        from("direct://DELETE").to("google-calendar://" + PATH_PREFIX + "/delete?inBody=calendarId");
        from("direct://GET").to("google-calendar://" + PATH_PREFIX + "/get?inBody=calendarId");
        from("direct://INSERT").to("google-calendar://" + PATH_PREFIX + "/insert?inBody=content");
        from("direct://LIST").to("google-calendar://" + PATH_PREFIX + "/list");
        from("direct://PATCH").to("google-calendar://" + PATH_PREFIX + "/patch");
        from("direct://UPDATE").to("google-calendar://" + PATH_PREFIX + "/update");
        from("direct://WATCH").to("google-calendar://" + PATH_PREFIX + "/watch?inBody=contentChannel");
      }
    }
;
  }
}
