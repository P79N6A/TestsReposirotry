/** 
 * Unit test based on user forum request about this component
 */
public abstract class AbstractJdbcTestSupport extends CamelTestSupport {
  protected EmbeddedDatabase db;
  @Override protected JndiRegistry createRegistry() throws Exception {
    JndiRegistry reg=super.createRegistry();
    reg.bind("testdb",db);
    return reg;
  }
  @Before @Override public void setUp() throws Exception {
    db=new EmbeddedDatabaseBuilder().setType(EmbeddedDatabaseType.DERBY).addScript("sql/init.sql").build();
    super.setUp();
  }
  @After @Override public void tearDown() throws Exception {
    super.tearDown();
    db.shutdown();
  }
}
