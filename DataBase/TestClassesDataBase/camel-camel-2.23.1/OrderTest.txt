@RunWith(CamelCdiRunner.class) public class OrderTest {
  @ClassRule public static MessageVerifier verifier=new MessageVerifier();
  @Inject @Uri("direct:in") private ProducerTemplate producer;
  @Test @Order(2) public void sendMessageTwo(){
    producer.sendBody("two");
  }
  @Test @Order(3) public void sendMessageThree(){
    producer.sendBody("three");
  }
  @Test @Order(1) public void sendMessageOne(){
    producer.sendBody("one");
  }
static class TestRoute extends RouteBuilder {
    @Override public void configure(){
      from("direct:out").process(verifier);
    }
  }
static class MessageVerifier extends Verifier implements Processor {
    private final List<String> messages=new ArrayList<>();
    @Override protected void verify(){
      assertThat("Messages sequence is incorrect!",messages,contains("one","two","three"));
    }
    @Override public void process(    Exchange exchange){
      messages.add(exchange.getIn().getBody(String.class));
    }
  }
}
