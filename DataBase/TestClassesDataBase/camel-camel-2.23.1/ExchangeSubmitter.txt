private static class ExchangeSubmitter implements Callable<Boolean> {
  private final Endpoint startEndpoint;
  private final SendProcessor asyncSender;
  ExchangeSubmitter(  Endpoint startEndpoint,  SendProcessor asyncSender){
    this.startEndpoint=startEndpoint;
    this.asyncSender=asyncSender;
  }
  @Override public Boolean call() throws Exception {
    Exchange exchange=startEndpoint.createExchange(ExchangePattern.InOut);
    exchange.getIn().setBody("Hello Camel");
    return asyncSender.process(exchange,new AsyncCallback(){
      @Override public void done(      boolean doneSync){
        Assert.assertFalse(doneSync);
      }
    }
);
  }
}
