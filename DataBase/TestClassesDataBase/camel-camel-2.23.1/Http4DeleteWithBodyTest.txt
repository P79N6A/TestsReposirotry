public class Http4DeleteWithBodyTest extends BaseJettyTest {
  @Test public void testHttp4DeleteWithBodyFalseTest() throws Exception {
    byte[] data="World".getBytes();
    String out=template.requestBodyAndHeader("http4://localhost:{{port}}/test",data,Exchange.HTTP_METHOD,"DELETE",String.class);
    assertEquals("Bye ",out);
  }
  @Test public void testHttp4DeleteWithBodyTrueTest() throws Exception {
    byte[] data="World".getBytes();
    String out=template.requestBodyAndHeader("http4://localhost:{{port}}/test?deleteWithBody=true",data,Exchange.HTTP_METHOD,"DELETE",String.class);
    assertEquals("Bye World",out);
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("jetty://http://localhost:{{port}}/test").process(new Processor(){
          @Override public void process(          Exchange exchange) throws Exception {
            String method=exchange.getIn().getHeader(Exchange.HTTP_METHOD,String.class);
            assertEquals("DELETE",method);
          }
        }
).transform(simple("Bye ${body}"));
      }
    }
;
  }
}
