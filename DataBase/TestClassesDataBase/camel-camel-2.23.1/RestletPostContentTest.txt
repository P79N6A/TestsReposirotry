/** 
 * @version 
 */
public class RestletPostContentTest extends RestletTestSupport {
  private static final String MSG_BODY="Hello World!";
  @Override protected RouteBuilder createRouteBuilder(){
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("restlet:http://localhost:" + portNum + "/users/{username}?restletMethod=POST").process(new SetUserProcessor());
      }
    }
;
  }
class SetUserProcessor implements Processor {
    public void process(    Exchange exchange) throws Exception {
      assertEquals(MSG_BODY,exchange.getIn().getBody(String.class));
    }
  }
  @Test public void testPostBody() throws Exception {
    HttpUriRequest method=new HttpPost("http://localhost:" + portNum + "/users/homer");
    ((HttpEntityEnclosingRequestBase)method).setEntity(new StringEntity(MSG_BODY));
    HttpResponse response=doExecute(method);
    assertHttpResponse(response,200,"text/plain");
  }
}
