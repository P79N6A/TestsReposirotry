static class AutoCloseableBean implements AutoCloseable, TestState {
  boolean closed;
  private final ApplicationContext context;
  public AutoCloseableBean(  final ApplicationContext context){
    this.context=context;
  }
  @Override public void assertValid(){
    assertThat(closed).as("AutoCloseable bean should be closed").isTrue();
  }
  @Override public void close(){
    assertThat(camelIsStopped(context)).as("AutoCloseable bean should be stopped after Camel").isTrue();
    closed=true;
  }
}
