/** 
 * Unit test for  {@link ChunkComponent} and {@link ChunkEndpoint}
 */
public class ChunkDifferentThemeFolderSubfolderAndExtensionTest extends CamelTestSupport {
  @EndpointInject(uri="mock:endSimple") protected MockEndpoint endSimpleMock;
  @Produce(uri="direct:startSimple") protected ProducerTemplate startSimpleProducerTemplate;
  /** 
 * Test using themeFolder, themeSubfolder and extension parameters
 */
  @Test public void testChunkSubfolder() throws Exception {
    Exchange exchange=createExchangeWithBody("The Body");
    exchange.getIn().setHeader("name","Andrew");
    endSimpleMock.expectedMessageCount(1);
    endSimpleMock.expectedBodiesReceived("Earth to Andrew. Come in, Andrew.\n");
    startSimpleProducerTemplate.send(exchange);
    assertMockEndpointsSatisfied();
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure(){
        from("direct:startSimple").to("chunk:subfile_example?themeFolder=folderexample&themeSubfolder=subfolderexample&extension=file").to("mock:endSimple");
      }
    }
;
  }
}
