/** 
 * Unit test routing with simple language.
 */
public class SimpleLanguageRouteTest extends ContextTestSupport {
  @Test public void testSimpleFilter() throws Exception {
    MockEndpoint mock=getMockEndpoint("mock:foo");
    mock.expectedBodiesReceived("Hello Foo");
    template.sendBody("seda:foo","Hello Bar");
    template.sendBodyAndHeader("seda:foo","Hello Foo","foo","yes");
    assertMockEndpointsSatisfied();
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      public void configure() throws Exception {
        from("seda:foo").filter().simple("${header.foo}").to("mock:foo");
      }
    }
;
  }
}
