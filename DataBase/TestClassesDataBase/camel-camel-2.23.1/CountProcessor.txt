private static class CountProcessor implements Processor {
  private AtomicInteger counter=new AtomicInteger(0);
  public void process(  Exchange exchange) throws Exception {
    counter.incrementAndGet();
  }
  public int getCounter(){
    return counter.intValue();
  }
}
