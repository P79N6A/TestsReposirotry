public class DefaultCompositeApiClientTest {
  private static final String V34_0="34.0";
  private static final String V35_0="35.0";
  @Test public void shouldAllowNewerPayloadsWhenConfiguredWithNewerVersion() throws SalesforceException {
    final SObjectBatch batch=new SObjectBatch(V34_0);
    DefaultCompositeApiClient.checkCompositeBatchVersion(V35_0,batch.getVersion());
  }
  @Test(expected=SalesforceException.class) public void shouldNotAllowNewerPayloadsWhenConfiguredWithOlderVersion() throws SalesforceException {
    final SObjectBatch batch=new SObjectBatch(V35_0);
    DefaultCompositeApiClient.checkCompositeBatchVersion(V34_0,batch.getVersion());
  }
  @Test public void shouldUseCompositeApiFromVersion34Onwards() throws SalesforceException {
    final SObjectBatch batch=new SObjectBatch(V34_0);
    DefaultCompositeApiClient.checkCompositeBatchVersion(V34_0,batch.getVersion());
  }
}
