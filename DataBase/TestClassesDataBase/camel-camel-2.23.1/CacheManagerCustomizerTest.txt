@RunWith(SpringRunner.class) @DirtiesContext @SpringBootApplication @SpringBootTest(classes={CacheManagerCustomizerTest.TestConfiguration.class},properties={"debug=false"}) public class CacheManagerCustomizerTest {
  @Autowired CacheManager cacheManager;
  @Autowired EhcacheComponent component;
  @Test public void testComponentConfiguration() throws Exception {
    Assert.assertNotNull(cacheManager);
    Assert.assertNotNull(component);
    Assert.assertEquals(cacheManager,component.getCacheManager());
  }
@Configuration public static class TestConfiguration {
    @Bean(initMethod="init",destroyMethod="close") public CacheManager cacheManager(){
      return CacheManagerBuilder.newCacheManagerBuilder().build();
    }
  }
}
