public class SimpleNotifyBuilderTest extends CamelTestSupport {
  @Test public void testNotifyBuilder() throws Exception {
    NotifyBuilder notify=new NotifyBuilder(context).from("seda:start").wereSentTo("seda:queue").whenDone(10).create();
    for (int i=0; i < 10; i++) {
      template.sendBody("seda:start","Camel" + i);
    }
    boolean matches=notify.matches(10,TimeUnit.SECONDS);
    assertTrue(matches);
  }
  @Override protected RoutesBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("seda:start").transform(simple("Bye ${body}")).to("seda:queue");
      }
    }
;
  }
}
