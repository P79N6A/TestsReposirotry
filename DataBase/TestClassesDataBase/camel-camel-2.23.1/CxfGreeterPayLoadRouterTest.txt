/** 
 * The Greeter test with the PAYLOAD date format
 */
public class CxfGreeterPayLoadRouterTest extends AbstractCXFGreeterRouterTest {
  protected static Endpoint endpoint;
  @AfterClass public static void stopService(){
    if (endpoint != null) {
      endpoint.stop();
    }
  }
  @BeforeClass public static void startService(){
    Object implementor=new GreeterImpl();
    String address="http://localhost:" + getPort1() + "/CxfGreeterPayLoadRouterTest/SoapContext/SoapPort";
    endpoint=Endpoint.publish(address,implementor);
  }
  @Override protected RouteBuilder createRouteBuilder(){
    return new RouteBuilder(){
      public void configure(){
        from("cxf:bean:routerEndpoint?dataFormat=PAYLOAD&publishedEndpointUrl=http://www.simple.com/services/test").to("cxf:bean:serviceEndpoint?dataFormat=PAYLOAD");
      }
    }
;
  }
  @Override protected ClassPathXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/component/cxf/GreeterEndpointPayloadBeans.xml");
  }
}
