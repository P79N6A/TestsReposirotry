@DirtiesContext @RunWith(SpringRunner.class) @EnableAutoConfiguration @SpringBootTest public class CustomCamelCamelConfigurationTest extends Assert {
@Configuration static class Config {
    @Bean RouteBuilder routeBuilder(){
      return new RouteBuilder(){
        @Override public void configure() throws Exception {
          from("direct:foo").routeId("foo").noAutoStartup().to("mock:result");
        }
      }
;
    }
    @Bean public CamelContextConfiguration myConfiguration(){
      return new CamelContextConfiguration(){
        @Override public void beforeApplicationStart(        CamelContext camelContext){
        }
        @Override public void afterApplicationStart(        CamelContext camelContext){
          try {
            camelContext.startRoute("foo");
          }
 catch (          Exception e) {
          }
        }
      }
;
    }
  }
  @Autowired CamelContextConfiguration custom;
  @Autowired CamelContext camelContext;
  @Test public void shouldCustom() throws Exception {
    assertNotNull(custom);
    assertTrue(camelContext.getRouteStatus("foo").isStarted());
  }
}
