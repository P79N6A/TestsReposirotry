public class AvroSettingsTest extends AvroTestSupport {
  @Test(expected=FailedToCreateRouteException.class) public void testConsumerForUnknownMessage() throws Exception {
    context().addRoutes(new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("avro:http:localhost:" + avroPort + "/notValid?protocolClassName=org.apache.camel.avro.generated.KeyValueProtocol").to("log:test");
      }
    }
);
  }
  @Test(expected=FailedToCreateRouteException.class) public void testProducerForUnknownMessage() throws Exception {
    context().addRoutes(new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("direct:test").to("avro:http:localhost:" + avroPort + "/notValid?protocolClassName=org.apache.camel.avro.generated.KeyValueProtocol");
      }
    }
);
  }
  @Test(expected=FailedToCreateRouteException.class) public void testProducerForNonSingleParamMessage() throws Exception {
    context().addRoutes(new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("direct:test").to("avro:http:localhost:" + avroPort + "/put?protocolClassName=org.apache.camel.avro.generated.KeyValueProtocol&singleParameter=true");
      }
    }
);
  }
}
