public class CircularComponentCreationTest {
  @Test public void testSimple(){
    try {
      doTest("org/apache/camel/spring/CircularComponentCreationSimpleTest.xml");
      Assert.fail("Exception should have been thrown");
    }
 catch (    RuntimeCamelException e) {
      Assert.assertTrue(e.getCause() instanceof FailedToCreateRouteException);
    }
  }
  @Test public void testComplex(){
    doTest("org/apache/camel/spring/CircularComponentCreationComplexTest.xml");
  }
  private void doTest(  String path){
    AbstractXmlApplicationContext applicationContext=null;
    try {
      applicationContext=new ClassPathXmlApplicationContext(path);
      new SpringCamelContext(applicationContext);
    }
  finally {
      IOHelper.close(applicationContext);
    }
  }
}
