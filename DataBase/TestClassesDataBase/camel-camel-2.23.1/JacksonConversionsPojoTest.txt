public class JacksonConversionsPojoTest extends CamelTestSupport {
  @Override protected CamelContext createCamelContext() throws Exception {
    CamelContext context=super.createCamelContext();
    context.getProperties().put(JacksonConstants.ENABLE_TYPE_CONVERTER,"true");
    context.getProperties().put(JacksonConstants.TYPE_CONVERTER_TO_POJO,"true");
    return context;
  }
  @Test public void shouldConvertPojoToString(){
    Order order=new Order();
    order.setAmount(1);
    order.setCustomerName("Acme");
    order.setPartName("Camel");
    String json=(String)template.requestBody("direct:test",order);
    assertEquals("{\"id\":0,\"partName\":\"Camel\",\"amount\":1,\"customerName\":\"Acme\"}",json);
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("direct:test").convertBodyTo(String.class);
      }
    }
;
  }
}
