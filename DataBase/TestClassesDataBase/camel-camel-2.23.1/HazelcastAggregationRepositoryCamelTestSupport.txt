public class HazelcastAggregationRepositoryCamelTestSupport extends CamelTestSupport {
  private static HazelcastInstance hzOne;
  private static HazelcastInstance hzTwo;
  protected static HazelcastInstance getFirstInstance(){
    return hzOne;
  }
  protected static HazelcastInstance getSecondInstance(){
    return hzTwo;
  }
  @BeforeClass public static void setUpHazelcastCluster(){
    hzOne=Hazelcast.newHazelcastInstance(createConfig("hzOne"));
    hzTwo=Hazelcast.newHazelcastInstance(createConfig("hzTwo"));
  }
  @AfterClass public static void shutDownHazelcastCluster(){
    Hazelcast.shutdownAll();
  }
  private static Config createConfig(  String name){
    Config config=new Config();
    config.setInstanceName(name);
    config.getNetworkConfig().getJoin().getMulticastConfig().setEnabled(false);
    config.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true).addMember("127.0.0.1");
    return config;
  }
}
