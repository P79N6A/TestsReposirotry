public class DefaultHttpBindingTest extends CamelTestSupport {
  @Test public void testConvertDate() throws Exception {
    DefaultHttpBinding binding=new DefaultHttpBinding();
    Date date=new Date();
    Exchange exchange=super.createExchangeWithBody(null);
    String value=binding.convertHeaderValueToString(exchange,date);
    assertNotEquals(value,date.toString());
    assertEquals(value,DefaultHttpBinding.getHttpDateFormat().format(date));
  }
  @Test public void testConvertDateTypeConverter() throws Exception {
    DefaultHttpBinding binding=new DefaultHttpBinding();
    Date date=new Date();
    Exchange exchange=super.createExchangeWithBody(null);
    exchange.setProperty(DefaultHttpBinding.DATE_LOCALE_CONVERSION,false);
    String value=binding.convertHeaderValueToString(exchange,date);
    assertEquals(value,date.toString());
  }
  @Test public void testConvertLocale() throws Exception {
    DefaultHttpBinding binding=new DefaultHttpBinding();
    Locale l=Locale.SIMPLIFIED_CHINESE;
    Exchange exchange=super.createExchangeWithBody(null);
    String value=binding.convertHeaderValueToString(exchange,l);
    assertNotEquals(value,l.toString());
    assertEquals("zh-CN",value);
  }
  @Test public void testConvertLocaleTypeConverter() throws Exception {
    DefaultHttpBinding binding=new DefaultHttpBinding();
    Locale l=Locale.SIMPLIFIED_CHINESE;
    Exchange exchange=super.createExchangeWithBody(null);
    exchange.setProperty(DefaultHttpBinding.DATE_LOCALE_CONVERSION,false);
    String value=binding.convertHeaderValueToString(exchange,l);
    assertEquals(value,l.toString());
  }
}
