@RunWith(SpringRunner.class) @DirtiesContext @SpringBootApplication @SpringBootTest(classes={RemoteCacheManagerCustomizerTest.TestConfiguration.class},properties={"debug=false","infinispan.embedded.enabled=false","infinispan.remote.enabled=false"}) public class RemoteCacheManagerCustomizerTest {
  @Autowired EmbeddedCacheManager embeddedCacheManager;
  @Autowired RemoteCacheManager remoteCacheManager;
  @Autowired InfinispanComponent component;
  @Autowired ApplicationContext context;
  @Test public void testComponentConfiguration() throws Exception {
    Assert.assertNotNull(embeddedCacheManager);
    Assert.assertNotNull(remoteCacheManager);
    Assert.assertNotNull(component);
    Assert.assertEquals(remoteCacheManager,component.getCacheContainer());
    Assert.assertEquals(1,context.getBeansOfType(EmbeddedCacheManagerCustomizer.class).size());
    Assert.assertEquals(1,context.getBeansOfType(RemoteCacheManagerCustomizer.class).size());
  }
@Configuration public static class TestConfiguration {
    @Bean public EmbeddedCacheManager embeddedCacheManagerInstance(){
      return CacheManagerCustomizerTestSupport.newEmbeddedCacheManagerInstance();
    }
    @Bean public RemoteCacheManager remoteCacheManagerInstance(){
      return CacheManagerCustomizerTestSupport.newRemoteCacheManagerInstance();
    }
  }
}
