public class CoAPRestContextPathTest extends CoAPTestSupport {
  @Test public void testCoAPRestContextPath() throws Exception {
    CoapClient client=createClient("/rest/services/test/a");
    CoapResponse response=client.get();
    assertEquals(ResponseCode.CONTENT,response.getCode());
    assertEquals("GET: /test/a",response.getResponseText());
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        restConfiguration("coap").host("localhost").port(PORT).contextPath("/rest/services");
        rest("/test").get("/a").route().setBody(constant("GET: /test/a"));
      }
    }
;
  }
}
