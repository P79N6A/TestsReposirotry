/** 
 * Test that verifies JMX properties can be configured via Spring.
 */
public class JMXAgentPropertiesTest extends JMXAgentTest {
  @Override protected int getPort(){
    return 20009;
  }
  @Override protected AbstractXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/spring/jmxConfigUsingProperties.xml");
  }
  @Test public void testEnableUseHostIPAddress() throws Exception {
    CamelContext ctx=createCamelContext();
    ManagementAgent agent=ctx.getManagementStrategy().getManagementAgent();
    agent.start();
    assertTrue(agent.getUseHostIPAddress());
  }
}
