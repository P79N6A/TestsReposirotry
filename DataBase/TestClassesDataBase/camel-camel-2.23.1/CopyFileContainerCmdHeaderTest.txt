/** 
 * Validates Copy File from Container Request headers are applied properly
 */
public class CopyFileContainerCmdHeaderTest extends BaseDockerHeaderTest<CopyFileFromContainerCmd> {
  @Mock private CopyFileFromContainerCmd mockObject;
  @Test public void copyFileFromContainerHeaderTest(){
    String containerId="9c09acd48a25";
    String resource="/test";
    String hostPath="/test/test2";
    Map<String,Object> headers=getDefaultParameters();
    headers.put(DockerConstants.DOCKER_CONTAINER_ID,containerId);
    headers.put(DockerConstants.DOCKER_RESOURCE,resource);
    headers.put(DockerConstants.DOCKER_HOST_PATH,hostPath);
    template.sendBodyAndHeaders("direct:in","",headers);
    Mockito.verify(dockerClient,Mockito.times(1)).copyFileFromContainerCmd(containerId,resource);
    Mockito.verify(mockObject,Mockito.times(1)).withHostPath(eq(hostPath));
  }
  @Override protected void setupMocks(){
    Mockito.when(dockerClient.copyFileFromContainerCmd(anyString(),anyString())).thenReturn(mockObject);
  }
  @Override protected DockerOperation getOperation(){
    return DockerOperation.COPY_FILE_CONTAINER;
  }
}
