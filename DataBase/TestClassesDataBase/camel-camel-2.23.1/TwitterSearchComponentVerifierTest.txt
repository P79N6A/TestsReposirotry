public class TwitterSearchComponentVerifierTest extends AbstractComponentVerifierTest {
  @Override protected String getComponentScheme(){
    return "twitter-search";
  }
  @Test public void testEmptyConfiguration(){
    AbstractTwitterComponent component=context().getComponent(getComponentScheme(),AbstractTwitterComponent.class);
    ComponentVerifier verifier=component.getVerifier();
{
      ComponentVerifier.Result result=verifier.verify(ComponentVerifier.Scope.PARAMETERS,Collections.emptyMap());
      Assert.assertEquals(ComponentVerifier.Result.Status.ERROR,result.getStatus());
      Assert.assertEquals(5,result.getErrors().size());
      List<String> expected=new LinkedList<>();
      expected.add("keywords");
      expected.add("consumerKey");
      expected.add("consumerSecret");
      expected.add("accessToken");
      expected.add("accessTokenSecret");
      for (      ComponentVerifier.VerificationError error : result.getErrors()) {
        expected.removeAll(error.getParameterKeys());
      }
      Assert.assertTrue("Missing expected params: " + expected.toString(),expected.isEmpty());
    }
{
      ComponentVerifier.Result result=verifier.verify(ComponentVerifier.Scope.CONNECTIVITY,Collections.emptyMap());
      Assert.assertEquals(ComponentVerifier.Result.Status.ERROR,result.getStatus());
      Assert.assertEquals(1,result.getErrors().size());
      Assert.assertEquals(ComponentVerifier.VerificationError.StandardCode.EXCEPTION,result.getErrors().get(0).getCode());
      Assert.assertNotNull(result.getErrors().get(0).getDetails().get(ComponentVerifier.VerificationError.ExceptionAttribute.EXCEPTION_INSTANCE));
      Assert.assertTrue(result.getErrors().get(0).getDetails().get(ComponentVerifier.VerificationError.ExceptionAttribute.EXCEPTION_INSTANCE) instanceof IllegalArgumentException);
    }
  }
}
