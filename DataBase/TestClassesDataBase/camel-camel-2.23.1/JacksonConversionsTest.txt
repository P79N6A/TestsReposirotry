public class JacksonConversionsTest extends CamelTestSupport {
  @Override protected CamelContext createCamelContext() throws Exception {
    CamelContext context=super.createCamelContext();
    context.getProperties().put(JacksonConstants.ENABLE_TYPE_CONVERTER,"true");
    return context;
  }
  @Test public void shouldConvertMapToPojo(){
    String name="someName";
    Map<String,String> pojoAsMap=new HashMap<>();
    pojoAsMap.put("name",name);
    TestPojo testPojo=(TestPojo)template.requestBody("direct:test",pojoAsMap);
    assertEquals(name,testPojo.getName());
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("direct:test").convertBodyTo(TestPojo.class);
      }
    }
;
  }
}
