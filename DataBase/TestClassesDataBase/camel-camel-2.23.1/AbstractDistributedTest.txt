/** 
 * @version
 */
public abstract class AbstractDistributedTest extends ContextTestSupport {
  protected CamelContext context2;
  protected ProducerTemplate template2;
  @Before public void setUp() throws Exception {
    super.setUp();
    context.setUseMDCLogging(true);
    context2=new DefaultCamelContext();
    context2.setUseMDCLogging(true);
    template2=context2.createProducerTemplate();
    ServiceHelper.startServices(template2,context2);
    context2.addRoutes(createRouteBuilder2());
  }
  @After public void tearDown() throws Exception {
    ServiceHelper.stopAndShutdownServices(context2,template2);
    super.tearDown();
  }
  protected MockEndpoint getMockEndpoint2(  String uri){
    return context2.getEndpoint(uri,MockEndpoint.class);
  }
  protected RouteBuilder createRouteBuilder2() throws Exception {
    return createRouteBuilder();
  }
}
