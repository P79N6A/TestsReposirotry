/** 
 * Tests changing the function start and function end tokens using a spring bean.
 */
public class SpringChangeFunctionStartFunctionEndTest extends SpringTestSupport {
  protected AbstractXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/spring/SpringChangeFunctionStartFunctionEndTest.xml");
  }
  @Test public void testSimpleWithPrefix() throws Exception {
    getMockEndpoint("mock:result").expectedBodiesReceived("Custom tokens is cool");
    template.sendBody("direct:start","Custom tokens");
    assertMockEndpointsSatisfied();
  }
  @Override @After public void tearDown() throws Exception {
    SimpleLanguage.changeFunctionStartToken("${","$simple{");
    SimpleLanguage.changeFunctionEndToken("}");
    super.tearDown();
  }
}
