public class JaxbDataFormatTest {
  private JaxbDataFormat jaxbDataFormat;
  private CamelContext camelContext;
  @Before public void setUp() throws Exception {
    camelContext=new DefaultCamelContext();
    jaxbDataFormat=new JaxbDataFormat();
    jaxbDataFormat.setCamelContext(camelContext);
    jaxbDataFormat.doStart();
  }
  @Test public void testNeedFilteringDisabledFiltering(){
    jaxbDataFormat.setFilterNonXmlChars(false);
    Exchange exchange=new DefaultExchange(camelContext);
    assertFalse(jaxbDataFormat.needFiltering(exchange));
  }
  @Test public void testNeedFilteringEnabledFiltering(){
    jaxbDataFormat.setFilterNonXmlChars(true);
    Exchange exchange=new DefaultExchange(camelContext);
    assertTrue(jaxbDataFormat.needFiltering(exchange));
  }
  @Test public void testNeedFilteringTruePropagates(){
    Exchange exchange=new DefaultExchange(camelContext);
    exchange.setProperty(Exchange.FILTER_NON_XML_CHARS,Boolean.TRUE);
    assertTrue(jaxbDataFormat.needFiltering(exchange));
  }
  @Test public void testNeedFilteringFalsePropagates(){
    Exchange exchange=new DefaultExchange(camelContext);
    exchange.setProperty(Exchange.FILTER_NON_XML_CHARS,Boolean.FALSE);
    assertFalse(jaxbDataFormat.needFiltering(exchange));
  }
}
