public abstract class BaseWeatherConsumerTest extends CamelTestSupport {
  protected void checkWeatherContent(  String weather){
    log.debug("The weather in {} format is {}{}",WeatherMode.JSON,LS,weather);
    assertStringContains(weather,"\"coord\":{");
    assertStringContains(weather,"temp");
  }
  @Test public void testGrabbingListOfEntries() throws Exception {
    MockEndpoint mock=getMockEndpoint("mock:result");
    mock.expectedMessageCount(1);
    assertMockEndpointsSatisfied(20,TimeUnit.SECONDS);
    Exchange exchange=mock.getExchanges().get(0);
    assertNotNull(exchange);
    Message in=exchange.getIn();
    assertNotNull(in);
    String weather=assertIsInstanceOf(String.class,in.getBody());
    checkWeatherContent(weather);
  }
}
