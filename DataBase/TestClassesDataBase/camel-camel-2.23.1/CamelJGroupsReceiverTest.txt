@RunWith(MockitoJUnitRunner.class) public class CamelJGroupsReceiverTest {
  @InjectMocks CamelJGroupsReceiver receiver;
  @Mock JGroupsEndpoint jGroupsEndpoint;
  @Mock Processor processor;
  @Test(expected=JGroupsException.class) public void shouldHandleProcessingException() throws Exception {
    willThrow(Exception.class).given(processor).process(ArgumentMatchers.isNull());
    Message message=new Message(null,"someMessage");
    message.setSrc(null);
    receiver.receive(message);
  }
}
