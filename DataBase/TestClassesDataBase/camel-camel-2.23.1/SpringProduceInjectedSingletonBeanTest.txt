/** 
 * @version 
 */
public class SpringProduceInjectedSingletonBeanTest extends SpringTestSupport {
  @Override protected AbstractXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/spring/config/SpringProduceInjectedSingletonBeanTest.xml");
  }
  @Test public void testProduceInjectedOnce() throws Exception {
    getMockEndpoint("mock:result").expectedBodiesReceived("Hello World","Bye World");
    MyProduceBean bean=context.getRegistry().lookupByNameAndType("myProducerBean",MyProduceBean.class);
    bean.testDoSomething("Hello World");
    bean.testDoSomething("Bye World");
    assertMockEndpointsSatisfied();
  }
  @Test public void testProduceInjectedTwice() throws Exception {
    getMockEndpoint("mock:result").expectedBodiesReceived("Hello World","Bye World");
    MyProduceBean bean=context.getRegistry().lookupByNameAndType("myProducerBean",MyProduceBean.class);
    bean.testDoSomething("Hello World");
    MyProduceBean bean2=context.getRegistry().lookupByNameAndType("myProducerBean",MyProduceBean.class);
    bean2.testDoSomething("Bye World");
    assertMockEndpointsSatisfied();
  }
}
