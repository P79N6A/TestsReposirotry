public class DockerConfigurationTest {
  private DockerConfiguration configuration;
  private CamelContext camelContext;
  @Before public void setupTest(){
    configuration=new DockerConfiguration();
    camelContext=new DefaultCamelContext();
  }
  @Test public void testPropertyFromHeader(){
    String host="camelhost";
    Message message=new DefaultMessage(camelContext);
    message.setHeader(DockerConstants.DOCKER_HOST,host);
    String configurationProp=DockerHelper.getProperty(DockerConstants.DOCKER_HOST,configuration,message,String.class);
    assertEquals(host,configurationProp);
  }
  @Test public void testPropertyfromEndpointProperties(){
    String host="camelhost";
    Map<String,Object> parameters=new HashMap<>();
    parameters.put(DockerHelper.transformFromHeaderName(DockerConstants.DOCKER_HOST),host);
    configuration.setParameters(parameters);
    Message message=new DefaultMessage(camelContext);
    String configurationProp=DockerHelper.getProperty(DockerConstants.DOCKER_HOST,configuration,message,String.class);
    assertEquals(host,configurationProp);
  }
}
