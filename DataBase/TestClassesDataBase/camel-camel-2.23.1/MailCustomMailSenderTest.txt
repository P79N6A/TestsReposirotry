/** 
 * @version 
 */
public class MailCustomMailSenderTest extends CamelTestSupport {
  private static boolean sent;
  @Override protected JndiRegistry createRegistry() throws Exception {
    JndiRegistry jndi=super.createRegistry();
    jndi.bind("mySender",new MySender());
    return jndi;
  }
  @Test public void testSendWithCustomMailSender() throws Exception {
    sendBody("smtp://claus@localhost?javaMailSender=#mySender","Hello World");
    assertTrue("Should have used custom mail sender",sent);
  }
private static class MySender implements JavaMailSender {
    @Override public void send(    MimeMessage mimeMessage) throws MessagingException {
      sent=true;
    }
    @Override public Properties getJavaMailProperties(){
      return null;
    }
    @Override public void setJavaMailProperties(    Properties javaMailProperties){
    }
    @Override public void setHost(    String host){
    }
    @Override public String getHost(){
      return null;
    }
    @Override public void setPort(    int port){
    }
    @Override public int getPort(){
      return 0;
    }
    @Override public void setUsername(    String username){
    }
    @Override public String getUsername(){
      return null;
    }
    @Override public void setPassword(    String password){
    }
    @Override public String getPassword(){
      return null;
    }
    @Override public void setProtocol(    String protocol){
    }
    @Override public String getProtocol(){
      return null;
    }
    @Override public void setSession(    Session session){
    }
    @Override public Session getSession(){
      return null;
    }
  }
}
