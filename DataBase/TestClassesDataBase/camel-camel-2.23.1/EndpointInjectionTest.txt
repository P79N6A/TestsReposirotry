/** 
 * Create a collection of routes via a provider method
 * @version 
 */
public class EndpointInjectionTest extends Assert {
public static class MyModule extends CamelModuleWithMatchingRoutes {
    @Override protected void configure(){
      super.configure();
      bind(MyBean.class);
    }
    @Provides @Named("foo") protected Collection<? extends RoutesBuilder> myRoutes(){
      return Lists.newArrayList(new MyConfigurableRoute2("direct:a","direct:b"),new MyConfigurableRoute2("direct:c","direct:d"));
    }
  }
public static class MyBean {
    @EndpointInject(uri="mock:foo") MockEndpoint endpoint;
  }
  @Test public void testGuice() throws Exception {
    Injector injector=Guice.createInjector(new MyModule());
    MyBean bean=injector.getInstance(MyBean.class);
    assertNotNull("bean.endpoint",bean.endpoint);
    assertEquals("bean.endpoint.uri","mock://foo",bean.endpoint.getEndpointUri());
    GuiceTest.assertCamelContextRunningThenCloseInjector(injector);
  }
}
