/** 
 * Testing the ssl configuration
 */
@RunWith(SpringRunner.class) @DirtiesContext @SpringBootApplication @SpringBootTest(classes={Netty4HttpSSLTest.TestConfiguration.class},properties={"camel.ssl.config.cert-alias=web","camel.ssl.config.key-managers.key-password=changeit","camel.ssl.config.key-managers.key-store.resource=/keystore.p12","camel.ssl.config.key-managers.key-store.password=changeit","camel.ssl.config.key-managers.key-store.type=PKCS12","camel.ssl.config.trust-managers.key-store.resource=/cacerts","camel.ssl.config.trust-managers.key-store.password=changeit","camel.ssl.config.trust-managers.key-store.type=jks","camel.component.netty4-http.use-global-ssl-context-parameters=true","camel.component.http.use-global-ssl-context-parameters=true"}) @Ignore("Bug in https4 spring-boot configuration") public class Netty4HttpSSLTest {
  @Autowired private ProducerTemplate producerTemplate;
  @Test public void testEndpoint() throws Exception {
    String result=producerTemplate.requestBody("https4://localhost:" + getPort(),null,String.class);
    Assert.assertEquals("Hello",result);
  }
@Component public static class TestRoutes extends RouteBuilder {
    @Override public void configure() throws Exception {
      from("netty4-http:https://localhost:" + getPort() + "?ssl=true").transform().constant("Hello");
    }
  }
@Configuration public static class TestConfiguration {
  }
}
