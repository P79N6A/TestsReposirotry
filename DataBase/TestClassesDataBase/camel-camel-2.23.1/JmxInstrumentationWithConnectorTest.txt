public class JmxInstrumentationWithConnectorTest extends EndpointReferenceTest {
  @Override protected boolean useJmx(){
    return true;
  }
  @Test public void testJmxConfiguration() throws Exception {
    ManagementAgent agent=getMandatoryBean(DefaultManagementAgent.class,"agent");
    assertNotNull("SpringInstrumentationAgent must be configured for JMX support",agent);
    assertNotNull("MBeanServer must be configured for JMX support",agent.getMBeanServer());
    assertEquals("org.apache.camel.test",agent.getMBeanServer().getDefaultDomain());
  }
  @Override protected AbstractXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/spring/management/jmxInstrumentationWithConnector.xml");
  }
  @Test public void testReferenceEndpointFromOtherCamelContext() throws Exception {
  }
}
