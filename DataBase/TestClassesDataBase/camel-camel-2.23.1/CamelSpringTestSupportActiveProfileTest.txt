/** 
 * Just extend the CamelSpringTestSupport and use Camel test kit for easy Camel based unit testing.
 */
public class CamelSpringTestSupportActiveProfileTest extends CamelSpringTestSupport {
  @Override protected AbstractApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext(new String[]{"org/apache/camel/test/spring/CamelSpringActiveProfileTest-context.xml"},false);
  }
  @Override protected String[] activeProfiles(){
    return new String[]{"test"};
  }
  @Test public void testLoadActiveProfile() throws InterruptedException {
    getMockEndpoint("mock:test").expectedBodiesReceived("Hello World");
    template.sendBody("direct:start","World");
    assertMockEndpointsSatisfied();
  }
}
