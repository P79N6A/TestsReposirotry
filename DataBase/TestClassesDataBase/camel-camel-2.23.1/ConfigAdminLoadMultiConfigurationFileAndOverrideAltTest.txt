/** 
 * This test should be run in tandem with ConfigAdminLoadConfigurationFileAndOverrideTest.  These examples will load a Blueprint .cfg file with multiple property placeholders defined.   We need two tests to make sure we process both of them correctly
 */
public class ConfigAdminLoadMultiConfigurationFileAndOverrideAltTest extends CamelBlueprintTestSupport {
  @Override protected String getBlueprintDescriptor(){
    return "org/apache/camel/test/blueprint/configadmin-loadmultifileoverride.xml";
  }
  @Override protected String[] loadConfigAdminConfigurationFile(){
    return new String[]{"src/test/resources/etc/stuff.cfg","stuff","src/test/resources/etc/otherstuff.cfg","otherstuff"};
  }
  @Override protected String useOverridePropertiesWithConfigAdmin(  Dictionary props) throws Exception {
    props.put("destination","mock:extra");
    return "stuff";
  }
  @Test public void testConfigAdmin() throws Exception {
    getMockEndpoint("mock:original").setExpectedMessageCount(0);
    getMockEndpoint("mock:result").setExpectedMessageCount(0);
    getMockEndpoint("mock:extra").expectedBodiesReceived("Bye World","Yay Bye WorldYay Bye World");
    template.sendBody("direct:start","World");
    assertMockEndpointsSatisfied();
  }
}
