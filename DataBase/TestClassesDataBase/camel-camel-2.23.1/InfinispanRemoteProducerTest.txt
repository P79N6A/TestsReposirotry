@Ignore("start a local server with: ./bin/standalone.sh") public class InfinispanRemoteProducerTest extends CamelTestSupport {
  @Test public void producerPublishesKeyAndValue() throws Exception {
    Exchange request=template.request("direct:start",new Processor(){
      @Override public void process(      Exchange exchange) throws Exception {
        exchange.getIn().setHeader(InfinispanConstants.KEY,"keyOne");
        exchange.getIn().setHeader(InfinispanConstants.VALUE,"valueOne");
      }
    }
);
    assertNull(request.getException());
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure(){
        from("direct:start").to("infinispan://my-cache?hosts=localhost");
      }
    }
;
  }
}
