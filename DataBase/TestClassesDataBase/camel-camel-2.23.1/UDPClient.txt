private final class UDPClient extends IoHandlerAdapter {
  /** 
 * Three optional arguments can be provided (defaults in brackets): path, host (localhost) and port.
 * @param args The command line args.
 */
  private final NioDatagramConnector connector;
  private DatagramSocket socket;
  private InetAddress address;
  private int localPort;
  private String localHost="127.0.0.1";
  private UDPClient(){
    connector=new NioDatagramConnector();
    connector.getFilterChain().addLast("codec",new ProtocolCodecFilter(codecFactory));
    connector.setHandler(this);
  }
  public void connect(  String host,  int port){
    localPort=port;
    localHost=host;
    try {
      socket=new DatagramSocket();
      address=InetAddress.getByName(localHost);
    }
 catch (    UnknownHostException ex) {
      logger.warn(null,ex);
    }
catch (    SocketException ex) {
      logger.warn(null,ex);
    }
  }
  public void sendNoMina(  String msg){
    try {
      DatagramPacket packet=new DatagramPacket(msg.getBytes(),msg.getBytes().length,address,localPort);
      socket.send(packet);
    }
 catch (    IOException ex) {
      logger.warn(null,ex);
    }
  }
  @Override public void messageReceived(  IoSession session,  Object message) throws Exception {
    logger.debug("Client Received body: {}",message);
  }
  @Override public void exceptionCaught(  IoSession session,  Throwable cause) throws Exception {
    logger.error("Ooops! Something went wrong :|",cause);
  }
}
