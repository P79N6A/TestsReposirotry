public class UpdateTableCommandTest {
  private UpdateTableCommand command;
  private AmazonDDBClientMock ddbClient;
  private DdbConfiguration configuration;
  private Exchange exchange;
  @Before public void setUp(){
    ddbClient=new AmazonDDBClientMock();
    configuration=new DdbConfiguration();
    configuration.setTableName("DOMAIN1");
    configuration.setReadCapacity(20L);
    configuration.setWriteCapacity(30L);
    exchange=new DefaultExchange(new DefaultCamelContext());
    command=new UpdateTableCommand(ddbClient,configuration,exchange);
  }
  @Test public void testExecute(){
    command.execute();
    assertEquals("DOMAIN1",ddbClient.updateTableRequest.getTableName());
    assertEquals(Long.valueOf(20),ddbClient.updateTableRequest.getProvisionedThroughput().getReadCapacityUnits());
    assertEquals(Long.valueOf(30),ddbClient.updateTableRequest.getProvisionedThroughput().getWriteCapacityUnits());
  }
}
