@Ignore("Requires a local node or registration at Infura") public class Web3jProducerMainnetTest extends Web3jIntegrationTestSupport {
  @Produce(uri="direct:start") protected ProducerTemplate template;
  protected String getUrl(){
    return "https://mainnet.infura.io/YOUR_INFURA_ID?";
  }
  @Test public void clientVersionTest() throws Exception {
    Exchange exchange=createExchangeWithBodyAndHeader(null,OPERATION,WEB3_CLIENT_VERSION);
    template.send(exchange);
    String body=exchange.getIn().getBody(String.class);
    assertTrue(body.startsWith("Geth"));
  }
  @Test public void netVersionTest() throws Exception {
    Exchange exchange=createExchangeWithBodyAndHeader(null,OPERATION,NET_VERSION);
    template.send(exchange);
    String body=exchange.getIn().getBody(String.class);
    assertTrue(body != null);
  }
  @Test public void netWeb3Sha3Test() throws Exception {
    Exchange exchange=createExchangeWithBodyAndHeader(null,OPERATION,WEB3_SHA3);
    exchange.getIn().setBody("0x68656c6c6f20776f726c64");
    template.send(exchange);
    String body=exchange.getIn().getBody(String.class);
    assertTrue(body.equals("0x47173285a8d7341e5e972fc677286384f802f8ef42a5ec5f03bbfa254cb01fad"));
  }
  @Test public void ethBlockNumberTest() throws Exception {
    Exchange exchange=createExchangeWithBodyAndHeader(null,OPERATION,ETH_BLOCK_NUMBER);
    template.send(exchange);
    Long body=exchange.getIn().getBody(Long.class);
    assertTrue(body.longValue() > 5714225);
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      public void configure(){
        from("direct:start").to("web3j://" + getUrl() + OPERATION.toLowerCase()+ "="+ TRANSACTION);
      }
    }
;
  }
}
