public class XsltTestErrorListenerTest extends Assert {
  private XsltBuilder xsltBuilder=new XsltBuilder();
  private ErrorListener errorListener=mock(ErrorListener.class);
  @Test public void testErrorListener() throws Exception {
    if (xsltBuilder.getConverter().getTransformerFactory().getClass().getName().startsWith("org.apache.xalan")) {
      return;
    }
    URL styleSheet=getClass().getResource("example-with-errors.xsl");
    try {
      xsltBuilder.setErrorListener(errorListener);
      xsltBuilder.setTransformerURL(styleSheet);
      fail("Should throw exception");
    }
 catch (    Exception ex) {
    }
    verify(errorListener,atLeastOnce()).error(any());
    verify(errorListener).fatalError(any());
  }
}
