class MyComponent extends DefaultComponent {
  @Override protected Endpoint createEndpoint(  String uri,  String remaining,  Map<String,Object> parameters) throws Exception {
    String childUri=remaining;
    if (parameters != null && parameters.size() > 0) {
      childUri=childUri + "?" + URISupport.createQueryString(parameters);
    }
    parameters.clear();
    Endpoint childEndpoint=context.getEndpoint(childUri);
    return new MyEndpoint(uri,childEndpoint);
  }
}
