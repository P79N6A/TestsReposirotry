public class SpringSetPropertyNameDynamicTest extends ContextTestSupport {
public static class TestConstans {
    public static final String EXCHANGE_PROP_TX_FAILED="ExchangePropTxFailed";
  }
  @Test public void testSetPropertyNameWithExpression() throws Exception {
    MockEndpoint resultEndpoint=getMockEndpoint("mock:end");
    resultEndpoint.expectedMessageCount(1);
    sendBody("direct:start","Hello");
    resultEndpoint.assertIsSatisfied();
    Exchange exchange=resultEndpoint.getExchanges().get(0);
    assertEquals(Boolean.TRUE,exchange.getProperty(TestConstans.EXCHANGE_PROP_TX_FAILED,Boolean.class));
  }
  protected CamelContext createCamelContext() throws Exception {
    return createSpringCamelContext(this,"org/apache/camel/spring/processor/setPropertyNameDynamic.xml");
  }
}
