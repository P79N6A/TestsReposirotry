/** 
 */
public class PropertiesRouteFromTest extends ContextTestSupport {
  @Test public void testPropertiesRouteFrom() throws Exception {
    ProcessorDefinition out=context.getRouteDefinition("foo").getOutputs().get(0);
    assertEquals("{{cool.end}}",((SendDefinition)out).getUri());
    String uri=context.getRouteDefinition("foo").getInputs().get(0).getUri();
    assertEquals("{{cool.start}}",uri);
    String xml=ModelHelper.dumpModelAsXml(context,context.getRouteDefinition("foo"));
    assertTrue(xml.contains("<from uri=\"{{cool.start}}\"/>"));
    assertTrue(xml.contains("<to id=\"to1\" uri=\"{{cool.end}}\"/>"));
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("{{cool.start}}").routeId("foo").to("{{cool.end}}");
      }
    }
;
  }
  @Override protected CamelContext createCamelContext() throws Exception {
    CamelContext context=super.createCamelContext();
    context.addComponent("properties",new PropertiesComponent("classpath:org/apache/camel/component/properties/myproperties.properties"));
    return context;
  }
}
