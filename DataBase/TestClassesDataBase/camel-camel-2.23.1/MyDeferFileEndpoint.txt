private static final class MyDeferFileEndpoint extends FileEndpoint {
  private MyDeferFileEndpoint(  String endpointUri,  Component component){
    super(endpointUri,component);
  }
  @Override protected FileConsumer newFileConsumer(  Processor processor,  GenericFileOperations<File> operations){
    return new FileConsumer(this,processor,operations,createGenericFileStrategy()){
      @Override protected void doSuspend() throws Exception {
        CONSUMER_SUSPENDED.set(true);
        super.doSuspend();
      }
    }
;
  }
}
