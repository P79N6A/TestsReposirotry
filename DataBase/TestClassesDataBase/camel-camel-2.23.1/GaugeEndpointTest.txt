@RunWith(MockitoJUnitRunner.class) public class GaugeEndpointTest {
  private static final String METRICS_NAME="metrics.name";
  private static final Object VALUE="subject";
  @Mock private MetricRegistry registry;
  private MetricsEndpoint endpoint;
  @Before public void setUp() throws Exception {
    endpoint=new MetricsEndpoint(null,null,registry,MetricsType.GAUGE,METRICS_NAME);
  }
  @Test public void testGaugeEndpoint() throws Exception {
    assertThat(endpoint.getRegistry(),is(registry));
    assertThat(endpoint.getMetricsName(),is(METRICS_NAME));
    assertThat(endpoint.getSubject(),is(nullValue()));
  }
  @Test public void testCreateProducer() throws Exception {
    Producer producer=endpoint.createProducer();
    assertThat(producer,is(notNullValue()));
    assertThat(producer,is(instanceOf(GaugeProducer.class)));
  }
  @Test public void testGetSubject() throws Exception {
    assertThat(endpoint.getSubject(),is(nullValue()));
  }
  @Test public void testSetSubject() throws Exception {
    endpoint.setSubject(VALUE);
    assertThat(endpoint.getSubject(),is(VALUE));
  }
}
