@DirtiesContext public class SpringBeanServiceCallRouteTest extends SpringRibbonServiceCallRouteTest {
  @Override protected AbstractApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/component/ribbon/cloud/SpringBeanRibbonServiceCallRouteTest.xml");
  }
  @Test public void testServiceCallConfiguration() throws Exception {
    DefaultServiceCallProcessor processor=findServiceCallProcessor();
    Assert.assertNotNull(processor.getLoadBalancer());
    Assert.assertTrue(processor.getLoadBalancer() instanceof RibbonServiceLoadBalancer);
    RibbonServiceLoadBalancer loadBalancer=(RibbonServiceLoadBalancer)processor.getLoadBalancer();
    Assert.assertTrue(loadBalancer.getServiceDiscovery() instanceof StaticServiceDiscovery);
  }
}
