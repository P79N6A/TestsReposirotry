/** 
 * Test class for com.google.api.services.drive.Drive$Comments APIs.
 */
public class DriveCommentsIntegrationTest extends AbstractGoogleDriveTestSupport {
  private static final Logger LOG=LoggerFactory.getLogger(DriveCommentsIntegrationTest.class);
  private static final String PATH_PREFIX=GoogleDriveApiCollection.getCollection().getApiName(DriveCommentsApiMethod.class).getName();
  @Test public void testComment() throws Exception {
    File testFile=uploadTestFile();
    String fileId=testFile.getId();
    Map<String,Object> headers=new HashMap<>();
    headers.put("CamelGoogleDrive.fileId",fileId);
    com.google.api.services.drive.model.Comment comment=new com.google.api.services.drive.model.Comment();
    comment.setContent("Camel rocks!");
    headers.put("CamelGoogleDrive.content",comment);
    requestBodyAndHeaders("direct://INSERT",null,headers);
    com.google.api.services.drive.model.CommentList result1=requestBody("direct://LIST",fileId);
    assertNotNull(result1.get("items"));
    LOG.debug("list: " + result1);
    Comment comment2=result1.getItems().get(0);
    headers=new HashMap<>();
    headers.put("CamelGoogleDrive.fileId",fileId);
    headers.put("CamelGoogleDrive.commentId",comment2.getCommentId());
    final com.google.api.services.drive.model.Comment result3=requestBodyAndHeaders("direct://GET",null,headers);
    assertNotNull("get result",result3);
    headers=new HashMap<>();
    headers.put("CamelGoogleDrive.fileId",fileId);
    headers.put("CamelGoogleDrive.commentId",comment2.getCommentId());
    requestBodyAndHeaders("direct://DELETE",null,headers);
    headers=new HashMap<>();
    headers.put("CamelGoogleDrive.fileId",fileId);
    headers.put("CamelGoogleDrive.commentId",comment2.getCommentId());
    try {
      final com.google.api.services.drive.model.Comment result4=requestBodyAndHeaders("direct://GET",null,headers);
      assertTrue("Should have thrown an exception.",false);
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      public void configure(){
        from("direct://DELETE").to("google-drive://" + PATH_PREFIX + "/delete");
        from("direct://GET").to("google-drive://" + PATH_PREFIX + "/get");
        from("direct://INSERT").to("google-drive://" + PATH_PREFIX + "/insert");
        from("direct://LIST").to("google-drive://" + PATH_PREFIX + "/list?inBody=fileId");
        from("direct://PATCH").to("google-drive://" + PATH_PREFIX + "/patch");
        from("direct://UPDATE").to("google-drive://" + PATH_PREFIX + "/update");
        from("direct://INSERT_1").to("google-drive://" + GoogleDriveApiCollection.getCollection().getApiName(DriveFilesApiMethod.class).getName() + "/insert");
      }
    }
;
  }
}
