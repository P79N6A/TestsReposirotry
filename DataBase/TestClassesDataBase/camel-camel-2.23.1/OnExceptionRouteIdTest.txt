public class OnExceptionRouteIdTest extends CamelBlueprintTestSupport {
  @Override protected String getBlueprintDescriptor(){
    return "org/apache/camel/test/blueprint/OnExceptionRouteIdTest.xml";
  }
  @Test public void testOnExceptionRouteId() throws Exception {
    getMockEndpoint("mock:error").expectedMessageCount(0);
    getMockEndpoint("mock:foo").expectedMessageCount(1);
    template.sendBody("direct:foo","Hello World");
    assertMockEndpointsSatisfied();
    RouteDefinition route=context.getRouteDefinition("foo");
    assertNotNull(route);
    assertEquals("foo",route.getId());
  }
}
