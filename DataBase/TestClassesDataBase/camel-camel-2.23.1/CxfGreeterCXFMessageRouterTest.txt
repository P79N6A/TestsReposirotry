public class CxfGreeterCXFMessageRouterTest extends AbstractCXFGreeterRouterTest {
  protected static Endpoint endpoint;
  @AfterClass public static void stopService(){
    if (endpoint != null) {
      endpoint.stop();
    }
  }
  @BeforeClass public static void startService(){
    Object implementor=new GreeterImpl();
    String address="http://localhost:" + getPort1() + "/CxfGreeterCXFMessageRouterTest/SoapContext/SoapPort";
    endpoint=Endpoint.publish(address,implementor);
  }
  @Override protected RouteBuilder createRouteBuilder(){
    return new RouteBuilder(){
      public void configure(){
        context.setErrorHandlerBuilder(new NoErrorHandlerBuilder());
        from("cxf:bean:routerEndpoint?dataFormat=CXF_MESSAGE&publishedEndpointUrl=http://www.simple.com/services/test").to("cxf:bean:serviceEndpoint?dataFormat=CXF_MESSAGE");
      }
    }
;
  }
  @Override protected ClassPathXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/component/cxf/GreeterEndpointCxfMessageBeans.xml");
  }
}
