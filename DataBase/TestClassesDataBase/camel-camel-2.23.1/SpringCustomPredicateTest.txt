/** 
 * @version 
 */
public class SpringCustomPredicateTest extends SpringTestSupport {
  @Test public void testFilterMyPredicate() throws InterruptedException {
    getMockEndpoint("mock:foo").expectedBodiesReceived("Hello Camel","Secret Agent");
    getMockEndpoint("mock:result").expectedBodiesReceived("Hello Camel","Hello World","Secret Agent");
    template.sendBody("direct:start","Hello Camel");
    template.sendBody("direct:start","Hello World");
    template.sendBody("direct:start","Secret Agent");
    assertMockEndpointsSatisfied();
  }
  @Override protected AbstractXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/spring/processor/SpringCustomPredicateTest.xml");
  }
public static class MyPredicate implements Predicate {
    public boolean matches(    Exchange exchange){
      String body=exchange.getIn().getBody(String.class);
      if (body.contains("Camel")) {
        return true;
      }
 else       if (body.startsWith("Secret")) {
        return true;
      }
      return false;
    }
  }
}
