/** 
 * Test case for  {@link Jt400Endpoint}
 */
public class Jt400EndpointTest extends Jt400TestSupport {
  private Jt400Endpoint endpoint;
  @Override @Before public void setUp() throws Exception {
    super.setUp();
    endpoint=(Jt400Endpoint)resolveMandatoryEndpoint("jt400://user:password@host/qsys.lib/library.lib/queue.dtaq?ccsid=500&format=binary&guiAvailable=true&connectionPool=#mockPool");
  }
  /** 
 * Check that the AS/400 connection is correctly configured for the URL
 */
  @Test public void testSystemConfiguration(){
    assertEquals("USER",endpoint.getSystem().getUserId());
    assertEquals("host",endpoint.getSystem().getSystemName());
    assertEquals(500,endpoint.getSystem().getCcsid());
    assertEquals(Jt400Configuration.Format.binary,endpoint.getFormat());
    assertTrue(endpoint.getSystem().isGuiAvailable());
  }
  @Test public void testToString(){
    assertEquals("jt400://user:xxxxxx@host/qsys.lib/library.lib/queue.dtaq?ccsid=500&connectionPool=%23mockPool&format=binary&guiAvailable=true",endpoint.toString());
  }
}
