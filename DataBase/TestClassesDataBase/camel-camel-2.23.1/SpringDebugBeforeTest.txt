/** 
 */
public class SpringDebugBeforeTest extends CamelSpringTestSupport {
  private final List<String> before=new ArrayList<>();
  @Override public boolean isUseDebugger(){
    return true;
  }
  @Override protected AbstractApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/itest/test/SpringDebugBeforeTest.xml");
  }
  @Override protected void debugBefore(  Exchange exchange,  Processor processor,  ProcessorDefinition<?> definition,  String id,  String label){
    before.add(id);
  }
  @Test public void testDebugBefore() throws Exception {
    getMockEndpoint("mock:result").expectedMessageCount(1);
    template.sendBody("direct:start","Hello World");
    assertMockEndpointsSatisfied();
    assertEquals(2,before.size());
    assertEquals("log1",before.get(0));
    assertEquals("to1",before.get(1));
  }
}
