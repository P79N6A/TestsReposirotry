/** 
 * Unit test with the body as a Domain object.
 * @version 
 */
public class FreemarkerBodyAsDomainObjectTest extends CamelTestSupport {
  @Test public void testWithObject() throws Exception {
    MockEndpoint mock=getMockEndpoint("mock:result");
    mock.expectedMessageCount(1);
    mock.message(0).body().contains("Hi Claus how are you? Its a nice day.");
    MyPerson person=new MyPerson();
    person.setFamilyName("Ibsen");
    person.setGivenName("Claus");
    template.requestBody("direct:in",person);
    mock.assertIsSatisfied();
  }
  protected RouteBuilder createRouteBuilder(){
    return new RouteBuilder(){
      public void configure(){
        from("direct:in").to("freemarker:org/apache/camel/component/freemarker/BodyAsDomainObject.ftl").to("mock:result");
      }
    }
;
  }
public static class MyPerson {
    private String givenName;
    private String familyName;
    public String getGivenName(){
      return givenName;
    }
    public void setGivenName(    String givenName){
      this.givenName=givenName;
    }
    public String getFamilyName(){
      return familyName;
    }
    public void setFamilyName(    String familyName){
      this.familyName=familyName;
    }
    public String toString(){
      return "MyPerson{" + "givenName='" + givenName + '\''+ ", familyName='"+ familyName+ '\''+ '}';
    }
  }
}
