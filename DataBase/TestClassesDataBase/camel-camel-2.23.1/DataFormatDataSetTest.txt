/** 
 * @version 
 */
public class DataFormatDataSetTest extends CamelTestSupport {
  @Test public void testConcurrentMarshall() throws Exception {
    assertMockEndpointsSatisfied();
  }
  @Override protected Context createJndiContext() throws Exception {
    PurchaseOrder bean=new PurchaseOrder();
    bean.setName("Beer");
    bean.setAmount(23);
    bean.setPrice(2.5);
    SimpleDataSet ds=new SimpleDataSet();
    ds.setDefaultBody(bean);
    ds.setSize(200);
    Context context=super.createJndiContext();
    context.bind("beer",ds);
    return context;
  }
  protected RouteBuilder createRouteBuilder(){
    return new RouteBuilder(){
      public void configure(){
        DataFormat jaxb=new JaxbDataFormat("org.apache.camel.example");
        from("dataset:beer").marshal(jaxb).to("dataset:beer");
      }
    }
;
  }
}
