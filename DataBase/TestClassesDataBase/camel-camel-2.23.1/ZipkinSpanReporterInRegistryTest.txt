public class ZipkinSpanReporterInRegistryTest extends CamelTestSupport {
  private ZipkinTracer zipkin;
  @Override protected CamelContext createCamelContext() throws Exception {
    CamelContext context=super.createCamelContext();
    zipkin=new ZipkinTracer();
    zipkin.init(context);
    return context;
  }
  @Override protected JndiRegistry createRegistry() throws Exception {
    JndiRegistry registry=super.createRegistry();
    registry.bind("span",Reporter.NOOP);
    return registry;
  }
  @Test public void testZipkinConfiguration() throws Exception {
    assertNotNull(zipkin.getSpanReporter());
    assertTrue(zipkin.getSpanReporter() == Reporter.NOOP);
  }
}
