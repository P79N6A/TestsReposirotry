/** 
 * @version 
 */
public class RemoveEndpointsTest extends CamelTestSupport {
  @Test public void testRemoveAllEndpoints() throws Exception {
    MockEndpoint mock=getMockEndpoint("mock:jms-queue");
    mock.expectedMessageCount(1);
    assertEquals(7,context.getEndpoints().size());
    template.sendBody("direct:foo","Hello World");
    assertMockEndpointsSatisfied();
    Collection<Endpoint> list=context.removeEndpoints("*");
    assertEquals(7,list.size());
    assertEquals(0,context.getEndpoints().size());
  }
  @Override protected Context createJndiContext() throws Exception {
    JndiContext answer=new JndiContext();
    ConnectionFactory connectionFactory=CamelJmsTestHelper.createConnectionFactory();
    JmsComponent amq=jmsComponentAutoAcknowledge(connectionFactory);
    amq.setCamelContext(context);
    answer.bind("jms",amq);
    return answer;
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("direct:foo").to("jms:queue:foo");
        from("jms:queue:foo").to("mock:jms-queue");
        from("jms:topic:bar").to("mock:jms-topic");
        from("seda:mem-queue").to("mock:seda-queue");
      }
    }
;
  }
}
