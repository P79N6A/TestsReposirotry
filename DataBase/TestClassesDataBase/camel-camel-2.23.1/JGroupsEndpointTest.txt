public class JGroupsEndpointTest extends CamelTestSupport {
  static final String CLUSTER_NAME="CLUSTER_NAME";
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("jgroups:" + CLUSTER_NAME).to("mock:test");
      }
    }
;
  }
  @Test public void shouldSetClusterName() throws Exception {
    JGroupsEndpoint endpoint=getMandatoryEndpoint("jgroups:" + CLUSTER_NAME,JGroupsEndpoint.class);
    assertEquals(CLUSTER_NAME,endpoint.getClusterName());
  }
  @Test public void shouldResolveDefaultChannel() throws Exception {
    JGroupsEndpoint endpoint=getMandatoryEndpoint("jgroups:" + CLUSTER_NAME,JGroupsEndpoint.class);
    assertNotNull(endpoint.getResolvedChannel());
  }
}
