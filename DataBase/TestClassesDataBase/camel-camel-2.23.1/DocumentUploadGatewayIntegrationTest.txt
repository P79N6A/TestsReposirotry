public class DocumentUploadGatewayIntegrationTest extends AbstractBraintreeTestSupport {
  private static final Logger LOG=LoggerFactory.getLogger(DocumentUploadGatewayIntegrationTest.class);
  private static final String PATH_PREFIX=BraintreeApiCollection.getCollection().getApiName(DocumentUploadGatewayApiMethod.class).getName();
  @Test public void testCreate() throws Exception {
    final String documentName="pdf-sample.pdf";
    File evidenceDocument=new File(getClass().getClassLoader().getResource(documentName).getPath());
    DocumentUploadRequest documentUploadRequest=new DocumentUploadRequest(DocumentUpload.Kind.EVIDENCE_DOCUMENT,evidenceDocument);
    final Result<DocumentUpload> result=requestBody("direct://CREATE",documentUploadRequest);
    assertNotNull("create result",result);
    assertTrue("create result success",result.isSuccess());
    DocumentUpload documentUpload=result.getTarget();
    assertEquals(documentName,documentUpload.getName());
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      public void configure(){
        from("direct://CREATE").to("braintree://" + PATH_PREFIX + "/create?inBody=request");
      }
    }
;
  }
}
