public class SpringSetHeaderNameDynamicTest extends ContextTestSupport {
  @Test public void testSetHeaderNameWithExpression() throws Exception {
    MockEndpoint resultEndpoint=getMockEndpoint("mock:end");
    resultEndpoint.expectedMessageCount(1);
    sendBody("direct:start","Hello");
    resultEndpoint.assertIsSatisfied();
    Exchange exchange=resultEndpoint.getExchanges().get(0);
    assertEquals(Boolean.TRUE,exchange.getIn().getHeader(SpringSetPropertyNameDynamicTest.TestConstans.EXCHANGE_PROP_TX_FAILED,Boolean.class));
  }
  protected CamelContext createCamelContext() throws Exception {
    return createSpringCamelContext(this,"org/apache/camel/spring/processor/setHeaderNameDynamic.xml");
  }
}
