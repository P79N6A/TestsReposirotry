@RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration public class VariableMappingTest {
  @EndpointInject(uri="mock:result") private MockEndpoint resultEndpoint;
  @Produce(uri="direct:start") private ProducerTemplate startEndpoint;
  @Autowired private CamelContext camelContext;
  @After public void tearDown(){
    resultEndpoint.reset();
  }
  @Test public void testLiteralMapping() throws Exception {
    resultEndpoint.expectedMessageCount(1);
    ABCOrder abcOrder=new ABCOrder();
    abcOrder.setHeader(new Header());
    abcOrder.getHeader().setStatus("GOLD");
    startEndpoint.sendBody(abcOrder);
    resultEndpoint.assertIsSatisfied();
    XYZOrder result=resultEndpoint.getExchanges().get(0).getIn().getBody(XYZOrder.class);
    Assert.assertEquals(result.getPriority(),"GOLD");
    Assert.assertEquals("ACME-SALES",result.getCustId());
    Assert.assertEquals("W123-EG",result.getOrderId());
  }
}
