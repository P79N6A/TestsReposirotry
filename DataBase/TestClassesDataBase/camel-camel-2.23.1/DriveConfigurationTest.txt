public class DriveConfigurationTest extends AbstractGoogleDriveTestSupport {
  private static final Logger LOG=LoggerFactory.getLogger(DriveConfigurationTest.class);
  private static final String PATH_PREFIX=GoogleDriveApiCollection.getCollection().getApiName(DriveFilesApiMethod.class).getName();
  private static final String TEST_URI="google-drive://" + PATH_PREFIX + "/copy?clientId=a&clientSecret=b&applicationName=c&accessToken=d&refreshToken=e";
  @Override protected CamelContext createCamelContext() throws Exception {
    final CamelContext context=new DefaultCamelContext(createRegistry());
    final GoogleDriveComponent component=new GoogleDriveComponent(context);
    context.addComponent("google-drive",component);
    return context;
  }
  @Test public void testConfiguration() throws Exception {
    GoogleDriveEndpoint endpoint=getMandatoryEndpoint(TEST_URI,GoogleDriveEndpoint.class);
    GoogleDriveConfiguration configuration=endpoint.getConfiguration();
    assertNotNull(configuration);
    assertEquals("a",configuration.getClientId());
    assertEquals("b",configuration.getClientSecret());
    assertEquals("c",configuration.getApplicationName());
    assertEquals("d",configuration.getAccessToken());
    assertEquals("e",configuration.getRefreshToken());
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure(){
        from("direct://COPY").to(TEST_URI);
      }
    }
;
  }
}
