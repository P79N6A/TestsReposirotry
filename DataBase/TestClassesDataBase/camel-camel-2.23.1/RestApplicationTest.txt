@RunWith(CamelSpringBootRunner.class) @SpringBootTest(classes=RestApplication.class,webEnvironment=SpringBootTest.WebEnvironment.DEFINED_PORT) public class RestApplicationTest {
  @Autowired private CamelContext camelContext;
  @Test public void shouldProduceMessages() throws Exception {
    NotifyBuilder notify=new NotifyBuilder(camelContext).whenDone(1).create();
    assertTrue(notify.matches(10,TimeUnit.SECONDS));
  }
}
