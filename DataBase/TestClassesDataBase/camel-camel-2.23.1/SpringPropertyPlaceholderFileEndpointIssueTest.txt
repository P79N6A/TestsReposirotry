/** 
 * @version 
 */
public class SpringPropertyPlaceholderFileEndpointIssueTest extends SpringTestSupport {
  @Override protected AbstractXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/spring/issues/SpringPropertyPlaceholderIssueTest.xml");
  }
  @Test public void testSpring() throws Exception {
    deleteDirectory("target/issue");
    MockEndpoint mock=getMockEndpoint("mock:result");
    mock.expectedMessageCount(1);
    mock.expectedFileExists("target/issue/foo.txt");
    template.sendBodyAndHeader("direct:start","Hello World","foo","foo.txt");
    assertMockEndpointsSatisfied();
  }
}
