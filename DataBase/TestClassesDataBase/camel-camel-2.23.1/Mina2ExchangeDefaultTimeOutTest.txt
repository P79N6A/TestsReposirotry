/** 
 * To test timeout.
 * @version 
 */
public class Mina2ExchangeDefaultTimeOutTest extends BaseMina2Test {
  @Test public void testDefaultTimeOut(){
    try {
      String result=(String)template.requestBody(String.format("mina2:tcp://localhost:%1$s?textline=true&sync=true",getPort()),"Hello World");
      assertEquals("Okay I will be faster in the future",result);
    }
 catch (    RuntimeCamelException e) {
      fail("Should not get a RuntimeCamelException");
    }
  }
  protected RouteBuilder createRouteBuilder(){
    return new RouteBuilder(){
      public void configure(){
        from(String.format("mina2:tcp://localhost:%1$s?textline=true&sync=true",getPort())).process(new Processor(){
          public void process(          Exchange e) throws Exception {
            assertEquals("Hello World",e.getIn().getBody(String.class));
            Thread.sleep(1000);
            e.getOut().setBody("Okay I will be faster in the future");
          }
        }
);
      }
    }
;
  }
}
