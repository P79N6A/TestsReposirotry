public class MvelTest extends LanguageTestSupport {
  @Test public void testMvelExpressions() throws Exception {
    assertExpression("exchange",exchange);
    assertExpression("exchange.getIn().body","<hello id='m123'>world!</hello>");
    assertExpression("getRequest().body","<hello id='m123'>world!</hello>");
    assertExpression("request.body","<hello id='m123'>world!</hello>");
    assertExpression("getRequest().headers['foo']","abc");
    assertExpression("getRequest().headers.foo","abc");
    assertExpression("request.headers.foo","abc");
  }
  @Test public void testGetOutFalseKeepsNullOutMessage() throws Exception {
    assertExpression("exchange.hasOut()",false);
    assertFalse(exchange.hasOut());
  }
  @Test public void testResponseCreatesOutMessage() throws Exception {
    assertExpression("response.body",null);
    assertTrue(exchange.hasOut());
  }
  protected String getLanguageName(){
    return "mvel";
  }
}
