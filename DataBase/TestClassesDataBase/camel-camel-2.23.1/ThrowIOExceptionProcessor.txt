public static class ThrowIOExceptionProcessor implements Processor {
  public void process(  Exchange exchange) throws Exception {
    if (++counter <= 3) {
      throw new IOException("Cannot connect");
    }
  }
}
