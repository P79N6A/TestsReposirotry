@RunWith(Arquillian.class) public class CamelEventEndpointTest {
  @Deployment public static Archive<?> deployment(){
    return ShrinkWrap.create(JavaArchive.class).addPackage(CdiCamelExtension.class.getPackage()).addClass(CamelEventRoute.class).addAsManifestResource(EmptyAsset.INSTANCE,"beans.xml");
  }
  @Test public void camelStartedEvent(  @Uri("mock:started") MockEndpoint started){
    assertThat("Event fired is incorrect!",started.getExchanges(),contains(hasProperty("in",hasProperty("body",instanceOf(CamelContextStartedEvent.class)))));
  }
  @Test public void camelAllEvents(  @Uri("mock:events") MockEndpoint events){
    assertThat("Events fired are incorrect!",events.getExchanges(),either(contains(hasProperty("in",hasProperty("body",instanceOf(ExchangeCreatedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSendingEvent.class))),hasProperty("in",hasProperty("body",instanceOf(RouteStartedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSentEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeCompletedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeCreatedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSendingEvent.class))),hasProperty("in",hasProperty("body",instanceOf(RouteStartedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSentEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeCompletedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeCreatedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSendingEvent.class))),hasProperty("in",hasProperty("body",instanceOf(CamelContextStartedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSentEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeCompletedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeCreatedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSendingEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSentEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeCompletedEvent.class))))).or(contains(hasProperty("in",hasProperty("body",instanceOf(ExchangeCreatedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSendingEvent.class))),hasProperty("in",hasProperty("body",instanceOf(RouteStartedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSentEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeCompletedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeCreatedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSendingEvent.class))),hasProperty("in",hasProperty("body",instanceOf(RouteStartedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSentEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeCompletedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeCreatedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSendingEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSentEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeCompletedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeCreatedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSendingEvent.class))),hasProperty("in",hasProperty("body",instanceOf(CamelContextStartedEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeSentEvent.class))),hasProperty("in",hasProperty("body",instanceOf(ExchangeCompletedEvent.class))))));
  }
}
