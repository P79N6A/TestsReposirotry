public class XPathFilterWithNamespaceTest extends CamelBlueprintTestSupport {
  protected String matchingBody="<person name='James' city='London' xmlns='http://example.com/person'/>";
  protected String notMatchingBody="<person name='Hiram' city='Tampa' xmlns='http://example.com/person'/>";
  @Override protected String getBlueprintDescriptor(){
    return "org/apache/camel/test/blueprint/xpath/xpathFilterWithNamespaceTest.xml";
  }
  @Test public void testSendMatchingMessage() throws Exception {
    getMockEndpoint("mock:result").expectedBodiesReceived(matchingBody);
    sendBody("direct:start",matchingBody);
    assertMockEndpointsSatisfied();
  }
  @Test public void testSendNotMatchingMessage() throws Exception {
    getMockEndpoint("mock:result").expectedMessageCount(0);
    sendBody("direct:start",notMatchingBody);
    assertMockEndpointsSatisfied();
  }
}
