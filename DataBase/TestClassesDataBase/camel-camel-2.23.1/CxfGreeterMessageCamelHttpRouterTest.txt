public class CxfGreeterMessageCamelHttpRouterTest extends CxfGreeterMessageRouterTest {
  protected static Endpoint endpoint;
  protected static String serverAddress="http://localhost:" + getPort1() + "/CxfGreeterMessageCamelHttpRouterTest/SoapContext/SoapPort";
  @AfterClass public static void stopService(){
    if (endpoint != null) {
      endpoint.stop();
    }
  }
  @BeforeClass public static void startService(){
    Object implementor=new GreeterImpl();
    String address="http://localhost:" + getPort1() + "/CxfGreeterMessageCamelHttpRouterTest/SoapContext/SoapPort";
    endpoint=Endpoint.publish(address,implementor);
  }
  @Override protected RouteBuilder createRouteBuilder(){
    return new RouteBuilder(){
      public void configure(){
        from("cxf:bean:routerEndpoint?dataFormat=Message&publishedEndpointUrl=http://www.simple.com/services/test").removeHeaders("CamelHttp*").to(serverAddress + "?throwExceptionOnFailure=false");
      }
    }
;
  }
  @Override protected ClassPathXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/component/cxf/GreeterEndpointWithCamelHttpBeans.xml");
  }
}
