@RunWith(MockitoJUnitRunner.class) public abstract class SplunkMockTestSupport extends CamelTestSupport {
  @Mock Service service;
  @Mock Socket socket;
  @Override protected CamelContext createCamelContext() throws Exception {
    CamelContext context=super.createCamelContext();
    SplunkComponent splunk=context.getComponent("splunk",SplunkComponent.class);
    DefaultSplunkConfigurationFactory cf=Helper.mockComponent(service,socket);
    splunk.setSplunkConfigurationFactory(cf);
    return context;
  }
}
