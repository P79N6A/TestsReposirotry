/** 
 * Verify the ability to batch transactions to the consumer.
 */
public class BatchTransactedConcurrentMultipleConsumerTest extends TransactedConsumerSupport {
  private static final String BROKER_URI="vm://btcmc_test_broker?broker.persistent=false&broker.useJmx=false";
  /** 
 * We want to verify that when consuming from a single destination with multiple routes that we are thread safe and behave accordingly.
 * @throws Exception
 */
  @Test public void testRoute() throws Exception {
    final String destinationName="sjms:queue:two.consumer.one.route.batch.tx.test";
    int routeCount=1;
    int consumerCount=2;
    int batchCount=5;
    int messageCount=20;
    int maxAttemptsCount=10;
    int totalRedeliverdFalse=20;
    int totalRedeliveredTrue=5;
    runTest(destinationName,routeCount,messageCount,totalRedeliverdFalse,totalRedeliveredTrue,batchCount,consumerCount,maxAttemptsCount);
  }
  @Override public String getBrokerUri(){
    return BROKER_URI;
  }
}
