public class CxfPayLoadSoapHeaderTestAbstract extends CamelTestSupport {
  static int port1=CXFTestSupport.getPort1();
  static int port2=CXFTestSupport.getPort2();
  protected String getRouterEndpointURI(){
    return "cxf:http://localhost:" + port1 + "/"+ getClass().getSimpleName()+ "/pizza_service/services/PizzaService?wsdlURL=classpath:pizza_service.wsdl&dataFormat=PAYLOAD";
  }
  protected String getServiceEndpointURI(){
    return "cxf:http://localhost:" + port2 + "/"+ getClass().getSimpleName()+ "/new_pizza_service/services/PizzaService?wsdlURL=classpath:pizza_service.wsdl&dataFormat=PAYLOAD";
  }
  @Override public boolean isCreateCamelContextPerClass(){
    return true;
  }
  protected void start(  String n){
    Object implementor=new PizzaImpl();
    String address="http://localhost:" + port2 + "/"+ n+ "/new_pizza_service/services/PizzaService";
    Endpoint.publish(address,implementor);
  }
  @Before public void startService(){
    start(getClass().getSimpleName());
  }
}
