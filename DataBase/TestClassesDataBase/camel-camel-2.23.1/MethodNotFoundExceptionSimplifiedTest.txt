public class MethodNotFoundExceptionSimplifiedTest extends ContextTestSupport {
public interface InterfaceEmpty {
    boolean isEmpty();
  }
public static class SuperClazz {
    public boolean isEmpty(){
      return true;
    }
  }
public static class Clazz extends SuperClazz implements InterfaceEmpty {
  }
  @Override protected RouteBuilder createRouteBuilder(){
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("direct:in").choice().when(simple("${headers.bean.isEmpty()}")).to("mock:out");
      }
    }
;
  }
  @Test public void testMethodNotFound() throws Exception {
    MockEndpoint out=getMockEndpoint("mock:out");
    out.expectedMessageCount(1);
    ExchangeBuilder exchangeBuilder=new ExchangeBuilder(context).withHeader("bean",new Clazz());
    template.send("direct:in",exchangeBuilder.build());
    out.assertIsSatisfied();
  }
}
