@RunWith(Arquillian.class) @ImportResource("imported-context.xml") public class XmlPropertyPlaceholderTest {
  @Deployment public static Archive<?> deployment(){
    return ShrinkWrap.create(JavaArchive.class).addPackage(CdiCamelExtension.class.getPackage()).addAsResource(Paths.get("src/test/resources/camel-context-properties.xml").toFile(),"imported-context.xml").addAsManifestResource(EmptyAsset.INSTANCE,"beans.xml");
  }
  @Test public void resolvePropertyFromLocation(  CamelContext context) throws Exception {
    assertThat("Property from classpath location does not resolve!",context.resolvePropertyPlaceholders("{{header.message}}"),is(equalTo("message from file")));
  }
}
