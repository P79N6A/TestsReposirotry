public class SpringIntegrationMessageTest {
  @Test public void testCopyFrom(){
    CamelContext camelContext=new DefaultCamelContext();
    org.springframework.messaging.Message testSpringMessage=MessageBuilder.withPayload("Test").setHeader("header1","value1").setHeader("header2","value2").build();
    SpringIntegrationMessage original=new SpringIntegrationMessage(testSpringMessage);
    original.setCamelContext(camelContext);
    SpringIntegrationMessage copy=new SpringIntegrationMessage(testSpringMessage);
    copy.copyFrom(original);
    assertTrue(copy.getHeaders().containsKey("header1"));
    assertTrue(copy.getHeaders().containsKey("header2"));
  }
}
