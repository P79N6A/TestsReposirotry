/** 
 */
public class ValidateIdTest extends ContextTestSupport {
  @Test public void testValidateId() throws Exception {
    getMockEndpoint("mock:result").expectedMessageCount(1);
    template.sendBody("direct:start","Hello World");
    assertMockEndpointsSatisfied();
    RouteDefinition route=context.getRouteDefinition("myRoute");
    assertNotNull(route);
    assertTrue(route.getOutputs().get(0).getId().equals("myValidate"));
    assertFalse(route.getOutputs().get(1).getId().equals("result"));
    assertTrue(route.getOutputs().get(2).getId().equals("result"));
    assertTrue(route.getOutputs().get(3).getId().equals("after"));
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("direct:start").routeId("myRoute").validate(body().isInstanceOf(String.class)).id("myValidate").to("log:foo").to("mock:result").id("result").to("log:after").id("after");
      }
    }
;
  }
}
