public static class MyCBRBean {
  public boolean checkHeader(  Exchange exchange){
    check.set(true);
    Message inMsg=exchange.getIn();
    String foo=(String)inMsg.getHeader("foo");
    if ("Kaboom".equalsIgnoreCase(foo)) {
      throw new IllegalArgumentException("Forced");
    }
    return foo.equals("bar");
  }
  public boolean checkHeader2(  Exchange exchange){
    check2.set(true);
    Message inMsg=exchange.getIn();
    String foo=(String)inMsg.getHeader("foo");
    if ("Kaboom".equalsIgnoreCase(foo)) {
      throw new IllegalArgumentException("Forced");
    }
    return foo.equals("bar");
  }
}
