/** 
 * @version 
 */
@RunWith(GuiceyJUnit4.class) @UseModule(ConsumeTest.TestModule.class) public class ConsumeTest {
  @Inject protected MyBean bean;
  @Produce protected ProducerTemplate template;
  protected Object expectedBody="<hello>world!</hello>";
  @Test public void testConsumingWorks() throws Exception {
    template.sendBody("direct:start",expectedBody);
    assertEquals("Body of bean",expectedBody,bean.body);
  }
public static class TestModule extends CamelModuleWithMatchingRoutes {
    @Override protected void configure(){
      super.configure();
      bind(MyBean.class).asEagerSingleton();
    }
  }
public static class MyBean {
    public String body;
    @Consume(uri="direct:start") public void myHandler(    String body){
      this.body=body;
    }
  }
}
