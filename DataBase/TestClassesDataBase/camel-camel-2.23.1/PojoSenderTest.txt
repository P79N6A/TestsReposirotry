/** 
 * @version 
 */
public class PojoSenderTest extends SpringTestSupport {
  protected MockEndpoint matchedEndpoint;
  protected MockEndpoint notMatchedEndpoint;
  protected MySender mySender;
  @Test public void testMatchesPredicate() throws Exception {
    matchedEndpoint.expectedMessageCount(1);
    notMatchedEndpoint.expectedMessageCount(0);
    mySender.doSomething("James");
    assertIsSatisfied(matchedEndpoint,notMatchedEndpoint);
  }
  @Test public void testDoesNotMatchPredicate() throws Exception {
    matchedEndpoint.expectedMessageCount(0);
    notMatchedEndpoint.expectedMessageCount(1);
    mySender.doSomething("Rob");
    assertIsSatisfied(matchedEndpoint,notMatchedEndpoint);
  }
  @Override @Before public void setUp() throws Exception {
    super.setUp();
    matchedEndpoint=getMockEndpoint("mock:a");
    notMatchedEndpoint=getMockEndpoint("mock:b");
    mySender=getMandatoryBean(MySender.class,"mySender");
  }
  protected AbstractXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/spring/example/pojoSender.xml");
  }
}
