/** 
 * @version 
 */
public class MailEndpointTest extends CamelTestSupport {
  @Test public void testMailEndpointCtr() throws Exception {
    MailEndpoint endpoint=new MailEndpoint();
    assertNull(endpoint.getConfiguration());
    assertNull(endpoint.getContentTypeResolver());
    assertNotNull(endpoint.getBinding());
    assertNotNull(endpoint.getHeaderFilterStrategy());
    MailConfiguration cfg=new MailConfiguration();
    cfg.setPort(21);
    cfg.setProtocol("smtp");
    cfg.setHost("myhost");
    cfg.setUsername("james");
    cfg.setPassword("secret");
    endpoint.setConfiguration(cfg);
    assertSame(cfg,endpoint.getConfiguration());
  }
  @Test public void testMailEndpointCtrEndpoint() throws Exception {
    MailEndpoint endpoint=new MailEndpoint("smtp://myhost");
    assertNull(endpoint.getContentTypeResolver());
    assertNotNull(endpoint.getConfiguration());
    assertNotNull(endpoint.getBinding());
    assertNotNull(endpoint.getHeaderFilterStrategy());
    MailConfiguration cfg=new MailConfiguration();
    cfg.setPort(21);
    cfg.setProtocol("smtp");
    cfg.setHost("myhost");
    cfg.setUsername("james");
    cfg.setPassword("secret");
    endpoint.setConfiguration(cfg);
    assertSame(cfg,endpoint.getConfiguration());
  }
  @Test public void testMailEndpointCtrEndpointConfig() throws Exception {
    MailConfiguration cfg=new MailConfiguration();
    cfg.setPort(21);
    cfg.setProtocol("smtp");
    cfg.setHost("myhost");
    cfg.setUsername("james");
    cfg.setPassword("secret");
    MailComponent comp=new MailComponent(cfg);
    MailEndpoint endpoint=new MailEndpoint("smtp://myhost",comp,cfg);
    assertSame(cfg,endpoint.getConfiguration());
    assertNull(endpoint.getContentTypeResolver());
    assertNotNull(endpoint.getBinding());
    assertNotNull(endpoint.getHeaderFilterStrategy());
    MyMailBinding myBnd=new MyMailBinding();
    endpoint.setBinding(myBnd);
    assertSame(myBnd,endpoint.getBinding());
  }
private static class MyMailBinding extends MailBinding {
  }
}
