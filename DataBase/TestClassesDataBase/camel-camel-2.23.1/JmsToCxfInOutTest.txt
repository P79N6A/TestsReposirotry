@ContextConfiguration public class JmsToCxfInOutTest extends AbstractJUnit4SpringContextTests {
  private static int port=AvailablePortFinder.getNextAvailable(20025);
static {
    System.setProperty("JmsToCxfInOutTest.port",Integer.toString(port));
  }
  @Autowired protected ProducerTemplate template;
  @Test public void testJmsToCxfInOut() throws Exception {
    assertNotNull(template);
    String out=template.requestBodyAndHeader("jms:queue:bridge.cxf","Willem",CxfConstants.OPERATION_NAME,"greetMe",String.class);
    assertEquals("Hello Willem",out);
    out=template.requestBodyAndHeader("jms:queue:bridge.cxf",new Object[0],CxfConstants.OPERATION_NAME,"sayHi",String.class);
    assertEquals("Bonjour",out);
  }
}
