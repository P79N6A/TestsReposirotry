public class HeaderExchangeProcessor implements Processor {
  @SuppressWarnings("unchecked") public void process(  Exchange exchange) throws Exception {
    List<PingRequest> pingRequests=(List<PingRequest>)exchange.getIn().getBody();
    String userAgentName=(String)exchange.getIn().getHeader(GrpcConstants.GRPC_USER_AGENT_HEADER);
    PongResponse pongResponse=PongResponse.newBuilder().setPongName(userAgentName.substring(0,userAgentName.indexOf(' '))).setPongId(pingRequests.get(0).getPingId()).build();
    exchange.getIn().setBody(pongResponse);
  }
}
