@Sharable public static class ProtocolV30Decoder extends MessageToMessageDecoder<DatagramPacket> {
  @Override protected void decode(  ChannelHandlerContext ctx,  DatagramPacket packet,  List<Object> out) throws OncRpcException, IOException {
    byte[] bytes=new byte[packet.content().readableBytes()];
    packet.content().readBytes(bytes);
    XdrBufferDecodingStream xbds=new XdrBufferDecodingStream(bytes);
    Ganglia_message outMsg=new Ganglia_message();
    xbds.beginDecoding();
    outMsg.xdrDecode(xbds);
    xbds.endDecoding();
    out.add(outMsg);
  }
}
