@RunWith(SpringRunner.class) @SpringBootApplication @DirtiesContext @SpringBootTest(classes={ReactiveStreamsNamedEngineTest.TestConfiguration.class},properties={"camel.component.reactive-streams.service-type=my-engine"}) public class ReactiveStreamsNamedEngineTest {
  @Autowired private CamelContext context;
  @Autowired private CamelReactiveStreamsService reactiveStreamsService;
  @Test public void testAutoConfiguration() throws InterruptedException {
    CamelReactiveStreamsService service=CamelReactiveStreams.get(context);
    Assert.assertTrue(service instanceof MyEngine);
    Assert.assertEquals(service,reactiveStreamsService);
  }
@Component("my-engine") static class MyEngine extends ReactiveStreamsServiceTestSupport {
    public MyEngine(){
      super("my-engine");
    }
  }
@Configuration public static class TestConfiguration {
  }
}
