static class InitBean implements InitializingBean, TestState {
  ApplicationContext context;
  boolean initialized;
  @Autowired public InitBean(  final ApplicationContext context){
    this.context=context;
  }
  @Override public void afterPropertiesSet() throws Exception {
    assertThat(camelIsStopped(context)).as("initializing bean should be started before Camel").isTrue();
    initialized=true;
  }
  @Override public void assertValid(){
    assertThat(initialized).as("InitializingBean should be initialized").isTrue();
  }
}
