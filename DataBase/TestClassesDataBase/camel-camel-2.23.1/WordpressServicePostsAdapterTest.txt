public class WordpressServicePostsAdapterTest extends WordpressMockServerTestSupport {
  private static WordpressServicePosts servicePosts;
  @BeforeClass public static void before(){
    servicePosts=serviceProvider.getService(WordpressServicePosts.class);
    servicePosts.setWordpressAuthentication(new WordpressBasicAuthentication(WordpressServerHttpRequestHandler.USERNAME,WordpressServerHttpRequestHandler.PASSWORD));
  }
  @Test public void testRetrievePost(){
    final Post post=servicePosts.retrieve(1);
    assertThat(post,not(nullValue()));
    assertThat(post.getId(),is(greaterThan(0)));
  }
  @Test public void testCreatePost(){
    final Post entity=new Post();
    entity.setAuthor(2);
    entity.setTitle(new Content("hello from postman 2"));
    entity.setContent(new Content("hello world 2"));
    entity.setFormat(Format.standard);
    final Post post=servicePosts.create(entity);
    assertThat(post,not(nullValue()));
    assertThat(post.getId(),is(9));
  }
  @Test public void testListPosts(){
    final PostSearchCriteria criteria=new PostSearchCriteria();
    criteria.setPage(1);
    criteria.setPerPage(10);
    final List<Post> posts=servicePosts.list(criteria);
    assertThat(posts,is(not(emptyCollectionOf(Post.class))));
    assertThat(posts.size(),is(10));
  }
}
