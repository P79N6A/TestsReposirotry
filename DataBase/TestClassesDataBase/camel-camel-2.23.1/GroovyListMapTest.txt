/** 
 */
public class GroovyListMapTest extends CamelTestSupport {
  @Test public void testSendMatchingMessage() throws Exception {
    MockEndpoint mock=getMockEndpoint("mock:result");
    mock.expectedMessageCount(1);
    List<Map<String,Object>> grid=new ArrayList<>();
    Map<String,Object> cells=new LinkedHashMap<>();
    cells.put("foo","bar");
    grid.add(cells);
    sendBody("direct:start",grid);
    assertMockEndpointsSatisfied();
  }
  protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      public void configure() throws Exception {
        from("direct:start").filter().groovy("request.body.get(0).get('foo') == 'bar'").to("mock:result");
      }
    }
;
  }
}
