/** 
 * @version 
 */
public class EchoSpringRemotingThrowingRuntimeExceptionTest extends SpringTestSupport {
  protected AbstractXmlApplicationContext createApplicationContext(){
    return new ClassPathXmlApplicationContext("org/apache/camel/spring/remoting/echo.xml");
  }
  @Test public void testEchoOk() throws Exception {
    String out=template.requestBody("direct:echo","Claus",String.class);
    assertEquals("Claus Claus",out);
  }
  @Test public void testEchoKabom() throws Exception {
    try {
      template.requestBody("direct:echo","Kabom",String.class);
      fail("Should have thrown exception");
    }
 catch (    RuntimeCamelException e) {
      assertIsInstanceOf(MyEchoRuntimeException.class,e.getCause());
      assertEquals("Damn something went wrong",e.getCause().getMessage());
    }
  }
  @Test public void testRouteOk() throws Exception {
    String out=template.requestBody("direct:start","Claus",String.class);
    assertEquals("Claus Claus",out);
  }
  @Test public void testRouteKabom() throws Exception {
    try {
      template.requestBody("direct:start","Kabom",String.class);
      fail("Should have thrown exception");
    }
 catch (    RuntimeCamelException e) {
      assertIsInstanceOf(MyEchoRuntimeException.class,e.getCause());
      assertEquals("Damn something went wrong",e.getCause().getMessage());
    }
  }
}
