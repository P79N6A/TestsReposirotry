/** 
 * @version 
 */
public class FileInputStreamCacheTest extends ContextTestSupport {
  private static final String TEST_FILE="src/test/resources/org/apache/camel/converter/stream/test.xml";
  @Test public void testFileInputStreamCache() throws Exception {
    File file=new File(TEST_FILE);
    FileInputStreamCache cache=new FileInputStreamCache(file);
    ByteArrayOutputStream bos=new ByteArrayOutputStream();
    cache.writeTo(bos);
    String s=context.getTypeConverter().convertTo(String.class,bos);
    assertNotNull(s);
    assertTrue(s.contains("<firstName>James</firstName>"));
    IOHelper.close(cache,bos);
  }
}
