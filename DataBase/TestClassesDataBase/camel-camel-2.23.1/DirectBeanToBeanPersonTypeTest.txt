/** 
 * PersonType has a ObjectFactory so JAXB can convert to it, but we should still route it as is
 */
public class DirectBeanToBeanPersonTypeTest extends CamelTestSupport {
  @Test public void testBeanToBean() throws Exception {
    getMockEndpoint("mock:person").expectedMessageCount(1);
    getMockEndpoint("mock:person").message(0).body().isInstanceOf(PersonType.class);
    template.sendBody("direct:start",null);
    assertMockEndpointsSatisfied();
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("direct:start").bean(MyPersonService.class,"createPerson").bean(MyPersonService.class,"sendPerson");
      }
    }
;
  }
}
