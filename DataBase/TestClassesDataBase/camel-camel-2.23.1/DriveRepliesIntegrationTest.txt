/** 
 * Test class for com.google.api.services.drive.Drive$Replies APIs.
 */
public class DriveRepliesIntegrationTest extends AbstractGoogleDriveTestSupport {
  private static final Logger LOG=LoggerFactory.getLogger(DriveRepliesIntegrationTest.class);
  private static final String PATH_PREFIX=GoogleDriveApiCollection.getCollection().getApiName(DriveRepliesApiMethod.class).getName();
  @Test public void testReplyToComment() throws Exception {
    File testFile=uploadTestFile();
    String fileId=testFile.getId();
    Map<String,Object> headers=new HashMap<>();
    headers.put("CamelGoogleDrive.fileId",fileId);
    com.google.api.services.drive.model.Comment comment=new com.google.api.services.drive.model.Comment();
    comment.setContent("Camel rocks!");
    headers.put("CamelGoogleDrive.content",comment);
    requestBodyAndHeaders("direct://INSERT_COMMENT",null,headers);
    com.google.api.services.drive.model.CommentList result1=requestBody("direct://LIST_COMMENTS",fileId);
    assertNotNull(result1.get("items"));
    LOG.debug("list: " + result1);
    Comment comment2=result1.getItems().get(0);
    String commentId=comment2.getCommentId();
    headers=new HashMap<>();
    headers.put("CamelGoogleDrive.fileId",fileId);
    headers.put("CamelGoogleDrive.commentId",commentId);
    com.google.api.services.drive.model.CommentReply reply=new com.google.api.services.drive.model.CommentReply();
    reply.setContent("I know :-)");
    headers.put("CamelGoogleDrive.content",reply);
    requestBodyAndHeaders("direct://INSERT",null,headers);
    headers=new HashMap<>();
    headers.put("CamelGoogleDrive.fileId",fileId);
    headers.put("CamelGoogleDrive.commentId",commentId);
    final com.google.api.services.drive.model.CommentReplyList result=requestBodyAndHeaders("direct://LIST",null,headers);
    assertNotNull("list result",result);
    LOG.debug("list: " + result);
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      public void configure(){
        from("direct://DELETE").to("google-drive://" + PATH_PREFIX + "/delete");
        from("direct://GET").to("google-drive://" + PATH_PREFIX + "/get");
        from("direct://INSERT").to("google-drive://" + PATH_PREFIX + "/insert");
        from("direct://LIST").to("google-drive://" + PATH_PREFIX + "/list");
        from("direct://PATCH").to("google-drive://" + PATH_PREFIX + "/patch");
        from("direct://UPDATE").to("google-drive://" + PATH_PREFIX + "/update");
        from("direct://INSERT_1").to("google-drive://" + GoogleDriveApiCollection.getCollection().getApiName(DriveFilesApiMethod.class).getName() + "/insert");
        from("direct://INSERT_COMMENT").to("google-drive://drive-comments/insert");
        from("direct://LIST_COMMENTS").to("google-drive://drive-comments/list?inBody=fileId");
      }
    }
;
  }
}
