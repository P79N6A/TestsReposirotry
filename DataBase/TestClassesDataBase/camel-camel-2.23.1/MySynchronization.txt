private static class MySynchronization extends SynchronizationAdapter {
  private AtomicInteger onComplete=new AtomicInteger();
  private AtomicInteger onFailure=new AtomicInteger();
  public void onComplete(  Exchange exchange){
    onComplete.incrementAndGet();
  }
  @Override public void onFailure(  Exchange exchange){
    onFailure.incrementAndGet();
  }
  public int isOnComplete(){
    return onComplete.get();
  }
  public int isOnFailure(){
    return onFailure.get();
  }
}
