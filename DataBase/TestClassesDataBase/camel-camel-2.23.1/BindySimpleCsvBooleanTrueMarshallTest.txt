@ContextConfiguration public class BindySimpleCsvBooleanTrueMarshallTest extends AbstractJUnit4SpringContextTests {
  private List<Map<String,Object>> models=new ArrayList<>();
  private String result="andrew,true\r\n";
  @Produce(uri="direct:start") private ProducerTemplate template;
  @EndpointInject(uri="mock:result") private MockEndpoint resultEndpoint;
  @Test public void testMarshallMessage() throws Exception {
    resultEndpoint.expectedBodiesReceived(result);
    template.sendBody(generateModel());
    resultEndpoint.assertIsSatisfied();
  }
  public List<Map<String,Object>> generateModel(){
    Map<String,Object> modelObjects=new HashMap<>();
    BooleanExample example=new BooleanExample();
    example.setName("andrew");
    example.setExist(Boolean.TRUE);
    modelObjects.put(example.getClass().getName(),example);
    models.add(modelObjects);
    return models;
  }
public static class ContextConfig extends RouteBuilder {
    public void configure(){
      BindyCsvDataFormat camelDataFormat=new BindyCsvDataFormat(org.apache.camel.dataformat.bindy.model.simple.bool.BooleanExample.class);
      camelDataFormat.setLocale("en");
      from("direct:start").marshal(camelDataFormat).to("mock:result");
    }
  }
}
