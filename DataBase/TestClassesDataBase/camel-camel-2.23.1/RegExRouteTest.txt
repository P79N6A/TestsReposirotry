public class RegExRouteTest extends ContextTestSupport {
  String orignalBody="Foo and another Foo";
  String expectedBody="Bar and another Bar";
  @Test public void testSendingMessage() throws Exception {
    MockEndpoint result=getMockEndpoint("mock:result");
    result.expectedBodiesReceived(expectedBody);
    template.sendBody("direct:start",orignalBody);
    result.assertIsSatisfied();
  }
  protected RouteBuilder createRouteBuilder(){
    return new RouteBuilder(){
      public void configure(){
        from("direct:start").setBody(regexReplaceAll(body(),"Foo","Bar")).to("mock:result");
      }
    }
;
  }
}
