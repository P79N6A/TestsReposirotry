@RunWith(MockitoJUnitRunner.class) public class DistributionSummaryEndpointTest {
  private static final String METRICS_NAME="metrics.name";
  private static final Double VALUE=new Long(System.currentTimeMillis()).doubleValue();
  @Mock private MeterRegistry registry;
  private MicrometerEndpoint endpoint;
  private InOrder inOrder;
  @Before public void setUp(){
    endpoint=new MicrometerEndpoint(null,null,registry,Meter.Type.DISTRIBUTION_SUMMARY,METRICS_NAME,Tags.empty());
    inOrder=Mockito.inOrder(registry);
  }
  @After public void tearDown(){
    inOrder.verifyNoMoreInteractions();
  }
  @Test public void testHistogramEndpoint(){
    assertThat(endpoint,is(notNullValue()));
    assertThat(endpoint.getRegistry(),is(registry));
    assertThat(endpoint.getMetricsName(),is(METRICS_NAME));
  }
  @Test public void testCreateProducer(){
    Producer producer=endpoint.createProducer();
    assertThat(producer,is(notNullValue()));
    assertThat(producer,is(instanceOf(DistributionSummaryProducer.class)));
  }
  @Test public void testGetValue(){
    assertThat(endpoint.getValue(),is(nullValue()));
  }
  @Test public void testSetValue(){
    assertThat(endpoint.getValue(),is(nullValue()));
    endpoint.setValue(VALUE.toString());
    assertThat(Double.valueOf(endpoint.getValue()),is(VALUE));
  }
}
