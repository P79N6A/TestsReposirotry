public abstract class GitHubComponentTestBase extends CamelTestSupport {
  protected MockCommitService commitService;
  protected MockRepositoryService repositoryService;
  protected MockPullRequestService pullRequestService;
  protected MockIssueService issueService;
  @EndpointInject(uri="mock:result") protected MockEndpoint mockResultEndpoint;
  @Override protected JndiRegistry createRegistry() throws Exception {
    JndiRegistry registry=super.createRegistry();
    commitService=new MockCommitService();
    registry.bind(GitHubConstants.GITHUB_COMMIT_SERVICE,commitService);
    repositoryService=new MockRepositoryService();
    registry.bind(GitHubConstants.GITHUB_REPOSITORY_SERVICE,repositoryService);
    pullRequestService=new MockPullRequestService();
    registry.bind(GitHubConstants.GITHUB_PULL_REQUEST_SERVICE,pullRequestService);
    issueService=new MockIssueService(pullRequestService);
    registry.bind(GitHubConstants.GITHUB_ISSUE_SERVICE,issueService);
    return registry;
  }
  @Test public void emptyAtStartupTest() throws Exception {
    mockResultEndpoint.expectedMessageCount(0);
    mockResultEndpoint.assertIsSatisfied();
  }
}
