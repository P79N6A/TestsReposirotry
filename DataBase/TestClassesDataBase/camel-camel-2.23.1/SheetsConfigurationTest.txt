public class SheetsConfigurationTest extends CamelTestSupport {
  private static final String PATH_PREFIX=GoogleSheetsApiCollection.getCollection().getApiName(SheetsSpreadsheetsApiMethod.class).getName();
  private static final String TEST_URI="google-sheets://" + PATH_PREFIX + "/create?clientId=a&clientSecret=b&applicationName=c&accessToken=d&refreshToken=e";
  @Override protected CamelContext createCamelContext() throws Exception {
    final CamelContext context=new DefaultCamelContext(createRegistry());
    final GoogleSheetsComponent component=new GoogleSheetsComponent(context);
    context.addComponent("google-sheets",component);
    return context;
  }
  @Test public void testConfiguration() throws Exception {
    GoogleSheetsEndpoint endpoint=getMandatoryEndpoint(TEST_URI,GoogleSheetsEndpoint.class);
    GoogleSheetsConfiguration configuration=endpoint.getConfiguration();
    assertNotNull(configuration);
    assertEquals("a",configuration.getClientId());
    assertEquals("b",configuration.getClientSecret());
    assertEquals("c",configuration.getApplicationName());
    assertEquals("d",configuration.getAccessToken());
    assertEquals("e",configuration.getRefreshToken());
  }
  @Override protected RouteBuilder createRouteBuilder() throws Exception {
    return new RouteBuilder(){
      @Override public void configure(){
        from("direct://CREATE").to(TEST_URI);
      }
    }
;
  }
}
