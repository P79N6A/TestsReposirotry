/** 
 * Unit test for onException with expresion classname with a trailing \n the spring DSL.
 */
public class SpringOnExceptionNotNormalizedClassNameTest extends ContextTestSupport {
  @Test public void testOrderError() throws Exception {
    MockEndpoint error=getMockEndpoint("mock:error");
    error.expectedBodiesReceived("Order ERROR");
    MockEndpoint result=getMockEndpoint("mock:result");
    result.expectedMessageCount(0);
    Object out=template.requestBodyAndHeader("direct:start","Order: kaboom","customerid","555");
    assertEquals("Order ERROR",out);
    assertMockEndpointsSatisfied();
  }
  protected CamelContext createCamelContext() throws Exception {
    return createSpringCamelContext(this,"/org/apache/camel/spring/processor/onexception/onExceptionNotNormalizedClassNameTest.xml");
  }
}
