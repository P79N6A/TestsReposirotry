@RunWith(PaxExam.class) public class CamelIgniteTest extends BaseKarafTest {
  public static final String COMPONENT=extractName(CamelIgniteTest.class);
  @Configuration public static Option[] configure(){
    Option[] baseOptions=BaseKarafTest.configure();
    Option[] additionalOptions=CoreOptions.options(CoreOptions.systemPackage("sun.nio.ch,com.sun.management"));
    Option[] options=new Option[baseOptions.length + additionalOptions.length];
    System.arraycopy(baseOptions,0,options,0,baseOptions.length);
    System.arraycopy(additionalOptions,0,options,baseOptions.length,additionalOptions.length);
    return options;
  }
  @Test public void test() throws Exception {
    String version="2.6.0";
    LOG.info("Using Apache Ignite version: {}",version);
    URI url=new URI("mvn:org.apache.ignite/ignite-osgi-karaf/" + version + "/xml/features");
    featuresService.addRepository(url);
    featuresService.installFeature("ignite-core");
    featuresService.installFeature("ignite-camel");
    testComponent(COMPONENT);
  }
}
