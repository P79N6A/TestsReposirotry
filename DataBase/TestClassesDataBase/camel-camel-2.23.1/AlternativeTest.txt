@RunWith(CamelCdiRunner.class) @Beans(alternatives=AlternativeBean.class,classes=TestRoute.class) public class AlternativeTest {
  @Inject @Uri("mock:out") MockEndpoint mock;
  @Inject @Uri("direct:in") ProducerTemplate producer;
  @Test public void testAlternativeBean() throws InterruptedException {
    mock.expectedMessageCount(1);
    mock.expectedBodiesReceived("test with alternative bean!");
    producer.sendBody("test");
    assertIsSatisfied(1L,TimeUnit.SECONDS,mock);
  }
}
