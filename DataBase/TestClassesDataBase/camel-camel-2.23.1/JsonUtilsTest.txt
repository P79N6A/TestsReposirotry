/** 
 * Unit test for  {@link JsonUtils}
 */
public class JsonUtilsTest {
  public static final Logger LOG=LoggerFactory.getLogger(JsonUtilsTest.class);
  @Test public void getBasicApiJsonSchema() throws Exception {
    LOG.info("Basic Api Schema...");
    String basicApiJsonSchema=JsonUtils.getBasicApiJsonSchema();
    LOG.info(basicApiJsonSchema);
    ObjectMapper objectMapper=JsonUtils.createObjectMapper();
    JsonSchema jsonSchema=objectMapper.readValue(basicApiJsonSchema,JsonSchema.class);
    assertTrue(jsonSchema.isObjectSchema());
    assertFalse(((ObjectSchema)jsonSchema).getOneOf().isEmpty());
  }
  @Test public void getSObjectJsonSchema() throws Exception {
    SObjectDescription description=new Account().description();
    LOG.info("SObject Schema...");
    String sObjectJsonSchema=JsonUtils.getSObjectJsonSchema(description);
    LOG.info(sObjectJsonSchema);
    ObjectMapper objectMapper=JsonUtils.createObjectMapper();
    JsonSchema jsonSchema=objectMapper.readValue(sObjectJsonSchema,JsonSchema.class);
    assertTrue(jsonSchema.isObjectSchema());
    assertEquals(2,((ObjectSchema)jsonSchema).getOneOf().size());
  }
}
