public class MultiSelectPicklistXmlTest {
  private static final String TEST_NULL_XML="<MSPTest/>";
  private static final String TEST_XML="<MSPTest><MspField>Value1;Value2;Value3</MspField></MSPTest>";
  private static XStream xStream=XStreamUtils.createXStream(MSPTest.class);
  @Test public void testMarshal() throws Exception {
    final MSPTest mspTest=new MSPTest();
    mspTest.setMspField(MSPTest.MSPEnum.values());
    String xml=xStream.toXML(mspTest);
    assertEquals(TEST_XML,xml);
    mspTest.setMspField(null);
    xml=xStream.toXML(mspTest);
    assertEquals(TEST_NULL_XML,xml);
  }
  @Test public void testUnmarshal() throws Exception {
    MSPTest mspTest=(MSPTest)xStream.fromXML(TEST_XML);
    assertArrayEquals(MSPTest.MSPEnum.values(),mspTest.getMspField());
    mspTest=(MSPTest)xStream.fromXML(TEST_NULL_XML);
    assertNull(mspTest.getMspField());
  }
}
