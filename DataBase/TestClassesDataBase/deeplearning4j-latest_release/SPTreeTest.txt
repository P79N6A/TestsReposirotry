/** 
 * @author Adam Gibson
 */
public class SPTreeTest {
  @Before public void setUp(){
    DataTypeUtil.setDTypeForContext(DataBuffer.Type.DOUBLE);
  }
  @Test public void testStructure(){
    INDArray data=Nd4j.create(new double[][]{{1,2,3},{4,5,6}});
    SpTree tree=new SpTree(data);
    try (MemoryWorkspace ws=tree.workspace().notifyScopeEntered()){
      assertEquals(Nd4j.create(new double[]{2.5,3.5,4.5}),tree.getCenterOfMass());
      assertEquals(2,tree.getCumSize());
      assertEquals(8,tree.getNumChildren());
      assertTrue(tree.isCorrect());
    }
   }
  @Test @Ignore public void testLargeTree(){
    int num=100000;
    INDArray arr=Nd4j.linspace(1,num,num).reshape(num,1);
    SpTree tree=new SpTree(arr);
  }
}
