public static class OrderScanner2D {
  private float[] map;
  public OrderScanner2D(  INDArray data){
    map=measureState(data);
  }
  public float[] measureState(  INDArray data){
    float[] result=new float[(int)data.rows()];
    for (int x=0; x < data.rows(); x++) {
      result[x]=data.getRow(x).getFloat(0);
    }
    return result;
  }
  public boolean compareRow(  INDArray newData){
    float[] newMap=measureState(newData);
    if (newMap.length != map.length) {
      System.out.println("Different map lengths");
      return false;
    }
    if (Arrays.equals(map,newMap)) {
      System.out.println("Maps are equal");
      return false;
    }
    for (int x=0; x < newData.rows(); x++) {
      INDArray row=newData.getRow(x);
      for (int y=0; y < row.lengthLong(); y++) {
        if (Math.abs(row.getFloat(y) - newMap[x]) > Nd4j.EPS_THRESHOLD) {
          System.out.print("Different data in a row");
          return false;
        }
      }
    }
    return true;
  }
  public boolean compareColumn(  INDArray newData){
    float[] newMap=measureState(newData);
    if (newMap.length != map.length) {
      System.out.println("Different map lengths");
      return false;
    }
    if (Arrays.equals(map,newMap)) {
      System.out.println("Maps are equal");
      return false;
    }
    for (int x=0; x < newData.rows(); x++) {
      INDArray column=newData.getColumn(x);
      double val=column.getDouble(0);
      for (int y=0; y < column.lengthLong(); y++) {
        if (Math.abs(column.getFloat(y) - val) > Nd4j.EPS_THRESHOLD) {
          System.out.print("Different data in a column: " + column.getFloat(y));
          return false;
        }
      }
    }
    return true;
  }
  public float[] getMap(){
    return map;
  }
}
