private static class DigesterThread extends Thread {
  private String string;
  private String expectedDigest;
  private String error;
  public DigesterThread(  String string,  String expectedDigest){
    this.string=string;
    this.expectedDigest=expectedDigest;
  }
  public void run(){
    for (int i=0; i < 1000; i++) {
      String digest=Util.getDigestOf(this.string);
      if (!this.expectedDigest.equals(digest)) {
        this.error="Expected " + this.expectedDigest + ", but got "+ digest;
        break;
      }
    }
  }
}
