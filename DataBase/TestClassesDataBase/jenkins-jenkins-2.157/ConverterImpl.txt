public static final class ConverterImpl extends AbstractSingleValueConverter {
  @Override public boolean canConvert(  Class type){
    return type == Datum.class;
  }
  @Override public Object fromString(  String str){
    int val=Integer.parseInt(str);
    if (val == 2) {
      throw new IllegalStateException("oops");
    }
    return new Datum(val);
  }
}
