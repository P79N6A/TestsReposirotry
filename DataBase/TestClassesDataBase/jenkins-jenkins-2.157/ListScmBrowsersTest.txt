/** 
 * @author Kohsuke Kawaguchi
 */
public class ListScmBrowsersTest {
  @Rule public JenkinsRule j=new JenkinsRule();
  @Test public void selectBoxesUnique_FreeStyleProject() throws Exception {
    check(j.createFreeStyleProject());
  }
  @Test public void selectBoxesUnique_MavenProject() throws Exception {
    check(j.jenkins.createProject(MavenModuleSet.class,"p"));
  }
  @Test public void selectBoxesUnique_MatrixProject() throws Exception {
    check(j.jenkins.createProject(MatrixProject.class,"p"));
  }
  private void check(  Item p) throws IOException, SAXException {
    HtmlPage page=j.createWebClient().getPage(p,"configure");
    List<HtmlSelect> selects=DomNodeUtil.selectNodes(page,"//select");
    assertTrue(selects.size() > 0);
    for (    HtmlSelect select : selects) {
      Set<String> title=new HashSet<String>();
      for (      HtmlOption o : select.getOptions()) {
        assertTrue("Duplicate entry: " + o.getText(),title.add(o.getText()));
      }
    }
  }
}
