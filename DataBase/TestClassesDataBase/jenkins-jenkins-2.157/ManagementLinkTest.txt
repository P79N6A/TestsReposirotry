/** 
 * @author Kohsuke Kawaguchi
 */
public class ManagementLinkTest {
  @Rule public JenkinsRule j=new JenkinsRule();
  /** 
 * Makes sure every link works.
 */
  @Test public void links() throws Exception {
    WebClient wc=j.createWebClient();
    for (int i=0; ; i++) {
      HtmlPage page=wc.goTo("manage");
      List<?> anchors=DomNodeUtil.selectNodes(page,"//div[@class='manage-option']/a[not(@onclick)]");
      assertTrue(anchors.size() >= 8);
      if (i == anchors.size())       return;
      ((HtmlAnchor)anchors.get(i)).click();
    }
  }
  @Test @Issue("JENKINS-33683") public void invisibleLinks() throws Exception {
    assertEquals(null,j.jenkins.getDynamic("and_fail_trying"));
  }
@TestExtension public static final class InvisibleManagementLink extends ManagementLink {
    @Override public String getIconFileName(){
      return null;
    }
    @Override public String getDisplayName(){
      return null;
    }
    @Override public String getUrlName(){
      return null;
    }
  }
}
