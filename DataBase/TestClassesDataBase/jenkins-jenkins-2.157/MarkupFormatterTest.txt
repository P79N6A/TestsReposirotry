/** 
 * @author Kohsuke Kawaguchi
 */
public class MarkupFormatterTest {
  @Rule public JenkinsRule j=new JenkinsRule();
  @Test public void configRoundtrip() throws Exception {
    j.jenkins.setSecurityRealm(new HudsonPrivateSecurityRealm(false));
    j.jenkins.setAuthorizationStrategy(new Unsecured());
    j.jenkins.setMarkupFormatter(new DummyMarkupImpl("hello"));
    j.configRoundtrip();
    assertEquals("hello",((DummyMarkupImpl)j.jenkins.getMarkupFormatter()).prefix);
  }
public static class DummyMarkupImpl extends MarkupFormatter {
    public final String prefix;
    @DataBoundConstructor public DummyMarkupImpl(    String prefix){
      this.prefix=prefix;
    }
    @Override public void translate(    String markup,    Writer output) throws IOException {
      output.write(prefix + "[" + markup+ "]");
    }
@TestExtension public static class DescriptorImpl extends MarkupFormatterDescriptor {
    }
  }
}
