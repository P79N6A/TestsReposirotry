public class DisplayNameListenerTest {
  @Test public void testOnCopied() throws Exception {
    DisplayNameListener listener=new DisplayNameListener();
    StubJob src=new StubJob();
    src.doSetName("src");
    StubJob dest=new StubJob();
    dest.doSetName("dest");
    dest.setDisplayName("this should be cleared");
    assertFalse(dest.getName().equals(dest.getDisplayName()));
    listener.onCopied(src,dest);
    assertEquals(dest.getName(),dest.getDisplayName());
  }
  @Test public void testOnRenamedOldNameEqualsDisplayName() throws Exception {
    DisplayNameListener listener=new DisplayNameListener();
    final String oldName="old job name";
    final String newName="new job name";
    StubJob src=new StubJob();
    src.doSetName(newName);
    src.setDisplayName(oldName);
    listener.onRenamed(src,oldName,newName);
    assertEquals(newName,src.getDisplayName());
  }
  @Test public void testOnRenamedOldNameNotEqualDisplayName() throws Exception {
    DisplayNameListener listener=new DisplayNameListener();
    final String oldName="old job name";
    final String newName="new job name";
    final String displayName="the display name";
    StubJob src=new StubJob();
    src.doSetName(newName);
    src.setDisplayName(displayName);
    listener.onRenamed(src,oldName,oldName);
    assertEquals(displayName,src.getDisplayName());
  }
}
