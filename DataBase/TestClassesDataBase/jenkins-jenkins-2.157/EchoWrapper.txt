/** 
 * A wrapper, which contains a nested launch.
 */
public static class EchoWrapper extends BuildWrapper {
  @Override public Environment setUp(  AbstractBuild build,  Launcher launcher,  BuildListener listener) throws IOException, InterruptedException {
    String[] cmds=Functions.isWindows() ? new String[]{"cmd.exe","/C","echo","Hello"} : new String[]{"echo","Hello"};
    Launcher.ProcStarter starter=launcher.launch().cmds(cmds);
    starter.start();
    starter.join();
    return new Environment(){
    }
;
  }
@Extension public static class DescriptorImpl extends TestWrapperDescriptor {
  }
}
