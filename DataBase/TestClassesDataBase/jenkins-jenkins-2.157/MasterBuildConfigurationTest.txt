public class MasterBuildConfigurationTest {
  @Rule public JenkinsRule j=new JenkinsRule();
  @Test @Issue("JENKINS-23966") public void retainMasterLabelWhenNoSlaveDefined() throws Exception {
    Jenkins jenkins=j.getInstance();
    assertTrue("Test is for master with no slave",jenkins.getComputers().length == 1);
    final String myTestLabel="TestLabelx0123";
    jenkins.setLabelString(myTestLabel);
    jenkins.setMode(Mode.EXCLUSIVE);
    j.configRoundtrip();
    assertTrue("Master's label is lost",myTestLabel.equals(jenkins.getLabelString()));
    assertTrue("Master's mode is lost",Mode.EXCLUSIVE.equals(jenkins.getMode()));
  }
}
