@TestExtension public static class ActionFactory extends TransientProjectActionFactory {
  boolean visible;
  @SuppressWarnings("rawtypes") @Override public Collection<? extends Action> createFor(  AbstractProject target){
    return Collections.singleton(new ContextMenuVisibility(){
      @Override public boolean isVisible(){
        return visible;
      }
      @Override public String getIconFileName(){
        return "whatever";
      }
      @Override public String getDisplayName(){
        return "Hello";
      }
      @Override public String getUrlName(){
        return "testing";
      }
    }
);
  }
}
