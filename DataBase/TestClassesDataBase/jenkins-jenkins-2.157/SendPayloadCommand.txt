@TestExtension() public static class SendPayloadCommand extends CLICommand {
  @Override public String getShortDescription(){
    return hudson.cli.Messages.ConsoleCommand_ShortDescription();
  }
  @Argument(metaVar="payload",usage="ID of the payload",required=true,index=0) public String payload;
  @Argument(metaVar="command",usage="Command to be launched by the payload",required=true,index=1) public String command;
  @Override protected int run() throws Exception {
    Payload payloadItem=Payload.valueOf(this.payload);
    PayloadCaller callable=new PayloadCaller(payloadItem,command);
    return channel.call(callable);
  }
  @Override protected void printUsageSummary(  PrintStream stderr){
    stderr.println("Sends a payload over the channel");
  }
}
