@SuppressWarnings("unchecked") private static class BrokenPublisher extends Notifier {
  @Override public boolean needsToRunAfterFinalized(){
    throw new IllegalStateException("oops");
  }
  @Override public boolean perform(  AbstractBuild<?,?> build,  Launcher launcher,  BuildListener listener) throws InterruptedException, IOException {
    return true;
  }
  @Override public BuildStepMonitor getRequiredMonitorService(){
    return BuildStepMonitor.NONE;
  }
}
