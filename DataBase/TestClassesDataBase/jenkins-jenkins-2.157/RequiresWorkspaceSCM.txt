@TestExtension public static class RequiresWorkspaceSCM extends NullSCM {
  public boolean hasChange=false;
  public RequiresWorkspaceSCM(){
  }
  public RequiresWorkspaceSCM(  boolean hasChange){
    this.hasChange=hasChange;
  }
  @Override public boolean pollChanges(  AbstractProject<?,?> project,  Launcher launcher,  FilePath workspace,  TaskListener listener) throws IOException, InterruptedException {
    return hasChange;
  }
  @Override public boolean requiresWorkspaceForPolling(){
    return true;
  }
  @Override public SCMDescriptor<?> getDescriptor(){
    return new SCMDescriptor<SCM>(null){
    }
;
  }
  @Override protected PollingResult compareRemoteRevisionWith(  AbstractProject project,  Launcher launcher,  FilePath workspace,  TaskListener listener,  SCMRevisionState baseline) throws IOException, InterruptedException {
    if (!hasChange) {
      return PollingResult.NO_CHANGES;
    }
    return PollingResult.SIGNIFICANT;
  }
}
