class RuleRunnerImpl extends JenkinsRecipe.Runner<WithCustomLocalPluginManager> {
  private String oldValue;
  @Override public void setup(  JenkinsRule jenkinsRule,  WithCustomLocalPluginManager recipe) throws Exception {
    jenkinsRule.useLocalPluginManager=true;
    oldValue=System.getProperty(LocalPluginManager.CUSTOM_PLUGIN_MANAGER);
    System.setProperty(LocalPluginManager.CUSTOM_PLUGIN_MANAGER,recipe.value().getName());
  }
  @Override public void tearDown(  JenkinsRule jenkinsRule,  WithCustomLocalPluginManager recipe) throws Exception {
    System.setProperty(LocalPluginManager.CUSTOM_PLUGIN_MANAGER,oldValue);
  }
}
