private static class LifecycleListener implements ApplicationListener<ApplicationEvent> {
  private ApplicationContext context;
  private int startedCount;
  private int stoppedCount;
  @Override public void onApplicationEvent(  ApplicationEvent event){
    if (event instanceof ContextStartedEvent) {
      this.context=((ContextStartedEvent)event).getApplicationContext();
      this.startedCount++;
    }
 else     if (event instanceof ContextStoppedEvent) {
      this.context=((ContextStoppedEvent)event).getApplicationContext();
      this.stoppedCount++;
    }
  }
  public ApplicationContext getApplicationContext(){
    return this.context;
  }
  public int getStartedCount(){
    return this.startedCount;
  }
  public int getStoppedCount(){
    return this.stoppedCount;
  }
}
