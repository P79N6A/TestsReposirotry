/** 
 * @author Sam Brannen
 * @since 3.2.2
 */
@ContextHierarchy(@ContextConfiguration) public class DispatcherWacRootWacEarTests extends RootWacEarTests {
  @Autowired private WebApplicationContext wac;
  @Autowired private String ear;
  @Autowired private String root;
  @Autowired private String dispatcher;
  @Ignore("Superseded by verifyDispatcherWacConfig()") @Test @Override public void verifyEarConfig(){
  }
  @Ignore("Superseded by verifyDispatcherWacConfig()") @Test @Override public void verifyRootWacConfig(){
  }
  @Test public void verifyDispatcherWacConfig(){
    ApplicationContext parent=wac.getParent();
    assertNotNull(parent);
    assertTrue(parent instanceof WebApplicationContext);
    ApplicationContext grandParent=parent.getParent();
    assertNotNull(grandParent);
    assertFalse(grandParent instanceof WebApplicationContext);
    ServletContext dispatcherServletContext=wac.getServletContext();
    assertNotNull(dispatcherServletContext);
    ServletContext rootServletContext=((WebApplicationContext)parent).getServletContext();
    assertNotNull(rootServletContext);
    assertSame(dispatcherServletContext,rootServletContext);
    assertSame(parent,rootServletContext.getAttribute(WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE));
    assertSame(parent,dispatcherServletContext.getAttribute(WebApplicationContext.ROOT_WEB_APPLICATION_CONTEXT_ATTRIBUTE));
    assertEquals("ear",ear);
    assertEquals("root",root);
    assertEquals("dispatcher",dispatcher);
  }
}
