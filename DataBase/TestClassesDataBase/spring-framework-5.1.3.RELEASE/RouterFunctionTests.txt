/** 
 * Sample tests demonstrating "mock" server tests binding to a RouterFunction.
 * @author Rossen Stoyanchev
 * @since 5.0
 */
public class RouterFunctionTests {
  private WebTestClient testClient;
  @Before public void setUp() throws Exception {
    RouterFunction<?> route=route(GET("/test"),request -> ServerResponse.ok().syncBody("It works!"));
    this.testClient=WebTestClient.bindToRouterFunction(route).build();
  }
  @Test public void test() throws Exception {
    this.testClient.get().uri("/test").exchange().expectStatus().isOk().expectBody(String.class).isEqualTo("It works!");
  }
}
