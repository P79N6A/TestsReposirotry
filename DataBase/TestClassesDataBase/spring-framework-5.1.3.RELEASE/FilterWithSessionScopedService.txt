static class FilterWithSessionScopedService extends GenericFilterBean {
  @Autowired private SessionScopedService service;
  @Override public void doFilter(  ServletRequest request,  ServletResponse response,  FilterChain chain) throws IOException, ServletException {
    this.service.process();
    assertRequestAttributes(request);
    assertRequestAttributes();
    chain.doFilter(request,response);
  }
}
