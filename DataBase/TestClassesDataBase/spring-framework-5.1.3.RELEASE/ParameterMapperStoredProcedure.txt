private static class ParameterMapperStoredProcedure extends StoredProcedure {
  public static final String SQL="parameter_mapper_sp";
  public ParameterMapperStoredProcedure(  DataSource ds){
    setDataSource(ds);
    setSql(SQL);
    declareParameter(new SqlParameter("in",Types.VARCHAR));
    declareParameter(new SqlOutParameter("out",Types.VARCHAR));
    compile();
  }
  public Map<String,Object> executeTest(){
    return execute(new TestParameterMapper());
  }
private static class TestParameterMapper implements ParameterMapper {
    private TestParameterMapper(){
    }
    @Override public Map<String,?> createMap(    Connection con) throws SQLException {
      Map<String,Object> inParms=new HashMap<>();
      String testValue=con.toString();
      inParms.put("in",testValue);
      return inParms;
    }
  }
}
