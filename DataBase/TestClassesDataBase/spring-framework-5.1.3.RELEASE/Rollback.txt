class Rollback {
  /** 
 * Inherits transaction attribute. Illustrates programmatic rollback.
 * @param rollbackOnly
 */
  public void rollbackOnly(  boolean rollbackOnly){
    if (rollbackOnly) {
      setRollbackOnly();
    }
  }
  /** 
 * Extracted in a protected method to facilitate testing
 */
  protected void setRollbackOnly(){
    TransactionInterceptor.currentTransactionStatus().setRollbackOnly();
  }
  /** 
 * @org.springframework.transaction.interceptor.RuleBasedTransaction ( timeout=-1 )
 * @org.springframework.transaction.interceptor.RollbackRule ( "java.lang.Exception" )
 * @org.springframework.transaction.interceptor.NoRollbackRule ( "ServletException" )
 */
  public void echoException(  Exception ex) throws Exception {
    if (ex != null)     throw ex;
  }
}
