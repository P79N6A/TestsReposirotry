private static class CollatingProblemReporter implements ProblemReporter {
  private final List<Problem> errors=new ArrayList<>();
  private final List<Problem> warnings=new ArrayList<>();
  @Override public void fatal(  Problem problem){
    throw new BeanDefinitionParsingException(problem);
  }
  @Override public void error(  Problem problem){
    this.errors.add(problem);
  }
  public Problem[] getErrors(){
    return this.errors.toArray(new Problem[this.errors.size()]);
  }
  @Override public void warning(  Problem problem){
    this.warnings.add(problem);
  }
}
