@SuppressWarnings("unused") private static class TestSecuredBean {
  private String userName;
  public void init(){
    AccessControlContext acc=AccessController.getContext();
    Subject subject=Subject.getSubject(acc);
    if (subject == null) {
      return;
    }
    setNameFromPrincipal(subject.getPrincipals());
  }
  private void setNameFromPrincipal(  Set<Principal> principals){
    if (principals == null) {
      return;
    }
    for (Iterator<Principal> it=principals.iterator(); it.hasNext(); ) {
      Principal p=it.next();
      this.userName=p.getName();
      return;
    }
  }
  public String getUserName(){
    return this.userName;
  }
}
