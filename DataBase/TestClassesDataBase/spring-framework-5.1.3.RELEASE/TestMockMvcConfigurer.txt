/** 
 * Test  {@code MockMvcConfigurer}.
 */
private static class TestMockMvcConfigurer extends MockMvcConfigurerAdapter {
  @Override public void afterConfigurerAdded(  ConfigurableMockMvcBuilder<?> builder){
    builder.alwaysExpect(status().isOk());
  }
  @Override public RequestPostProcessor beforeMockMvcCreated(  ConfigurableMockMvcBuilder<?> builder,  WebApplicationContext context){
    return request -> {
      request.setUserPrincipal(mock(Principal.class));
      return request;
    }
;
  }
}
