private static class TestRunnable implements Runnable {
  private final CountDownLatch countDownLatch=new CountDownLatch(1);
  @Override public void run(){
    this.countDownLatch.countDown();
  }
  public void waitForCompletion() throws InterruptedException {
    this.countDownLatch.await(2,TimeUnit.SECONDS);
    assertEquals("callback was not invoked",0,this.countDownLatch.getCount());
  }
}
