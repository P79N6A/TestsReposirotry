public static class SelfInjectingFactoryBean implements FactoryBean<TestBean> {
  private final TestBean exposedTestBean=new TestBean();
  @Autowired TestBean testBean;
  @Override public TestBean getObject(){
    return exposedTestBean;
  }
  @Override public Class<?> getObjectType(){
    return TestBean.class;
  }
  @Override public boolean isSingleton(){
    return true;
  }
  public static SelfInjectingFactoryBean create(){
    return new SelfInjectingFactoryBean();
  }
}
