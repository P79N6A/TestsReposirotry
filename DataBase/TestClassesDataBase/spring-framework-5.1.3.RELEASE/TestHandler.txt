private static class TestHandler implements ResponseBodyEmitter.Handler {
  private List<Object> objects=new ArrayList<>();
  private List<MediaType> mediaTypes=new ArrayList<>();
  public void assertSentObjectCount(  int size){
    assertEquals(size,this.objects.size());
  }
  public void assertObject(  int index,  Object object){
    assertObject(index,object,null);
  }
  public void assertObject(  int index,  Object object,  MediaType mediaType){
    assertTrue(index <= this.objects.size());
    assertEquals(object,this.objects.get(index));
    assertEquals(mediaType,this.mediaTypes.get(index));
  }
  @Override public void send(  Object data,  MediaType mediaType) throws IOException {
    this.objects.add(data);
    this.mediaTypes.add(mediaType);
  }
  @Override public void complete(){
  }
  @Override public void completeWithError(  Throwable failure){
  }
  @Override public void onTimeout(  Runnable callback){
  }
  @Override public void onError(  Consumer<Throwable> callback){
  }
  @Override public void onCompletion(  Runnable callback){
  }
}
