private static class TestPublisher implements ApplicationEventPublisher {
  private final List<ApplicationEvent> events=new ArrayList<>();
  @Override public void publishEvent(  ApplicationEvent event){
    events.add(event);
  }
  @Override public void publishEvent(  Object event){
    publishEvent(new PayloadApplicationEvent<>(this,event));
  }
}
