private static class PartialAttributesAdapter implements InvocationArgumentsAdapter {
  @Override public Object[] adaptArguments(  Object[] arguments){
    for (int i=0; i < arguments.length; i++) {
      if (arguments[i] instanceof Attributes) {
        arguments[i]=new PartialAttributes((Attributes)arguments[i]);
      }
    }
    return arguments;
  }
}
