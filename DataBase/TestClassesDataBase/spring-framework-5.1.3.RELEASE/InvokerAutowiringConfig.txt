@Configuration @ComponentScan @Lazy public static class InvokerAutowiringConfig {
  @Bean public AsyncAnnotationBeanPostProcessor aabpp(){
    return new AsyncAnnotationBeanPostProcessor();
  }
  @Bean public HttpInvokerProxyFactoryBean myService(){
    HttpInvokerProxyFactoryBean factory=new HttpInvokerProxyFactoryBean();
    factory.setServiceUrl("/svc/dummy");
    factory.setServiceInterface(MyService.class);
    factory.setHttpInvokerRequestExecutor((config,invocation) -> new RemoteInvocationResult());
    return factory;
  }
  @Bean public FactoryBean<String> myOtherService(){
    throw new IllegalStateException("Don't ever call me");
  }
}
