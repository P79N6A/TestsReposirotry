@Configuration @SuppressWarnings("unused") static class CustomViewResolverConfig extends WebFluxConfigurationSupport {
  @Override protected void configureViewResolvers(  ViewResolverRegistry registry){
    registry.freeMarker();
    registry.defaultViews(new HttpMessageWriterView(new Jackson2JsonEncoder()));
  }
  @Bean public FreeMarkerConfigurer freeMarkerConfig(){
    return new FreeMarkerConfigurer();
  }
}
