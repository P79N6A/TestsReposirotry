private static final class TestSubscriber implements Subscriber<DataBuffer> {
  private Subscription subscription;
  private boolean cancelOnNext;
  public Subscription getSubscription(){
    return this.subscription;
  }
  public void setCancelOnNext(  boolean cancelOnNext){
    this.cancelOnNext=cancelOnNext;
  }
  @Override public void onSubscribe(  Subscription subscription){
    this.subscription=subscription;
  }
  @Override public void onNext(  DataBuffer dataBuffer){
    if (this.cancelOnNext) {
      this.subscription.cancel();
    }
  }
  @Override public void onError(  Throwable t){
  }
  @Override public void onComplete(){
  }
}
