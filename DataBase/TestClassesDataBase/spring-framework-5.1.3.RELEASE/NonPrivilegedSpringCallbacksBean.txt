@SuppressWarnings("unused") private static class NonPrivilegedSpringCallbacksBean implements InitializingBean, DisposableBean, BeanClassLoaderAware, BeanFactoryAware, BeanNameAware {
  private String expectedName;
  public static boolean destroyed=false;
  public NonPrivilegedSpringCallbacksBean(  String expected){
    this.expectedName=expected;
    checkCurrentContext();
  }
  @Override public void afterPropertiesSet(){
    checkCurrentContext();
  }
  @Override public void destroy(){
    checkCurrentContext();
    destroyed=true;
  }
  @Override public void setBeanName(  String name){
    checkCurrentContext();
  }
  @Override public void setBeanClassLoader(  ClassLoader classLoader){
    checkCurrentContext();
  }
  @Override public void setBeanFactory(  BeanFactory beanFactory) throws BeansException {
    checkCurrentContext();
  }
  private void checkCurrentContext(){
    assertEquals(expectedName,getCurrentSubjectName());
  }
}
