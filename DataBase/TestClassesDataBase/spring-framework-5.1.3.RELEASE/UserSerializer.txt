public static class UserSerializer extends JsonSerializer<User> {
  @Autowired private Capitalizer capitalizer;
  @Override public void serialize(  User user,  JsonGenerator jsonGenerator,  SerializerProvider serializerProvider) throws IOException {
    jsonGenerator.writeStartObject();
    jsonGenerator.writeStringField("username",this.capitalizer.capitalize(user.getUsername()));
    jsonGenerator.writeEndObject();
  }
}
