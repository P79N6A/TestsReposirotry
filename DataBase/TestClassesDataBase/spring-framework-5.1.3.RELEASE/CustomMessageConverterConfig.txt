@Configuration static class CustomMessageConverterConfig extends WebFluxConfigurationSupport {
  @Override protected void configureHttpMessageCodecs(  ServerCodecConfigurer configurer){
    configurer.registerDefaults(false);
    configurer.customCodecs().decoder(StringDecoder.textPlainOnly());
    configurer.customCodecs().decoder(new Jaxb2XmlDecoder());
    configurer.customCodecs().encoder(CharSequenceEncoder.textPlainOnly());
    configurer.customCodecs().encoder(new Jaxb2XmlEncoder());
  }
}
