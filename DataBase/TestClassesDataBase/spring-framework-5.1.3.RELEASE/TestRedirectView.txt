private static class TestRedirectView extends RedirectView {
  private Map<String,?> expectedModel;
  private boolean queryPropertiesCalled=false;
  public TestRedirectView(  String url,  boolean contextRelative,  Map<String,?> expectedModel){
    super(url,contextRelative);
    this.expectedModel=expectedModel;
  }
  /** 
 * Test whether this callback method is called with correct args
 */
  @Override protected Map<String,Object> queryProperties(  Map<String,Object> model){
    assertTrue("Map and model must be equal.",this.expectedModel.equals(model));
    this.queryPropertiesCalled=true;
    return super.queryProperties(model);
  }
}
