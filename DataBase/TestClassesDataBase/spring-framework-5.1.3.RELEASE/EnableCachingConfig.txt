@Configuration @EnableCaching static class EnableCachingConfig {
  @Bean public CacheManager cacheManager(){
    return CacheTestUtils.createSimpleCacheManager("testCache","primary","secondary");
  }
  @Bean public CacheableService<?> service(){
    return new DefaultCacheableService();
  }
  @Bean public CacheInterceptor cacheInterceptor(  CacheOperationSource cacheOperationSource){
    CacheInterceptor cacheInterceptor=new TestCacheInterceptor();
    cacheInterceptor.setCacheManager(cacheManager());
    cacheInterceptor.setCacheOperationSources(cacheOperationSource);
    return cacheInterceptor;
  }
}
