@Configuration @EnableTransactionManagement static class ExplicitTxManagerConfig implements TransactionManagementConfigurer {
  @Bean public PlatformTransactionManager txManager1(){
    return new CallCountingTransactionManager();
  }
  @Bean public PlatformTransactionManager txManager2(){
    return new CallCountingTransactionManager();
  }
  @Override public PlatformTransactionManager annotationDrivenTransactionManager(){
    return txManager1();
  }
  @Bean public FooRepository fooRepository(){
    return new DummyFooRepository();
  }
}
