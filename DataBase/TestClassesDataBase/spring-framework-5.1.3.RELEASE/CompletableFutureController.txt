@Controller private static class CompletableFutureController {
  private CompletableFuture<String> future;
  private boolean exceptionCaught=false;
  @MessageMapping("completable-future") public CompletableFuture<String> handleCompletableFuture(){
    this.future=new CompletableFuture<>();
    return this.future;
  }
  @MessageExceptionHandler(IllegalStateException.class) public void handleValidationException(){
    this.exceptionCaught=true;
  }
}
