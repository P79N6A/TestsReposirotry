private static class TestKeyGenerator extends SimpleKeyGenerator {
  private Object[] expectedParams;
  private void expect(  Object... params){
    this.expectedParams=params;
  }
  @Override public Object generate(  Object target,  Method method,  Object... params){
    assertTrue("Unexpected parameters: expected: " + Arrays.toString(this.expectedParams) + " but got: "+ Arrays.toString(params),Arrays.equals(expectedParams,params));
    return new SimpleKey(params);
  }
}
