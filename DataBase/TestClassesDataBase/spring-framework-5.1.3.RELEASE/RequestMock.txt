private class RequestMock implements ClientHttpRequest {
  private URI uri;
  private HttpMethod method;
  private HttpHeaders headers=new HttpHeaders();
  private ByteArrayOutputStream body=new ByteArrayOutputStream();
  private boolean executed=false;
  private RequestMock(){
  }
  @Override public URI getURI(){
    return uri;
  }
  public void setURI(  URI uri){
    this.uri=uri;
  }
  @Override public HttpMethod getMethod(){
    return method;
  }
  @Override public String getMethodValue(){
    return method.name();
  }
  public void setMethod(  HttpMethod method){
    this.method=method;
  }
  @Override public HttpHeaders getHeaders(){
    return headers;
  }
  @Override public OutputStream getBody() throws IOException {
    return body;
  }
  @Override public ClientHttpResponse execute() throws IOException {
    executed=true;
    return responseMock;
  }
}
