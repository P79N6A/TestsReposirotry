private class TxCountingBeforeAdvice extends CountingBeforeAdvice {
  @Override public void before(  Method method,  Object[] args,  Object target) throws Throwable {
    if (requireTransactionContext) {
      TransactionInterceptor.currentTransactionStatus();
    }
 else {
      try {
        TransactionInterceptor.currentTransactionStatus();
        throw new RuntimeException("Shouldn't have a transaction");
      }
 catch (      NoTransactionException ex) {
      }
    }
    super.before(method,args,target);
  }
}
