@Repository static class MyRepositoryWithScheduledMethodImpl implements MyRepositoryWithScheduledMethod {
  private final AtomicInteger count=new AtomicInteger(0);
  @Autowired(required=false) private MyAspect myAspect;
  @Override @Transactional @Scheduled(fixedDelay=5) public void scheduled(){
    this.count.incrementAndGet();
  }
  @Override public int getInvocationCount(){
    if (this.myAspect != null) {
      assertEquals(this.count.get(),this.myAspect.count.get());
    }
    return this.count.get();
  }
}
