/** 
 * A compilation task.
 */
public static class TestCompilationTask {
  private final JavaCompiler.CompilationTask task;
  public TestCompilationTask(  JavaCompiler.CompilationTask task){
    this.task=task;
  }
  public void call(  Processor... processors){
    this.task.setProcessors(Arrays.asList(processors));
    if (!this.task.call()) {
      throw new IllegalStateException("Compilation failed");
    }
  }
}
