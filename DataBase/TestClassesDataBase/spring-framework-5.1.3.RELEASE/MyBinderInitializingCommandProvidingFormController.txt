@Controller static class MyBinderInitializingCommandProvidingFormController extends MyCommandProvidingFormController<String,TestBean,ITestBean> {
  @InitBinder public void initBinder(  WebDataBinder binder){
    binder.initBeanPropertyAccess();
    binder.setRequiredFields("sex");
    LocalValidatorFactoryBean vf=new LocalValidatorFactoryBean();
    vf.afterPropertiesSet();
    binder.setValidator(vf);
    SimpleDateFormat dateFormat=new SimpleDateFormat("yyyy-MM-dd");
    dateFormat.setLenient(false);
    binder.registerCustomEditor(Date.class,new CustomDateEditor(dateFormat,false));
  }
  @Override @RequestMapping("/myPath.do") public String myHandle(  @ModelAttribute("myCommand") @Valid TestBean tb,  BindingResult errors,  ModelMap model){
    if (!errors.hasFieldErrors("sex")) {
      throw new IllegalStateException("requiredFields not applied");
    }
    return super.myHandle(tb,errors,model);
  }
}
