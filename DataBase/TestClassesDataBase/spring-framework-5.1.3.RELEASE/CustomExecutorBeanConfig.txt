@Configuration @EnableAsync static class CustomExecutorBeanConfig implements AsyncConfigurer {
  @Bean public AsyncBean asyncBean(){
    return new AsyncBean();
  }
  @Override public Executor getAsyncExecutor(){
    return executor();
  }
  @Bean public ThreadPoolTaskExecutor executor(){
    ThreadPoolTaskExecutor executor=new ThreadPoolTaskExecutor();
    executor.setThreadNamePrefix("Custom-");
    executor.initialize();
    return executor;
  }
  @Override public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler(){
    return exceptionHandler();
  }
  @Bean public AsyncUncaughtExceptionHandler exceptionHandler(){
    return new TestableAsyncUncaughtExceptionHandler();
  }
}
