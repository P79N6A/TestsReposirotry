/** 
 * This class is an extension of  {@link ProgrammaticTxMgmtTests}that has been modified to use  {@link SpringClassRule} and{@link SpringMethodRule}.
 * @author Sam Brannen
 * @since 4.2
 */
@RunWith(JUnit4.class) @ContextConfiguration public class ProgrammaticTxMgmtSpringRuleTests extends ProgrammaticTxMgmtTests {
  @ClassRule public static final SpringClassRule springClassRule=new SpringClassRule();
  @Rule public final SpringMethodRule springMethodRule=new SpringMethodRule();
@Configuration static class Config {
    @Bean public PlatformTransactionManager transactionManager(){
      return new DataSourceTransactionManager(dataSource());
    }
    @Bean public DataSource dataSource(){
      return new EmbeddedDatabaseBuilder().generateUniqueName(true).addScript("classpath:/org/springframework/test/context/jdbc/schema.sql").build();
    }
  }
}
