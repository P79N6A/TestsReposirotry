private static class AddInvoice extends StoredProcedure {
  public static final String SQL="add_invoice";
  public AddInvoice(  DataSource ds){
    setDataSource(ds);
    setSql(SQL);
    declareParameter(new SqlParameter("amount",Types.INTEGER));
    declareParameter(new SqlParameter("custid",Types.INTEGER));
    declareParameter(new SqlOutParameter("newid",Types.INTEGER));
    compile();
  }
  public int execute(  int amount,  int custid){
    Map<String,Integer> in=new HashMap<>();
    in.put("amount",amount);
    in.put("custid",custid);
    Map<String,Object> out=execute(in);
    return ((Number)out.get("newid")).intValue();
  }
}
