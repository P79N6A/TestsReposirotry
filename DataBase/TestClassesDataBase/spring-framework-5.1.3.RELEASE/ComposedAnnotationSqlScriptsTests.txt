/** 
 * Integration tests that verify support for using  {@link Sql @Sql} as amerged, composed annotation.
 * @author Sam Brannen
 * @since 4.3
 */
@ContextConfiguration(classes=EmptyDatabaseConfig.class) @DirtiesContext public class ComposedAnnotationSqlScriptsTests extends AbstractTransactionalJUnit4SpringContextTests {
  @Test @ComposedSql(scripts={"drop-schema.sql","schema.sql"},statements="INSERT INTO user VALUES('Dilbert')",executionPhase=BEFORE_TEST_METHOD) public void composedSqlAnnotation(){
    assertEquals("Number of rows in the 'user' table.",1,countRowsInTable("user"));
  }
  @Sql @Retention(RUNTIME) @interface ComposedSql {  @AliasFor(annotation=Sql.class) String[] value() default {};
  @AliasFor(annotation=Sql.class) String[] scripts() default {};
  @AliasFor(annotation=Sql.class) String[] statements() default {};
  @AliasFor(annotation=Sql.class) ExecutionPhase executionPhase();
}
}
