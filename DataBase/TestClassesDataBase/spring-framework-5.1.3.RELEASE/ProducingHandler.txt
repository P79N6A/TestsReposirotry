private static class ProducingHandler extends LoggingSessionHandler {
  private final List<String> topics=new ArrayList<>();
  private final List<Object> payloads=new ArrayList<>();
  public ProducingHandler addToSend(  String topic,  Object payload){
    this.topics.add(topic);
    this.payloads.add(payload);
    return this;
  }
  @Override public void afterConnected(  StompSession session,  StompHeaders connectedHeaders){
    for (int i=0; i < this.topics.size(); i++) {
      session.send(this.topics.get(i),this.payloads.get(i));
    }
  }
}
