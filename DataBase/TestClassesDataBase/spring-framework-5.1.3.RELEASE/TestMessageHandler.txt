private static class TestMessageHandler implements MessageHandler {
  private final List<Message<?>> messages=new ArrayList<>();
  public List<Message<?>> getMessages(){
    return this.messages;
  }
  @Override public void handleMessage(  Message<?> message) throws MessagingException {
    this.messages.add(message);
  }
}
