/** 
 * This is intentionally <b>not</b> annotated with  {@code @Configuration}. Consequently, this class contains what we call <i>annotated factory bean methods</i> instead of standard bean definition methods.
 */
static class AnnotatedFactoryBeans {
  static final AtomicInteger enigmaCallCount=new AtomicInteger();
  @Bean public String enigma(){
    return "enigma #" + enigmaCallCount.incrementAndGet();
  }
  @Bean public LifecycleBean lifecycleBean(){
    LifecycleBean bean=new LifecycleBean(enigma());
    assertFalse(bean.isInitialized());
    return bean;
  }
}
