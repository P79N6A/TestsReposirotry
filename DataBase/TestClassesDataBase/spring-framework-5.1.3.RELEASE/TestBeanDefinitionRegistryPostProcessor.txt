public static class TestBeanDefinitionRegistryPostProcessor implements BeanDefinitionRegistryPostProcessor {
  public boolean wasCalled;
  @Override public void postProcessBeanDefinitionRegistry(  BeanDefinitionRegistry registry) throws BeansException {
    assertTrue(registry.containsBeanDefinition("bfpp1"));
    registry.registerBeanDefinition("bfpp2",new RootBeanDefinition(TestBeanFactoryPostProcessor.class));
  }
  @Override public void postProcessBeanFactory(  ConfigurableListableBeanFactory beanFactory) throws BeansException {
    this.wasCalled=true;
  }
}
