static class FooConfigInitializer implements ApplicationContextInitializer<GenericApplicationContext> {
  @Override public void initialize(  GenericApplicationContext applicationContext){
    new AnnotatedBeanDefinitionReader(applicationContext).register(FooConfig.class);
  }
}
