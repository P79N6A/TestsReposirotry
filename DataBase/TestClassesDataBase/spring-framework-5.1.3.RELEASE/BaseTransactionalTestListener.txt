static abstract class BaseTransactionalTestListener {
  static final String FAIL_MSG="FAIL";
  @Autowired private EventCollector eventCollector;
  public void handleEvent(  String phase,  String data){
    this.eventCollector.addEvent(phase,data);
    if (FAIL_MSG.equals(data)) {
      throw new IllegalStateException("Test exception on phase '" + phase + "'");
    }
  }
}
