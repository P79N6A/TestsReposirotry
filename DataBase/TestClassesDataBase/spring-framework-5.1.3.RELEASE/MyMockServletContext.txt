private class MyMockServletContext extends MockServletContext {
  @Override public <T extends EventListener>void addListener(  T t){
    if (t instanceof ServletContextListener) {
      ((ServletContextListener)t).contextInitialized(new ServletContextEvent(this));
    }
  }
  @Override public ServletRegistration.Dynamic addServlet(  String servletName,  Servlet servlet){
    if (servlets.containsKey(servletName)) {
      return null;
    }
    servlets.put(servletName,servlet);
    MockServletRegistration registration=new MockServletRegistration();
    servletRegistrations.put(servletName,registration);
    return registration;
  }
  @Override public Dynamic addFilter(  String filterName,  Filter filter){
    if (filters.containsKey(filterName)) {
      return null;
    }
    filters.put(filterName,filter);
    MockFilterRegistration registration=new MockFilterRegistration();
    filterRegistrations.put(filterName,registration);
    return registration;
  }
}
