@Configuration public static class ConfigWithNonStatic {
  @Bean public BeanNameAutoProxyCreator lazyInitAutoProxyCreator(){
    BeanNameAutoProxyCreator autoProxyCreator=new BeanNameAutoProxyCreator();
    autoProxyCreator.setCustomTargetSourceCreators(lazyInitTargetSourceCreator());
    return autoProxyCreator;
  }
  @Bean public LazyInitTargetSourceCreator lazyInitTargetSourceCreator(){
    return new StrictLazyInitTargetSourceCreator();
  }
  @Bean @Lazy public MyBean myBean(){
    return new MyBeanImpl();
  }
}
