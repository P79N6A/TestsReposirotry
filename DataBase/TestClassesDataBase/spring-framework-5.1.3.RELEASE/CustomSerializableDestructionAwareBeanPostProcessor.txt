@SuppressWarnings("serial") private static class CustomSerializableDestructionAwareBeanPostProcessor implements DestructionAwareBeanPostProcessor, Serializable {
  @Override public Object postProcessBeforeInitialization(  Object bean,  String beanName) throws BeansException {
    return bean;
  }
  @Override public Object postProcessAfterInitialization(  Object bean,  String beanName) throws BeansException {
    return bean;
  }
  @Override public void postProcessBeforeDestruction(  Object bean,  String beanName) throws BeansException {
    if (bean instanceof BeanNameAware) {
      ((BeanNameAware)bean).setBeanName(null);
    }
  }
  @Override public boolean requiresDestruction(  Object bean){
    return true;
  }
}
