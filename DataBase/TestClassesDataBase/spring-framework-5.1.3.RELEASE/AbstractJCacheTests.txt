/** 
 * @author Stephane Nicoll
 */
public abstract class AbstractJCacheTests {
  @Rule public final ExpectedException thrown=ExpectedException.none();
  @Rule public final TestName name=new TestName();
  protected final CacheManager cacheManager=createSimpleCacheManager("default","simpleCache");
  protected final CacheResolver defaultCacheResolver=new SimpleCacheResolver(cacheManager);
  protected final CacheResolver defaultExceptionCacheResolver=new SimpleExceptionCacheResolver(cacheManager);
  protected final KeyGenerator defaultKeyGenerator=new SimpleKeyGenerator();
  protected static CacheManager createSimpleCacheManager(  String... cacheNames){
    SimpleCacheManager result=new SimpleCacheManager();
    List<Cache> caches=new ArrayList<>();
    for (    String cacheName : cacheNames) {
      caches.add(new ConcurrentMapCache(cacheName));
    }
    result.setCaches(caches);
    result.afterPropertiesSet();
    return result;
  }
}
