/** 
 * @author Torsten Juergeleit
 * @author Juergen Hoeller
 */
public class TxNamespaceHandlerEventTests {
  private DefaultListableBeanFactory beanFactory=new DefaultListableBeanFactory();
  private CollectingReaderEventListener eventListener=new CollectingReaderEventListener();
  @Before public void setUp() throws Exception {
    XmlBeanDefinitionReader reader=new XmlBeanDefinitionReader(this.beanFactory);
    reader.setEventListener(this.eventListener);
    reader.loadBeanDefinitions(new ClassPathResource("txNamespaceHandlerTests.xml",getClass()));
  }
  @Test public void componentEventReceived(){
    ComponentDefinition component=this.eventListener.getComponentDefinition("txAdvice");
    assertThat(component,instanceOf(BeanComponentDefinition.class));
  }
}
