@Controller public static class ResponseEntityController {
  @PostMapping("/foo") public ResponseEntity<String> foo(  HttpEntity<byte[]> requestEntity) throws Exception {
    assertNotNull(requestEntity);
    assertEquals("MyValue",requestEntity.getHeaders().getFirst("MyRequestHeader"));
    String body=new String(requestEntity.getBody(),"UTF-8");
    assertEquals("Hello World",body);
    URI location=new URI("/foo");
    return ResponseEntity.created(location).header("MyResponseHeader","MyValue").body(body);
  }
  @GetMapping("/bar") public ResponseEntity<Void> bar(){
    return ResponseEntity.notFound().header("MyResponseHeader","MyValue").build();
  }
  @GetMapping("/baz") public ResponseEntity<String> baz(){
    return ResponseEntity.ok().header("MyResponseHeader","MyValue").body("body");
  }
  @RequestMapping(path="/stores",method=RequestMethod.HEAD) public ResponseEntity<Void> headResource(){
    return ResponseEntity.ok().header("h1","v1").build();
  }
  @GetMapping("/stores") public ResponseEntity<String> getResource(){
    return ResponseEntity.ok().body("body");
  }
  @GetMapping("/test-entity") public ResponseEntity<TestEntity> testEntity(){
    TestEntity entity=new TestEntity();
    entity.setName("Foo Bar");
    return ResponseEntity.ok().contentType(MediaType.APPLICATION_XML).body(entity);
  }
}
