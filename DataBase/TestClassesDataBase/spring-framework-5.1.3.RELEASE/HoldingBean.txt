public static class HoldingBean implements DisposableBean {
  public static int destroyCount=0;
  private DependingBean dependingBean;
  public boolean destroyed=false;
  public void setDependingBean(  DependingBean dependingBean){
    this.dependingBean=dependingBean;
  }
  @Override public void destroy(){
    if (this.dependingBean.destroyed) {
      throw new IllegalStateException("Should not be destroyed after DependingBean");
    }
    this.destroyed=true;
    destroyCount++;
  }
}
