public static class CountingAdvisorListener implements AdvisedSupportListener {
  public int adviceChanges;
  public int activates;
  private AdvisedSupport expectedSource;
  public CountingAdvisorListener(  AdvisedSupport expectedSource){
    this.expectedSource=expectedSource;
  }
  @Override public void activated(  AdvisedSupport advised){
    assertEquals(expectedSource,advised);
    ++activates;
  }
  @Override public void adviceChanged(  AdvisedSupport advised){
    assertEquals(expectedSource,advised);
    ++adviceChanges;
  }
}
