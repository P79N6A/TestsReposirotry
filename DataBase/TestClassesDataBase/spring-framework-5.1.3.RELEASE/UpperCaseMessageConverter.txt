private static class UpperCaseMessageConverter implements MessageConverter {
  @Override public Message toMessage(  Object object,  Session session) throws JMSException, MessageConversionException {
    return new StubTextMessage(object.toString().toUpperCase());
  }
  @Override public Object fromMessage(  Message message) throws JMSException, MessageConversionException {
    String content=((TextMessage)message).getText();
    return content.toUpperCase();
  }
}
