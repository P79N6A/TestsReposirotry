@Configuration @EnableScheduling static class SchedulingEnabled_withTaskAddedVia_configureTasks implements SchedulingConfigurer {
  @Bean public ThreadAwareWorker worker(){
    return new ThreadAwareWorker();
  }
  @Bean public TaskScheduler taskScheduler(){
    return new ThreadPoolTaskScheduler();
  }
  @Override public void configureTasks(  ScheduledTaskRegistrar taskRegistrar){
    taskRegistrar.setScheduler(taskScheduler());
    taskRegistrar.addFixedRateTask(new IntervalTask(new Runnable(){
      @Override public void run(){
        worker().executedByThread=Thread.currentThread().getName();
      }
    }
,10,0));
  }
}
