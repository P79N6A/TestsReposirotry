/** 
 * @author Rob Harrop
 * @author Juergen Hoeller
 * @author Chris Beams
 */
public class AspectJExpressionPointcutAdvisorTests {
  private ITestBean testBean;
  private CallCountingInterceptor interceptor;
  @Before public void setup(){
    ClassPathXmlApplicationContext ctx=new ClassPathXmlApplicationContext(getClass().getSimpleName() + ".xml",getClass());
    testBean=(ITestBean)ctx.getBean("testBean");
    interceptor=(CallCountingInterceptor)ctx.getBean("interceptor");
  }
  @Test public void testPointcutting(){
    assertEquals("Count should be 0",0,interceptor.getCount());
    testBean.getSpouses();
    assertEquals("Count should be 1",1,interceptor.getCount());
    testBean.getSpouse();
    assertEquals("Count should be 1",1,interceptor.getCount());
  }
}
