private static class TestXhrTransport extends AbstractXhrTransport {
  private ResponseEntity<String> infoResponseToReturn;
  private ResponseEntity<String> sendMessageResponseToReturn;
  private HttpHeaders actualSendRequestHeaders;
  private HttpHeaders actualHandshakeHeaders;
  private XhrClientSockJsSession actualSession;
  @Override protected ResponseEntity<String> executeInfoRequestInternal(  URI infoUrl,  HttpHeaders headers){
    return this.infoResponseToReturn;
  }
  @Override protected ResponseEntity<String> executeSendRequestInternal(  URI url,  HttpHeaders headers,  TextMessage message){
    this.actualSendRequestHeaders=headers;
    return this.sendMessageResponseToReturn;
  }
  @Override protected void connectInternal(  TransportRequest request,  WebSocketHandler handler,  URI receiveUrl,  HttpHeaders handshakeHeaders,  XhrClientSockJsSession session,  SettableListenableFuture<WebSocketSession> connectFuture){
    this.actualHandshakeHeaders=handshakeHeaders;
    this.actualSession=session;
  }
}
