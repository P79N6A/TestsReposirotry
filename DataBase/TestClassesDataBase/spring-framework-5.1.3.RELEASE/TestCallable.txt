private static class TestCallable implements Callable<String> {
  private final int expectedRunCount;
  private final AtomicInteger actualRunCount=new AtomicInteger();
  TestCallable(  int expectedRunCount){
    this.expectedRunCount=expectedRunCount;
  }
  @Override public String call() throws Exception {
    try {
      Thread.sleep(10);
    }
 catch (    InterruptedException ex) {
    }
    if (expectedRunCount >= 0) {
      if (actualRunCount.incrementAndGet() > expectedRunCount) {
        throw new RuntimeException("intentional test failure");
      }
    }
    return Thread.currentThread().getName();
  }
}
