private static class MyDispatcherServletInitializer extends AbstractDispatcherServletInitializer {
  @Override protected String getServletName(){
    return SERVLET_NAME;
  }
  @Override protected DispatcherServlet createDispatcherServlet(  WebApplicationContext servletAppContext){
    return new MyDispatcherServlet(servletAppContext);
  }
  @Override protected WebApplicationContext createServletApplicationContext(){
    StaticWebApplicationContext servletContext=new StaticWebApplicationContext();
    servletContext.registerSingleton("bean",MyBean.class);
    return servletContext;
  }
  @Override protected String[] getServletMappings(){
    return new String[]{SERVLET_MAPPING};
  }
  @Override protected void customizeRegistration(  ServletRegistration.Dynamic registration){
    registration.setRunAsRole("role");
  }
  @Override protected WebApplicationContext createRootApplicationContext(){
    return null;
  }
}
