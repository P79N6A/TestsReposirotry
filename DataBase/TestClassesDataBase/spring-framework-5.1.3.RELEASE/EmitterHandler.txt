private static class EmitterHandler implements ResponseBodyEmitter.Handler {
  private final List<Object> values=new ArrayList<>();
  public List<?> getValues(){
    return this.values;
  }
  public String getValuesAsText(){
    return this.values.stream().map(Object::toString).collect(Collectors.joining());
  }
  @Override public void send(  Object data,  MediaType mediaType) throws IOException {
    this.values.add(data);
  }
  @Override public void complete(){
  }
  @Override public void completeWithError(  Throwable failure){
  }
  @Override public void onTimeout(  Runnable callback){
  }
  @Override public void onError(  Consumer<Throwable> callback){
  }
  @Override public void onCompletion(  Runnable callback){
  }
}
