static class CustomJmsListenerConfigurer implements JmsListenerConfigurer {
  private MessageListener messageListener;
  @Override public void configureJmsListeners(  JmsListenerEndpointRegistrar registrar){
    SimpleJmsListenerEndpoint endpoint=new SimpleJmsListenerEndpoint();
    endpoint.setId("myCustomEndpointId");
    endpoint.setDestination("myQueue");
    endpoint.setMessageListener(messageListener);
    registrar.registerEndpoint(endpoint);
  }
  public void setMessageListener(  MessageListener messageListener){
    this.messageListener=messageListener;
  }
}
