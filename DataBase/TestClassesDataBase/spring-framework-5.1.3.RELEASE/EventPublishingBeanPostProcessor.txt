public static class EventPublishingBeanPostProcessor implements BeanPostProcessor, ApplicationContextAware {
  private ApplicationContext applicationContext;
  public void setApplicationContext(  ApplicationContext applicationContext){
    this.applicationContext=applicationContext;
  }
  @Override public Object postProcessBeforeInitialization(  Object bean,  String beanName) throws BeansException {
    this.applicationContext.publishEvent(new MyEvent(this));
    return bean;
  }
  @Override public Object postProcessAfterInitialization(  Object bean,  String beanName) throws BeansException {
    return bean;
  }
}
