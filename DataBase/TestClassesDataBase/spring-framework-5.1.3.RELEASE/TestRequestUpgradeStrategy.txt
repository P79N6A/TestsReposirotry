private static class TestRequestUpgradeStrategy implements RequestUpgradeStrategy {
  HandshakeInfo handshakeInfo;
  @Override public Mono<Void> upgrade(  ServerWebExchange exchange,  WebSocketHandler webSocketHandler,  @Nullable String subProtocol,  Supplier<HandshakeInfo> handshakeInfoFactory){
    this.handshakeInfo=handshakeInfoFactory.get();
    return Mono.empty();
  }
}
