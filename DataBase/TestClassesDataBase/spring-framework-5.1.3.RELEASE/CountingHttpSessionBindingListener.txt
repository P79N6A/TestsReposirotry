private static class CountingHttpSessionBindingListener implements HttpSessionBindingListener {
  private final AtomicInteger counter=new AtomicInteger(0);
  @Override public void valueBound(  HttpSessionBindingEvent event){
    this.counter.incrementAndGet();
  }
  @Override public void valueUnbound(  HttpSessionBindingEvent event){
    this.counter.decrementAndGet();
  }
  int getCounter(){
    return this.counter.get();
  }
}
