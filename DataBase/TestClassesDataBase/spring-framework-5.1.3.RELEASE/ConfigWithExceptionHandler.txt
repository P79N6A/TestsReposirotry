@Configuration @EnableAsync static class ConfigWithExceptionHandler extends AsyncConfigurerSupport {
  @Bean public ITestBean target(){
    return new TestBean();
  }
  @Override public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler(){
    return exceptionHandler();
  }
  @Bean public TestableAsyncUncaughtExceptionHandler exceptionHandler(){
    return new TestableAsyncUncaughtExceptionHandler();
  }
}
