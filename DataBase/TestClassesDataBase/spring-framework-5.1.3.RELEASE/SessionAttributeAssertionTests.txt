/** 
 * Examples of expectations on created session attributes.
 * @author Rossen Stoyanchev
 */
public class SessionAttributeAssertionTests {
  private MockMvc mockMvc;
  @Before public void setup(){
    this.mockMvc=standaloneSetup(new SimpleController()).defaultRequest(get("/")).alwaysExpect(status().isOk()).build();
  }
  @Test public void testSessionAttributeEqualTo() throws Exception {
    this.mockMvc.perform(get("/")).andExpect(request().sessionAttribute("locale",Locale.UK)).andExpect(request().sessionAttribute("locale",equalTo(Locale.UK)));
  }
  @Test public void testSessionAttributeMatcher() throws Exception {
    this.mockMvc.perform(get("/")).andExpect(request().sessionAttribute("locale",notNullValue()));
  }
@Controller @SessionAttributes("locale") private static class SimpleController {
    @ModelAttribute public void populate(    Model model){
      model.addAttribute("locale",Locale.UK);
    }
    @RequestMapping("/") public String handle(){
      return "view";
    }
  }
}
