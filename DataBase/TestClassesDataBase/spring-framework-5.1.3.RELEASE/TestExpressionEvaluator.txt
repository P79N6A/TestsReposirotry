private static class TestExpressionEvaluator extends CachedExpressionEvaluator {
  private final Map<ExpressionKey,Expression> testCache=new ConcurrentHashMap<>();
  public TestExpressionEvaluator(){
    super(mockSpelExpressionParser());
  }
  public Expression getTestExpression(  String expression,  Method method,  Class<?> type){
    return getExpression(this.testCache,new AnnotatedElementKey(method,type),expression);
  }
  private static SpelExpressionParser mockSpelExpressionParser(){
    SpelExpressionParser parser=new SpelExpressionParser();
    return spy(parser);
  }
}
