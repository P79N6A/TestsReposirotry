public static class DummySmartLifecycleFactoryBean implements FactoryBean<Object>, SmartLifecycle {
  public boolean running=false;
  DummySmartLifecycleBean bean=new DummySmartLifecycleBean();
  @Override public Object getObject() throws Exception {
    return this.bean;
  }
  @Override public Class<?> getObjectType(){
    return DummySmartLifecycleBean.class;
  }
  @Override public boolean isSingleton(){
    return true;
  }
  @Override public boolean isAutoStartup(){
    return true;
  }
  @Override public void stop(  Runnable callback){
    this.running=false;
    callback.run();
  }
  @Override public void start(){
    this.running=true;
  }
  @Override public void stop(){
    this.running=false;
  }
  @Override public boolean isRunning(){
    return this.running;
  }
  @Override public int getPhase(){
    return 0;
  }
}
