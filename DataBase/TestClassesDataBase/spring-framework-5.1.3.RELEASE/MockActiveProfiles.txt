private static class MockActiveProfiles implements Predicate<String> {
  private final List<String> activeProfiles;
  MockActiveProfiles(  String[] activeProfiles){
    this.activeProfiles=Arrays.asList(activeProfiles);
  }
  @Override public boolean test(  String profile){
    if (!StringUtils.hasText(profile) || profile.charAt(0) == '!') {
      throw new IllegalArgumentException("Invalid profile [" + profile + "]");
    }
    return this.activeProfiles.contains(profile);
  }
}
