@Configuration static class ConfigWithOrderedInnerClasses {
@Configuration @Order(1) class SingletonBeanConfig {
    public SingletonBeanConfig(    ConfigWithOrderedInnerClasses other){
    }
    public @Bean Foo foo(){
      return new Foo();
    }
    public @Bean Bar bar(){
      return new Bar(foo());
    }
  }
@Configuration @Order(2) class OverridingSingletonBeanConfig {
    public OverridingSingletonBeanConfig(    ObjectProvider<SingletonBeanConfig> other){
      other.getObject();
    }
    public @Bean ExtendedFoo foo(){
      return new ExtendedFoo();
    }
    public @Bean Bar bar(){
      return new Bar(foo());
    }
  }
}
