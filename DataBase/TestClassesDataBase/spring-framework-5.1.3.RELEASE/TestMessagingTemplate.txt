private static class TestMessagingTemplate extends AbstractMessagingTemplate<String> {
  private String destination;
  private Message<?> requestMessage;
  private Message<?> receiveMessage;
  private void setReceiveMessage(  Message<?> receiveMessage){
    this.receiveMessage=receiveMessage;
  }
  @Override protected void doSend(  String destination,  Message<?> message){
  }
  @Override protected Message<?> doReceive(  String destination){
    this.destination=destination;
    return this.receiveMessage;
  }
  @Override protected Message<?> doSendAndReceive(  String destination,  Message<?> requestMessage){
    this.destination=destination;
    this.requestMessage=requestMessage;
    return this.receiveMessage;
  }
}
