private static class TestHttpServletRequest extends MockHttpServletRequest {
  TestHttpServletRequest(  URI uri){
    super("GET",uri.getRawPath());
    if (uri.getScheme() != null) {
      setScheme(uri.getScheme());
    }
    if (uri.getHost() != null) {
      setServerName(uri.getHost());
    }
    if (uri.getPort() != -1) {
      setServerPort(uri.getPort());
    }
    if (uri.getRawQuery() != null) {
      setQueryString(uri.getRawQuery());
    }
  }
  @Override public ServletInputStream getInputStream(){
    return new DelegatingServletInputStream(new ByteArrayInputStream(new byte[0])){
      @Override public void setReadListener(      ReadListener readListener){
      }
    }
;
  }
}
