private static class AddAttributePredicate implements RequestPredicate {
  private boolean result;
  private final String key;
  private final String value;
  private AddAttributePredicate(  boolean result,  String key,  String value){
    this.result=result;
    this.key=key;
    this.value=value;
  }
  @Override public boolean test(  ServerRequest request){
    request.attributes().put(key,value);
    return this.result;
  }
}
