private static final class FakeDecoder extends SimpleDecoder<DecoderInputBuffer,SimpleOutputBuffer,AudioDecoderException> {
  public FakeDecoder(){
    super(new DecoderInputBuffer[1],new SimpleOutputBuffer[1]);
  }
  @Override public String getName(){
    return "FakeDecoder";
  }
  @Override protected DecoderInputBuffer createInputBuffer(){
    return new DecoderInputBuffer(DecoderInputBuffer.BUFFER_REPLACEMENT_MODE_DIRECT);
  }
  @Override protected SimpleOutputBuffer createOutputBuffer(){
    return new SimpleOutputBuffer(this);
  }
  @Override protected AudioDecoderException createUnexpectedDecodeException(  Throwable error){
    return new AudioDecoderException("Unexpected decode error",error);
  }
  @Override protected AudioDecoderException decode(  DecoderInputBuffer inputBuffer,  SimpleOutputBuffer outputBuffer,  boolean reset){
    if (inputBuffer.isEndOfStream()) {
      outputBuffer.setFlags(C.BUFFER_FLAG_END_OF_STREAM);
    }
    return null;
  }
}
