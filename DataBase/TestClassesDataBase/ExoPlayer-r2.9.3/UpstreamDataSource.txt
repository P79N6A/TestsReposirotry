private static class UpstreamDataSource implements DataSource {
  public boolean opened;
  public boolean closedCalled;
  @Override public void addTransferListener(  TransferListener transferListener){
  }
  @Override public long open(  DataSpec dataSpec) throws IOException {
    opened=true;
    return C.LENGTH_UNSET;
  }
  @Override public int read(  byte[] buffer,  int offset,  int readLength){
    return C.RESULT_END_OF_INPUT;
  }
  @Override public Uri getUri(){
    return null;
  }
  @Override public void close(){
    opened=false;
    closedCalled=true;
  }
}
