private static final class CustomEsReader implements ElementaryStreamReader {
  private final String language;
  private TrackOutput output;
  public int packetsRead=0;
  public CustomEsReader(  String language){
    this.language=language;
  }
  @Override public void seek(){
  }
  @Override public void createTracks(  ExtractorOutput extractorOutput,  TrackIdGenerator idGenerator){
    idGenerator.generateNewId();
    output=extractorOutput.track(idGenerator.getTrackId(),C.TRACK_TYPE_UNKNOWN);
    output.format(Format.createTextSampleFormat(idGenerator.getFormatId(),"mime",null,0,0,language,null,0));
  }
  @Override public void packetStarted(  long pesTimeUs,  @TsPayloadReader.Flags int flags){
  }
  @Override public void consume(  ParsableByteArray data){
  }
  @Override public void packetFinished(){
    packetsRead++;
  }
  public TrackOutput getTrackOutput(){
    return output;
  }
}
