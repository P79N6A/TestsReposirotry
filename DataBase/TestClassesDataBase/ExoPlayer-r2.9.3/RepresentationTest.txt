/** 
 * Unit test for  {@link Representation}. 
 */
@RunWith(RobolectricTestRunner.class) public class RepresentationTest {
  @Test public void testGetCacheKey(){
    String uri="http://www.google.com";
    SegmentBase base=new SingleSegmentBase(new RangedUri(null,0,1),1,0,1,1);
    Format format=createVideoContainerFormat("0");
    Representation representation=Representation.newInstance("test_stream_1",3,format,uri,base);
    assertThat(representation.getCacheKey()).isEqualTo("test_stream_1.0.3");
    format=createVideoContainerFormat("150");
    representation=Representation.newInstance("test_stream_1",Representation.REVISION_ID_DEFAULT,format,uri,base);
    assertThat(representation.getCacheKey()).isEqualTo("test_stream_1.150.-1");
  }
  private static Format createVideoContainerFormat(  String id){
    return Format.createVideoContainerFormat(id,"label",MimeTypes.APPLICATION_MP4,MimeTypes.VIDEO_H264,null,2500000,1920,1080,Format.NO_VALUE,null,0);
  }
}
