/** 
 * Test playback of encrypted DASH streams using different CENC scheme types. 
 */
@RunWith(AndroidJUnit4.class) public final class CommonEncryptionDrmTest {
  private static final String TAG="CencDrmTest";
  private static final String ID_AUDIO="0";
  private static final String[] IDS_VIDEO=new String[]{"1","2"};
  private static final ActionSchedule ACTION_SCHEDULE_WITH_SEEKS=new ActionSchedule.Builder(TAG).waitForPlaybackState(Player.STATE_READY).delay(30000).seekAndWait(300000).delay(10000).seekAndWait(270000).delay(10000).seekAndWait(200000).delay(10000).seekAndWait(732000).build();
  @Rule public ActivityTestRule<HostActivity> testRule=new ActivityTestRule<>(HostActivity.class);
  private DashTestRunner testRunner;
  @Before public void setUp(){
    testRunner=new DashTestRunner(TAG,testRule.getActivity(),getInstrumentation()).setWidevineInfo(MimeTypes.VIDEO_H264,false).setActionSchedule(ACTION_SCHEDULE_WITH_SEEKS).setAudioVideoFormats(ID_AUDIO,IDS_VIDEO).setCanIncludeAdditionalVideoFormats(true);
  }
  @After public void tearDown(){
    testRunner=null;
  }
  @Test public void testCencSchemeTypeV18(){
    if (Util.SDK_INT < 18) {
      return;
    }
    testRunner.setStreamName("test_widevine_h264_scheme_cenc").setManifestUrl(DashTestData.WIDEVINE_SCHEME_CENC).run();
  }
  @Test public void testCbc1SchemeTypeV25(){
    if (Util.SDK_INT < 25) {
      return;
    }
    testRunner.setStreamName("test_widevine_h264_scheme_cbc1").setManifestUrl(DashTestData.WIDEVINE_SCHEME_CBC1).run();
  }
  @Test public void testCbcsSchemeTypeV25(){
    if (Util.SDK_INT < 25) {
      return;
    }
    testRunner.setStreamName("test_widevine_h264_scheme_cbcs").setManifestUrl(DashTestData.WIDEVINE_SCHEME_CBCS).run();
  }
  @Test public void testCensSchemeTypeV25(){
  }
}
