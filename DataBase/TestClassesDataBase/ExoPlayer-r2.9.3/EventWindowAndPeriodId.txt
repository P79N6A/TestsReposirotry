private static final class EventWindowAndPeriodId {
  private final int windowIndex;
  private final @Nullable MediaPeriodId mediaPeriodId;
  public EventWindowAndPeriodId(  int windowIndex,  @Nullable MediaPeriodId mediaPeriodId){
    this.windowIndex=windowIndex;
    this.mediaPeriodId=mediaPeriodId;
  }
  @Override public boolean equals(  @Nullable Object other){
    if (!(other instanceof EventWindowAndPeriodId)) {
      return false;
    }
    EventWindowAndPeriodId event=(EventWindowAndPeriodId)other;
    return windowIndex == event.windowIndex && Util.areEqual(mediaPeriodId,event.mediaPeriodId);
  }
  @Override public String toString(){
    return mediaPeriodId != null ? "Event{" + "window=" + windowIndex + ", period="+ mediaPeriodId.periodUid+ ", sequence="+ mediaPeriodId.windowSequenceNumber+ '}' : "Event{" + "window=" + windowIndex + ", period = null}";
  }
  @Override public int hashCode(){
    return 31 * windowIndex + (mediaPeriodId == null ? 0 : mediaPeriodId.hashCode());
  }
}
