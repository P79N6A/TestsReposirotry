/** 
 * The deserializer for our  {@link TestMessage test messages}.
 */
public static class TestMessageDeserializer implements MessageDeserializer<TestMessage> {
  @Override public TestMessage deserializeMessage(  ByteBuf buf){
    int length=buf.readInt();
    String message="";
    if (length > 0) {
      byte[] name=new byte[length];
      buf.readBytes(name);
      message=new String(name,ConfigConstants.DEFAULT_CHARSET);
    }
    return new TestMessage(message);
  }
}
