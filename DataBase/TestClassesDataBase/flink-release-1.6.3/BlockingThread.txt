private abstract static class BlockingThread extends CheckedThread {
  private final OneShotLatch waiter=new OneShotLatch();
  public void waitTillWokenUp() throws InterruptedException {
    waiter.await();
  }
  public void wakeup(){
    waiter.trigger();
  }
}
