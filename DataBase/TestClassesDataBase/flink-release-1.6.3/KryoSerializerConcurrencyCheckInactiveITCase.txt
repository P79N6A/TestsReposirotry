/** 
 * A test that validates that the concurrency checks in the Kryo Serializer are not hard coded to active. <p>The debug initialization in the KryoSerializer happens together with class initialization (that makes it peak efficient), which is why this test needs to run in a fresh JVM fork, and the JVM fork of this test should not be reused. <p><b>Important:</b> If you see this test fail and the initial settings are still correct, check the assumptions above (on fresh JVM fork).
 */
public class KryoSerializerConcurrencyCheckInactiveITCase {
static {
    KryoSerializerDebugInitHelper.setToDebug=KryoSerializerDebugInitHelper.INITIAL_SETTING;
  }
  /** 
 * This test checks that concurrent access is not detected by default, meaning that the thread concurrency checks are off by default.
 */
  @Test public void testWithNoConcurrencyCheck() throws Exception {
    boolean assertionError;
    try {
      new KryoSerializerConcurrencyTest().testConcurrentUseOfSerializer();
      assertionError=false;
    }
 catch (    AssertionError e) {
      assertionError=true;
    }
    assertTrue("testConcurrentUseOfSerializer() should have failed if " + "concurrency checks are off by default",assertionError);
  }
}
