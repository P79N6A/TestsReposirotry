private static final class QueueExecutor implements Executor {
  private final Queue<Runnable> queue=new ArrayDeque<>(4);
  @Override public void execute(  Runnable command){
    queue.add(command);
  }
  public void runQueuedCommands(){
    for (    Runnable runnable : queue) {
      runnable.run();
    }
  }
}
