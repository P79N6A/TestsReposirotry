/** 
 * Test task class. 
 */
public static final class InvokableBlockingInCancel extends AbstractInvokable {
  public InvokableBlockingInCancel(  Environment environment){
    super(environment);
  }
  @Override public void invoke() throws Exception {
    awaitLatch.trigger();
    try {
      cancelLatch.await();
synchronized (this) {
        wait();
      }
    }
 catch (    InterruptedException ignored) {
synchronized (this) {
        notifyAll();
      }
    }
  }
  @Override public void cancel() throws Exception {
synchronized (this) {
      cancelLatch.trigger();
      wait();
    }
  }
}
