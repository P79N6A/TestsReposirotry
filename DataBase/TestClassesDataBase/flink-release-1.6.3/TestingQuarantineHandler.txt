private static class TestingQuarantineHandler implements QuarantineHandler, ErrorHandler {
  private final CompletableFuture<String> wasQuarantinedByFuture;
  private final CompletableFuture<String> hasQuarantinedFuture;
  public TestingQuarantineHandler(){
    this.wasQuarantinedByFuture=new CompletableFuture<>();
    this.hasQuarantinedFuture=new CompletableFuture<>();
  }
  @Override public void wasQuarantinedBy(  String remoteSystem,  ActorSystem actorSystem){
    wasQuarantinedByFuture.complete(remoteSystem);
  }
  @Override public void hasQuarantined(  String remoteSystem,  ActorSystem actorSystem){
    hasQuarantinedFuture.complete(remoteSystem);
  }
  public CompletableFuture<String> getWasQuarantinedByFuture(){
    return wasQuarantinedByFuture;
  }
  public CompletableFuture<String> getHasQuarantinedFuture(){
    return hasQuarantinedFuture;
  }
  @Override public void handleError(  Throwable failure){
    wasQuarantinedByFuture.completeExceptionally(failure);
    hasQuarantinedFuture.completeExceptionally(failure);
  }
}
