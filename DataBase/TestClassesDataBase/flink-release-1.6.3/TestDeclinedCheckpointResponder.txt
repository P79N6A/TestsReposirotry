private static class TestDeclinedCheckpointResponder implements CheckpointResponder {
  final OneShotLatch declinedLatch=new OneShotLatch();
  @Override public void acknowledgeCheckpoint(  JobID jobID,  ExecutionAttemptID executionAttemptID,  long checkpointId,  CheckpointMetrics checkpointMetrics,  TaskStateSnapshot subtaskState){
    throw new RuntimeException("Unexpected call.");
  }
  @Override public void declineCheckpoint(  JobID jobID,  ExecutionAttemptID executionAttemptID,  long checkpointId,  Throwable cause){
    declinedLatch.trigger();
  }
  public OneShotLatch getDeclinedLatch(){
    return declinedLatch;
  }
}
