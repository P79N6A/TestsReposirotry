/** 
 * A class with tests that require to be run in a MapR/Hadoop-free environment, to test proper error handling when no Hadoop classes are available. <p>This class must be dynamically loaded in a MapR/Hadoop-free class loader.
 */
@SuppressWarnings("unused") public class MapRFreeTests {
  public static void test() throws Exception {
    try {
      Class.forName("com.mapr.fs.MapRFileSystem");
      fail("Cannot run test when MapR classes are in the classpath");
    }
 catch (    ClassNotFoundException ignored) {
    }
    try {
      Class.forName("org.apache.hadoop.fs.FileSystem");
      fail("Cannot run test when Hadoop classes are in the classpath");
    }
 catch (    ClassNotFoundException ignored) {
    }
    try {
      Class.forName("org.apache.hadoop.conf.Configuration");
      fail("Cannot run test when Hadoop classes are in the classpath");
    }
 catch (    ClassNotFoundException ignored) {
    }
    final MapRFsFactory factory=new MapRFsFactory();
    factory.configure(new Configuration());
    try {
      factory.create(new URI("maprfs://somehost:9000/root/dir"));
      fail("This statement should fail with an exception");
    }
 catch (    IOException e) {
      assertTrue(e.getMessage().contains("MapR"));
      assertTrue(e.getMessage().contains("classpath"));
    }
  }
}
