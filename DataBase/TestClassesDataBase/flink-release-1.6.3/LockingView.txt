private static class LockingView extends DataOutputSerializer {
  private final BlockerSync blocker;
  LockingView(  BlockerSync blocker){
    super(32);
    this.blocker=blocker;
  }
  @Override public void write(  byte[] b,  int off,  int len) throws IOException {
    blocker.blockNonInterruptible();
  }
}
