/** 
 * A back pressured producer sharing a  {@link BufferPool} with thetest driver.
 */
public static class BackPressuredTask extends AbstractInvokable {
  public BackPressuredTask(  Environment environment){
    super(environment);
  }
  @Override public void invoke() throws Exception {
    while (true) {
      final BufferBuilder bufferBuilder=testBufferPool.requestBufferBuilderBlocking();
      BufferBuilderTestUtils.buildSingleBuffer(bufferBuilder).recycleBuffer();
      new CountDownLatch(1).await();
    }
  }
}
