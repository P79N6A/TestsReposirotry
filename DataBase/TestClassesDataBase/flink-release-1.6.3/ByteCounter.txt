/** 
 * Counts the bytes that would be written.
 */
private static final class ByteCounter extends OutputStream {
  int length=0;
  /** 
 * Returns the length.
 * @return the length
 */
  public int getLength(){
    return this.length;
  }
  @Override public void write(  int b) throws IOException {
    this.length++;
  }
}
