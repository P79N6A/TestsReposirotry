static class InnerTestFunList extends AbstractRichFunction implements MapFunction<Integer,Integer>, ListCheckpointed<Integer> {
  private static final long serialVersionUID=1L;
  private boolean wasRestored;
  public InnerTestFunList(){
    wasRestored=false;
  }
  @Override public List<Integer> snapshotState(  long checkpointId,  long timestamp) throws Exception {
    return Collections.singletonList(42);
  }
  @Override public void restoreState(  List<Integer> state) throws Exception {
    Assert.assertEquals(1,state.size());
    int val=state.get(0);
    Assert.assertEquals(42,val);
    wasRestored=true;
  }
  @Override public Integer map(  Integer value) throws Exception {
    return value;
  }
}
