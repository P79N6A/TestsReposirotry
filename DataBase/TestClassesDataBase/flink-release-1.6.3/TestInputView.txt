private static final class TestInputView extends AbstractPagedInputView {
  private final List<SegmentWithPosition> segments;
  private int num;
  private TestInputView(  List<SegmentWithPosition> segments){
    super(segments.get(0).segment,segments.get(0).position,0);
    this.segments=segments;
    this.num=0;
  }
  @Override protected MemorySegment nextSegment(  MemorySegment current) throws IOException {
    num++;
    if (num < segments.size()) {
      return segments.get(num).segment;
    }
 else {
      throw new EOFException();
    }
  }
  @Override protected int getLimitForSegment(  MemorySegment segment){
    return segments.get(num).position;
  }
}
