private static class FailingPostStopEndpoint extends RpcEndpoint implements RpcGateway {
  protected FailingPostStopEndpoint(  RpcService rpcService,  String endpointId){
    super(rpcService,endpointId);
  }
  @Override public CompletableFuture<Void> postStop(){
    return FutureUtils.completedExceptionally(new PostStopException("Test exception."));
  }
private static class PostStopException extends FlinkException {
    private static final long serialVersionUID=6701096588415871592L;
    public PostStopException(    String message){
      super(message);
    }
  }
}
