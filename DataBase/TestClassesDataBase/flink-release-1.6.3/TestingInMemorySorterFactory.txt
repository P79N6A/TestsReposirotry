private static final class TestingInMemorySorterFactory<T> implements InMemorySorterFactory<T> {
  private final Collection<TestingInMemorySorter<?>> inMemorySorters=new ArrayList<>(10);
  Collection<TestingInMemorySorter<?>> getInMemorySorters(){
    return inMemorySorters;
  }
  @Override public InMemorySorter<T> create(  List<MemorySegment> sortSegments){
    final TestingInMemorySorter<T> testingInMemorySorter=new TestingInMemorySorter<>();
    inMemorySorters.add(testingInMemorySorter);
    return testingInMemorySorter;
  }
}
