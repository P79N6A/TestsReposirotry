private static class MyEventIterCondition extends IterativeCondition<Event> {
  private static final long serialVersionUID=6215754202506583964L;
  @Override public boolean filter(  Event value,  Context<Event> ctx) throws Exception {
    if (!value.getName().equals("start")) {
      return false;
    }
    double sum=0.0;
    for (    Event event : ctx.getEventsForPattern("start")) {
      sum+=event.getPrice();
    }
    sum+=value.getPrice();
    return Double.compare(sum,5.0) < 0;
  }
}
