private static class TrackingBufferRecycler implements BufferRecycler {
  private final ArrayList<MemorySegment> recycledMemorySegments=new ArrayList<>();
  @Override public synchronized void recycle(  MemorySegment memorySegment){
    recycledMemorySegments.add(memorySegment);
  }
  public synchronized List<MemorySegment> getRecycledMemorySegments(){
    return recycledMemorySegments;
  }
}
