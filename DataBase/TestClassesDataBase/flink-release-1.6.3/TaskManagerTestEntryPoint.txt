public static class TaskManagerTestEntryPoint {
  public static void main(  String[] args) throws Exception {
    int jobManagerPort=Integer.parseInt(args[0]);
    int taskManagerPort=Integer.parseInt(args[1]);
    Configuration cfg=new Configuration();
    cfg.setString(JobManagerOptions.ADDRESS,"localhost");
    cfg.setInteger(JobManagerOptions.PORT,jobManagerPort);
    cfg.setString(TaskManagerOptions.MANAGED_MEMORY_SIZE,"4m");
    cfg.setInteger(TaskManagerOptions.NETWORK_NUM_BUFFERS,256);
    final HighAvailabilityServices highAvailabilityServices=HighAvailabilityServicesUtils.createHighAvailabilityServices(cfg,TestingUtils.defaultExecutor(),HighAvailabilityServicesUtils.AddressResolution.NO_ADDRESS_RESOLUTION);
    try {
      TaskManager.runTaskManager("localhost",ResourceID.generate(),taskManagerPort,cfg,highAvailabilityServices);
      Object lock=new Object();
synchronized (lock) {
        lock.wait();
      }
    }
 catch (    Throwable t) {
      System.exit(1);
    }
 finally {
      highAvailabilityServices.closeAndCleanupAllData();
    }
  }
}
