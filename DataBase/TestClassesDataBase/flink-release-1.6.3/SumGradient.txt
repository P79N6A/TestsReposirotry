private static class SumGradient implements ReduceFunction<Gradient> {
  @Override public Gradient reduce(  Gradient gradient1,  Gradient gradient2) throws Exception {
    for (int i=0; i < gradient1.getComponents().length; i++) {
      gradient1.setComponent(i,gradient1.getComponent(i) + gradient2.getComponent(i));
    }
    return gradient1;
  }
}
