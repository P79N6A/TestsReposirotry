private static class TestCancelWithSavepointActorGateway extends TestActorGateway<JobManagerMessages.CancelJobWithSavepoint,JobManagerMessages.CancellationSuccess> {
  private static final long serialVersionUID=683477171331310258L;
  private final JobID expectedJobID;
  private final String expectedTargetDirectory;
  private final String savepointPathToReturn;
  TestCancelWithSavepointActorGateway(  JobID expectedJobID,  String expectedTargetDirectory,  String savepointPathToReturn){
    super(JobManagerMessages.CancelJobWithSavepoint.class);
    this.expectedJobID=expectedJobID;
    this.expectedTargetDirectory=expectedTargetDirectory;
    this.savepointPathToReturn=savepointPathToReturn;
  }
  @Override public JobManagerMessages.CancellationSuccess process(  JobManagerMessages.CancelJobWithSavepoint message){
    Assert.assertEquals(expectedJobID,message.jobID());
    Assert.assertEquals(expectedTargetDirectory,message.savepointDirectory());
    return new JobManagerMessages.CancellationSuccess(message.jobID(),savepointPathToReturn);
  }
}
