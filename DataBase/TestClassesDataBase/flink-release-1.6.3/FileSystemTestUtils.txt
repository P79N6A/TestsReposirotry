/** 
 * Various utility functions for testing  {@link FileSystem} implementations.
 */
public class FileSystemTestUtils {
  /** 
 * Verifies that the given path eventually appears on / disappears from <tt>fs</tt> within <tt>deadline</tt> nanoseconds.
 */
  public static void checkPathEventualExistence(  FileSystem fs,  Path path,  boolean expectedExists,  long deadline) throws IOException, InterruptedException {
    boolean dirExists;
    while ((dirExists=fs.exists(path)) != expectedExists && System.nanoTime() < deadline) {
      Thread.sleep(10);
    }
    assertEquals(expectedExists,dirExists);
  }
}
