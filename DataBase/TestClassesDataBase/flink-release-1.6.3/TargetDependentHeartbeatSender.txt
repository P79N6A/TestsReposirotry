/** 
 * Test  {@link HeartbeatListener} that returns different payloads based on the target {@link ResourceID}.
 */
private static class TargetDependentHeartbeatSender implements HeartbeatListener<Object,Integer> {
  private final ResourceID specialId;
  private final int specialResponse;
  private final int defaultResponse;
  TargetDependentHeartbeatSender(  ResourceID specialId,  int specialResponse,  int defaultResponse){
    this.specialId=specialId;
    this.specialResponse=specialResponse;
    this.defaultResponse=defaultResponse;
  }
  @Override public void notifyHeartbeatTimeout(  ResourceID resourceID){
  }
  @Override public void reportPayload(  ResourceID resourceID,  Object payload){
  }
  @Override public CompletableFuture<Integer> retrievePayload(  ResourceID resourceID){
    if (resourceID.equals(specialId)) {
      return CompletableFuture.completedFuture(specialResponse);
    }
 else {
      return CompletableFuture.completedFuture(defaultResponse);
    }
  }
}
