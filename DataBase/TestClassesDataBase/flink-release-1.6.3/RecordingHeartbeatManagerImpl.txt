/** 
 * {@link HeartbeatManagerImpl} which records the unmonitored targets.
 */
private static final class RecordingHeartbeatManagerImpl<I,O> extends HeartbeatManagerImpl<I,O> {
  private final BlockingQueue<ResourceID> unmonitoredTargets;
  private final BlockingQueue<ResourceID> monitoredTargets;
  public RecordingHeartbeatManagerImpl(  long heartbeatTimeoutIntervalMs,  ResourceID ownResourceID,  HeartbeatListener<I,O> heartbeatListener,  Executor executor,  ScheduledExecutor scheduledExecutor,  Logger log,  BlockingQueue<ResourceID> unmonitoredTargets,  BlockingQueue<ResourceID> monitoredTargets){
    super(heartbeatTimeoutIntervalMs,ownResourceID,heartbeatListener,executor,scheduledExecutor,log);
    this.unmonitoredTargets=unmonitoredTargets;
    this.monitoredTargets=monitoredTargets;
  }
  @Override public void unmonitorTarget(  ResourceID resourceID){
    super.unmonitorTarget(resourceID);
    unmonitoredTargets.offer(resourceID);
  }
  @Override public void monitorTarget(  ResourceID resourceID,  HeartbeatTarget<O> heartbeatTarget){
    super.monitorTarget(resourceID,heartbeatTarget);
    monitoredTargets.offer(resourceID);
  }
}
