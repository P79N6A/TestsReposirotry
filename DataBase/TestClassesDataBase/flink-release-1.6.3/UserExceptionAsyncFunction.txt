/** 
 * AsyncFunction which completes the result with an  {@link Exception}.
 */
private static class UserExceptionAsyncFunction implements AsyncFunction<Integer,Integer> {
  private static final long serialVersionUID=6326568632967110990L;
  @Override public void asyncInvoke(  Integer input,  ResultFuture<Integer> resultFuture) throws Exception {
    resultFuture.completeExceptionally(new Exception("Test exception"));
  }
}
