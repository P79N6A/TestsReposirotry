private final class DeleteCapturingDirectScheduledExecutorService extends DirectScheduledExecutorService {
  FileCache.DeleteProcess lastDeleteProcess;
  long lastDelayMillis;
  @Override public ScheduledFuture<?> schedule(  Runnable command,  long delay,  TimeUnit unit){
    if (command instanceof FileCache.DeleteProcess) {
      assertNull("Multiple delete process registered",lastDeleteProcess);
      lastDeleteProcess=(FileCache.DeleteProcess)command;
      lastDelayMillis=unit.toMillis(delay);
      return super.schedule(() -> {
      }
,delay,unit);
    }
 else {
      return super.schedule(command,delay,unit);
    }
  }
}
