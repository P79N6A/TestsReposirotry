private static class AsynchronousPostStopEndpoint extends RpcEndpoint {
  private final CompletableFuture<Void> postStopFuture;
  protected AsynchronousPostStopEndpoint(  RpcService rpcService,  CompletableFuture<Void> postStopFuture){
    super(rpcService);
    this.postStopFuture=Preconditions.checkNotNull(postStopFuture);
  }
  @Override public CompletableFuture<Void> postStop(){
    return postStopFuture;
  }
}
