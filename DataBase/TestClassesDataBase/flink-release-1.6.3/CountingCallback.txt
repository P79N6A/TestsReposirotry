public static class CountingCallback implements TestConsumerCallback {
  private final AtomicInteger numberOfReadBuffers=new AtomicInteger();
  private final AtomicInteger numberOfReadEvents=new AtomicInteger();
  @Override public void onBuffer(  Buffer buffer){
    numberOfReadBuffers.incrementAndGet();
  }
  @Override public void onEvent(  AbstractEvent event){
    numberOfReadEvents.incrementAndGet();
  }
  /** 
 * Returns the number of read buffers.
 */
  public int getNumberOfReadBuffers(){
    return numberOfReadBuffers.get();
  }
  /** 
 * Returns the number of read events;
 */
  public int getNumberOfReadEvents(){
    return numberOfReadEvents.get();
  }
}
