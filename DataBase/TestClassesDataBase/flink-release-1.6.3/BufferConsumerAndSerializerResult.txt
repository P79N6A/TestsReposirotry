private static class BufferConsumerAndSerializerResult {
  private final BufferConsumer bufferConsumer;
  private final RecordSerializer.SerializationResult serializationResult;
  public BufferConsumerAndSerializerResult(  BufferConsumer bufferConsumer,  RecordSerializer.SerializationResult serializationResult){
    this.bufferConsumer=bufferConsumer;
    this.serializationResult=serializationResult;
  }
  public Buffer buildBuffer(){
    return buildSingleBuffer(bufferConsumer);
  }
  public boolean isFullBuffer(){
    return serializationResult.isFullBuffer();
  }
}
