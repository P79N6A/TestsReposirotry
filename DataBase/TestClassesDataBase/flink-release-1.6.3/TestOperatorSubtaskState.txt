public static class TestOperatorSubtaskState extends OperatorSubtaskState {
  private static final long serialVersionUID=522580433699164230L;
  boolean registered;
  boolean discarded;
  public TestOperatorSubtaskState(){
    super();
    this.registered=false;
    this.discarded=false;
  }
  @Override public void discardState(){
    super.discardState();
    Assert.assertFalse(discarded);
    discarded=true;
    registered=false;
  }
  @Override public void registerSharedStates(  SharedStateRegistry sharedStateRegistry){
    super.registerSharedStates(sharedStateRegistry);
    Assert.assertFalse(discarded);
    registered=true;
  }
  public void reset(){
    registered=false;
    discarded=false;
  }
  public boolean isRegistered(){
    return registered;
  }
  public boolean isDiscarded(){
    return discarded;
  }
}
