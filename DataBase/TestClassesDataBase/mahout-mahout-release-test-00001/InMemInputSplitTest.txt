@Deprecated public final class InMemInputSplitTest extends MahoutTestCase {
  private Random rng;
  private ByteArrayOutputStream byteOutStream;
  private DataOutput out;
  @Override @Before public void setUp() throws Exception {
    super.setUp();
    rng=RandomUtils.getRandom();
    byteOutStream=new ByteArrayOutputStream();
    out=new DataOutputStream(byteOutStream);
  }
  /** 
 * Make sure that all the fields are processed correctly
 */
  @Test public void testWritable() throws Exception {
    InMemInputSplit split=new InMemInputSplit(rng.nextInt(),rng.nextInt(1000),rng.nextLong());
    split.write(out);
    assertEquals(split,readSplit());
  }
  /** 
 * test the case seed == null
 */
  @Test public void testNullSeed() throws Exception {
    InMemInputSplit split=new InMemInputSplit(rng.nextInt(),rng.nextInt(1000),null);
    split.write(out);
    assertEquals(split,readSplit());
  }
  private InMemInputSplit readSplit() throws IOException {
    ByteArrayInputStream byteInStream=new ByteArrayInputStream(byteOutStream.toByteArray());
    DataInput in=new DataInputStream(byteInStream);
    return InMemInputSplit.read(in);
  }
}
