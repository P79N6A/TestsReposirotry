public final class BooleanUserPreferenceArrayTest extends TasteTestCase {
  @Test public void testUserID(){
    PreferenceArray prefs=new BooleanUserPreferenceArray(3);
    assertEquals(3,prefs.length());
    prefs.setUserID(0,1L);
    assertEquals(1L,prefs.getUserID(0));
    assertEquals(1L,prefs.getUserID(1));
    assertEquals(1L,prefs.getUserID(2));
  }
  @Test public void testItemID(){
    PreferenceArray prefs=new BooleanUserPreferenceArray(3);
    assertEquals(3,prefs.length());
    prefs.setItemID(0,1L);
    prefs.setItemID(1,2L);
    prefs.setItemID(2,3L);
    assertEquals(1L,prefs.getItemID(0));
    assertEquals(2L,prefs.getItemID(1));
    assertEquals(3L,prefs.getItemID(2));
  }
  @Test(expected=UnsupportedOperationException.class) public void testSetValue(){
    PreferenceArray prefs=new BooleanUserPreferenceArray(3);
    assertEquals(1.0f,prefs.getValue(2),EPSILON);
    assertEquals(3,prefs.length());
    prefs.setValue(0,1.0f);
  }
  @Test public void testHasPref(){
    PreferenceArray prefs=new BooleanUserPreferenceArray(3);
    prefs.set(0,new GenericPreference(1L,3L,5.0f));
    assertTrue(prefs.hasPrefWithItemID(3L));
    assertTrue(prefs.hasPrefWithUserID(1L));
    assertFalse(prefs.hasPrefWithItemID(2L));
    assertFalse(prefs.hasPrefWithUserID(2L));
  }
  @Test public void testSort(){
    PreferenceArray prefs=new BooleanUserPreferenceArray(3);
    prefs.set(0,new BooleanPreference(1L,3L));
    prefs.set(1,new BooleanPreference(1L,1L));
    prefs.set(2,new BooleanPreference(1L,2L));
    prefs.sortByItem();
    assertEquals(1L,prefs.getItemID(0));
    assertEquals(2L,prefs.getItemID(1));
    assertEquals(3L,prefs.getItemID(2));
  }
  @Test public void testClone(){
    BooleanUserPreferenceArray prefs=new BooleanUserPreferenceArray(3);
    prefs.set(0,new BooleanPreference(1L,3L));
    prefs.set(1,new BooleanPreference(1L,1L));
    prefs.set(2,new BooleanPreference(1L,2L));
    prefs=prefs.clone();
    assertEquals(3L,prefs.getItemID(0));
    assertEquals(1L,prefs.getUserID(1));
  }
}
