public class MatrixVectorViewTest extends MahoutTestCase {
  /** 
 * Test for the error reported in https://issues.apache.org/jira/browse/MAHOUT-1146
 */
  @Test public void testColumnView(){
    Matrix matrix=new DenseMatrix(5,3);
    Vector column2=matrix.viewColumn(2);
    Matrix outerProduct=column2.cross(column2);
    assertEquals(matrix.numRows(),outerProduct.numRows());
    assertEquals(matrix.numRows(),outerProduct.numCols());
  }
  /** 
 * Test for out of range column or row access.
 */
  @Test public void testIndexRange(){
    Matrix m=new DenseMatrix(20,30).assign(Functions.random());
    try {
      m.viewColumn(30);
      fail("Should have thrown exception");
    }
 catch (    IllegalArgumentException e) {
      assertTrue(e.getMessage().startsWith("Index 30 is outside allowable"));
    }
    try {
      m.viewRow(20);
      fail("Should have thrown exception");
    }
 catch (    IllegalArgumentException e) {
      assertTrue(e.getMessage().startsWith("Index 20 is outside allowable"));
    }
  }
}
