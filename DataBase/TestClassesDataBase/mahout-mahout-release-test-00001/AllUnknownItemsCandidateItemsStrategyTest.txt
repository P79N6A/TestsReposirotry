/** 
 * Tests  {@link AllUnknownItemsCandidateItemsStrategyTest}
 */
public final class AllUnknownItemsCandidateItemsStrategyTest extends TasteTestCase {
  @Test public void testStrategy() throws TasteException {
    FastIDSet allItemIDs=new FastIDSet();
    allItemIDs.addAll(new long[]{1L,2L,3L});
    FastIDSet preferredItemIDs=new FastIDSet(1);
    preferredItemIDs.add(2L);
    DataModel dataModel=EasyMock.createMock(DataModel.class);
    EasyMock.expect(dataModel.getNumItems()).andReturn(3);
    EasyMock.expect(dataModel.getItemIDs()).andReturn(allItemIDs.iterator());
    PreferenceArray prefArrayOfUser123=new GenericUserPreferenceArray(Collections.singletonList(new GenericPreference(123L,2L,1.0f)));
    CandidateItemsStrategy strategy=new AllUnknownItemsCandidateItemsStrategy();
    EasyMock.replay(dataModel);
    FastIDSet candidateItems=strategy.getCandidateItems(123L,prefArrayOfUser123,dataModel,false);
    assertEquals(2,candidateItems.size());
    assertTrue(candidateItems.contains(1L));
    assertTrue(candidateItems.contains(3L));
    EasyMock.verify(dataModel);
  }
}
