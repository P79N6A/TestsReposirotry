public final class MemoryIDMigratorTest extends TasteTestCase {
  private static final String DUMMY_STRING="Mahout";
  private static final long DUMMY_ID=-6311185995763544451L;
  @Test public void testToLong(){
    IDMigrator migrator=new MemoryIDMigrator();
    long id=migrator.toLongID(DUMMY_STRING);
    assertEquals(DUMMY_ID,id);
  }
  @Test public void testStore() throws Exception {
    UpdatableIDMigrator migrator=new MemoryIDMigrator();
    long id=migrator.toLongID(DUMMY_STRING);
    assertNull(migrator.toStringID(id));
    migrator.storeMapping(id,DUMMY_STRING);
    assertEquals(DUMMY_STRING,migrator.toStringID(id));
  }
  @Test public void testInitialize() throws Exception {
    UpdatableIDMigrator migrator=new MemoryIDMigrator();
    long id=migrator.toLongID(DUMMY_STRING);
    assertNull(migrator.toStringID(id));
    migrator.initialize(Collections.singleton(DUMMY_STRING));
    assertEquals(DUMMY_STRING,migrator.toStringID(id));
  }
}
