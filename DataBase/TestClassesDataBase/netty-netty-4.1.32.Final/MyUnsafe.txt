private class MyUnsafe extends AbstractUnsafe {
  @Override public void connect(  SocketAddress remoteAddress,  SocketAddress localAddress,  ChannelPromise promise){
    if (!ensureOpen(promise)) {
      return;
    }
    if (!active) {
      active=true;
      pipeline().fireChannelActive();
    }
    promise.setSuccess();
  }
}
