public class RetainedDuplicatedByteBufTest extends DuplicatedByteBufTest {
  @Override protected ByteBuf newBuffer(  int length,  int maxCapacity){
    ByteBuf wrapped=Unpooled.buffer(length,maxCapacity);
    ByteBuf buffer=wrapped.retainedDuplicate();
    wrapped.release();
    assertEquals(wrapped.writerIndex(),buffer.writerIndex());
    assertEquals(wrapped.readerIndex(),buffer.readerIndex());
    return buffer;
  }
}
