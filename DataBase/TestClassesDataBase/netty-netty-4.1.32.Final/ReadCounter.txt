private static final class ReadCounter extends ChannelOutboundHandlerAdapter {
  int value;
  @Override public void read(  ChannelHandlerContext ctx) throws Exception {
    value++;
    ctx.read();
  }
}
