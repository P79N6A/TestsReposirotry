private static final class HttpSettingsDelegator extends SimpleChannelInboundHandler<Http2Settings> {
  private final HttpSettingsListener listener;
  private final CountDownLatch latch;
  HttpSettingsDelegator(  HttpSettingsListener listener,  CountDownLatch latch){
    super(false);
    this.listener=listener;
    this.latch=latch;
  }
  @Override protected void channelRead0(  ChannelHandlerContext ctx,  Http2Settings settings) throws Exception {
    listener.messageReceived(settings);
    latch.countDown();
  }
}
