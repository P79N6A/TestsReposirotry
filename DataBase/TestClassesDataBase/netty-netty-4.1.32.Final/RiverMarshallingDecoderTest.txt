public class RiverMarshallingDecoderTest extends RiverCompatibleMarshallingDecoderTest {
  @Override protected ByteBuf input(  byte[] input){
    ByteBuf length=Unpooled.buffer(4);
    length.writeInt(input.length);
    return Unpooled.wrappedBuffer(length,Unpooled.wrappedBuffer(input));
  }
  @Override protected ChannelHandler createDecoder(  int maxObjectSize){
    return new MarshallingDecoder(createProvider(createMarshallerFactory(),createMarshallingConfig()),maxObjectSize);
  }
  @Override protected void onTooBigFrame(  EmbeddedChannel ch,  ByteBuf input){
    try {
      ch.writeInbound(input);
      fail();
    }
 catch (    CodecException e) {
      assertEquals(TooLongFrameException.class,e.getClass());
    }
  }
}
