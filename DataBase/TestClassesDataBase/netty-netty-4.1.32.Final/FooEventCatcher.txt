static final class FooEventCatcher extends SimpleUserEventChannelHandler<FooEvent> {
  public List<FooEvent> caughtEvents;
  FooEventCatcher(){
    caughtEvents=new ArrayList<FooEvent>();
  }
  @Override protected void eventReceived(  ChannelHandlerContext ctx,  FooEvent evt){
    caughtEvents.add(evt);
  }
}
