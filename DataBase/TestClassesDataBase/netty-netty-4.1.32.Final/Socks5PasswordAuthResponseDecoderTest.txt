public class Socks5PasswordAuthResponseDecoderTest {
  private static final InternalLogger logger=InternalLoggerFactory.getInstance(Socks5PasswordAuthResponseDecoderTest.class);
  private static void test(  Socks5PasswordAuthStatus status){
    logger.debug("Testing Socks5PasswordAuthResponseDecoder with status: " + status);
    Socks5PasswordAuthResponse msg=new DefaultSocks5PasswordAuthResponse(status);
    EmbeddedChannel embedder=new EmbeddedChannel(new Socks5PasswordAuthResponseDecoder());
    Socks5CommonTestUtils.writeFromServerToClient(embedder,msg);
    msg=embedder.readInbound();
    assertSame(msg.status(),status);
    assertNull(embedder.readInbound());
  }
  @Test public void testSocksCmdResponseDecoder(){
    test(Socks5PasswordAuthStatus.SUCCESS);
    test(Socks5PasswordAuthStatus.FAILURE);
  }
}
