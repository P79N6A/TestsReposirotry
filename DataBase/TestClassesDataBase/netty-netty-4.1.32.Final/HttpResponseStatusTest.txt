public class HttpResponseStatusTest {
  @Test public void parseLineStringJustCode(){
    assertSame(HttpResponseStatus.OK,parseLine("200"));
  }
  @Test public void parseLineStringCodeAndPhrase(){
    assertSame(HttpResponseStatus.OK,parseLine("200 OK"));
  }
  @Test public void parseLineStringCustomCode(){
    HttpResponseStatus customStatus=parseLine("612");
    assertEquals(612,customStatus.code());
  }
  @Test public void parseLineStringCustomCodeAndPhrase(){
    HttpResponseStatus customStatus=parseLine("612 FOO");
    assertEquals(612,customStatus.code());
    assertEquals("FOO",customStatus.reasonPhrase());
  }
  @Test(expected=IllegalArgumentException.class) public void parseLineStringMalformedCode(){
    parseLine("200a");
  }
  @Test(expected=IllegalArgumentException.class) public void parseLineStringMalformedCodeWithPhrase(){
    parseLine("200a foo");
  }
  @Test public void parseLineAsciiStringJustCode(){
    assertSame(HttpResponseStatus.OK,parseLine(new AsciiString("200")));
  }
  @Test public void parseLineAsciiStringCodeAndPhrase(){
    assertSame(HttpResponseStatus.OK,parseLine(new AsciiString("200 OK")));
  }
  @Test public void parseLineAsciiStringCustomCode(){
    HttpResponseStatus customStatus=parseLine(new AsciiString("612"));
    assertEquals(612,customStatus.code());
  }
  @Test public void parseLineAsciiStringCustomCodeAndPhrase(){
    HttpResponseStatus customStatus=parseLine(new AsciiString("612 FOO"));
    assertEquals(612,customStatus.code());
    assertEquals("FOO",customStatus.reasonPhrase());
  }
  @Test(expected=IllegalArgumentException.class) public void parseLineAsciiStringMalformedCode(){
    parseLine(new AsciiString("200a"));
  }
  @Test(expected=IllegalArgumentException.class) public void parseLineAsciiStringMalformedCodeWithPhrase(){
    parseLine(new AsciiString("200a foo"));
  }
}
