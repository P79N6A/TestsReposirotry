private static final class TestTask implements Runnable {
  private final ChannelPipeline pipeline;
  private final CountDownLatch latch;
  TestTask(  ChannelPipeline pipeline,  CountDownLatch latch){
    this.pipeline=pipeline;
    this.latch=latch;
  }
  @Override public void run(){
    pipeline.addLast(new ChannelInboundHandlerAdapter());
    latch.countDown();
  }
}
