static final class ThrowingQueueSubscription implements QueueSubscription<Integer>, Publisher<Integer> {
  @Override public int requestFusion(  int mode){
    return mode & SYNC;
  }
  @Override public boolean offer(  Integer value){
    throw new UnsupportedOperationException();
  }
  @Override public boolean offer(  Integer v1,  Integer v2){
    throw new UnsupportedOperationException();
  }
  @Override public Integer poll() throws Exception {
    throw new TestException();
  }
  @Override public boolean isEmpty(){
    return false;
  }
  @Override public void clear(){
  }
  @Override public void request(  long n){
  }
  @Override public void cancel(){
  }
  @Override public void subscribe(  Subscriber<? super Integer> s){
    s.onSubscribe(this);
  }
}
