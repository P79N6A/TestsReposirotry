public class SingleMaterializeTest {
  @Test @SuppressWarnings("unchecked") public void success(){
    Single.just(1).materialize().test().assertResult(Notification.createOnNext(1));
  }
  @Test @SuppressWarnings("unchecked") public void error(){
    TestException ex=new TestException();
    Maybe.error(ex).materialize().test().assertResult(Notification.createOnError(ex));
  }
  @Test public void doubleOnSubscribe(){
    TestHelper.checkDoubleOnSubscribeSingle(new Function<Single<Object>,SingleSource<Notification<Object>>>(){
      @Override public SingleSource<Notification<Object>> apply(      Single<Object> v) throws Exception {
        return v.materialize();
      }
    }
);
  }
  @Test public void dispose(){
    TestHelper.checkDisposed(SingleSubject.create().materialize());
  }
}
