private static class TestErrorObservable implements ObservableSource<String> {
  String[] valuesToReturn;
  TestErrorObservable(  String... values){
    valuesToReturn=values;
  }
  @Override public void subscribe(  Observer<? super String> observer){
    observer.onSubscribe(Disposables.empty());
    boolean errorThrown=false;
    for (    String s : valuesToReturn) {
      if (s == null) {
        System.out.println("throwing exception");
        observer.onError(new NullPointerException());
        errorThrown=true;
      }
 else {
        observer.onNext(s);
      }
    }
    if (!errorThrown) {
      observer.onComplete();
    }
  }
}
