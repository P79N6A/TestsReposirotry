static final class CapturingObserver<T> extends DefaultSubscriber<T> {
  CountDownLatch completed=new CountDownLatch(1);
  int errorCount;
  int nextCount;
  Throwable error;
  @Override public void onComplete(){
  }
  @Override public void onError(  Throwable e){
    errorCount++;
    error=e;
    completed.countDown();
  }
  @Override public void onNext(  T t){
    nextCount++;
  }
}
