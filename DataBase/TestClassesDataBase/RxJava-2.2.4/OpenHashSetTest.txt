public class OpenHashSetTest {
static class Value {
    @Override public int hashCode(){
      return 1;
    }
    @Override public boolean equals(    Object o){
      return this == o;
    }
  }
  @Test public void addRemoveCollision(){
    Value v1=new Value();
    Value v2=new Value();
    OpenHashSet<Value> set=new OpenHashSet<Value>();
    assertTrue(set.add(v1));
    assertFalse(set.add(v1));
    assertFalse(set.remove(v2));
    assertTrue(set.add(v2));
    assertFalse(set.add(v2));
    assertTrue(set.remove(v2));
    assertFalse(set.remove(v2));
  }
}
