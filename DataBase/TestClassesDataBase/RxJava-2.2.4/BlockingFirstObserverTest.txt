public class BlockingFirstObserverTest {
  @Test public void firstValueOnly(){
    BlockingFirstObserver<Integer> bf=new BlockingFirstObserver<Integer>();
    Disposable d=Disposables.empty();
    bf.onSubscribe(d);
    bf.onNext(1);
    assertTrue(d.isDisposed());
    assertEquals(1,bf.value.intValue());
    assertEquals(0,bf.getCount());
    bf.onNext(2);
    assertEquals(1,bf.value.intValue());
    assertEquals(0,bf.getCount());
    bf.onError(new TestException());
    assertEquals(1,bf.value.intValue());
    assertNull(bf.error);
    assertEquals(0,bf.getCount());
  }
}
