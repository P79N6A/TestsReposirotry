private static class TestAsyncErrorObservable implements ObservableSource<String> {
  String[] valuesToReturn;
  TestAsyncErrorObservable(  String... values){
    valuesToReturn=values;
  }
  Thread t;
  @Override public void subscribe(  final Observer<? super String> observer){
    observer.onSubscribe(Disposables.empty());
    t=new Thread(new Runnable(){
      @Override public void run(){
        for (        String s : valuesToReturn) {
          if (s == null) {
            System.out.println("throwing exception");
            try {
              Thread.sleep(100);
            }
 catch (            Throwable e) {
            }
            observer.onError(new NullPointerException());
            return;
          }
 else {
            observer.onNext(s);
          }
        }
        System.out.println("subscription complete");
        observer.onComplete();
      }
    }
);
    t.start();
  }
}
