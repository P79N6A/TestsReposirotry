private static class TestErrorFlowable implements Publisher<String> {
  String[] valuesToReturn;
  TestErrorFlowable(  String... values){
    valuesToReturn=values;
  }
  @Override public void subscribe(  Subscriber<? super String> subscriber){
    subscriber.onSubscribe(new BooleanSubscription());
    boolean errorThrown=false;
    for (    String s : valuesToReturn) {
      if (s == null) {
        System.out.println("throwing exception");
        subscriber.onError(new NullPointerException());
        errorThrown=true;
      }
 else {
        subscriber.onNext(s);
      }
    }
    if (!errorThrown) {
      subscriber.onComplete();
    }
  }
}
