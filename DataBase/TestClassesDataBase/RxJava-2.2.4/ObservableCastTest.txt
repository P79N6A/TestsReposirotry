public class ObservableCastTest {
  @Test public void testCast(){
    Observable<?> source=Observable.just(1,2);
    Observable<Integer> observable=source.cast(Integer.class);
    Observer<Integer> observer=TestHelper.mockObserver();
    observable.subscribe(observer);
    verify(observer,times(1)).onNext(1);
    verify(observer,times(1)).onNext(1);
    verify(observer,never()).onError(any(Throwable.class));
    verify(observer,times(1)).onComplete();
  }
  @Test public void testCastWithWrongType(){
    Observable<?> source=Observable.just(1,2);
    Observable<Boolean> observable=source.cast(Boolean.class);
    Observer<Boolean> observer=TestHelper.mockObserver();
    observable.subscribe(observer);
    verify(observer,times(1)).onError(any(ClassCastException.class));
  }
}
