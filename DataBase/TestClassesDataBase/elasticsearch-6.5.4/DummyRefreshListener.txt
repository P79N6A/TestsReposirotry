private static class DummyRefreshListener implements Consumer<Boolean> {
  /** 
 * When the listener is called this captures it's only argument.
 */
  final AtomicReference<Boolean> forcedRefresh=new AtomicReference<>();
  private volatile Exception error;
  @Override public void accept(  Boolean forcedRefresh){
    try {
      Boolean oldValue=this.forcedRefresh.getAndSet(forcedRefresh);
      assertNull("Listener called twice",oldValue);
    }
 catch (    Exception e) {
      error=e;
    }
  }
  public void assertNoError(){
    if (error != null) {
      throw new RuntimeException(error);
    }
  }
}
