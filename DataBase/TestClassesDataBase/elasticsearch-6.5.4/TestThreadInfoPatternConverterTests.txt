public class TestThreadInfoPatternConverterTests extends ESTestCase {
  private static String suiteInfo;
  @BeforeClass public static void captureSuiteInfo(){
    suiteInfo=threadInfo(Thread.currentThread().getName());
  }
  public void testThreadInfo(){
    String nodeName=randomAlphaOfLength(5);
    String threadName=EsExecutors.threadName(nodeName,randomAlphaOfLength(20)) + "[T#" + between(0,1000)+ "]";
    assertEquals(nodeName,threadInfo(threadName));
    assertEquals(getTestName(),threadInfo(Thread.currentThread().getName()));
    assertEquals("suite",suiteInfo);
    String unmatched=randomAlphaOfLength(5);
    assertEquals("[" + unmatched + "]",threadInfo(unmatched));
  }
}
