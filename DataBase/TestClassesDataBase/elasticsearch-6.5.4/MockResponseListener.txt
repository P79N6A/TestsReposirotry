private static class MockResponseListener implements ResponseListener {
  private final AtomicReference<Response> response=new AtomicReference<>();
  private final AtomicReference<Exception> exception=new AtomicReference<>();
  @Override public void onSuccess(  Response response){
    if (this.response.compareAndSet(null,response) == false) {
      throw new IllegalStateException("onSuccess was called multiple times");
    }
  }
  @Override public void onFailure(  Exception exception){
    if (this.exception.compareAndSet(null,exception) == false) {
      throw new IllegalStateException("onFailure was called multiple times");
    }
  }
}
