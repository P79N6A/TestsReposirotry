class AssertionCallback implements FutureCallback<HttpResponse> {
  @Override public void completed(  HttpResponse result){
    assertThat(result.getStatusLine().getStatusCode(),lessThan(300));
  }
  @Override public void failed(  Exception ex){
    logger.error(ex);
    fail(ex.toString());
  }
  @Override public void cancelled(){
    fail("The request was cancelled for some reason");
  }
}
