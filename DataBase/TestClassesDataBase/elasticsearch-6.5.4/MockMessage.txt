static class MockMessage extends TransportMessage {
  MockMessage(  ThreadContext threadContext) throws IOException {
    if (randomBoolean()) {
      if (randomBoolean()) {
        remoteAddress(buildNewFakeTransportAddress());
      }
 else {
        remoteAddress(new TransportAddress(InetAddress.getLoopbackAddress(),1234));
      }
    }
    if (randomBoolean()) {
      RemoteHostHeader.putRestRemoteAddress(threadContext,new InetSocketAddress(forge("localhost","127.0.0.1"),1234));
    }
  }
}
