private static final class ExceptionThrowingChannel extends AbstractRestChannel {
  protected ExceptionThrowingChannel(  RestRequest request,  boolean detailedErrorsEnabled){
    super(request,detailedErrorsEnabled);
  }
  @Override public void sendResponse(  RestResponse response){
    throw new IllegalStateException("always throwing an exception for testing");
  }
}
