/** 
 * Mock file system that fakes usable space for each FileStore 
 */
static class MockUsableSpaceFileSystemProvider extends FilterFileSystemProvider {
  MockUsableSpaceFileSystemProvider(  FileSystem inner){
    super("mockusablespace://",inner);
    final List<FileStore> fileStores=new ArrayList<>();
    fileStores.add(aFileStore);
    fileStores.add(bFileStore);
  }
  @Override public FileStore getFileStore(  Path path) throws IOException {
    if (path.toString().contains(aPathPart)) {
      return aFileStore;
    }
 else {
      return bFileStore;
    }
  }
}
