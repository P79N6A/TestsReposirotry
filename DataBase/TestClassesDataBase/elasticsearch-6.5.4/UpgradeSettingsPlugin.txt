public static class UpgradeSettingsPlugin extends Plugin {
  static final Setting<String> oldSetting=Setting.simpleString("foo.old",Setting.Property.Dynamic,Setting.Property.NodeScope);
  static final Setting<String> newSetting=Setting.simpleString("foo.new",Setting.Property.Dynamic,Setting.Property.NodeScope);
  public UpgradeSettingsPlugin(){
  }
  @Override public List<Setting<?>> getSettings(){
    return Arrays.asList(oldSetting,newSetting);
  }
  @Override public List<SettingUpgrader<?>> getSettingUpgraders(){
    return Collections.singletonList(new SettingUpgrader<String>(){
      @Override public Setting<String> getSetting(){
        return oldSetting;
      }
      @Override public String getKey(      final String key){
        return "foo.new";
      }
      @Override public String getValue(      final String value){
        return "new." + value;
      }
    }
);
  }
}
