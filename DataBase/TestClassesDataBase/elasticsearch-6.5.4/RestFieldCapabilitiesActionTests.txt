public class RestFieldCapabilitiesActionTests extends ESTestCase {
  private RestFieldCapabilitiesAction action;
  @Before public void setUpAction(){
    action=new RestFieldCapabilitiesAction(Settings.EMPTY,mock(RestController.class));
  }
  public void testRequestBodyIsDeprecated() throws IOException {
    String content="{ \"fields\": [\"title\"] }";
    RestRequest request=new FakeRestRequest.Builder(xContentRegistry()).withPath("/_field_caps").withContent(new BytesArray(content),XContentType.JSON).build();
    action.prepareRequest(request,mock(NodeClient.class));
    assertWarnings("Specifying a request body is deprecated -- the" + " [fields] request parameter should be used instead.");
  }
}
