static class TimedMasterService extends MasterService {
  public volatile Long currentTimeOverride=null;
  TimedMasterService(  Settings settings,  ThreadPool threadPool){
    super(settings,threadPool);
  }
  @Override protected long currentTimeInNanos(){
    if (currentTimeOverride != null) {
      return currentTimeOverride;
    }
    return super.currentTimeInNanos();
  }
}
