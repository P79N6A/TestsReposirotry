/** 
 * Creates a copy of the lowercase token filter which we use for testing merge errors.
 */
public static class MockAnalysisPlugin extends Plugin implements AnalysisPlugin {
  @Override public List<PreConfiguredTokenFilter> getPreConfiguredTokenFilters(){
    return singletonList(PreConfiguredTokenFilter.singleton("mock_other_lowercase",true,MockLowerCaseFilter::new));
  }
  @Override public Map<String,AnalysisModule.AnalysisProvider<TokenizerFactory>> getTokenizers(){
    return singletonMap("keyword",(indexSettings,environment,name,settings) -> {
class Factory implements TokenizerFactory {
        @Override public Tokenizer create(){
          return new MockTokenizer(MockTokenizer.KEYWORD,false);
        }
      }
      return new Factory();
    }
);
  }
}
