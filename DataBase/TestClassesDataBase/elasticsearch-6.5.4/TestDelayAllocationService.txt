private static class TestDelayAllocationService extends DelayedAllocationService {
  private volatile long nanoTimeOverride=-1L;
  TestDelayAllocationService(  Settings settings,  ThreadPool threadPool,  ClusterService clusterService,  AllocationService allocationService){
    super(settings,threadPool,clusterService,allocationService);
  }
  @Override protected void assertClusterOrMasterStateThread(){
  }
  public void setNanoTimeOverride(  long nanoTime){
    this.nanoTimeOverride=nanoTime;
  }
  @Override protected long currentNanoTime(){
    return nanoTimeOverride == -1L ? super.currentNanoTime() : nanoTimeOverride;
  }
}
