private static final class TestRestRequest extends RestRequest {
  private final BytesReference content;
  private TestRestRequest(  String path,  String content,  XContentType xContentType){
    super(NamedXContentRegistry.EMPTY,Collections.emptyMap(),path,xContentType == null ? Collections.emptyMap() : Collections.singletonMap("Content-Type",Collections.singletonList(xContentType.mediaType())));
    this.content=new BytesArray(content);
  }
  @Override public Method method(){
    return Method.GET;
  }
  @Override public String uri(){
    return null;
  }
  @Override public boolean hasContent(){
    return true;
  }
  @Override public BytesReference content(){
    return content;
  }
}
