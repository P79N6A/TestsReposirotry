private class PayloadLatchedActionListener<Response,T> extends LatchedActionListener<Response> {
  private final CopyOnWriteArrayList<Tuple<T,Exception>> errors;
  private final T builder;
  PayloadLatchedActionListener(  T builder,  CountDownLatch latch,  CopyOnWriteArrayList<Tuple<T,Exception>> errors){
    super(latch);
    this.errors=errors;
    this.builder=builder;
  }
  @Override protected void addError(  Exception e){
    errors.add(new Tuple<>(builder,e));
  }
}
