class CountingTracer extends MockTransportService.Tracer {
  AtomicInteger requestsReceived=new AtomicInteger();
  AtomicInteger requestsSent=new AtomicInteger();
  AtomicInteger responseReceived=new AtomicInteger();
  AtomicInteger responseSent=new AtomicInteger();
  @Override public void receivedRequest(  long requestId,  String action){
    if (action.equals(ACTION)) {
      requestsReceived.incrementAndGet();
    }
  }
  @Override public void responseSent(  long requestId,  String action){
    if (action.equals(ACTION)) {
      responseSent.incrementAndGet();
    }
  }
  @Override public void responseSent(  long requestId,  String action,  Throwable t){
    if (action.equals(ACTION)) {
      responseSent.incrementAndGet();
    }
  }
  @Override public void receivedResponse(  long requestId,  DiscoveryNode sourceNode,  String action){
    if (action.equals(ACTION)) {
      responseReceived.incrementAndGet();
    }
  }
  @Override public void requestSent(  DiscoveryNode node,  long requestId,  String action,  TransportRequestOptions options){
    if (action.equals(ACTION)) {
      requestsSent.incrementAndGet();
    }
  }
}
