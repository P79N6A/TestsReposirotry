public class CcrRestIT extends ESClientYamlSuiteTestCase {
  public CcrRestIT(  final ClientYamlTestCandidate testCandidate){
    super(testCandidate);
  }
  @ParametersFactory public static Iterable<Object[]> parameters() throws Exception {
    return ESClientYamlSuiteTestCase.createParameters();
  }
  @Override protected Settings restClientSettings(){
    final String ccrUserAuthHeaderValue=basicAuthHeaderValue("ccr-user",new SecureString("ccr-user-password".toCharArray()));
    return Settings.builder().put(ThreadContext.PREFIX + ".Authorization",ccrUserAuthHeaderValue).build();
  }
  @After public void cleanup() throws Exception {
    ESRestTestCase.waitForPendingTasks(adminClient(),taskName -> taskName.startsWith(ShardChangesAction.NAME));
  }
}
