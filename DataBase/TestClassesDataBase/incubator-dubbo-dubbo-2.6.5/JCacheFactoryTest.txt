public class JCacheFactoryTest extends AbstractCacheFactoryTest {
  @Test public void testJCacheFactory() throws Exception {
    Cache cache=super.constructCache();
    assertThat(cache instanceof JCache,is(true));
  }
  @Test public void testJCacheGetExpired() throws Exception {
    URL url=URL.valueOf("test://test:11/test?cache=jacache&.cache.write.expire=1");
    AbstractCacheFactory cacheFactory=getCacheFactory();
    Invocation invocation=new RpcInvocation();
    Cache cache=cacheFactory.getCache(url,invocation);
    cache.put("testKey","testValue");
    Thread.sleep(10);
    assertNull(cache.get("testKey"));
  }
  @Override protected AbstractCacheFactory getCacheFactory(){
    return new JCacheFactory();
  }
}
