/** 
 * {@link YamlPropertySourceFactory} Test
 * @since 2.6.5
 */
@RunWith(SpringRunner.class) @PropertySource(name="yaml-source",value={"classpath:/META-INF/dubbo.yml"},factory=YamlPropertySourceFactory.class) @Configuration @ContextConfiguration(classes=YamlPropertySourceFactoryTest.class) public class YamlPropertySourceFactoryTest {
  @Autowired private Environment environment;
  @Value("${dubbo.consumer.default}") private Boolean isDefault;
  @Value("${dubbo.consumer.client}") private String client;
  @Value("${dubbo.consumer.threadpool}") private String threadPool;
  @Value("${dubbo.consumer.corethreads}") private Integer coreThreads;
  @Value("${dubbo.consumer.threads}") private Integer threads;
  @Value("${dubbo.consumer.queues}") private Integer queues;
  @Test public void testProperty(){
    Assert.assertEquals(isDefault,environment.getProperty("dubbo.consumer.default",Boolean.class));
    Assert.assertEquals(client,environment.getProperty("dubbo.consumer.client",String.class));
    Assert.assertEquals(threadPool,environment.getProperty("dubbo.consumer.threadpool",String.class));
    Assert.assertEquals(coreThreads,environment.getProperty("dubbo.consumer.corethreads",Integer.class));
    Assert.assertEquals(threads,environment.getProperty("dubbo.consumer.threads",Integer.class));
    Assert.assertEquals(queues,environment.getProperty("dubbo.consumer.queues",Integer.class));
  }
}
