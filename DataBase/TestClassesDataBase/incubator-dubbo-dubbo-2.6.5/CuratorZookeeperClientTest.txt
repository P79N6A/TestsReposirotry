@Ignore public class CuratorZookeeperClientTest {
  private TestingServer zkServer;
  private int zkServerPort;
  @Before public void setUp() throws Exception {
    zkServerPort=NetUtils.getAvailablePort();
    zkServer=new TestingServer(this.zkServerPort,true);
  }
  @Test public void testCheckExists(){
    CuratorZookeeperClient curatorClient=new CuratorZookeeperClient(URL.valueOf("zookeeper://127.0.0.1:" + this.zkServerPort + "/com.alibaba.dubbo.registry.RegistryService"));
    String path="/dubbo/com.alibaba.dubbo.demo.DemoService/providers";
    curatorClient.create(path,false);
    Assert.assertThat(curatorClient.checkExists(path),is(true));
    Assert.assertThat(curatorClient.checkExists(path + "/noneexits"),is(false));
  }
  @After public void tearDown() throws Exception {
    zkServer.stop();
  }
}
