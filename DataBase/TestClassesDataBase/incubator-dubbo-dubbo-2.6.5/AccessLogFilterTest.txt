/** 
 * AccessLogFilterTest.java
 */
public class AccessLogFilterTest {
  Filter accessLogFilter=new AccessLogFilter();
  @Test public void testInvokeException(){
    Invoker<AccessLogFilterTest> invoker=new MyInvoker<AccessLogFilterTest>(null);
    Invocation invocation=new MockInvocation();
    LogUtil.start();
    accessLogFilter.invoke(invoker,invocation);
    assertEquals(1,LogUtil.findMessage("Exception in AcessLogFilter of service"));
    LogUtil.stop();
  }
  @Test public void testDefault(){
    URL url=URL.valueOf("test://test:11/test?accesslog=true&group=dubbo&version=1.1");
    Invoker<AccessLogFilterTest> invoker=new MyInvoker<AccessLogFilterTest>(url);
    Invocation invocation=new MockInvocation();
    accessLogFilter.invoke(invoker,invocation);
  }
  @Test public void testCustom(){
    URL url=URL.valueOf("test://test:11/test?accesslog=alibaba");
    Invoker<AccessLogFilterTest> invoker=new MyInvoker<AccessLogFilterTest>(url);
    Invocation invocation=new MockInvocation();
    accessLogFilter.invoke(invoker,invocation);
  }
}
