public class TestLoopDetection2 extends IntegrationTest {
public static class TestCls {
    public int test(    int a,    int b){
      int c=a + b;
      for (int i=a; i < b; i++) {
        if (i == 7) {
          c+=2;
        }
 else {
          c*=2;
        }
      }
      c--;
      return c;
    }
  }
  @Test public void test(){
    ClassNode cls=getClassNode(TestCls.class);
    String code=cls.getCode().toString();
    assertThat(code,containsOne("int c = a + b;"));
    assertThat(code,containsOne("for (int i = a; i < b; i++) {"));
    assertThat(code,not(containsString("c_2")));
  }
}
