private static class FakeSecretManager extends AbstractDelegationTokenSecretManager<AbstractDelegationTokenIdentifier> implements SigningSecretManager {
  public FakeSecretManager(){
    super(10000000,10000000,10000000,10000000);
  }
  @Override public DelegationKey getCurrentKey(){
    return getDelegationKey(getCurrentKeyId());
  }
  @Override public DelegationKey getDelegationKey(  int keyId){
    return super.getDelegationKey(keyId);
  }
  @Override public byte[] signWithKey(  byte[] message,  DelegationKey key){
    return createPassword(message,key.getKey());
  }
  @Override public byte[] signWithKey(  byte[] message,  int keyId) throws SecurityException {
    DelegationKey key=getDelegationKey(keyId);
    if (key == null) {
      throw new SecurityException("The key ID " + keyId + " was not found");
    }
    return createPassword(message,key.getKey());
  }
  @Override public AbstractDelegationTokenIdentifier createIdentifier(){
    throw new UnsupportedOperationException();
  }
  @Override public void close(){
    stopThreads();
  }
}
