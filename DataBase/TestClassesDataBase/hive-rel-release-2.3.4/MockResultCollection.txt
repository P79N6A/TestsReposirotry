private static final class MockResultCollection extends AbstractCollection<NamingEnumeration<SearchResult>> {
  List<NamingEnumeration<SearchResult>> results=new ArrayList<>();
  static MockResultCollection create(){
    return new MockResultCollection();
  }
  MockResultCollection addSearchResultWithDns(  String... dns) throws NamingException {
    results.add(mockNamingEnumeration(dns));
    return this;
  }
  MockResultCollection addSearchResults(  SearchResult... dns) throws NamingException {
    results.add(mockNamingEnumeration(dns));
    return this;
  }
  MockResultCollection addEmptySearchResult() throws NamingException {
    addSearchResults();
    return this;
  }
  @Override public Iterator<NamingEnumeration<SearchResult>> iterator(){
    return results.iterator();
  }
  @Override public int size(){
    return results.size();
  }
}
