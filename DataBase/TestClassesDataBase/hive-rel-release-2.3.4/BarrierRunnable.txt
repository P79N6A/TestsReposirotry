class BarrierRunnable implements Runnable {
  private final CyclicBarrier ready;
  private final CyclicBarrier completed;
  BarrierRunnable(  CyclicBarrier ready,  CyclicBarrier completed){
    this.ready=ready;
    this.completed=completed;
  }
  @Override public void run(){
    try {
      ready.await();
      completed.await();
    }
 catch (    InterruptedException|BrokenBarrierException e) {
      throw new RuntimeException(e);
    }
  }
}
