protected class Hs2ConnectionXmlConfigFileWriter {
  private final PrintWriter writer;
  private final File file;
  private final Configuration conf;
  protected Hs2ConnectionXmlConfigFileWriter() throws IOException {
    file=new File(fileLocation);
    conf=new Configuration(false);
    try {
      if (file.exists()) {
        file.delete();
      }
      file.createNewFile();
      writer=new PrintWriter(file.getAbsolutePath(),"UTF-8");
    }
  finally {
      file.deleteOnExit();
    }
  }
  protected void writeProperty(  String key,  String value){
    conf.set(key,value);
  }
  protected String path(){
    return file.getAbsolutePath();
  }
  protected void close() throws IOException {
    try {
      conf.writeXml(writer);
    }
  finally {
      writer.close();
    }
  }
}
