/** 
 * TestThriftHttpCLIService. This tests ThriftCLIService started in http mode.
 */
public class TestThriftCLIServiceWithHttp extends ThriftCLIServiceTest {
  private static String transportMode="http";
  private static String thriftHttpPath="cliservice";
  /** 
 * @throws java.lang.Exception
 */
  @BeforeClass public static void setUpBeforeClass() throws Exception {
    ThriftCLIServiceTest.setUpBeforeClass();
    assertNotNull(port);
    assertNotNull(hiveServer2);
    assertNotNull(hiveConf);
    hiveConf.setBoolVar(ConfVars.HIVE_SERVER2_ENABLE_DOAS,false);
    hiveConf.setVar(ConfVars.HIVE_SERVER2_THRIFT_BIND_HOST,host);
    hiveConf.setIntVar(ConfVars.HIVE_SERVER2_THRIFT_HTTP_PORT,port);
    hiveConf.setVar(ConfVars.HIVE_SERVER2_AUTHENTICATION,AuthTypes.NOSASL.toString());
    hiveConf.setVar(ConfVars.HIVE_SERVER2_TRANSPORT_MODE,transportMode);
    hiveConf.setVar(ConfVars.HIVE_SERVER2_THRIFT_HTTP_PATH,thriftHttpPath);
    startHiveServer2WithConf(hiveConf);
    client=getServiceClientInternal();
  }
  /** 
 * @throws java.lang.Exception
 */
  @AfterClass public static void tearDownAfterClass() throws Exception {
    ThriftCLIServiceTest.tearDownAfterClass();
  }
}
