@SuppressWarnings("rawtypes") @Test public void onParallelAssembly(){
  try {
    RxJavaPlugins.setOnParallelAssembly(new Function<ParallelFlowable,ParallelFlowable>(){
      @Override public ParallelFlowable apply(      ParallelFlowable pf) throws Exception {
        return new ParallelFromPublisher<Integer>(Flowable.just(2),2,2);
      }
    }
);
    Flowable.just(1).parallel().sequential().test().assertResult(2);
  }
  finally {
    RxJavaPlugins.reset();
  }
  Flowable.just(1).parallel().sequential().test().assertResult(1);
}
