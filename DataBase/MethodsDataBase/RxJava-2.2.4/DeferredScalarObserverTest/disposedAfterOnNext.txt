@Test public void disposedAfterOnNext(){
  final TestObserver<Integer> to=new TestObserver<Integer>();
  TakeLast source=new TakeLast(new Observer<Integer>(){
    Disposable upstream;
    @Override public void onSubscribe(    Disposable d){
      this.upstream=d;
      to.onSubscribe(d);
    }
    @Override public void onNext(    Integer value){
      to.onNext(value);
      upstream.dispose();
    }
    @Override public void onError(    Throwable e){
      to.onError(e);
    }
    @Override public void onComplete(){
      to.onComplete();
    }
  }
);
  source.onSubscribe(Disposables.empty());
  source.onNext(1);
  source.onComplete();
  to.assertValue(1).assertNoErrors().assertNotComplete();
}
