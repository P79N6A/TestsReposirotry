@Test(timeout=10000) public void cancelNoConcurrentClean(){
  TestObserver<Integer> to=new TestObserver<Integer>();
  ConcatMapSingleMainObserver<Integer,Integer> operator=new ConcatMapSingleMainObserver<Integer,Integer>(to,Functions.justFunction(Single.<Integer>never()),16,ErrorMode.IMMEDIATE);
  operator.onSubscribe(Disposables.empty());
  operator.queue.offer(1);
  operator.getAndIncrement();
  to.cancel();
  assertFalse(operator.queue.isEmpty());
  operator.addAndGet(-2);
  operator.dispose();
  assertTrue(operator.queue.isEmpty());
}
