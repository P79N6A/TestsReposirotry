/** 
 * Simple concat of 2 asynchronous observables ensuring it emits in correct order.
 */
@Test public void testSimpleAsyncConcat(){
  Subscriber<String> subscriber=TestHelper.mockSubscriber();
  TestObservable<String> o1=new TestObservable<String>("one","two","three");
  TestObservable<String> o2=new TestObservable<String>("four","five","six");
  Flowable.concat(Flowable.unsafeCreate(o1),Flowable.unsafeCreate(o2)).subscribe(subscriber);
  try {
    o1.t.join();
    o2.t.join();
  }
 catch (  Throwable e) {
    throw new RuntimeException("failed waiting on threads");
  }
  InOrder inOrder=inOrder(subscriber);
  inOrder.verify(subscriber,times(1)).onNext("one");
  inOrder.verify(subscriber,times(1)).onNext("two");
  inOrder.verify(subscriber,times(1)).onNext("three");
  inOrder.verify(subscriber,times(1)).onNext("four");
  inOrder.verify(subscriber,times(1)).onNext("five");
  inOrder.verify(subscriber,times(1)).onNext("six");
}
