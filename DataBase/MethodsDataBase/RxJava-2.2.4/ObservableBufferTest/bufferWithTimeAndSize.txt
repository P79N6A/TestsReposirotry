@Test public void bufferWithTimeAndSize(){
  Observable<Long> source=Observable.interval(30,30,TimeUnit.MILLISECONDS,scheduler);
  Observable<List<Long>> result=source.buffer(100,TimeUnit.MILLISECONDS,scheduler,2).take(3);
  Observer<Object> o=TestHelper.mockObserver();
  InOrder inOrder=inOrder(o);
  result.subscribe(o);
  scheduler.advanceTimeBy(5,TimeUnit.SECONDS);
  inOrder.verify(o).onNext(Arrays.asList(0L,1L));
  inOrder.verify(o).onNext(Arrays.asList(2L));
  inOrder.verify(o).onComplete();
  verify(o,never()).onError(any(Throwable.class));
}
