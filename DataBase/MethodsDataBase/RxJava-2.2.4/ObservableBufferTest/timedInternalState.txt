@Test public void timedInternalState(){
  TestScheduler sch=new TestScheduler();
  TestObserver<List<Integer>> to=new TestObserver<List<Integer>>();
  BufferExactUnboundedObserver<Integer,List<Integer>> sub=new BufferExactUnboundedObserver<Integer,List<Integer>>(to,Functions.justCallable((List<Integer>)new ArrayList<Integer>()),1,TimeUnit.SECONDS,sch);
  sub.onSubscribe(Disposables.empty());
  assertFalse(sub.isDisposed());
  sub.onError(new TestException());
  sub.onNext(1);
  sub.onComplete();
  sub.run();
  sub.dispose();
  assertTrue(sub.isDisposed());
  sub.buffer=new ArrayList<Integer>();
  sub.enter();
  sub.onComplete();
}
