@Test @SuppressWarnings("unchecked") public void boundaryBufferSupplierReturnsNull(){
  Observable.never().buffer(Functions.justCallable(Observable.timer(1,TimeUnit.MILLISECONDS)),new Callable<Collection<Object>>(){
    int count;
    @Override public Collection<Object> call() throws Exception {
      if (count++ == 1) {
        return null;
      }
 else {
        return new ArrayList<Object>();
      }
    }
  }
).test().awaitDone(5,TimeUnit.SECONDS).assertFailure(NullPointerException.class);
}
