@Test public void testBufferStopsWhenUnsubscribed1(){
  Observable<Integer> source=Observable.never();
  Observer<List<Integer>> o=TestHelper.mockObserver();
  TestObserver<List<Integer>> to=new TestObserver<List<Integer>>(o);
  source.buffer(100,200,TimeUnit.MILLISECONDS,scheduler).doOnNext(new Consumer<List<Integer>>(){
    @Override public void accept(    List<Integer> pv){
      System.out.println(pv);
    }
  }
).subscribe(to);
  InOrder inOrder=Mockito.inOrder(o);
  scheduler.advanceTimeBy(1001,TimeUnit.MILLISECONDS);
  inOrder.verify(o,times(5)).onNext(Arrays.<Integer>asList());
  to.dispose();
  scheduler.advanceTimeBy(999,TimeUnit.MILLISECONDS);
  inOrder.verifyNoMoreInteractions();
}
