@Test public void onTerminateCalledWhenOnComplete(){
  final AtomicBoolean didRunOnTerminate=new AtomicBoolean();
  UnicastProcessor<Integer> us=UnicastProcessor.create(Observable.bufferSize(),new Runnable(){
    @Override public void run(){
      didRunOnTerminate.set(true);
    }
  }
);
  assertEquals(false,didRunOnTerminate.get());
  us.onComplete();
  assertEquals(true,didRunOnTerminate.get());
}
