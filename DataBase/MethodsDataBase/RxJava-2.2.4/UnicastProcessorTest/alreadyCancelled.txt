@Test public void alreadyCancelled(){
  UnicastProcessor<Integer> us=UnicastProcessor.create(false);
  us.test().cancel();
  BooleanSubscription bs=new BooleanSubscription();
  us.onSubscribe(bs);
  assertTrue(bs.isCancelled());
  List<Throwable> errors=TestHelper.trackPluginErrors();
  try {
    us.onError(new TestException());
    TestHelper.assertUndeliverable(errors,0,TestException.class);
  }
  finally {
    RxJavaPlugins.reset();
  }
}
