@Test public void mapFailWithRetryConditional(){
  Flowable.range(0,2).parallel(1).map(new Function<Integer,Integer>(){
    int count;
    @Override public Integer apply(    Integer v) throws Exception {
      if (count++ == 1) {
        return -1;
      }
      return 1 / v;
    }
  }
,ParallelFailureHandling.RETRY).filter(Functions.alwaysTrue()).sequential().test().assertResult(-1,1);
}
