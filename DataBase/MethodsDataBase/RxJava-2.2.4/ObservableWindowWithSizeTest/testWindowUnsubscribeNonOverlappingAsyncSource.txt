@Test public void testWindowUnsubscribeNonOverlappingAsyncSource(){
  TestObserver<Integer> to=new TestObserver<Integer>();
  final AtomicInteger count=new AtomicInteger();
  Observable.merge(Observable.range(1,100000).doOnNext(new Consumer<Integer>(){
    @Override public void accept(    Integer t1){
      if (count.incrementAndGet() == 500000) {
        try {
          Thread.sleep(50);
        }
 catch (        InterruptedException ex) {
        }
      }
    }
  }
).observeOn(Schedulers.computation()).window(5).take(2)).subscribe(to);
  to.awaitTerminalEvent(500,TimeUnit.MILLISECONDS);
  to.assertTerminated();
  to.assertValues(1,2,3,4,5,6,7,8,9,10);
  assertTrue(count.get() < 100000);
}
