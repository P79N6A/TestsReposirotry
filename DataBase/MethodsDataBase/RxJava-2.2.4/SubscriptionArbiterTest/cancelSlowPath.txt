@Test public void cancelSlowPath(){
  SubscriptionArbiter sa=new SubscriptionArbiter(true);
  BooleanSubscription bs1=new BooleanSubscription();
  BooleanSubscription bs2=new BooleanSubscription();
  sa.setSubscription(bs1);
  sa.getAndIncrement();
  sa.setSubscription(bs2);
  sa.drainLoop();
  assertTrue(bs1.isCancelled());
  assertFalse(bs2.isCancelled());
}
