@Test public void shouldSwitchToOtherIfOnErrorNotWithinTimeout(){
  Flowable<String> other=Flowable.just("a","b","c");
  Flowable<String> source=underlyingSubject.timeout(TIMEOUT,TIME_UNIT,testScheduler,other);
  Subscriber<String> subscriber=TestHelper.mockSubscriber();
  TestSubscriber<String> ts=new TestSubscriber<String>(subscriber);
  source.subscribe(ts);
  testScheduler.advanceTimeBy(2,TimeUnit.SECONDS);
  underlyingSubject.onNext("One");
  testScheduler.advanceTimeBy(4,TimeUnit.SECONDS);
  underlyingSubject.onError(new UnsupportedOperationException());
  InOrder inOrder=inOrder(subscriber);
  inOrder.verify(subscriber,times(1)).onNext("One");
  inOrder.verify(subscriber,times(1)).onNext("a");
  inOrder.verify(subscriber,times(1)).onNext("b");
  inOrder.verify(subscriber,times(1)).onNext("c");
  inOrder.verify(subscriber,times(1)).onComplete();
  inOrder.verifyNoMoreInteractions();
  ts.dispose();
}
