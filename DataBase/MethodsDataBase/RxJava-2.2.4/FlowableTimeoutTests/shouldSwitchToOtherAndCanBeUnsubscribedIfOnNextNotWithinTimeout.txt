@Test public void shouldSwitchToOtherAndCanBeUnsubscribedIfOnNextNotWithinTimeout(){
  PublishProcessor<String> other=PublishProcessor.create();
  Flowable<String> source=underlyingSubject.timeout(TIMEOUT,TIME_UNIT,testScheduler,other);
  Subscriber<String> subscriber=TestHelper.mockSubscriber();
  TestSubscriber<String> ts=new TestSubscriber<String>(subscriber);
  source.subscribe(ts);
  testScheduler.advanceTimeBy(2,TimeUnit.SECONDS);
  underlyingSubject.onNext("One");
  testScheduler.advanceTimeBy(4,TimeUnit.SECONDS);
  underlyingSubject.onNext("Two");
  other.onNext("a");
  other.onNext("b");
  ts.dispose();
  other.onNext("c");
  other.onNext("d");
  other.onComplete();
  InOrder inOrder=inOrder(subscriber);
  inOrder.verify(subscriber,times(1)).onNext("One");
  inOrder.verify(subscriber,times(1)).onNext("a");
  inOrder.verify(subscriber,times(1)).onNext("b");
  inOrder.verifyNoMoreInteractions();
}
