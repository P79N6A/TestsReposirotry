@Test public void onErrorThrows(){
  ForEachWhileSubscriber<Integer> s=new ForEachWhileSubscriber<Integer>(new Predicate<Integer>(){
    @Override public boolean test(    Integer v) throws Exception {
      return true;
    }
  }
,new Consumer<Throwable>(){
    @Override public void accept(    Throwable e) throws Exception {
      throw new TestException("Inner");
    }
  }
,new Action(){
    @Override public void run() throws Exception {
    }
  }
);
  List<Throwable> list=TestHelper.trackPluginErrors();
  try {
    s.onSubscribe(new BooleanSubscription());
    s.onError(new TestException("Outer"));
    TestHelper.assertError(list,0,CompositeException.class);
    List<Throwable> cel=TestHelper.compositeList(list.get(0));
    TestHelper.assertError(cel,0,TestException.class,"Outer");
    TestHelper.assertError(cel,1,TestException.class,"Inner");
  }
  finally {
    RxJavaPlugins.reset();
  }
}
