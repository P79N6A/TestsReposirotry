@Test public void cancelAndCrashWhileRunning(){
  final TestObserver<Object> to=new TestObserver<Object>();
  FutureTask<Object> ft=new FutureTask<Object>(new Runnable(){
    @Override public void run(){
      to.cancel();
      throw new TestException();
    }
  }
,null);
  Schedulers.single().scheduleDirect(ft,100,TimeUnit.MILLISECONDS);
  Maybe.fromFuture(ft).subscribeWith(to).assertEmpty();
  assertTrue(to.isDisposed());
}
