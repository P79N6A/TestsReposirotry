/** 
 * Ensure onError can not be called after onComplete.
 */
@Test public void testOnErrorAfterOnCompleted(){
  TestObservable t=new TestObservable();
  Flowable<String> st=Flowable.unsafeCreate(t);
  Subscriber<String> w=TestHelper.mockSubscriber();
  st.subscribe(new SafeSubscriber<String>(new TestSubscriber<String>(w)));
  t.sendOnNext("one");
  t.sendOnCompleted();
  t.sendOnError(new RuntimeException("bad"));
  verify(w,times(1)).onNext("one");
  verify(w,times(1)).onComplete();
  verify(w,Mockito.never()).onError(any(Throwable.class));
}
