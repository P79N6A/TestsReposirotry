@Test public void switchOnNextDelayErrorWithError(){
  PublishSubject<Observable<Integer>> ps=PublishSubject.create();
  TestObserver<Integer> to=Observable.switchOnNextDelayError(ps).test();
  ps.onNext(Observable.just(1));
  ps.onNext(Observable.<Integer>error(new TestException()));
  ps.onNext(Observable.range(2,4));
  ps.onComplete();
  to.assertFailure(TestException.class,1,2,3,4,5);
}
