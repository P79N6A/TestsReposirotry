@Test public void boundarySelectorNormal(){
  PublishProcessor<Integer> source=PublishProcessor.create();
  PublishProcessor<Integer> start=PublishProcessor.create();
  final PublishProcessor<Integer> end=PublishProcessor.create();
  TestSubscriber<Integer> ts=source.window(start,new Function<Integer,Flowable<Integer>>(){
    @Override public Flowable<Integer> apply(    Integer v) throws Exception {
      return end;
    }
  }
).flatMap(Functions.<Flowable<Integer>>identity()).test();
  start.onNext(0);
  source.onNext(1);
  source.onNext(2);
  source.onNext(3);
  source.onNext(4);
  start.onNext(1);
  source.onNext(5);
  source.onNext(6);
  end.onNext(1);
  start.onNext(2);
  TestHelper.emit(source,7,8);
  ts.assertResult(1,2,3,4,5,5,6,6,7,8);
}
