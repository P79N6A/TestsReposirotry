@Test public void capped(){
  final AtomicLong requested=new AtomicLong(Long.MIN_VALUE);
  assertEquals(Long.MIN_VALUE,BackpressureHelper.addCancel(requested,1));
  assertEquals(Long.MIN_VALUE,BackpressureHelper.addCancel(requested,Long.MAX_VALUE));
  requested.set(0);
  assertEquals(0,BackpressureHelper.addCancel(requested,Long.MAX_VALUE));
  assertEquals(Long.MAX_VALUE,BackpressureHelper.addCancel(requested,1));
  assertEquals(Long.MAX_VALUE,BackpressureHelper.addCancel(requested,Long.MAX_VALUE));
  requested.set(0);
  assertEquals(0,BackpressureHelper.add(requested,Long.MAX_VALUE));
  assertEquals(Long.MAX_VALUE,BackpressureHelper.add(requested,1));
  assertEquals(Long.MAX_VALUE,BackpressureHelper.add(requested,Long.MAX_VALUE));
  assertEquals(Long.MAX_VALUE,BackpressureHelper.produced(requested,1));
  assertEquals(Long.MAX_VALUE,BackpressureHelper.produced(requested,Long.MAX_VALUE));
}
