@Test public void testAsyncMaxConcurrent(){
  TestScheduler tSched=new TestScheduler();
  SchedulerWhen sched=maxConcurrentScheduler(tSched);
  TestSubscriber<Long> tSub=TestSubscriber.create();
  asyncWork(sched).subscribe(tSub);
  tSub.assertValueCount(0);
  tSched.advanceTimeBy(0,SECONDS);
  tSub.assertValueCount(0);
  tSched.advanceTimeBy(1,SECONDS);
  tSub.assertValueCount(2);
  tSched.advanceTimeBy(1,SECONDS);
  tSub.assertValueCount(4);
  tSched.advanceTimeBy(1,SECONDS);
  tSub.assertValueCount(5);
  tSub.assertComplete();
  sched.dispose();
}
