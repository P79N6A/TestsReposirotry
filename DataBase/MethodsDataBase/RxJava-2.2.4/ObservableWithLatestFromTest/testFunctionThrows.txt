@Test public void testFunctionThrows(){
  PublishSubject<Integer> source=PublishSubject.create();
  PublishSubject<Integer> other=PublishSubject.create();
  Observable<Integer> result=source.withLatestFrom(other,COMBINER_ERROR);
  TestObserver<Integer> to=new TestObserver<Integer>();
  result.subscribe(to);
  assertTrue(source.hasObservers());
  assertTrue(other.hasObservers());
  other.onNext(1);
  source.onNext(1);
  to.assertTerminated();
  to.assertNotComplete();
  to.assertNoValues();
  to.assertError(TestException.class);
  assertFalse(source.hasObservers());
  assertFalse(other.hasObservers());
}
