@Test(timeout=5000) public void fromFutureThrows(){
  ExecutorService exec=Executors.newSingleThreadExecutor();
  Completable c=Completable.fromFuture(exec.submit(new Runnable(){
    @Override public void run(){
      throw new TestException();
    }
  }
));
  try {
    c.blockingAwait();
    Assert.fail("Failed to throw Exception");
  }
 catch (  RuntimeException ex) {
    if (!((ex.getCause() instanceof ExecutionException) && (ex.getCause().getCause() instanceof TestException))) {
      ex.printStackTrace();
      Assert.fail("Wrong exception received");
    }
  }
 finally {
    exec.shutdown();
  }
}
