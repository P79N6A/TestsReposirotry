@Test(expected=TestException.class) public void usingMapperThrows(){
  Completable c=Completable.using(new Callable<Object>(){
    @Override public Object call(){
      return 1;
    }
  }
,new Function<Object,Completable>(){
    @Override public Completable apply(    Object v){
      throw new TestException();
    }
  }
,new Consumer<Object>(){
    @Override public void accept(    Object v){
    }
  }
);
  c.blockingAwait();
}
