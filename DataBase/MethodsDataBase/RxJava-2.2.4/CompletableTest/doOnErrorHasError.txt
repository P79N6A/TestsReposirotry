@Test(timeout=5000) public void doOnErrorHasError(){
  final AtomicReference<Throwable> err=new AtomicReference<Throwable>();
  Completable c=error.completable.doOnError(new Consumer<Throwable>(){
    @Override public void accept(    Throwable e){
      err.set(e);
    }
  }
);
  try {
    c.blockingAwait();
    Assert.fail("Did not throw exception");
  }
 catch (  Throwable e) {
  }
  Assert.assertTrue(err.get() instanceof TestException);
}
