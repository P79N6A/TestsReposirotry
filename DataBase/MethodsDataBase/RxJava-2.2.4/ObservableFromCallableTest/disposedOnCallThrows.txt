@Test public void disposedOnCallThrows(){
  List<Throwable> errors=TestHelper.trackPluginErrors();
  try {
    final TestObserver<Integer> to=new TestObserver<Integer>();
    Observable.fromCallable(new Callable<Integer>(){
      @Override public Integer call() throws Exception {
        to.cancel();
        throw new TestException();
      }
    }
).subscribe(to);
    to.assertEmpty();
    TestHelper.assertUndeliverable(errors,0,TestException.class);
  }
  finally {
    RxJavaPlugins.reset();
  }
}
