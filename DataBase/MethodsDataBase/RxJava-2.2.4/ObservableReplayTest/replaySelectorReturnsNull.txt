@Test public void replaySelectorReturnsNull(){
  Observable.just(1).replay(new Function<Observable<Integer>,Observable<Object>>(){
    @Override public Observable<Object> apply(    Observable<Integer> v) throws Exception {
      return null;
    }
  }
).test().assertFailureAndMessage(NullPointerException.class,"The selector returned a null ObservableSource");
}
