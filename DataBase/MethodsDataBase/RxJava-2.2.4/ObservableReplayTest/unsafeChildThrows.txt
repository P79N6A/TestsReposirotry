@Test @Ignore("onNext should not throw") public void unsafeChildThrows(){
  final AtomicInteger count=new AtomicInteger();
  Observable<Integer> source=Observable.range(1,100).doOnNext(new Consumer<Integer>(){
    @Override public void accept(    Integer t){
      count.getAndIncrement();
    }
  }
).replay().autoConnect();
  TestObserver<Integer> to=new TestObserver<Integer>(){
    @Override public void onNext(    Integer t){
      throw new TestException();
    }
  }
;
  source.subscribe(to);
  Assert.assertEquals(100,count.get());
  to.assertNoValues();
  to.assertNotComplete();
  to.assertError(TestException.class);
}
