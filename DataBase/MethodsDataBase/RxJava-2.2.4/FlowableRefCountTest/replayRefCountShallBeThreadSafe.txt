@Test public void replayRefCountShallBeThreadSafe(){
  for (int i=0; i < TestHelper.RACE_LONG_LOOPS; i++) {
    Flowable<Integer> flowable=Flowable.just(1).replay(1).refCount();
    TestSubscriber<Integer> ts1=flowable.subscribeOn(Schedulers.io()).test();
    TestSubscriber<Integer> ts2=flowable.subscribeOn(Schedulers.io()).test();
    ts1.withTag("" + i).awaitDone(5,TimeUnit.SECONDS).assertResult(1);
    ts2.withTag("" + i).awaitDone(5,TimeUnit.SECONDS).assertResult(1);
  }
}
