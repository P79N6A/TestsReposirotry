@Test public void eagerDisposedOnError(){
  final TestObserver<Integer> to=new TestObserver<Integer>();
  Observable.using(Functions.justCallable(1),Functions.justFunction(new Observable<Integer>(){
    @Override protected void subscribeActual(    Observer<? super Integer> observer){
      observer.onSubscribe(Disposables.empty());
      to.cancel();
      observer.onError(new TestException());
    }
  }
),Functions.emptyConsumer(),true).subscribe(to);
}
