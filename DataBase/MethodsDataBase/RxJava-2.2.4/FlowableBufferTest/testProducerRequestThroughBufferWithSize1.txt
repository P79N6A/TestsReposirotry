@Test public void testProducerRequestThroughBufferWithSize1(){
  TestSubscriber<List<Integer>> ts=new TestSubscriber<List<Integer>>(3L);
  final AtomicLong requested=new AtomicLong();
  Flowable.unsafeCreate(new Publisher<Integer>(){
    @Override public void subscribe(    Subscriber<? super Integer> s){
      s.onSubscribe(new Subscription(){
        @Override public void request(        long n){
          requested.set(n);
        }
        @Override public void cancel(){
        }
      }
);
    }
  }
).buffer(5,5).subscribe(ts);
  assertEquals(15,requested.get());
  ts.request(4);
  assertEquals(20,requested.get());
}
