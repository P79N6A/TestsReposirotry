@Test public void bufferExactBoundaryDisposed(){
  Flowable<Integer> pp=new Flowable<Integer>(){
    @Override protected void subscribeActual(    Subscriber<? super Integer> s){
      s.onSubscribe(new BooleanSubscription());
      Disposable d=(Disposable)s;
      assertFalse(d.isDisposed());
      d.dispose();
      assertTrue(d.isDisposed());
    }
  }
;
  PublishProcessor<Integer> b=PublishProcessor.create();
  pp.buffer(b).test();
}
