@Test public void timedInternalState(){
  TestScheduler sch=new TestScheduler();
  TestSubscriber<List<Integer>> ts=new TestSubscriber<List<Integer>>();
  BufferExactUnboundedSubscriber<Integer,List<Integer>> sub=new BufferExactUnboundedSubscriber<Integer,List<Integer>>(ts,Functions.justCallable((List<Integer>)new ArrayList<Integer>()),1,TimeUnit.SECONDS,sch);
  sub.onSubscribe(new BooleanSubscription());
  assertFalse(sub.isDisposed());
  sub.onError(new TestException());
  sub.onNext(1);
  sub.onComplete();
  sub.run();
  sub.dispose();
  assertTrue(sub.isDisposed());
  sub.buffer=new ArrayList<Integer>();
  sub.enter();
  sub.onComplete();
}
