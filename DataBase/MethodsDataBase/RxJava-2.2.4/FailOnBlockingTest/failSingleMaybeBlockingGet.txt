@Test public void failSingleMaybeBlockingGet(){
  try {
    RxJavaPlugins.setFailOnNonBlockingScheduler(true);
    Maybe.just(1).subscribeOn(Schedulers.single()).map(new Function<Integer,Integer>(){
      @Override public Integer apply(      Integer v) throws Exception {
        Maybe.just(1).delay(10,TimeUnit.SECONDS).blockingGet();
        return v;
      }
    }
).test().awaitDone(5,TimeUnit.SECONDS).assertFailure(IllegalStateException.class);
  }
  finally {
    RxJavaPlugins.reset();
  }
}
