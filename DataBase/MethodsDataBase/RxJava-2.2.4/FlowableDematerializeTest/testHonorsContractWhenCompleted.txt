@Test public void testHonorsContractWhenCompleted(){
  Flowable<Integer> source=Flowable.just(1);
  Flowable<Integer> result=source.materialize().dematerialize();
  Subscriber<Integer> subscriber=TestHelper.mockSubscriber();
  result.subscribe(subscriber);
  verify(subscriber).onNext(1);
  verify(subscriber).onComplete();
  verify(subscriber,never()).onError(any(Throwable.class));
}
