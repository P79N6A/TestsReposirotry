@Test public void disposeInner(){
  final TestSubscriber<Object> ts=new TestSubscriber<Object>();
  Flowable.just(1).flatMapSingle(new Function<Integer,SingleSource<Object>>(){
    @Override public SingleSource<Object> apply(    Integer v) throws Exception {
      return new Single<Object>(){
        @Override protected void subscribeActual(        SingleObserver<? super Object> observer){
          observer.onSubscribe(Disposables.empty());
          assertFalse(((Disposable)observer).isDisposed());
          ts.dispose();
          assertTrue(((Disposable)observer).isDisposed());
        }
      }
;
    }
  }
).subscribe(ts);
  ts.assertEmpty();
}
