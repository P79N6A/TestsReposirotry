@Test public void reentrantScheduleDispose(){
  final Worker w=Schedulers.trampoline().createWorker();
  try {
    final int[] calls={0,0};
    w.schedule(new Runnable(){
      @Override public void run(){
        calls[0]++;
        w.schedule(new Runnable(){
          @Override public void run(){
            calls[1]++;
          }
        }
).dispose();
      }
    }
);
    assertEquals(1,calls[0]);
    assertEquals(0,calls[1]);
  }
  finally {
    w.dispose();
  }
}
