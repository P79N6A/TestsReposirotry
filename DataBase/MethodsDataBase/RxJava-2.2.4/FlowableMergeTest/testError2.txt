/** 
 * Unit test from OperationMergeDelayError backported here to show how these use cases work with normal merge.
 */
@Test public void testError2(){
  final Flowable<String> f1=Flowable.unsafeCreate(new TestErrorFlowable("one","two","three"));
  final Flowable<String> f2=Flowable.unsafeCreate(new TestErrorFlowable("four",null,"six"));
  final Flowable<String> f3=Flowable.unsafeCreate(new TestErrorFlowable("seven","eight",null));
  final Flowable<String> f4=Flowable.unsafeCreate(new TestErrorFlowable("nine"));
  Flowable<String> m=Flowable.merge(f1,f2,f3,f4);
  m.subscribe(stringSubscriber);
  verify(stringSubscriber,times(1)).onError(any(NullPointerException.class));
  verify(stringSubscriber,never()).onComplete();
  verify(stringSubscriber,times(1)).onNext("one");
  verify(stringSubscriber,times(1)).onNext("two");
  verify(stringSubscriber,times(1)).onNext("three");
  verify(stringSubscriber,times(1)).onNext("four");
  verify(stringSubscriber,times(0)).onNext("five");
  verify(stringSubscriber,times(0)).onNext("six");
  verify(stringSubscriber,times(0)).onNext("seven");
  verify(stringSubscriber,times(0)).onNext("eight");
  verify(stringSubscriber,times(0)).onNext("nine");
}
