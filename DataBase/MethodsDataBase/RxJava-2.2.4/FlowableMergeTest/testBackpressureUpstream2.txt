@Test public void testBackpressureUpstream2() throws InterruptedException {
  final AtomicInteger generated1=new AtomicInteger();
  Flowable<Integer> f1=createInfiniteFlowable(generated1).subscribeOn(Schedulers.computation());
  TestSubscriber<Integer> testSubscriber=new TestSubscriber<Integer>(){
    @Override public void onNext(    Integer t){
      super.onNext(t);
    }
  }
;
  Flowable.merge(f1.take(Flowable.bufferSize() * 2),Flowable.just(-99)).subscribe(testSubscriber);
  testSubscriber.awaitTerminalEvent();
  List<Integer> onNextEvents=testSubscriber.values();
  System.out.println("Generated 1: " + generated1.get() + " / received: "+ onNextEvents.size());
  System.out.println(onNextEvents);
  if (testSubscriber.errors().size() > 0) {
    testSubscriber.errors().get(0).printStackTrace();
  }
  testSubscriber.assertNoErrors();
  assertEquals(Flowable.bufferSize() * 2 + 1,onNextEvents.size());
  assertTrue(generated1.get() >= Flowable.bufferSize() * 2 && generated1.get() <= Flowable.bufferSize() * 3);
}
