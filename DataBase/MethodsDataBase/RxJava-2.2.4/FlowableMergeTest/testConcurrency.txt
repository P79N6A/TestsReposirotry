@Test public void testConcurrency(){
  Flowable<Integer> f=Flowable.range(1,10000).subscribeOn(Schedulers.newThread());
  for (int i=0; i < 10; i++) {
    Flowable<Integer> merge=Flowable.merge(f.onBackpressureBuffer(),f.onBackpressureBuffer(),f.onBackpressureBuffer());
    TestSubscriber<Integer> ts=new TestSubscriber<Integer>();
    merge.subscribe(ts);
    ts.awaitTerminalEvent(3,TimeUnit.SECONDS);
    ts.assertTerminated();
    ts.assertNoErrors();
    ts.assertComplete();
    List<Integer> onNextEvents=ts.values();
    assertEquals(30000,onNextEvents.size());
  }
}
