/** 
 * If the 'other' onCompletes then we unsubscribe from the source and onComplete.
 */
@Test public void testTakeUntilOtherCompleted(){
  Disposable sSource=mock(Disposable.class);
  Disposable sOther=mock(Disposable.class);
  TestObservable source=new TestObservable(sSource);
  TestObservable other=new TestObservable(sOther);
  Observer<String> result=TestHelper.mockObserver();
  Observable<String> stringObservable=Observable.unsafeCreate(source).takeUntil(Observable.unsafeCreate(other));
  stringObservable.subscribe(result);
  source.sendOnNext("one");
  source.sendOnNext("two");
  other.sendOnCompleted();
  source.sendOnNext("three");
  verify(result,times(1)).onNext("one");
  verify(result,times(1)).onNext("two");
  verify(result,times(0)).onNext("three");
  verify(result,times(1)).onComplete();
  verify(sSource,times(1)).dispose();
  verify(sOther,never()).dispose();
}
