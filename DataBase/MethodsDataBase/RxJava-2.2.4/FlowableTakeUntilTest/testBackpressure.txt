@Test public void testBackpressure(){
  PublishProcessor<Integer> until=PublishProcessor.create();
  TestSubscriber<Integer> ts=new TestSubscriber<Integer>(0L);
  Flowable.range(1,10).takeUntil(until).subscribe(ts);
  assertTrue(until.hasSubscribers());
  ts.request(1);
  ts.assertValue(1);
  ts.assertNoErrors();
  ts.assertNotComplete();
  until.onNext(5);
  ts.assertComplete();
  ts.assertNoErrors();
  assertFalse("Until still has observers",until.hasSubscribers());
  assertFalse("TestSubscriber is unsubscribed",ts.isCancelled());
}
