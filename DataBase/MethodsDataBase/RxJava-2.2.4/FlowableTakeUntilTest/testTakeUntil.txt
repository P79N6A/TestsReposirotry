@Test public void testTakeUntil(){
  Subscription sSource=mock(Subscription.class);
  Subscription sOther=mock(Subscription.class);
  TestObservable source=new TestObservable(sSource);
  TestObservable other=new TestObservable(sOther);
  Subscriber<String> result=TestHelper.mockSubscriber();
  Flowable<String> stringObservable=Flowable.unsafeCreate(source).takeUntil(Flowable.unsafeCreate(other));
  stringObservable.subscribe(result);
  source.sendOnNext("one");
  source.sendOnNext("two");
  other.sendOnNext("three");
  source.sendOnNext("four");
  source.sendOnCompleted();
  other.sendOnCompleted();
  verify(result,times(1)).onNext("one");
  verify(result,times(1)).onNext("two");
  verify(result,times(0)).onNext("three");
  verify(result,times(0)).onNext("four");
  verify(sSource,times(1)).cancel();
  verify(sOther,times(1)).cancel();
}
