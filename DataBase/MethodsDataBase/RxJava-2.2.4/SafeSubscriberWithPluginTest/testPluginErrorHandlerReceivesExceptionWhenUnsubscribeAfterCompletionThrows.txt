@Test @Ignore("Subscribers can't throw") public void testPluginErrorHandlerReceivesExceptionWhenUnsubscribeAfterCompletionThrows(){
  final AtomicInteger calls=new AtomicInteger();
  RxJavaPlugins.setErrorHandler(new Consumer<Throwable>(){
    @Override public void accept(    Throwable e){
      calls.incrementAndGet();
    }
  }
);
  final AtomicInteger errorCount=new AtomicInteger();
  TestSubscriber<Integer> ts=new TestSubscriber<Integer>(){
    @Override public void onError(    Throwable e){
      errorCount.incrementAndGet();
    }
  }
;
  final RuntimeException ex=new RuntimeException();
  SafeSubscriber<Integer> safe=new SafeSubscriber<Integer>(ts);
  safe.onSubscribe(new Subscription(){
    @Override public void cancel(){
      throw ex;
    }
    @Override public void request(    long n){
    }
  }
);
}
