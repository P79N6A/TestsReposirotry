@Test public void testConcurrency(){
  Observable<Integer> o=Observable.range(1,10000).subscribeOn(Schedulers.newThread());
  for (int i=0; i < 10; i++) {
    Observable<Integer> merge=Observable.merge(o,o,o);
    TestObserver<Integer> to=new TestObserver<Integer>();
    merge.subscribe(to);
    to.awaitTerminalEvent(3,TimeUnit.SECONDS);
    to.assertTerminated();
    to.assertNoErrors();
    to.assertComplete();
    List<Integer> onNextEvents=to.values();
    assertEquals(30000,onNextEvents.size());
  }
}
