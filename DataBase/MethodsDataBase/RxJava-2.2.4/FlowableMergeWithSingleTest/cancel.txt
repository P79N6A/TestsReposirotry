@Test public void cancel(){
  final PublishProcessor<Integer> pp=PublishProcessor.create();
  final SingleSubject<Integer> cs=SingleSubject.create();
  TestSubscriber<Integer> ts=pp.mergeWith(cs).test();
  assertTrue(pp.hasSubscribers());
  assertTrue(cs.hasObservers());
  ts.cancel();
  assertFalse(pp.hasSubscribers());
  assertFalse(cs.hasObservers());
}
