@Test public void testCountError(){
  Observable<String> o=Observable.error(new Callable<Throwable>(){
    @Override public Throwable call(){
      return new RuntimeException();
    }
  }
);
  o.count().subscribe(wo);
  verify(wo,never()).onSuccess(anyInt());
  verify(wo,times(1)).onError(any(RuntimeException.class));
}
