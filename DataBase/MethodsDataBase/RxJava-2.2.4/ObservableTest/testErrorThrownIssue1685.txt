@Test public void testErrorThrownIssue1685(){
  Subject<Object> subject=ReplaySubject.create();
  Observable.error(new RuntimeException("oops")).materialize().delay(1,TimeUnit.SECONDS).dematerialize(Functions.<Notification<Object>>identity()).subscribe(subject);
  subject.subscribe();
  subject.materialize().blockingFirst();
  System.out.println("Done");
}
