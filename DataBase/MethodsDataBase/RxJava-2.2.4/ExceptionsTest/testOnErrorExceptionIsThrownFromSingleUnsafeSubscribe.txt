@Ignore("v2 components should not throw") @Test(expected=RuntimeException.class) public void testOnErrorExceptionIsThrownFromSingleUnsafeSubscribe(){
  Single.unsafeCreate(new SingleSource<Integer>(){
    @Override public void subscribe(    final SingleObserver<? super Integer> observer1){
      Single.unsafeCreate(new SingleSource<Integer>(){
        @Override public void subscribe(        SingleObserver<? super Integer> observer2){
          throw new IllegalArgumentException("original exception");
        }
      }
).toFlowable().subscribe(new FlowableSubscriber<Integer>(){
        @Override public void onSubscribe(        Subscription s){
          s.request(Long.MAX_VALUE);
        }
        @Override public void onComplete(){
        }
        @Override public void onError(        Throwable e){
          observer1.onError(e);
        }
        @Override public void onNext(        Integer v){
          observer1.onSuccess(v);
        }
      }
);
    }
  }
).toObservable().subscribe(new OnErrorFailedSubscriber());
}
