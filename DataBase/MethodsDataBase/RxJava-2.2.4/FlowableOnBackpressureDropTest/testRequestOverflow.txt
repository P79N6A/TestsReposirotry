@Test public void testRequestOverflow() throws InterruptedException {
  final AtomicInteger count=new AtomicInteger();
  int n=10;
  range(n).onBackpressureDrop().subscribe(new DefaultSubscriber<Long>(){
    @Override public void onStart(){
      request(10);
    }
    @Override public void onComplete(){
    }
    @Override public void onError(    Throwable e){
      throw new RuntimeException(e);
    }
    @Override public void onNext(    Long t){
      count.incrementAndGet();
      request(Long.MAX_VALUE - 1);
    }
  }
);
  assertEquals(n,count.get());
}
