@Test public void eventOrdering2(){
  final List<String> list=new ArrayList<String>();
  Observable.just(1).doOnDispose(new Action(){
    @Override public void run() throws Exception {
      list.add("dispose");
    }
  }
).doFinally(new Action(){
    @Override public void run() throws Exception {
      list.add("finally");
    }
  }
).subscribe(new Consumer<Object>(){
    @Override public void accept(    Object v) throws Exception {
      list.add("onNext");
    }
  }
,new Consumer<Throwable>(){
    @Override public void accept(    Throwable e) throws Exception {
      list.add("onError");
    }
  }
,new Action(){
    @Override public void run() throws Exception {
      list.add("onComplete");
    }
  }
);
  assertEquals(Arrays.asList("onNext","onComplete","finally"),list);
}
