@Test public void normal1(){
  Flowable<Person> source1=Flowable.fromIterable(Arrays.asList(new Person(1,"Joe"),new Person(2,"Mike"),new Person(3,"Charlie")));
  Flowable<PersonFruit> source2=Flowable.fromIterable(Arrays.asList(new PersonFruit(1,"Strawberry"),new PersonFruit(1,"Apple"),new PersonFruit(3,"Peach")));
  Flowable<PPF> q=source1.groupJoin(source2,just2(Flowable.<Object>never()),just2(Flowable.<Object>never()),new BiFunction<Person,Flowable<PersonFruit>,PPF>(){
    @Override public PPF apply(    Person t1,    Flowable<PersonFruit> t2){
      return new PPF(t1,t2);
    }
  }
);
  q.subscribe(new FlowableSubscriber<PPF>(){
    @Override public void onNext(    final PPF ppf){
      ppf.fruits.filter(new Predicate<PersonFruit>(){
        @Override public boolean test(        PersonFruit t1){
          return ppf.person.id == t1.personId;
        }
      }
).subscribe(new Consumer<PersonFruit>(){
        @Override public void accept(        PersonFruit t1){
          subscriber.onNext(Arrays.asList(ppf.person.name,t1.fruit));
        }
      }
);
    }
    @Override public void onError(    Throwable e){
      subscriber.onError(e);
    }
    @Override public void onComplete(){
      subscriber.onComplete();
    }
    @Override public void onSubscribe(    Subscription s){
      s.request(Long.MAX_VALUE);
    }
  }
);
  verify(subscriber,times(1)).onNext(Arrays.asList("Joe","Strawberry"));
  verify(subscriber,times(1)).onNext(Arrays.asList("Joe","Apple"));
  verify(subscriber,times(1)).onNext(Arrays.asList("Charlie","Peach"));
  verify(subscriber,times(1)).onComplete();
  verify(subscriber,never()).onError(any(Throwable.class));
}
