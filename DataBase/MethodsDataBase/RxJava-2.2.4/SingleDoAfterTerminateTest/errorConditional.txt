@Test public void errorConditional(){
  Single.<Integer>error(new TestException()).doAfterTerminate(afterTerminate).filter(Functions.alwaysTrue()).subscribeWith(to).assertFailure(TestException.class);
  assertAfterTerminateCalledOnce();
}
