@Test public void errorDelegateThrows(){
  TestObserver<Integer> to=new TestObserver<Integer>(new Observer<Integer>(){
    @Override public void onSubscribe(    Disposable d){
    }
    @Override public void onNext(    Integer value){
    }
    @Override public void onError(    Throwable e){
      throw new TestException();
    }
    @Override public void onComplete(){
      throw new TestException();
    }
  }
);
  to.onSubscribe(Disposables.empty());
  try {
    to.onError(new IOException());
    throw new RuntimeException("Should have thrown!");
  }
 catch (  TestException ex) {
    assertTrue(to.isTerminated());
  }
}
