@SuppressWarnings("unchecked") @Test public void onNext(){
  TestObserver<Integer> to=TestObserver.create();
  to.onSubscribe(Disposables.empty());
  assertEquals(0,to.valueCount());
  assertEquals(Collections.emptyList(),to.values());
  to.onNext(1);
  assertEquals(Collections.singletonList(1),to.values());
  to.cancel();
  assertTrue(to.isCancelled());
  assertTrue(to.isDisposed());
  to.assertValue(1);
  assertEquals(Arrays.asList(Collections.singletonList(1),Collections.emptyList(),Collections.emptyList()),to.getEvents());
  to.onComplete();
  assertEquals(Arrays.asList(Collections.singletonList(1),Collections.emptyList(),Collections.singletonList(Notification.createOnComplete())),to.getEvents());
}
