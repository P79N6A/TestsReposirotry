@Test public void testGetEvents(){
  TestSubscriber<Integer> ts=new TestSubscriber<Integer>();
  ts.onSubscribe(EmptySubscription.INSTANCE);
  ts.onNext(1);
  ts.onNext(2);
  assertEquals(Arrays.<Object>asList(Arrays.asList(1,2),Collections.emptyList(),Collections.emptyList()),ts.getEvents());
  ts.onComplete();
  assertEquals(Arrays.<Object>asList(Arrays.asList(1,2),Collections.emptyList(),Collections.singletonList(Notification.createOnComplete())),ts.getEvents());
  TestException ex=new TestException();
  TestSubscriber<Integer> ts2=new TestSubscriber<Integer>();
  ts2.onSubscribe(EmptySubscription.INSTANCE);
  ts2.onNext(1);
  ts2.onNext(2);
  assertEquals(Arrays.<Object>asList(Arrays.asList(1,2),Collections.emptyList(),Collections.emptyList()),ts2.getEvents());
  ts2.onError(ex);
  assertEquals(Arrays.<Object>asList(Arrays.asList(1,2),Collections.singletonList(ex),Collections.emptyList()),ts2.getEvents());
}
