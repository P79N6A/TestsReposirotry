@Test public void onCompleteCrashConditional(){
  Flowable.fromPublisher(new Publisher<Object>(){
    @Override public void subscribe(    Subscriber<? super Object> s){
      s.onSubscribe(new BooleanSubscription());
      s.onComplete();
    }
  }
).doOnComplete(new Action(){
    @Override public void run() throws Exception {
      throw new IOException();
    }
  }
).filter(Functions.alwaysTrue()).test().assertFailure(IOException.class);
}
