@Test public void testDelaySupplierCompletes(){
  final PublishProcessor<Integer> pp=PublishProcessor.create();
  Flowable<Integer> source=Flowable.range(1,5);
  TestSubscriber<Integer> ts=new TestSubscriber<Integer>();
  source.delaySubscription(Flowable.defer(new Callable<Publisher<Integer>>(){
    @Override public Publisher<Integer> call(){
      return pp;
    }
  }
)).subscribe(ts);
  ts.assertNoValues();
  ts.assertNoErrors();
  ts.assertNotComplete();
  pp.onComplete();
  ts.assertValues(1,2,3,4,5);
  ts.assertComplete();
  ts.assertNoErrors();
}
