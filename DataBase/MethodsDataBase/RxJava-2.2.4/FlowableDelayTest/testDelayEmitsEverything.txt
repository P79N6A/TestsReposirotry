@Test public void testDelayEmitsEverything(){
  Flowable<Integer> source=Flowable.range(1,5);
  Flowable<Integer> delayed=source.delay(500L,TimeUnit.MILLISECONDS,scheduler);
  delayed=delayed.doOnEach(new Consumer<Notification<Integer>>(){
    @Override public void accept(    Notification<Integer> t1){
      System.out.println(t1);
    }
  }
);
  TestSubscriber<Integer> ts=new TestSubscriber<Integer>();
  delayed.subscribe(ts);
  scheduler.advanceTimeBy(500L,TimeUnit.MILLISECONDS);
  ts.assertValues(1,2,3,4,5);
}
