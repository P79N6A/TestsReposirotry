@Test public void delayWithTimeDelayError() throws Exception {
  Flowable.just(1).concatWith(Flowable.<Integer>error(new TestException())).delay(100,TimeUnit.MILLISECONDS,true).test().awaitDone(5,TimeUnit.SECONDS).assertFailure(TestException.class,1);
}
