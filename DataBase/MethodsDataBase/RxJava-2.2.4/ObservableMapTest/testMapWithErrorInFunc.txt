/** 
 * We expect an ArithmeticException exception here because last() emits a single value but then we divide by 0.
 */
@Test(expected=ArithmeticException.class) public void testMapWithErrorInFunc(){
  Observable.range(1,1).lastElement().map(new Function<Integer,Integer>(){
    @Override public Integer apply(    Integer i){
      return i / 0;
    }
  }
).blockingGet();
}
