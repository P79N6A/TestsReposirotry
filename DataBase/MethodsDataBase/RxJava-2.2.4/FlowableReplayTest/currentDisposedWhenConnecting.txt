@Test public void currentDisposedWhenConnecting(){
  FlowableReplay<Integer> fr=(FlowableReplay<Integer>)FlowableReplay.create(Flowable.<Integer>never(),16);
  fr.connect();
  fr.current.get().dispose();
  assertTrue(fr.current.get().isDisposed());
  fr.connect();
  assertFalse(fr.current.get().isDisposed());
}
