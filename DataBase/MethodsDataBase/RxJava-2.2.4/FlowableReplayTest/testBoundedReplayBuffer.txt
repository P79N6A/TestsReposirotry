@Test public void testBoundedReplayBuffer(){
  BoundedReplayBuffer<Integer> buf=new BoundedReplayBuffer<Integer>();
  buf.addLast(new Node(1,0));
  buf.addLast(new Node(2,1));
  buf.addLast(new Node(3,2));
  buf.addLast(new Node(4,3));
  buf.addLast(new Node(5,4));
  List<Integer> values=new ArrayList<Integer>();
  buf.collect(values);
  Assert.assertEquals(Arrays.asList(1,2,3,4,5),values);
  buf.removeSome(2);
  buf.removeFirst();
  buf.removeSome(2);
  values.clear();
  buf.collect(values);
  Assert.assertTrue(values.isEmpty());
  buf.addLast(new Node(5,5));
  buf.addLast(new Node(6,6));
  buf.collect(values);
  Assert.assertEquals(Arrays.asList(5,6),values);
}
