@Test public void mainErrorsDelayBoundary(){
  PublishSubject<Integer> main=PublishSubject.create();
  final PublishSubject<Integer> inner=PublishSubject.create();
  TestObserver<Integer> to=main.concatMapEagerDelayError(new Function<Integer,ObservableSource<Integer>>(){
    @Override public ObservableSource<Integer> apply(    Integer t){
      return inner;
    }
  }
,false).test();
  main.onNext(1);
  inner.onNext(2);
  to.assertValue(2);
  main.onError(new TestException("Forced failure"));
  to.assertNoErrors();
  inner.onNext(3);
  inner.onComplete();
  to.assertFailureAndMessage(TestException.class,"Forced failure",2,3);
}
