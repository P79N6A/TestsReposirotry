@Test public void testDoOnEach(){
  final AtomicReference<String> r=new AtomicReference<String>();
  String output=Flowable.just("one").doOnNext(new Consumer<String>(){
    @Override public void accept(    String v){
      r.set(v);
    }
  }
).blockingSingle();
  assertEquals("one",output);
  assertEquals("one",r.get());
}
