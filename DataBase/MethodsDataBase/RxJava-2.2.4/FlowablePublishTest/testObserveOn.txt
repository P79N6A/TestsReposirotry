@Test public void testObserveOn(){
  ConnectableFlowable<Integer> cf=Flowable.range(0,1000).hide().publish();
  Flowable<Integer> obs=cf.observeOn(Schedulers.computation());
  for (int i=0; i < 1000; i++) {
    for (int j=1; j < 6; j++) {
      List<TestSubscriber<Integer>> tss=new ArrayList<TestSubscriber<Integer>>();
      for (int k=1; k < j; k++) {
        TestSubscriber<Integer> ts=new TestSubscriber<Integer>();
        tss.add(ts);
        obs.subscribe(ts);
      }
      Disposable connection=cf.connect();
      for (      TestSubscriber<Integer> ts : tss) {
        ts.awaitDone(5,TimeUnit.SECONDS).assertSubscribed().assertValueCount(1000).assertNoErrors().assertComplete();
      }
      connection.dispose();
    }
  }
}
