@Test public void testBackpressureFastSlow(){
  ConnectableFlowable<Integer> is=Flowable.range(1,Flowable.bufferSize() * 2).publish();
  Flowable<Integer> fast=is.observeOn(Schedulers.computation()).doOnComplete(new Action(){
    @Override public void run(){
      System.out.println("^^^^^^^^^^^^^ completed FAST");
    }
  }
);
  Flowable<Integer> slow=is.observeOn(Schedulers.computation()).map(new Function<Integer,Integer>(){
    int c;
    @Override public Integer apply(    Integer i){
      if (c == 0) {
        try {
          Thread.sleep(500);
        }
 catch (        InterruptedException e) {
        }
      }
      c++;
      return i;
    }
  }
).doOnComplete(new Action(){
    @Override public void run(){
      System.out.println("^^^^^^^^^^^^^ completed SLOW");
    }
  }
);
  TestSubscriber<Integer> ts=new TestSubscriber<Integer>();
  Flowable.merge(fast,slow).subscribe(ts);
  is.connect();
  ts.awaitTerminalEvent();
  ts.assertNoErrors();
  assertEquals(Flowable.bufferSize() * 4,ts.valueCount());
}
