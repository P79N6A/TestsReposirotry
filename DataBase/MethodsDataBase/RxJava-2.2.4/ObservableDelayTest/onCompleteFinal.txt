@Test public void onCompleteFinal(){
  TestScheduler scheduler=new TestScheduler();
  Observable.empty().delay(1,TimeUnit.MILLISECONDS,scheduler).subscribe(new DisposableObserver<Object>(){
    @Override public void onNext(    Object value){
    }
    @Override public void onError(    Throwable e){
    }
    @Override public void onComplete(){
      throw new TestException();
    }
  }
);
  try {
    scheduler.advanceTimeBy(1,TimeUnit.SECONDS);
    fail("Should have thrown");
  }
 catch (  TestException ex) {
  }
}
