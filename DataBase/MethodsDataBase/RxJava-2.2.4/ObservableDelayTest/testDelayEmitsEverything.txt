@Test public void testDelayEmitsEverything(){
  Observable<Integer> source=Observable.range(1,5);
  Observable<Integer> delayed=source.delay(500L,TimeUnit.MILLISECONDS,scheduler);
  delayed=delayed.doOnEach(new Consumer<Notification<Integer>>(){
    @Override public void accept(    Notification<Integer> t1){
      System.out.println(t1);
    }
  }
);
  TestObserver<Integer> observer=new TestObserver<Integer>();
  delayed.subscribe(observer);
  scheduler.advanceTimeBy(500L,TimeUnit.MILLISECONDS);
  observer.assertValues(1,2,3,4,5);
}
