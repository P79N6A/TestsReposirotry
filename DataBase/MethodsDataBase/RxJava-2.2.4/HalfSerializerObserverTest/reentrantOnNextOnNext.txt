@Test @SuppressWarnings({"rawtypes","unchecked"}) public void reentrantOnNextOnNext(){
  final AtomicInteger wip=new AtomicInteger();
  final AtomicThrowable error=new AtomicThrowable();
  final Observer[] a={null};
  final TestObserver to=new TestObserver();
  Observer observer=new Observer(){
    @Override public void onSubscribe(    Disposable d){
      to.onSubscribe(d);
    }
    @Override public void onNext(    Object t){
      if (t.equals(1)) {
        HalfSerializer.onNext(a[0],2,wip,error);
      }
      to.onNext(t);
    }
    @Override public void onError(    Throwable t){
      to.onError(t);
    }
    @Override public void onComplete(){
      to.onComplete();
    }
  }
;
  a[0]=observer;
  observer.onSubscribe(Disposables.empty());
  HalfSerializer.onNext(observer,1,wip,error);
  to.assertValue(1).assertNoErrors().assertNotComplete();
}
