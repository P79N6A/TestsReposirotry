@Test public void testMergeALotOfSourcesOneByOneSynchronouslyTakeHalf(){
  int n=10000;
  List<Flowable<Integer>> sourceList=new ArrayList<Flowable<Integer>>(n);
  for (int i=0; i < n; i++) {
    sourceList.add(Flowable.just(i));
  }
  Iterator<Integer> it=Flowable.merge(Flowable.fromIterable(sourceList),1).take(n / 2).blockingIterable().iterator();
  int j=0;
  while (it.hasNext()) {
    assertEquals((Integer)j,it.next());
    j++;
  }
  assertEquals(j,n / 2);
}
