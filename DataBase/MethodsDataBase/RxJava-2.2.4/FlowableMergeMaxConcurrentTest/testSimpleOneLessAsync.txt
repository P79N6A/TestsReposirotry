@Test(timeout=10000) public void testSimpleOneLessAsync(){
  long t=System.currentTimeMillis();
  for (int i=2; i < 50; i++) {
    if (System.currentTimeMillis() - t > TimeUnit.SECONDS.toMillis(9)) {
      break;
    }
    TestSubscriber<Integer> ts=new TestSubscriber<Integer>();
    List<Flowable<Integer>> sourceList=new ArrayList<Flowable<Integer>>(i);
    Set<Integer> expected=new HashSet<Integer>(i);
    for (int j=1; j <= i; j++) {
      sourceList.add(Flowable.just(j).subscribeOn(Schedulers.io()));
      expected.add(j);
    }
    Flowable.merge(sourceList,i - 1).subscribe(ts);
    ts.awaitTerminalEvent(1,TimeUnit.SECONDS);
    ts.assertNoErrors();
    Set<Integer> actual=new HashSet<Integer>(ts.values());
    assertEquals(expected,actual);
  }
}
