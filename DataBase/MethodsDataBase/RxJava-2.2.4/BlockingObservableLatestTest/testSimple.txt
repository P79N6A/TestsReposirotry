@Test(timeout=1000) public void testSimple(){
  TestScheduler scheduler=new TestScheduler();
  Observable<Long> source=Observable.interval(1,TimeUnit.SECONDS,scheduler).take(10);
  Iterable<Long> iter=source.blockingLatest();
  Iterator<Long> it=iter.iterator();
  for (int i=0; i < 9; i++) {
    scheduler.advanceTimeBy(1,TimeUnit.SECONDS);
    Assert.assertEquals(true,it.hasNext());
    Assert.assertEquals(Long.valueOf(i),it.next());
  }
  scheduler.advanceTimeBy(1,TimeUnit.SECONDS);
  Assert.assertEquals(false,it.hasNext());
}
