@Test public void error(){
  TestScheduler scheduler=new TestScheduler();
  final int[] call={0};
  Completable.error(new TestException()).doOnDispose(new Action(){
    @Override public void run() throws Exception {
      call[0]++;
    }
  }
).unsubscribeOn(scheduler).test().assertFailure(TestException.class);
  scheduler.triggerActions();
  assertEquals(0,call[0]);
}
