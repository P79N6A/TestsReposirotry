@Test public void testCompletedStopsEmittingData(){
  PublishProcessor<Object> channel=PublishProcessor.create();
  Subscriber<Object> observerA=TestHelper.mockSubscriber();
  Subscriber<Object> observerB=TestHelper.mockSubscriber();
  Subscriber<Object> observerC=TestHelper.mockSubscriber();
  TestSubscriber<Object> ts=new TestSubscriber<Object>(observerA);
  channel.subscribe(ts);
  channel.subscribe(observerB);
  InOrder inOrderA=inOrder(observerA);
  InOrder inOrderB=inOrder(observerB);
  InOrder inOrderC=inOrder(observerC);
  channel.onNext(42);
  inOrderA.verify(observerA).onNext(42);
  inOrderB.verify(observerB).onNext(42);
  ts.dispose();
  inOrderA.verifyNoMoreInteractions();
  channel.onNext(4711);
  inOrderB.verify(observerB).onNext(4711);
  channel.onComplete();
  inOrderB.verify(observerB).onComplete();
  channel.subscribe(observerC);
  inOrderC.verify(observerC).onComplete();
  channel.onNext(13);
  inOrderB.verifyNoMoreInteractions();
  inOrderC.verifyNoMoreInteractions();
}
