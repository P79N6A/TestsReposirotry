@Test public void normal(){
  FlowableProcessor<Integer> s=PublishProcessor.<Integer>create().toSerialized();
  TestSubscriber<Integer> ts=s.test();
  Flowable.range(1,10).subscribe(s);
  ts.assertResult(1,2,3,4,5,6,7,8,9,10);
  assertFalse(s.hasSubscribers());
  s.onNext(11);
  List<Throwable> errors=TestHelper.trackPluginErrors();
  try {
    s.onError(new TestException());
    TestHelper.assertUndeliverable(errors,0,TestException.class);
  }
  finally {
    RxJavaPlugins.reset();
  }
  s.onComplete();
  BooleanSubscription bs=new BooleanSubscription();
  s.onSubscribe(bs);
  assertTrue(bs.isCancelled());
}
