@Test public void normal(){
  Subject<Integer> s=PublishSubject.<Integer>create().toSerialized();
  TestObserver<Integer> to=s.test();
  Observable.range(1,10).subscribe(s);
  to.assertResult(1,2,3,4,5,6,7,8,9,10);
  assertFalse(s.hasObservers());
  s.onNext(11);
  List<Throwable> errors=TestHelper.trackPluginErrors();
  try {
    s.onError(new TestException());
    TestHelper.assertUndeliverable(errors,0,TestException.class);
  }
  finally {
    RxJavaPlugins.reset();
  }
  s.onComplete();
  Disposable bs=Disposables.empty();
  s.onSubscribe(bs);
  assertTrue(bs.isDisposed());
}
