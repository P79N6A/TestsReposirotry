@Test public void testBackpressure(){
  TestObserver<Integer> to=new TestObserver<Integer>();
  Observable.range(0,100000).onErrorReturn(new Function<Throwable,Integer>(){
    @Override public Integer apply(    Throwable t1){
      return 1;
    }
  }
).observeOn(Schedulers.computation()).map(new Function<Integer,Integer>(){
    int c;
    @Override public Integer apply(    Integer t1){
      if (c++ <= 1) {
        try {
          Thread.sleep(500);
        }
 catch (        InterruptedException e) {
          e.printStackTrace();
        }
      }
      return t1;
    }
  }
).subscribe(to);
  to.awaitTerminalEvent();
  to.assertNoErrors();
}
