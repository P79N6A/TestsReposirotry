@Test public void onTerminateCalledWhenOnError(){
  final AtomicBoolean didRunOnTerminate=new AtomicBoolean();
  UnicastSubject<Integer> us=UnicastSubject.create(Observable.bufferSize(),new Runnable(){
    @Override public void run(){
      didRunOnTerminate.set(true);
    }
  }
);
  assertEquals(false,didRunOnTerminate.get());
  us.onError(new RuntimeException("some error"));
  assertEquals(true,didRunOnTerminate.get());
}
