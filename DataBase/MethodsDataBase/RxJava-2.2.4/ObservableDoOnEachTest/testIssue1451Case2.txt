@Test public void testIssue1451Case2(){
  final int expectedCount=3;
  final AtomicInteger count=new AtomicInteger();
  for (int i=0; i < expectedCount; i++) {
    Observable.just(Boolean.TRUE,Boolean.FALSE,Boolean.FALSE).takeWhile(new Predicate<Boolean>(){
      @Override public boolean test(      Boolean value){
        return value;
      }
    }
).toList().doOnSuccess(new Consumer<List<Boolean>>(){
      @Override public void accept(      List<Boolean> booleans){
        count.incrementAndGet();
      }
    }
).subscribe();
  }
  assertEquals(expectedCount,count.get());
}
