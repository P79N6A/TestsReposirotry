@Test public void onErrorThrows(){
  TestObserver<Object> to=TestObserver.create();
  Observable.error(new TestException()).doOnError(new Consumer<Throwable>(){
    @Override public void accept(    Throwable e){
      throw new TestException();
    }
  }
).subscribe(to);
  to.assertNoValues();
  to.assertNotComplete();
  to.assertError(CompositeException.class);
  CompositeException ex=(CompositeException)to.errors().get(0);
  List<Throwable> exceptions=ex.getExceptions();
  assertEquals(2,exceptions.size());
  Assert.assertTrue(exceptions.get(0) instanceof TestException);
  Assert.assertTrue(exceptions.get(1) instanceof TestException);
}
