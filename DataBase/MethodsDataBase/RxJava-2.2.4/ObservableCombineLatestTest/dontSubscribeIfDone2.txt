@SuppressWarnings("unchecked") @Test public void dontSubscribeIfDone2(){
  List<Throwable> errors=TestHelper.trackPluginErrors();
  try {
    final int[] count={0};
    Observable.combineLatestDelayError(Arrays.asList(Observable.empty(),Observable.error(new TestException()).doOnSubscribe(new Consumer<Disposable>(){
      @Override public void accept(      Disposable d) throws Exception {
        count[0]++;
      }
    }
)),new Function<Object[],Object>(){
      @Override public Object apply(      Object[] a) throws Exception {
        return 0;
      }
    }
).test().assertResult();
    assertEquals(0,count[0]);
    assertTrue(errors.toString(),errors.isEmpty());
  }
  finally {
    RxJavaPlugins.reset();
  }
}
