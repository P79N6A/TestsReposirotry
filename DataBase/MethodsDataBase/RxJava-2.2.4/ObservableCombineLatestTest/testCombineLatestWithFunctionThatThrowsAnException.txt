@Test public void testCombineLatestWithFunctionThatThrowsAnException(){
  Observer<String> w=TestHelper.mockObserver();
  PublishSubject<String> w1=PublishSubject.create();
  PublishSubject<String> w2=PublishSubject.create();
  Observable<String> combined=Observable.combineLatest(w1,w2,new BiFunction<String,String,String>(){
    @Override public String apply(    String v1,    String v2){
      throw new RuntimeException("I don't work.");
    }
  }
);
  combined.subscribe(w);
  w1.onNext("first value of w1");
  w2.onNext("first value of w2");
  verify(w,never()).onNext(anyString());
  verify(w,never()).onComplete();
  verify(w,times(1)).onError(Mockito.<RuntimeException>any());
}
