@SuppressWarnings("unchecked") @Test public void combine2Observable2Errors() throws Exception {
  List<Throwable> errors=TestHelper.trackPluginErrors();
  try {
    TestObserver<Object> testObserver=TestObserver.create();
    TestScheduler testScheduler=new TestScheduler();
    Observable<Integer> emptyObservable=Observable.timer(10,TimeUnit.MILLISECONDS,testScheduler).flatMap(new Function<Long,ObservableSource<Integer>>(){
      @Override public ObservableSource<Integer> apply(      Long aLong) throws Exception {
        return Observable.error(new Exception());
      }
    }
);
    Observable<Object> errorObservable=Observable.timer(100,TimeUnit.MILLISECONDS,testScheduler).map(new Function<Long,Object>(){
      @Override public Object apply(      Long aLong) throws Exception {
        throw new Exception();
      }
    }
);
    Observable.combineLatestDelayError(Arrays.asList(emptyObservable.doOnEach(new Consumer<Notification<Integer>>(){
      @Override public void accept(      Notification<Integer> integerNotification) throws Exception {
        System.out.println("emptyObservable: " + integerNotification);
      }
    }
).doFinally(new Action(){
      @Override public void run() throws Exception {
        System.out.println("emptyObservable: doFinally");
      }
    }
),errorObservable.doOnEach(new Consumer<Notification<Object>>(){
      @Override public void accept(      Notification<Object> integerNotification) throws Exception {
        System.out.println("errorObservable: " + integerNotification);
      }
    }
).doFinally(new Action(){
      @Override public void run() throws Exception {
        System.out.println("errorObservable: doFinally");
      }
    }
)),new Function<Object[],Object>(){
      @Override public Object apply(      Object[] objects) throws Exception {
        return 0;
      }
    }
).doOnEach(new Consumer<Notification<Object>>(){
      @Override public void accept(      Notification<Object> integerNotification) throws Exception {
        System.out.println("combineLatestDelayError: " + integerNotification);
      }
    }
).doFinally(new Action(){
      @Override public void run() throws Exception {
        System.out.println("combineLatestDelayError: doFinally");
      }
    }
).subscribe(testObserver);
    testScheduler.advanceTimeBy(100,TimeUnit.MILLISECONDS);
    testObserver.awaitTerminalEvent();
    assertTrue(errors.toString(),errors.isEmpty());
  }
  finally {
    RxJavaPlugins.reset();
  }
}
