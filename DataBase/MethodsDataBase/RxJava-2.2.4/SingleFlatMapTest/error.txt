@Test public void error(){
  final boolean[] b={false};
  Single.<Integer>error(new TestException()).flatMapCompletable(new Function<Integer,Completable>(){
    @Override public Completable apply(    Integer t) throws Exception {
      return Completable.complete().doOnComplete(new Action(){
        @Override public void run() throws Exception {
          b[0]=true;
        }
      }
);
    }
  }
).test().assertFailure(TestException.class);
  assertFalse(b[0]);
}
