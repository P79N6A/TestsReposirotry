@Test public void comeAndGo(){
  PublishSubject<Integer> ps=PublishSubject.create();
  Observable<Integer> source=ps.publish().refCount(1);
  TestObserver<Integer> to1=source.test();
  assertTrue(ps.hasObservers());
  for (int i=0; i < 3; i++) {
    TestObserver<Integer> to2=source.test();
    to1.cancel();
    to1=to2;
  }
  to1.cancel();
  assertFalse(ps.hasObservers());
}
