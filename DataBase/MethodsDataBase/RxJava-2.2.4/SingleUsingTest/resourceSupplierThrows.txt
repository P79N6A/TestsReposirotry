@Test public void resourceSupplierThrows(){
  Single.using(new Callable<Integer>(){
    @Override public Integer call() throws Exception {
      throw new TestException();
    }
  }
,Functions.justFunction(Single.just(1)),Functions.emptyConsumer()).test().assertFailure(TestException.class);
}
