@Test public void cancelBeforeActualSubscribe(){
  TestScheduler test=new TestScheduler();
  TestSubscriber<Integer> ts=Flowable.just(1).hide().subscribeOn(test).test(Long.MAX_VALUE,true);
  test.advanceTimeBy(1,TimeUnit.SECONDS);
  ts.assertSubscribed().assertNoValues().assertNotTerminated();
}
