@Test public void createNullValueBuffer(){
  List<Throwable> errors=TestHelper.trackPluginErrors();
  try {
    final Throwable[] error={null};
    Flowable.create(new FlowableOnSubscribe<Integer>(){
      @Override public void subscribe(      FlowableEmitter<Integer> e) throws Exception {
        try {
          e.onNext(null);
          e.onNext(1);
          e.onError(new TestException());
          e.onComplete();
        }
 catch (        Throwable ex) {
          error[0]=ex;
        }
      }
    }
,BackpressureStrategy.BUFFER).test().assertFailure(NullPointerException.class);
    assertNull(error[0]);
    TestHelper.assertUndeliverable(errors,0,TestException.class);
  }
  finally {
    RxJavaPlugins.reset();
  }
}
