@Test public void mapFactoryThrows(){
  final IOException ex=new IOException("boo");
  Function<Consumer<Object>,Map<Integer,Object>> evictingMapFactory=new Function<Consumer<Object>,Map<Integer,Object>>(){
    @Override public Map<Integer,Object> apply(    final Consumer<Object> notify) throws Exception {
      throw ex;
    }
  }
;
  Flowable.just(1).groupBy(Functions.<Integer>identity(),Functions.identity(),true,16,evictingMapFactory).test().assertNoValues().assertError(ex);
}
