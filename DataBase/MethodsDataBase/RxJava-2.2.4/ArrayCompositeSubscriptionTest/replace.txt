@Test public void replace(){
  ArrayCompositeSubscription ac=new ArrayCompositeSubscription(1);
  BooleanSubscription bs1=new BooleanSubscription();
  ac.replaceResource(0,bs1);
  assertFalse(bs1.isCancelled());
  BooleanSubscription bs2=new BooleanSubscription();
  ac.replaceResource(0,bs2);
  assertFalse(bs1.isCancelled());
  assertFalse(bs2.isCancelled());
  assertFalse(ac.isDisposed());
  ac.dispose();
  assertTrue(bs2.isCancelled());
  assertTrue(ac.isDisposed());
  BooleanSubscription bs3=new BooleanSubscription();
  ac.replaceResource(0,bs3);
  assertTrue(bs3.isCancelled());
  ac.replaceResource(0,null);
}
