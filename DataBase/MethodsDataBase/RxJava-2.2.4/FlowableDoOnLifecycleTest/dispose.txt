@Test public void dispose(){
  final int[] calls={0,0};
  TestHelper.checkDisposed(Flowable.just(1).doOnLifecycle(new Consumer<Subscription>(){
    @Override public void accept(    Subscription s) throws Exception {
      calls[0]++;
    }
  }
,Functions.EMPTY_LONG_CONSUMER,new Action(){
    @Override public void run() throws Exception {
      calls[1]++;
    }
  }
));
  assertEquals(1,calls[0]);
  assertEquals(1,calls[1]);
}
