@Test public void testMultiThreadedWithNPEinMiddle(){
  boolean lessThan9=false;
  for (int i=0; i < 3; i++) {
    TestMultiThreadedObservable onSubscribe=new TestMultiThreadedObservable("one","two","three",null,"four","five","six","seven","eight","nine");
    Flowable<String> w=Flowable.unsafeCreate(onSubscribe);
    BusyObserver busyobserver=new BusyObserver();
    w.serialize().subscribe(busyobserver);
    onSubscribe.waitToFinish();
    System.out.println("maxConcurrentThreads: " + onSubscribe.maxConcurrentThreads.get());
    System.out.println("onNext count: " + busyobserver.onNextCount.get());
    if (busyobserver.onNextCount.get() < 9) {
      lessThan9=true;
    }
    assertTrue(busyobserver.onError);
    assertFalse(busyobserver.onComplete);
    assertTrue(onSubscribe.maxConcurrentThreads.get() > 1);
    assertEquals(1,busyobserver.maxConcurrentThreads.get());
  }
  assertTrue(lessThan9);
}
