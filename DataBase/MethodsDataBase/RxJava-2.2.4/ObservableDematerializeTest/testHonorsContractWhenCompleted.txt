@Test public void testHonorsContractWhenCompleted(){
  Observable<Integer> source=Observable.just(1);
  Observable<Integer> result=source.materialize().dematerialize();
  Observer<Integer> o=TestHelper.mockObserver();
  result.subscribe(o);
  verify(o).onNext(1);
  verify(o).onComplete();
  verify(o,never()).onError(any(Throwable.class));
}
