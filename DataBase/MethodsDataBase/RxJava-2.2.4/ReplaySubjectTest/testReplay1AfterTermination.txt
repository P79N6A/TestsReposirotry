@Test public void testReplay1AfterTermination(){
  ReplaySubject<Integer> source=ReplaySubject.createWithSize(1);
  source.onNext(1);
  source.onNext(2);
  source.onComplete();
  for (int i=0; i < 1; i++) {
    Observer<Integer> o=TestHelper.mockObserver();
    source.subscribe(o);
    verify(o,never()).onNext(1);
    verify(o).onNext(2);
    verify(o).onComplete();
    verify(o,never()).onError(any(Throwable.class));
  }
}
