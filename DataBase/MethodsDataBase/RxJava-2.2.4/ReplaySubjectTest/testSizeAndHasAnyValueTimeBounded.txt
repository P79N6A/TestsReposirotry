@Test public void testSizeAndHasAnyValueTimeBounded(){
  TestScheduler to=new TestScheduler();
  ReplaySubject<Object> rs=ReplaySubject.createWithTime(1,TimeUnit.SECONDS,to);
  assertEquals(0,rs.size());
  assertFalse(rs.hasValue());
  for (int i=0; i < 1000; i++) {
    rs.onNext(i);
    assertEquals(1,rs.size());
    assertTrue(rs.hasValue());
    to.advanceTimeBy(2,TimeUnit.SECONDS);
    assertEquals(0,rs.size());
    assertFalse(rs.hasValue());
  }
  rs.onComplete();
  assertEquals(0,rs.size());
  assertFalse(rs.hasValue());
}
