@Test public void testSwitchShouldTriggerUnsubscribe(){
  final Disposable d=Disposables.empty();
  Observable.unsafeCreate(new ObservableSource<Long>(){
    @Override public void subscribe(    final Observer<? super Long> observer){
      observer.onSubscribe(d);
      observer.onComplete();
    }
  }
).switchIfEmpty(Observable.<Long>never()).subscribe();
  assertTrue(d.isDisposed());
}
