@Test(expected=CancellationException.class) public void testGetWithTimeoutAfterCancel() throws Exception {
  Flowable<String> obs=Flowable.never();
  Future<String> f=obs.toFuture();
  boolean cancelled=f.cancel(true);
  assertTrue(cancelled);
  f.get(Long.MAX_VALUE,TimeUnit.NANOSECONDS);
}
