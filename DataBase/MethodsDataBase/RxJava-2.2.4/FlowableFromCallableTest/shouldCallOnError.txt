@SuppressWarnings("unchecked") @Test public void shouldCallOnError() throws Exception {
  Callable<Object> func=mock(Callable.class);
  Throwable throwable=new IllegalStateException("Test exception");
  when(func.call()).thenThrow(throwable);
  Flowable<Object> fromCallableFlowable=Flowable.fromCallable(func);
  Subscriber<Object> subscriber=TestHelper.mockSubscriber();
  fromCallableFlowable.subscribe(subscriber);
  verify(subscriber,never()).onNext(any());
  verify(subscriber,never()).onComplete();
  verify(subscriber).onError(throwable);
}
