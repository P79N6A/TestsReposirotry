@Test public void customComparatorThrows(){
  Flowable<String> source=Flowable.just("a","b","B","A","a","C");
  TestSubscriber<String> ts=TestSubscriber.create();
  source.distinctUntilChanged(new BiPredicate<String,String>(){
    @Override public boolean test(    String a,    String b){
      throw new TestException();
    }
  }
).subscribe(ts);
  ts.assertValue("a");
  ts.assertNotComplete();
  ts.assertError(TestException.class);
}
