@Test public void takeFinalValueThrows(){
  Observable<Integer> source=Observable.just(1).take(1);
  TestObserver<Integer> to=new TestObserver<Integer>(){
    @Override public void onNext(    Integer t){
      throw new TestException();
    }
  }
;
  source.safeSubscribe(to);
  to.assertNoValues();
  to.assertError(TestException.class);
  to.assertNotComplete();
}
