@Test public void testJustAndRetry() throws Exception {
  final AtomicBoolean throwException=new AtomicBoolean(true);
  int value=Observable.just(1).map(new Function<Integer,Integer>(){
    @Override public Integer apply(    Integer t1){
      if (throwException.compareAndSet(true,false)) {
        throw new TestException();
      }
      return t1;
    }
  }
).retry(1).blockingSingle();
  assertEquals(1,value);
}
