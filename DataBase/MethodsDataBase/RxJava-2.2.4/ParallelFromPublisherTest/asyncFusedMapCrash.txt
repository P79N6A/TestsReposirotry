@Test public void asyncFusedMapCrash(){
  UnicastProcessor<Integer> up=UnicastProcessor.create();
  up.onNext(1);
  up.map(new Function<Integer,Object>(){
    @Override public Object apply(    Integer v) throws Exception {
      throw new TestException();
    }
  }
).compose(new StripBoundary<Object>(null)).parallel().sequential().test().assertFailure(TestException.class);
  assertFalse(up.hasSubscribers());
}
