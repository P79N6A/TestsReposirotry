@Test public void fusionRejectedInput(){
  MulticastProcessor<Integer> mp=new MulticastProcessor<Integer>(128,true);
  mp.onSubscribe(new QueueSubscription<Integer>(){
    @Override public int requestFusion(    int mode){
      return 0;
    }
    @Override public boolean offer(    Integer value){
      return false;
    }
    @Override public boolean offer(    Integer v1,    Integer v2){
      return false;
    }
    @Override public Integer poll() throws Exception {
      return null;
    }
    @Override public boolean isEmpty(){
      return false;
    }
    @Override public void clear(){
    }
    @Override public void request(    long n){
    }
    @Override public void cancel(){
    }
  }
);
  TestSubscriber<Integer> ts=mp.test();
  mp.onNext(1);
  mp.onNext(2);
  mp.onComplete();
  ts.assertResult(1,2);
}
