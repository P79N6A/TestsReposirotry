@Test public void shouldSwitchToOtherAndCanBeUnsubscribedIfOnNextNotWithinTimeout(){
  PublishSubject<String> other=PublishSubject.create();
  Observable<String> source=underlyingSubject.timeout(TIMEOUT,TIME_UNIT,testScheduler,other);
  Observer<String> observer=TestHelper.mockObserver();
  TestObserver<String> to=new TestObserver<String>(observer);
  source.subscribe(to);
  testScheduler.advanceTimeBy(2,TimeUnit.SECONDS);
  underlyingSubject.onNext("One");
  testScheduler.advanceTimeBy(4,TimeUnit.SECONDS);
  underlyingSubject.onNext("Two");
  other.onNext("a");
  other.onNext("b");
  to.dispose();
  other.onNext("c");
  other.onNext("d");
  other.onComplete();
  InOrder inOrder=inOrder(observer);
  inOrder.verify(observer,times(1)).onNext("One");
  inOrder.verify(observer,times(1)).onNext("a");
  inOrder.verify(observer,times(1)).onNext("b");
  inOrder.verifyNoMoreInteractions();
}
