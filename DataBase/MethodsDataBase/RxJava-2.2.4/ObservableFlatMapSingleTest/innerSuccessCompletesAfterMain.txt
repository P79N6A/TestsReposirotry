@Test public void innerSuccessCompletesAfterMain(){
  PublishSubject<Integer> ps=PublishSubject.create();
  TestObserver<Integer> to=Observable.just(1).flatMapSingle(Functions.justFunction(ps.singleOrError())).test();
  ps.onNext(2);
  ps.onComplete();
  to.assertResult(2);
}
