@Test public void testSingleDoesNotRequestMoreThanItNeedsToEmitErrorFromEmpty(){
  final AtomicLong request=new AtomicLong();
  try {
    Flowable.empty().doOnRequest(new LongConsumer(){
      @Override public void accept(      long n){
        request.addAndGet(n);
      }
    }
).blockingSingle();
  }
 catch (  NoSuchElementException e) {
    assertEquals(Long.MAX_VALUE,request.get());
  }
}
