@Test public void testFunctionThrows(){
  PublishProcessor<Integer> source=PublishProcessor.create();
  PublishProcessor<Integer> other=PublishProcessor.create();
  Flowable<Integer> result=source.withLatestFrom(other,COMBINER_ERROR);
  TestSubscriber<Integer> ts=new TestSubscriber<Integer>();
  result.subscribe(ts);
  assertTrue(source.hasSubscribers());
  assertTrue(other.hasSubscribers());
  other.onNext(1);
  source.onNext(1);
  ts.assertTerminated();
  ts.assertNotComplete();
  ts.assertNoValues();
  ts.assertError(TestException.class);
  assertFalse(source.hasSubscribers());
  assertFalse(other.hasSubscribers());
}
