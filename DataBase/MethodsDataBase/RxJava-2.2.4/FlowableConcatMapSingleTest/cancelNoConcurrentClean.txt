@Test(timeout=10000) public void cancelNoConcurrentClean(){
  TestSubscriber<Integer> ts=new TestSubscriber<Integer>();
  ConcatMapSingleSubscriber<Integer,Integer> operator=new ConcatMapSingleSubscriber<Integer,Integer>(ts,Functions.justFunction(Single.<Integer>never()),16,ErrorMode.IMMEDIATE);
  operator.onSubscribe(new BooleanSubscription());
  operator.queue.offer(1);
  operator.getAndIncrement();
  ts.cancel();
  assertFalse(operator.queue.isEmpty());
  operator.addAndGet(-2);
  operator.cancel();
  assertTrue(operator.queue.isEmpty());
}
