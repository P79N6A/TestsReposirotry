@Test public void error(){
  MulticastProcessor<Integer> mp=MulticastProcessor.create();
  mp.start();
  assertFalse(mp.hasSubscribers());
  assertFalse(mp.hasComplete());
  assertFalse(mp.hasThrowable());
  assertNull(mp.getThrowable());
  TestSubscriber<Integer> ts=mp.test();
  assertTrue(mp.hasSubscribers());
  assertFalse(mp.hasComplete());
  assertFalse(mp.hasThrowable());
  assertNull(mp.getThrowable());
  mp.onNext(1);
  mp.onError(new IOException());
  ts.assertFailure(IOException.class,1);
  assertFalse(mp.hasSubscribers());
  assertFalse(mp.hasComplete());
  assertTrue(mp.hasThrowable());
  assertNotNull(mp.getThrowable());
  assertTrue("" + mp.getThrowable(),mp.getThrowable() instanceof IOException);
  mp.test().assertFailure(IOException.class);
}
