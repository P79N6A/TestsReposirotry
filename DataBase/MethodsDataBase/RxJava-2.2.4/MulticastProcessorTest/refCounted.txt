@Test public void refCounted(){
  MulticastProcessor<Integer> mp=MulticastProcessor.create(true);
  BooleanSubscription bs=new BooleanSubscription();
  mp.onSubscribe(bs);
  assertFalse(bs.isCancelled());
  mp.test().cancel();
  assertTrue(bs.isCancelled());
  assertFalse(mp.hasSubscribers());
  assertTrue(mp.hasComplete());
  assertFalse(mp.hasThrowable());
  assertNull(mp.getThrowable());
  mp.test().assertResult();
}
