@Test public void requestCancel(){
  List<Throwable> errors=TestHelper.trackPluginErrors();
  try {
    MulticastProcessor<Integer> mp=MulticastProcessor.create(false);
    mp.subscribe(new FlowableSubscriber<Integer>(){
      @Override public void onNext(      Integer t){
      }
      @Override public void onError(      Throwable t){
      }
      @Override public void onComplete(){
      }
      @Override public void onSubscribe(      Subscription t){
        t.request(-1);
        t.request(1);
        t.request(Long.MAX_VALUE);
        t.request(Long.MAX_VALUE);
        t.cancel();
        t.cancel();
        t.request(2);
      }
    }
);
    TestHelper.assertError(errors,0,IllegalArgumentException.class);
  }
  finally {
    RxJavaPlugins.reset();
  }
}
