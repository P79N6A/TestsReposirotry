@Test public void cancelDetaches() throws Exception {
  Disposable d=Disposables.empty();
  final WeakReference<Disposable> wr=new WeakReference<Disposable>(d);
  TestObserver<Void> to=new Completable(){
    @Override protected void subscribeActual(    CompletableObserver observer){
      observer.onSubscribe(wr.get());
    }
  }
.onTerminateDetach().test();
  d=null;
  to.cancel();
  System.gc();
  Thread.sleep(200);
  to.assertEmpty();
  assertNull(wr.get());
}
