@Test public void completeDetaches() throws Exception {
  Disposable d=Disposables.empty();
  final WeakReference<Disposable> wr=new WeakReference<Disposable>(d);
  TestObserver<Void> to=new Completable(){
    @Override protected void subscribeActual(    CompletableObserver observer){
      observer.onSubscribe(wr.get());
      observer.onComplete();
      observer.onComplete();
    }
  }
.onTerminateDetach().test();
  d=null;
  System.gc();
  Thread.sleep(200);
  to.assertResult();
  assertNull(wr.get());
}
