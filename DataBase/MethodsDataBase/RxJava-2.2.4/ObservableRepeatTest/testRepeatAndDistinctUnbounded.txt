/** 
 * Issue #2587. 
 */
@Test public void testRepeatAndDistinctUnbounded(){
  Observable<Integer> src=Observable.fromIterable(Arrays.asList(1,2,3,4,5)).take(3).repeat(3).distinct();
  TestObserver<Integer> to=new TestObserver<Integer>();
  src.subscribe(to);
  to.assertNoErrors();
  to.assertTerminated();
  to.assertValues(1,2,3);
}
