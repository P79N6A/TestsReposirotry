@Test public void preFlightRequestWithAmbiguousMapping() throws Exception {
  this.headers.add(HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD,"GET");
  ResponseEntity<String> entity=performOptions("/ambiguous",this.headers,String.class);
  assertEquals(HttpStatus.OK,entity.getStatusCode());
  assertEquals("http://localhost:9000",entity.getHeaders().getAccessControlAllowOrigin());
  assertThat(entity.getHeaders().getAccessControlAllowMethods(),contains(HttpMethod.GET));
  assertEquals(true,entity.getHeaders().getAccessControlAllowCredentials());
  assertThat(entity.getHeaders().get(HttpHeaders.VARY),contains(HttpHeaders.ORIGIN,HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD,HttpHeaders.ACCESS_CONTROL_REQUEST_HEADERS));
}
