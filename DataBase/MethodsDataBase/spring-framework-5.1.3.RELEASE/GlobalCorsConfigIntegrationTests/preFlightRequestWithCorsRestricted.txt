@Test public void preFlightRequestWithCorsRestricted() throws Exception {
  this.headers.set(HttpHeaders.ORIGIN,"http://foo");
  this.headers.add(HttpHeaders.ACCESS_CONTROL_REQUEST_METHOD,"GET");
  ResponseEntity<String> entity=performOptions("/cors-restricted",this.headers,String.class);
  assertEquals(HttpStatus.OK,entity.getStatusCode());
  assertEquals("http://foo",entity.getHeaders().getAccessControlAllowOrigin());
  assertThat(entity.getHeaders().getAccessControlAllowMethods(),contains(HttpMethod.GET,HttpMethod.POST));
}
