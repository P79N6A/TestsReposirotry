@Test public void testInnerBeanInheritsScopeFromConcreteChildDefinition(){
  DefaultListableBeanFactory xbf=new DefaultListableBeanFactory();
  XmlBeanDefinitionReader reader=new XmlBeanDefinitionReader(xbf);
  reader.loadBeanDefinitions(OVERRIDES_CONTEXT);
  TestBean jenny1=(TestBean)xbf.getBean("jennyChild");
  assertEquals(1,jenny1.getFriends().size());
  Object friend1=jenny1.getFriends().iterator().next();
  assertTrue(friend1 instanceof TestBean);
  TestBean jenny2=(TestBean)xbf.getBean("jennyChild");
  assertEquals(1,jenny2.getFriends().size());
  Object friend2=jenny2.getFriends().iterator().next();
  assertTrue(friend2 instanceof TestBean);
  assertNotSame(jenny1,jenny2);
  assertNotSame(friend1,friend2);
}
