@Test public void compilationOfBasicNullSafeMethodReference(){
  SpelExpressionParser parser=new SpelExpressionParser(new SpelParserConfiguration(SpelCompilerMode.OFF,getClass().getClassLoader()));
  SpelExpression expression=parser.parseRaw("#it?.equals(3)");
  StandardEvaluationContext context=new StandardEvaluationContext(new Object[]{1});
  context.setVariable("it",3);
  expression.setEvaluationContext(context);
  assertTrue(expression.getValue(Boolean.class));
  context.setVariable("it",null);
  assertNull(expression.getValue(Boolean.class));
  assertCanCompile(expression);
  context.setVariable("it",3);
  assertTrue(expression.getValue(Boolean.class));
  context.setVariable("it",null);
  assertNull(expression.getValue(Boolean.class));
}
