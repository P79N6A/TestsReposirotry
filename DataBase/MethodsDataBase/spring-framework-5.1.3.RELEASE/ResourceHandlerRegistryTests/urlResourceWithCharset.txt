@Test public void urlResourceWithCharset() throws Exception {
  this.registration.addResourceLocations("[charset=ISO-8859-1]file:///tmp");
  this.registration.resourceChain(true);
  ResourceHttpRequestHandler handler=getHandler("/resources/**");
  UrlResource resource=(UrlResource)handler.getLocations().get(1);
  assertEquals("file:/tmp",resource.getURL().toString());
  assertNotNull(handler.getUrlPathHelper());
  List<ResourceResolver> resolvers=handler.getResourceResolvers();
  PathResourceResolver resolver=(PathResourceResolver)resolvers.get(resolvers.size() - 1);
  Map<Resource,Charset> locationCharsets=resolver.getLocationCharsets();
  assertEquals(1,locationCharsets.size());
  assertEquals(StandardCharsets.ISO_8859_1,locationCharsets.values().iterator().next());
}
