@Test public void testBeanProviderSerialization() throws Exception {
  DefaultListableBeanFactory lbf=new DefaultListableBeanFactory();
  lbf.setSerializationId("test");
  ObjectProvider<ConstructorDependency> provider=lbf.getBeanProvider(ConstructorDependency.class);
  ObjectProvider deserialized=(ObjectProvider)SerializationTestUtils.serializeAndDeserialize(provider);
  try {
    deserialized.getObject();
    fail("Should have thrown NoSuchBeanDefinitionException");
  }
 catch (  NoSuchBeanDefinitionException ex) {
  }
  try {
    deserialized.getObject(42);
    fail("Should have thrown NoSuchBeanDefinitionException");
  }
 catch (  NoSuchBeanDefinitionException ex) {
  }
  assertNull(deserialized.getIfAvailable());
  assertNull(deserialized.getIfUnique());
}
