@Test public void testGetBeanByTypeInstanceDefinedInParent(){
  DefaultListableBeanFactory parent=new DefaultListableBeanFactory();
  RootBeanDefinition bd1=createConstructorDependencyBeanDefinition(99);
  parent.registerBeanDefinition("bd1",bd1);
  DefaultListableBeanFactory lbf=new DefaultListableBeanFactory(parent);
  ConstructorDependency bean=lbf.getBean(ConstructorDependency.class);
  assertThat(bean.beanName,equalTo("bd1"));
  assertThat(bean.spouseAge,equalTo(99));
  bean=lbf.getBean(ConstructorDependency.class,42);
  assertThat(bean.beanName,equalTo("bd1"));
  assertThat(bean.spouseAge,equalTo(42));
  ObjectProvider<ConstructorDependency> provider=lbf.getBeanProvider(ConstructorDependency.class);
  bean=provider.getObject();
  assertThat(bean.beanName,equalTo("bd1"));
  assertThat(bean.spouseAge,equalTo(99));
  bean=provider.getObject(42);
  assertThat(bean.beanName,equalTo("bd1"));
  assertThat(bean.spouseAge,equalTo(42));
  bean=provider.getIfAvailable();
  assertThat(bean.beanName,equalTo("bd1"));
  assertThat(bean.spouseAge,equalTo(99));
  bean=provider.getIfUnique();
  assertThat(bean.beanName,equalTo("bd1"));
  assertThat(bean.spouseAge,equalTo(99));
}
