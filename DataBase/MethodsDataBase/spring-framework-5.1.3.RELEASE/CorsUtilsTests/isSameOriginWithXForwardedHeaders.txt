@Test public void isSameOriginWithXForwardedHeaders(){
  String server="mydomain1.com";
  testWithXForwardedHeaders(server,-1,"https",null,-1,"https://mydomain1.com");
  testWithXForwardedHeaders(server,123,"https",null,-1,"https://mydomain1.com");
  testWithXForwardedHeaders(server,-1,"https","mydomain2.com",-1,"https://mydomain2.com");
  testWithXForwardedHeaders(server,123,"https","mydomain2.com",-1,"https://mydomain2.com");
  testWithXForwardedHeaders(server,-1,"https","mydomain2.com",456,"https://mydomain2.com:456");
  testWithXForwardedHeaders(server,123,"https","mydomain2.com",456,"https://mydomain2.com:456");
}
