@Test public void disableRangeSupportForStreamingResponses() throws Exception {
  InputStream is=new ByteArrayInputStream("Content".getBytes(StandardCharsets.UTF_8));
  InputStreamResource resource=new InputStreamResource(is,"test");
  ResponseEntity<Resource> returnValue=ResponseEntity.ok(resource);
  servletRequest.addHeader("Range","bytes=0-5");
  given(resourceMessageConverter.canWrite(any(),eq(null))).willReturn(true);
  given(resourceMessageConverter.canWrite(any(),eq(APPLICATION_OCTET_STREAM))).willReturn(true);
  processor.handleReturnValue(returnValue,returnTypeResponseEntityResource,mavContainer,webRequest);
  then(resourceMessageConverter).should(times(1)).write(any(InputStreamResource.class),eq(APPLICATION_OCTET_STREAM),any(HttpOutputMessage.class));
  assertEquals(200,servletResponse.getStatus());
  assertThat(servletResponse.getHeader(HttpHeaders.ACCEPT_RANGES),Matchers.isEmptyOrNullString());
}
