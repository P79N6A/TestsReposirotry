@Test public void importSelectorsWithNestedGroupSameDeferredImport(){
  DefaultListableBeanFactory beanFactory=spy(new DefaultListableBeanFactory());
  AnnotationConfigApplicationContext context=new AnnotationConfigApplicationContext(beanFactory);
  context.register(ParentConfiguration2.class);
  context.refresh();
  InOrder ordered=inOrder(beanFactory);
  ordered.verify(beanFactory).registerBeanDefinition(eq("b"),any());
  ordered.verify(beanFactory).registerBeanDefinition(eq("d"),any());
  assertThat(TestImportGroup.instancesCount.get(),equalTo(2));
  assertThat(TestImportGroup.allImports().size(),equalTo(2));
  assertThat(TestImportGroup.allImports(),hasEntry(is(ParentConfiguration2.class.getName()),IsIterableContainingInOrder.contains(DeferredImportSelector2.class.getName(),ChildConfiguration2.class.getName())));
  assertThat(TestImportGroup.allImports(),hasEntry(is(ChildConfiguration2.class.getName()),IsIterableContainingInOrder.contains(DeferredImportSelector2.class.getName())));
}
