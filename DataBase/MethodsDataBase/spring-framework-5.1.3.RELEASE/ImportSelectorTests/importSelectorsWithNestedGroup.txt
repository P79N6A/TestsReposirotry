@Test public void importSelectorsWithNestedGroup(){
  DefaultListableBeanFactory beanFactory=spy(new DefaultListableBeanFactory());
  AnnotationConfigApplicationContext context=new AnnotationConfigApplicationContext(beanFactory);
  context.register(ParentConfiguration1.class);
  context.refresh();
  InOrder ordered=inOrder(beanFactory);
  ordered.verify(beanFactory).registerBeanDefinition(eq("a"),any());
  ordered.verify(beanFactory).registerBeanDefinition(eq("e"),any());
  ordered.verify(beanFactory).registerBeanDefinition(eq("c"),any());
  assertThat(TestImportGroup.instancesCount.get(),equalTo(2));
  assertThat(TestImportGroup.imports.size(),equalTo(2));
  assertThat(TestImportGroup.allImports(),hasEntry(is(ParentConfiguration1.class.getName()),IsIterableContainingInOrder.contains(DeferredImportSelector1.class.getName(),ChildConfiguration1.class.getName())));
  assertThat(TestImportGroup.allImports(),hasEntry(is(ChildConfiguration1.class.getName()),IsIterableContainingInOrder.contains(DeferredImportedSelector3.class.getName())));
}
