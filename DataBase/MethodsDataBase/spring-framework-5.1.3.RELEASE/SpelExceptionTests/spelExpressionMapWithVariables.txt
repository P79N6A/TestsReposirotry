@Test @SuppressWarnings("serial") public void spelExpressionMapWithVariables(){
  ExpressionParser parser=new SpelExpressionParser();
  Expression spelExpression=parser.parseExpression("#aMap['one'] eq 1");
  StandardEvaluationContext ctx=new StandardEvaluationContext();
  ctx.setVariables(new HashMap<String,Object>(){
{
      put("aMap",new HashMap<String,Integer>(){
{
          put("one",1);
          put("two",2);
          put("three",3);
        }
      }
);
    }
  }
);
  boolean result=spelExpression.getValue(ctx,Boolean.class);
  assertTrue(result);
}
