@Test public void decodeChunksToMono(){
  byte[] full=this.testMsg1.toByteArray();
  byte[] chunk1=Arrays.copyOfRange(full,0,full.length / 2);
  byte[] chunk2=Arrays.copyOfRange(full,chunk1.length,full.length);
  Flux<DataBuffer> input=Flux.just(chunk1,chunk2).flatMap(bytes -> Mono.defer(() -> {
    DataBuffer dataBuffer=this.bufferFactory.allocateBuffer(bytes.length);
    dataBuffer.write(bytes);
    return Mono.just(dataBuffer);
  }
));
  testDecodeToMono(input,Msg.class,step -> step.expectNext(this.testMsg1).verifyComplete());
}
