@Test public void testCustomWithEarlyResolution(){
  AnnotationConfigApplicationContext ctx=new AnnotationConfigApplicationContext();
  ctx.register(CustomConfig.class,CustomPojo.class);
  ctx.refresh();
  assertFalse(ctx.getBeanFactory().containsSingleton("testBean1"));
  assertFalse(ctx.getBeanFactory().containsSingleton("testBean2"));
  ctx.getBean("testBean2");
  assertTrue(BeanFactoryAnnotationUtils.isQualifierMatch(value -> value.equals("boring"),"testBean2",ctx.getDefaultListableBeanFactory()));
  CustomPojo pojo=ctx.getBean(CustomPojo.class);
  assertThat(pojo.testBean.getName(),equalTo("interesting"));
}
