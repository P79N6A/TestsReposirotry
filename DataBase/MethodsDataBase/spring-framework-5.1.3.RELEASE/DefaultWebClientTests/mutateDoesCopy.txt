@Test public void mutateDoesCopy(){
  WebClient.Builder builder=WebClient.builder().filter((request,next) -> next.exchange(request)).defaultHeader("foo","bar").defaultCookie("foo","bar");
  WebClient client1=builder.build();
  WebClient client2=builder.filter((request,next) -> next.exchange(request)).defaultHeader("baz","qux").defaultCookie("baz","qux").build();
  WebClient client1a=client1.mutate().filter((request,next) -> next.exchange(request)).defaultHeader("baz","qux").defaultCookie("baz","qux").build();
  WebClient.Builder builder1=client1.mutate();
  builder1.filters(filters -> assertEquals(1,filters.size()));
  builder1.defaultHeaders(headers -> assertEquals(1,headers.size()));
  builder1.defaultCookies(cookies -> assertEquals(1,cookies.size()));
  WebClient.Builder builder2=client2.mutate();
  builder2.filters(filters -> assertEquals(2,filters.size()));
  builder2.defaultHeaders(headers -> assertEquals(2,headers.size()));
  builder2.defaultCookies(cookies -> assertEquals(2,cookies.size()));
  WebClient.Builder builder1a=client1a.mutate();
  builder1a.filters(filters -> assertEquals(2,filters.size()));
  builder1a.defaultHeaders(headers -> assertEquals(2,headers.size()));
  builder1a.defaultCookies(cookies -> assertEquals(2,cookies.size()));
}
