@Test public void withNullAttribute(){
  Map<String,Object> actual=new HashMap<>();
  ExchangeFilterFunction filter=(request,next) -> {
    actual.putAll(request.attributes());
    return next.exchange(request);
  }
;
  this.builder.filter(filter).build().get().uri("/path").attribute("foo",null).exchange();
  assertNull(actual.get("foo"));
  ClientRequest request=verifyAndGetRequest();
  assertFalse(request.attribute("foo").isPresent());
}
