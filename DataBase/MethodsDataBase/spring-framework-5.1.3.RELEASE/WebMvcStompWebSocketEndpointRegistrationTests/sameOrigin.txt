@Test public void sameOrigin(){
  WebMvcStompWebSocketEndpointRegistration registration=new WebMvcStompWebSocketEndpointRegistration(new String[]{"/foo"},this.handler,this.scheduler);
  registration.setAllowedOrigins();
  MultiValueMap<HttpRequestHandler,String> mappings=registration.getMappings();
  assertEquals(1,mappings.size());
  HttpRequestHandler handler=mappings.entrySet().iterator().next().getKey();
  WebSocketHttpRequestHandler wsHandler=(WebSocketHttpRequestHandler)handler;
  assertNotNull(wsHandler.getWebSocketHandler());
  assertEquals(1,wsHandler.getHandshakeInterceptors().size());
  assertEquals(OriginHandshakeInterceptor.class,wsHandler.getHandshakeInterceptors().get(0).getClass());
}
