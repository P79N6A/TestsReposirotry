@Test public void andBothSucceed(){
  RequestPredicate left=new AddAttributePredicate(true,"left","baz");
  RequestPredicate right=new AddAttributePredicate(true,"right","qux");
  RequestPredicate predicate=new RequestPredicates.AndRequestPredicate(left,right);
  boolean result=predicate.test(this.request);
  assertTrue(result);
  assertEquals("bar",this.request.attributes().get("exchange"));
  assertEquals("baz",this.request.attributes().get("left"));
  assertEquals("qux",this.request.attributes().get("right"));
}
