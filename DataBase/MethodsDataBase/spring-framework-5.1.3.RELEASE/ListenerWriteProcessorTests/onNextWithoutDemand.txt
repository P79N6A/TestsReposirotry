@Test public void onNextWithoutDemand(){
  this.processor.setWritePossible(false);
  DataBuffer buffer1=mock(DataBuffer.class);
  this.processor.onNext(buffer1);
  DataBuffer buffer2=mock(DataBuffer.class);
  this.processor.onNext(buffer2);
  assertNotNull("Error should flow to result publisher",this.resultSubscriber.getError());
  assertEquals(2,this.processor.getDiscardedBuffers().size());
  assertSame(buffer2,this.processor.getDiscardedBuffers().get(0));
  assertSame(buffer1,this.processor.getDiscardedBuffers().get(1));
}
