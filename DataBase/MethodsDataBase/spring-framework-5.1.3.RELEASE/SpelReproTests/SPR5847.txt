@Test public void SPR5847(){
  StandardEvaluationContext context=new StandardEvaluationContext(new TestProperties());
  String name=null;
  Expression expr=null;
  expr=new SpelExpressionParser().parseRaw("jdbcProperties['username']");
  name=expr.getValue(context,String.class);
  assertEquals("Dave",name);
  expr=new SpelExpressionParser().parseRaw("jdbcProperties[username]");
  name=expr.getValue(context,String.class);
  assertEquals("Dave",name);
  expr=new SpelExpressionParser().parseRaw("jdbcProperties.username");
  context.addPropertyAccessor(new MapAccessor());
  name=expr.getValue(context,String.class);
  assertEquals("Dave",name);
  expr=new SpelExpressionParser().parseRaw("jdbcProperties[foo.bar]");
  context.addPropertyAccessor(new MapAccessor());
  name=expr.getValue(context,String.class);
  assertEquals("Dave2",name);
  expr=new SpelExpressionParser().parseRaw("jdbcProperties['foo.bar']");
  context.addPropertyAccessor(new MapAccessor());
  name=expr.getValue(context,String.class);
  assertEquals("Elephant",name);
}
