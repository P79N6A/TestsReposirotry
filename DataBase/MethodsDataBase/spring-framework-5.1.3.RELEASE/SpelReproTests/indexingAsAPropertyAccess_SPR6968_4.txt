/** 
 * Should be accessing (setting) Goo.wibble field because 'bar' variable evaluates to "wibble"
 */
@Test public void indexingAsAPropertyAccess_SPR6968_4(){
  Goo g=Goo.instance;
  StandardEvaluationContext context=new StandardEvaluationContext(g);
  context.setVariable("bar","wibble");
  Expression expr=null;
  expr=new SpelExpressionParser().parseRaw("instance[#bar]='world'");
  expr.getValue(context,String.class);
  assertEquals("world",g.wibble);
  expr.getValue(context,String.class);
  assertEquals("world",g.wibble);
}
