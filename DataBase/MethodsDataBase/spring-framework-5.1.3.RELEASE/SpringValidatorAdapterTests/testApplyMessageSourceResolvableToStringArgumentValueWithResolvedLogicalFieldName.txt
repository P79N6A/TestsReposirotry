@Test public void testApplyMessageSourceResolvableToStringArgumentValueWithResolvedLogicalFieldName(){
  TestBean testBean=new TestBean();
  testBean.setPassword("password");
  testBean.setConfirmPassword("PASSWORD");
  BeanPropertyBindingResult errors=new BeanPropertyBindingResult(testBean,"testBean");
  validatorAdapter.validate(testBean,errors);
  assertThat(errors.getFieldErrorCount("password"),is(1));
  assertThat(errors.getFieldValue("password"),is("password"));
  FieldError error=errors.getFieldError("password");
  assertNotNull(error);
  assertThat(messageSource.getMessage(error,Locale.ENGLISH),is("Password must be same value as Password(Confirm)"));
  assertTrue(error.contains(ConstraintViolation.class));
  assertThat(error.unwrap(ConstraintViolation.class).getPropertyPath().toString(),is("password"));
}
