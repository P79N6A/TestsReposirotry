@Test public void rmiProxyFactoryBean() throws Exception {
  CountingRmiProxyFactoryBean factory=new CountingRmiProxyFactoryBean();
  factory.setServiceInterface(IRemoteBean.class);
  factory.setServiceUrl("rmi://localhost:1090/test");
  factory.afterPropertiesSet();
  assertTrue("Correct singleton value",factory.isSingleton());
  assertTrue(factory.getObject() instanceof IRemoteBean);
  IRemoteBean proxy=(IRemoteBean)factory.getObject();
  proxy.setName("myName");
  assertEquals("myName",RemoteBean.name);
  assertEquals(1,factory.counter);
}
