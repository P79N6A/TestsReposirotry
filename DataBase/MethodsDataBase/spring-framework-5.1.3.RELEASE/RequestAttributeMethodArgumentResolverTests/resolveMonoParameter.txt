@Test public void resolveMonoParameter() throws Exception {
  MethodParameter param=this.testMethod.annot(requestAttribute().noName()).arg(Mono.class,Foo.class);
  Foo foo=new Foo();
  Mono<Foo> fooMono=Mono.just(foo);
  this.exchange.getAttributes().put("fooMono",fooMono);
  Mono<Object> mono=this.resolver.resolveArgument(param,new BindingContext(),this.exchange);
  assertSame(fooMono,mono.block(Duration.ZERO));
  Single<Foo> singleMono=Single.just(foo);
  this.exchange.getAttributes().clear();
  this.exchange.getAttributes().put("fooMono",singleMono);
  mono=this.resolver.resolveArgument(param,new BindingContext(),this.exchange);
  Object value=mono.block(Duration.ZERO);
  assertTrue(value instanceof Mono);
  assertSame(foo,((Mono<?>)value).block(Duration.ZERO));
  this.exchange.getAttributes().clear();
  mono=this.resolver.resolveArgument(param,new BindingContext(),this.exchange);
  assertSame(Mono.empty(),mono.block(Duration.ZERO));
}
