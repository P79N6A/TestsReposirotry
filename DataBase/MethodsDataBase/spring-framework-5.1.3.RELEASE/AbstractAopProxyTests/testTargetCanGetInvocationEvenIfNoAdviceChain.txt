/** 
 * Check that although a method is eligible for advice chain optimization and direct reflective invocation, it doesn't happen if we've asked to see the proxy, so as to guarantee a consistent programming model.
 * @throws Throwable
 */
@Test public void testTargetCanGetInvocationEvenIfNoAdviceChain() throws Throwable {
  NeedsToSeeProxy target=new NeedsToSeeProxy();
  AdvisedSupport pc=new AdvisedSupport(INeedsToSeeProxy.class);
  pc.setTarget(target);
  pc.setExposeProxy(true);
  AopProxy aop=createAopProxy(pc);
  INeedsToSeeProxy proxied=(INeedsToSeeProxy)aop.getProxy();
  proxied.incrementViaProxy();
}
