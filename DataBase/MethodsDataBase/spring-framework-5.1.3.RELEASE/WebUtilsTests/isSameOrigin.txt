@Test public void isSameOrigin(){
  assertTrue(checkSameOrigin("http","mydomain1.com",-1,"http://mydomain1.com"));
  assertTrue(checkSameOrigin("http","mydomain1.com",-1,"http://mydomain1.com:80"));
  assertTrue(checkSameOrigin("https","mydomain1.com",443,"https://mydomain1.com"));
  assertTrue(checkSameOrigin("https","mydomain1.com",443,"https://mydomain1.com:443"));
  assertTrue(checkSameOrigin("http","mydomain1.com",123,"http://mydomain1.com:123"));
  assertTrue(checkSameOrigin("ws","mydomain1.com",-1,"ws://mydomain1.com"));
  assertTrue(checkSameOrigin("wss","mydomain1.com",443,"wss://mydomain1.com"));
  assertFalse(checkSameOrigin("http","mydomain1.com",-1,"http://mydomain2.com"));
  assertFalse(checkSameOrigin("http","mydomain1.com",-1,"https://mydomain1.com"));
  assertFalse(checkSameOrigin("http","mydomain1.com",-1,"invalid-origin"));
  assertFalse(checkSameOrigin("https","mydomain1.com",-1,"http://mydomain1.com"));
  assertTrue(checkSameOrigin("http","mydomain1.com",-1,"http://mydomain1.com/"));
  assertTrue(checkSameOrigin("http","mydomain1.com",-1,"http://mydomain1.com:80/"));
  assertTrue(checkSameOrigin("http","mydomain1.com",-1,"http://mydomain1.com/path"));
  assertTrue(checkSameOrigin("http","mydomain1.com",-1,"http://mydomain1.com:80/path"));
  assertFalse(checkSameOrigin("http","mydomain2.com",-1,"http://mydomain1.com/"));
  assertFalse(checkSameOrigin("http","mydomain2.com",-1,"http://mydomain1.com:80/"));
  assertFalse(checkSameOrigin("http","mydomain2.com",-1,"http://mydomain1.com/path"));
  assertFalse(checkSameOrigin("http","mydomain2.com",-1,"http://mydomain1.com:80/path"));
  assertTrue(checkSameOrigin("http","[::1]",-1,"http://[::1]"));
  assertTrue(checkSameOrigin("http","[::1]",8080,"http://[::1]:8080"));
  assertTrue(checkSameOrigin("http","[2001:0db8:0000:85a3:0000:0000:ac1f:8001]",-1,"http://[2001:0db8:0000:85a3:0000:0000:ac1f:8001]"));
  assertTrue(checkSameOrigin("http","[2001:0db8:0000:85a3:0000:0000:ac1f:8001]",8080,"http://[2001:0db8:0000:85a3:0000:0000:ac1f:8001]:8080"));
  assertFalse(checkSameOrigin("http","[::1]",-1,"http://[::1]:8080"));
  assertFalse(checkSameOrigin("http","[::1]",8080,"http://[2001:0db8:0000:85a3:0000:0000:ac1f:8001]:8080"));
}
