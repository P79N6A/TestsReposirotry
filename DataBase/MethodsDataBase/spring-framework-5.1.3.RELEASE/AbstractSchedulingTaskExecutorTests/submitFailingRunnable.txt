@Test(expected=ExecutionException.class) public void submitFailingRunnable() throws Exception {
  TestTask task=new TestTask(0);
  Future<?> future=executor.submit(task);
  try {
    future.get(1000,TimeUnit.MILLISECONDS);
  }
 catch (  ExecutionException ex) {
    assertTrue(future.isDone());
    throw ex;
  }
}
