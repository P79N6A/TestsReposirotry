/** 
 * Test that InitializingBean/BeanFactoryAware/DisposableBean objects receive the afterPropertiesSet() callback before BeanFactoryAware callbacks
 */
@Test public void lifecycleCallbacks(){
  LifecycleBean lb=(LifecycleBean)getBeanFactory().getBean("lifecycle");
  assertEquals("lifecycle",lb.getBeanName());
  lb.businessMethod();
  assertTrue("Not destroyed",!lb.isDestroyed());
}
