@Test public void nested(){
  HandlerFunction<ServerResponse> handler=new SimpleHandlerFunction();
  RouterFunction<ServerResponse> routerFunction=route().path("/foo",builder -> {
    builder.path("/bar",() -> route().GET("/baz",handler).build());
  }
).build();
  ToStringVisitor visitor=new ToStringVisitor();
  routerFunction.accept(visitor);
  String result=visitor.toString();
  String expected="/foo => {\n" + " /bar => {\n" + "  (GET && /baz) -> \n"+ " }\n"+ "}";
  assertEquals(expected,result);
}
