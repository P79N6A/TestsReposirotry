@Test(expected=IllegalArgumentException.class) public void pathVariableNotFound(){
  MockServerWebExchange exchange=MockServerWebExchange.from(MockServerHttpRequest.get("http://example.com"));
  Map<String,String> pathVariables=Collections.singletonMap("foo","bar");
  exchange.getAttributes().put(RouterFunctions.URI_TEMPLATE_VARIABLES_ATTRIBUTE,pathVariables);
  DefaultServerRequest request=new DefaultServerRequest(exchange,messageReaders);
  request.pathVariable("baz");
}
