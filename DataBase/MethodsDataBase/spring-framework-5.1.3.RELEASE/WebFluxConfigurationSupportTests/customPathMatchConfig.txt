@Test public void customPathMatchConfig(){
  ApplicationContext context=loadConfig(CustomPatchMatchConfig.class);
  final Field field=ReflectionUtils.findField(PathPatternParser.class,"matchOptionalTrailingSeparator");
  ReflectionUtils.makeAccessible(field);
  String name="requestMappingHandlerMapping";
  RequestMappingHandlerMapping mapping=context.getBean(name,RequestMappingHandlerMapping.class);
  assertNotNull(mapping);
  PathPatternParser patternParser=mapping.getPathPatternParser();
  assertNotNull(patternParser);
  boolean matchOptionalTrailingSlash=(boolean)ReflectionUtils.getField(field,patternParser);
  assertFalse(matchOptionalTrailingSlash);
  Map<RequestMappingInfo,HandlerMethod> map=mapping.getHandlerMethods();
  assertEquals(1,map.size());
  assertEquals(Collections.singleton(new PathPatternParser().parse("/api/user/{id}")),map.keySet().iterator().next().getPatternsCondition().getPatterns());
}
