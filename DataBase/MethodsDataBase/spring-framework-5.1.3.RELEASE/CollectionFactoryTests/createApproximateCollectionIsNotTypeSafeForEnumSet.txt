/** 
 * The test demonstrates that the generics-based API for {@link CollectionFactory#createApproximateCollection(Object,int)}is not type-safe. <p>Specifically, the parameterized type  {@code E} is not bound tothe type of elements contained in the  {@code collection} argumentpassed to  {@code createApproximateCollection()}. Thus casting the value returned by  {@link EnumSet#copyOf(EnumSet)} to{@code (Collection<E>)} cannot guarantee that the returned collectionactually contains elements of type  {@code E}.
 */
@Test public void createApproximateCollectionIsNotTypeSafeForEnumSet(){
  Collection<Integer> ints=createApproximateCollection(EnumSet.of(Color.BLUE),3);
  try {
    ints.add(42);
    fail("Should have thrown a ClassCastException");
  }
 catch (  ClassCastException e) {
  }
}
