@Test public void nest(){
  RouterFunction<?> route=RouterFunctions.route().path("/foo",builder -> builder.path("/bar",() -> RouterFunctions.route().GET("/baz",request -> ServerResponse.ok().build()).build())).build();
  MockServerRequest fooRequest=MockServerRequest.builder().method(HttpMethod.GET).uri(URI.create("http://localhost/foo/bar/baz")).build();
  Mono<Integer> responseMono=route.route(fooRequest).flatMap(handlerFunction -> handlerFunction.handle(fooRequest)).map(ServerResponse::statusCode).map(HttpStatus::value);
  StepVerifier.create(responseMono).expectNext(200).verifyComplete();
}
