@Test public void mutateRequest() throws Exception {
  SslInfo sslInfo=mock(SslInfo.class);
  ServerHttpRequest request=createHttpRequest("/").mutate().sslInfo(sslInfo).build();
  assertSame(sslInfo,request.getSslInfo());
  request=createHttpRequest("/").mutate().method(HttpMethod.DELETE).build();
  assertEquals(HttpMethod.DELETE,request.getMethod());
  String baseUri="http://aaa.org:8080/a";
  request=createHttpRequest(baseUri).mutate().uri(URI.create("http://bbb.org:9090/b")).build();
  assertEquals("http://bbb.org:9090/b",request.getURI().toString());
  request=createHttpRequest(baseUri).mutate().path("/b/c/d").build();
  assertEquals("http://aaa.org:8080/b/c/d",request.getURI().toString());
  request=createHttpRequest(baseUri).mutate().path("/app/b/c/d").contextPath("/app").build();
  assertEquals("http://aaa.org:8080/app/b/c/d",request.getURI().toString());
  assertEquals("/app",request.getPath().contextPath().value());
}
