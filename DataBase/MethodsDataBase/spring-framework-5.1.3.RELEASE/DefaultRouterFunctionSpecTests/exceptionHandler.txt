@Test public void exceptionHandler(){
  RouterFunction<ServerResponse> routerFunction=RouterFunctions.route().GET("/error",request -> Mono.error(new IllegalStateException("boo"))).build();
  new DefaultRouterFunctionSpec(routerFunction).handlerStrategies(HandlerStrategies.builder().exceptionHandler((exchange,ex) -> {
    exchange.getResponse().setStatusCode(HttpStatus.BAD_REQUEST);
    return Mono.empty();
  }
).build()).build().get().uri("/error").exchange().expectStatus().isBadRequest();
}
