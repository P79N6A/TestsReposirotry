@Test public void illegalArgumentException() throws Exception {
  this.composite.addResolver(new StubArgumentResolver(Integer.class,"__not_an_int__"));
  this.composite.addResolver(new StubArgumentResolver("value"));
  try {
    getInvocable(Integer.class,String.class).invokeForRequest(request,null);
    fail("Expected exception");
  }
 catch (  IllegalStateException ex) {
    assertNotNull("Exception not wrapped",ex.getCause());
    assertTrue(ex.getCause() instanceof IllegalArgumentException);
    assertTrue(ex.getMessage().contains("Controller ["));
    assertTrue(ex.getMessage().contains("Method ["));
    assertTrue(ex.getMessage().contains("with argument values:"));
    assertTrue(ex.getMessage().contains("[0] [type=java.lang.String] [value=__not_an_int__]"));
    assertTrue(ex.getMessage().contains("[1] [type=java.lang.String] [value=value"));
  }
}
