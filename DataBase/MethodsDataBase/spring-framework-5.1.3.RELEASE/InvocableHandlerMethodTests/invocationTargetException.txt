@Test public void invocationTargetException() throws Exception {
  Throwable expected=new RuntimeException("error");
  try {
    getInvocable(Throwable.class).invokeForRequest(this.request,null,expected);
    fail("Expected exception");
  }
 catch (  RuntimeException actual) {
    assertSame(expected,actual);
  }
  expected=new Error("error");
  try {
    getInvocable(Throwable.class).invokeForRequest(this.request,null,expected);
    fail("Expected exception");
  }
 catch (  Error actual) {
    assertSame(expected,actual);
  }
  expected=new Exception("error");
  try {
    getInvocable(Throwable.class).invokeForRequest(this.request,null,expected);
    fail("Expected exception");
  }
 catch (  Exception actual) {
    assertSame(expected,actual);
  }
  expected=new Throwable("error");
  try {
    getInvocable(Throwable.class).invokeForRequest(this.request,null,expected);
    fail("Expected exception");
  }
 catch (  IllegalStateException actual) {
    assertNotNull(actual.getCause());
    assertSame(expected,actual.getCause());
    assertTrue(actual.getMessage().contains("Invocation failure"));
  }
}
