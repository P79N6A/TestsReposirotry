@Test public void testLoadResourceWithSelectedDocuments(){
  YamlPropertiesFactoryBean factory=new YamlPropertiesFactoryBean();
  factory.setResources(new ByteArrayResource("foo: bar\nspam: baz\n---\nfoo: bag\nspam: bad".getBytes()));
  factory.setDocumentMatchers(properties -> ("bag".equals(properties.getProperty("foo")) ? MatchStatus.FOUND : MatchStatus.NOT_FOUND));
  Properties properties=factory.getObject();
  assertThat(properties.getProperty("foo"),equalTo("bag"));
  assertThat(properties.getProperty("spam"),equalTo("bad"));
}
