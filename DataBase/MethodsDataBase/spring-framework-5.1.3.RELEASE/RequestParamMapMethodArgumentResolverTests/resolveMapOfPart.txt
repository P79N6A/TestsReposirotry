@Test @SuppressWarnings("unchecked") public void resolveMapOfPart() throws Exception {
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setContentType("multipart/form-data");
  Part expected1=new MockPart("mfile","Hello World".getBytes());
  Part expected2=new MockPart("other","Hello World 3".getBytes());
  request.addPart(expected1);
  request.addPart(expected2);
  webRequest=new ServletWebRequest(request);
  MethodParameter param=this.testMethod.annot(requestParam().noName()).arg(Map.class,String.class,Part.class);
  Object result=resolver.resolveArgument(param,null,webRequest,null);
  assertTrue(result instanceof Map);
  Map<String,Part> resultMap=(Map<String,Part>)result;
  assertEquals(2,resultMap.size());
  assertEquals(expected1,resultMap.get("mfile"));
  assertEquals(expected2,resultMap.get("other"));
}
