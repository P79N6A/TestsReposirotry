@Test @Transactional(readOnly=true) public void findSamWithReadOnlySession(){
  Person sam=personService.findByName(SAM);
  sam.setName("Vlad");
  Session session=sessionFactory.getCurrentSession();
  session.flush();
  session.refresh(sam);
  assertEquals("Sam",sam.getName());
}
