@Test public void byteCountsAndPositions(){
  DataBuffer buffer=createDataBuffer(2);
  assertEquals(0,buffer.readPosition());
  assertEquals(0,buffer.writePosition());
  assertEquals(0,buffer.readableByteCount());
  assertEquals(2,buffer.writableByteCount());
  assertEquals(2,buffer.capacity());
  buffer.write((byte)'a');
  assertEquals(0,buffer.readPosition());
  assertEquals(1,buffer.writePosition());
  assertEquals(1,buffer.readableByteCount());
  assertEquals(1,buffer.writableByteCount());
  assertEquals(2,buffer.capacity());
  buffer.write((byte)'b');
  assertEquals(0,buffer.readPosition());
  assertEquals(2,buffer.writePosition());
  assertEquals(2,buffer.readableByteCount());
  assertEquals(0,buffer.writableByteCount());
  assertEquals(2,buffer.capacity());
  buffer.read();
  assertEquals(1,buffer.readPosition());
  assertEquals(2,buffer.writePosition());
  assertEquals(1,buffer.readableByteCount());
  assertEquals(0,buffer.writableByteCount());
  assertEquals(2,buffer.capacity());
  buffer.read();
  assertEquals(2,buffer.readPosition());
  assertEquals(2,buffer.writePosition());
  assertEquals(0,buffer.readableByteCount());
  assertEquals(0,buffer.writableByteCount());
  assertEquals(2,buffer.capacity());
  release(buffer);
}
