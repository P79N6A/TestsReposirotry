@Test public void resolveWithJacksonConverter() throws Exception {
  Message<String> inMessage=MessageBuilder.withPayload("{\"foo\":\"bar\"}").build();
  MethodParameter parameter=new MethodParameter(this.method,5);
  this.resolver=new MessageMethodArgumentResolver(new MappingJackson2MessageConverter());
  Object actual=this.resolver.resolveArgument(parameter,inMessage);
  assertTrue(actual instanceof Message);
  Message<?> outMessage=(Message<?>)actual;
  assertTrue(outMessage.getPayload() instanceof Foo);
  assertEquals("bar",((Foo)outMessage.getPayload()).getFoo());
}
