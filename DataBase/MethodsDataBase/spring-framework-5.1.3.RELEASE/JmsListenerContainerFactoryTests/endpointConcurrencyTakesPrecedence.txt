@Test public void endpointConcurrencyTakesPrecedence(){
  DefaultJmsListenerContainerFactory factory=new DefaultJmsListenerContainerFactory();
  factory.setConcurrency("2-10");
  SimpleJmsListenerEndpoint endpoint=new SimpleJmsListenerEndpoint();
  MessageListener messageListener=new MessageListenerAdapter();
  endpoint.setMessageListener(messageListener);
  endpoint.setDestination("myQueue");
  endpoint.setConcurrency("4-6");
  DefaultMessageListenerContainer container=factory.createListenerContainer(endpoint);
  assertEquals(4,container.getConcurrentConsumers());
  assertEquals(6,container.getMaxConcurrentConsumers());
}
