@Test public void testBatchUpdateWithEmptyMap() throws Exception {
  @SuppressWarnings("unchecked") final Map<String,Integer>[] ids=new Map[0];
  namedParameterTemplate=new NamedParameterJdbcTemplate(new JdbcTemplate(dataSource,false));
  int[] actualRowsAffected=namedParameterTemplate.batchUpdate("UPDATE NOSUCHTABLE SET DATE_DISPATCHED = SYSDATE WHERE ID = :id",ids);
  assertTrue("executed 0 updates",actualRowsAffected.length == 0);
}
