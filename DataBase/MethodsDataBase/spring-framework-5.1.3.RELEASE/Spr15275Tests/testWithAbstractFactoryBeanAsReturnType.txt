@Test public void testWithAbstractFactoryBeanAsReturnType(){
  ApplicationContext context=new AnnotationConfigApplicationContext(ConfigWithAbstractFactoryBeanAsReturnType.class);
  assertEquals("x",context.getBean(Bar.class).foo.toString());
  assertSame(context.getBean(FooInterface.class),context.getBean(Bar.class).foo);
}
