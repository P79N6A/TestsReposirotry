@Test public void testWithFinalFactoryBeanAsReturnType(){
  ApplicationContext context=new AnnotationConfigApplicationContext(ConfigWithFinalFactoryBeanAsReturnType.class);
  assertEquals("x",context.getBean(Bar.class).foo.toString());
  assertNotSame(context.getBean(FooInterface.class),context.getBean(Bar.class).foo);
}
