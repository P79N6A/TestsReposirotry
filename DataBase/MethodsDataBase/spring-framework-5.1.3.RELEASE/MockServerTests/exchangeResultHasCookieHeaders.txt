@Test public void exchangeResultHasCookieHeaders(){
  ExchangeResult result=WebTestClient.bindToWebHandler(exchange -> {
    ServerHttpResponse response=exchange.getResponse();
    if (exchange.getRequest().getURI().getPath().equals("/cookie")) {
      response.addCookie(ResponseCookie.from("a","alpha").path("/pathA").build());
      response.addCookie(ResponseCookie.from("b","beta").path("/pathB").build());
    }
 else {
      response.setStatusCode(HttpStatus.NOT_FOUND);
    }
    return response.setComplete();
  }
).build().get().uri("/cookie").cookie("a","alpha").cookie("b","beta").exchange().expectStatus().isOk().expectHeader().valueEquals(HttpHeaders.SET_COOKIE,"a=alpha; Path=/pathA","b=beta; Path=/pathB").expectBody().isEmpty();
  assertEquals(Arrays.asList("a=alpha","b=beta"),result.getRequestHeaders().get(HttpHeaders.COOKIE));
}
