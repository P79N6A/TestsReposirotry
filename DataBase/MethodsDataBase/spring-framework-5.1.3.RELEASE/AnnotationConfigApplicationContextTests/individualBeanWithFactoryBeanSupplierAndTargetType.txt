@Test public void individualBeanWithFactoryBeanSupplierAndTargetType(){
  AnnotationConfigApplicationContext context=new AnnotationConfigApplicationContext();
  RootBeanDefinition bd=new RootBeanDefinition();
  bd.setInstanceSupplier(TypedFactoryBean::new);
  bd.setTargetType(ResolvableType.forClassWithGenerics(FactoryBean.class,String.class));
  bd.setLazyInit(true);
  context.registerBeanDefinition("fb",bd);
  context.refresh();
  assertEquals(String.class,context.getType("fb"));
  assertEquals(FactoryBean.class,context.getType("&fb"));
}
