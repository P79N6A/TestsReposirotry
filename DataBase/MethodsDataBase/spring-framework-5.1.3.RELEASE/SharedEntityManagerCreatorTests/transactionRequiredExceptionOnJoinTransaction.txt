@Test(expected=TransactionRequiredException.class) public void transactionRequiredExceptionOnJoinTransaction(){
  EntityManagerFactory emf=mock(EntityManagerFactory.class);
  EntityManager em=SharedEntityManagerCreator.createSharedEntityManager(emf);
  em.joinTransaction();
}
