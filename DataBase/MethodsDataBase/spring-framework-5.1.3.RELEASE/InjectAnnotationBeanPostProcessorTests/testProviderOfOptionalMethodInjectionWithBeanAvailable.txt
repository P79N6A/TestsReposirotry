@Test public void testProviderOfOptionalMethodInjectionWithBeanAvailable(){
  bf.registerBeanDefinition("annotatedBean",new RootBeanDefinition(ProviderOfOptionalMethodInjectionBean.class));
  bf.registerBeanDefinition("testBean",new RootBeanDefinition(TestBean.class));
  ProviderOfOptionalMethodInjectionBean bean=(ProviderOfOptionalMethodInjectionBean)bf.getBean("annotatedBean");
  assertTrue(bean.getTestBean().isPresent());
  assertSame(bf.getBean("testBean"),bean.getTestBean().get());
}
