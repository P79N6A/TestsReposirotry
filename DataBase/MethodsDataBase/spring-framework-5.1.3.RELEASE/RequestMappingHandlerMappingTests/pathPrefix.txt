@Test public void pathPrefix() throws NoSuchMethodException {
  this.handlerMapping.setEmbeddedValueResolver(value -> "/${prefix}".equals(value) ? "/api" : value);
  this.handlerMapping.setPathPrefixes(Collections.singletonMap("/${prefix}",HandlerTypePredicate.forAnnotation(RestController.class)));
  Method method=UserController.class.getMethod("getUser");
  RequestMappingInfo info=this.handlerMapping.getMappingForMethod(method,UserController.class);
  assertNotNull(info);
  assertEquals(Collections.singleton("/api/user/{id}"),info.getPatternsCondition().getPatterns());
}
