@Test public void testSelfReferenceWithOther(){
  bf.registerBeanDefinition("annotatedBean",new RootBeanDefinition(SelfInjectionBean.class));
  bf.registerBeanDefinition("annotatedBean2",new RootBeanDefinition(SelfInjectionBean.class));
  SelfInjectionBean bean=(SelfInjectionBean)bf.getBean("annotatedBean");
  SelfInjectionBean bean2=(SelfInjectionBean)bf.getBean("annotatedBean2");
  assertSame(bean2,bean.reference);
  assertEquals(1,bean.referenceCollection.size());
  assertSame(bean2,bean.referenceCollection.get(0));
}
