@Test public void testSingleConstructorInjectionWithMultipleCandidatesAsOrderedCollection(){
  bf.registerBeanDefinition("annotatedBean",new RootBeanDefinition(SingleConstructorOptionalCollectionBean.class));
  TestBean tb=new TestBean();
  bf.registerSingleton("testBean",tb);
  FixedOrder2NestedTestBean ntb1=new FixedOrder2NestedTestBean();
  bf.registerSingleton("nestedTestBean1",ntb1);
  FixedOrder1NestedTestBean ntb2=new FixedOrder1NestedTestBean();
  bf.registerSingleton("nestedTestBean2",ntb2);
  SingleConstructorOptionalCollectionBean bean=(SingleConstructorOptionalCollectionBean)bf.getBean("annotatedBean");
  assertSame(tb,bean.getTestBean());
  assertEquals(2,bean.getNestedTestBeans().size());
  assertSame(ntb2,bean.getNestedTestBeans().get(0));
  assertSame(ntb1,bean.getNestedTestBeans().get(1));
}
