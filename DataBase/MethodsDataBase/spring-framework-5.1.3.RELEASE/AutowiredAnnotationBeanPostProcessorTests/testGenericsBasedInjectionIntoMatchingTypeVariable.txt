@Test @SuppressWarnings("rawtypes") public void testGenericsBasedInjectionIntoMatchingTypeVariable(){
  RootBeanDefinition bd=new RootBeanDefinition(GenericInterface1Impl.class);
  bd.setFactoryMethodName("create");
  bf.registerBeanDefinition("bean1",bd);
  bf.registerBeanDefinition("bean2",new RootBeanDefinition(GenericInterface2Impl.class));
  GenericInterface1Impl bean1=(GenericInterface1Impl)bf.getBean("bean1");
  GenericInterface2Impl bean2=(GenericInterface2Impl)bf.getBean("bean2");
  assertSame(bean2,bean1.gi2);
  assertEquals(ResolvableType.forClass(GenericInterface1Impl.class),bd.getResolvableType());
}
