@Test public void testCustomAnnotationRequiredFieldResourceInjectionFailsWhenMultipleDependenciesFound(){
  bpp.setAutowiredAnnotationType(MyAutowired.class);
  bpp.setRequiredParameterName("optional");
  bpp.setRequiredParameterValue(false);
  bf.registerBeanDefinition("customBean",new RootBeanDefinition(CustomAnnotationRequiredFieldResourceInjectionBean.class));
  TestBean tb1=new TestBean();
  bf.registerSingleton("testBean1",tb1);
  TestBean tb2=new TestBean();
  bf.registerSingleton("testBean2",tb2);
  try {
    bf.getBean("customBean");
    fail("Should have thrown UnsatisfiedDependencyException");
  }
 catch (  UnsatisfiedDependencyException ex) {
    assertSame(CustomAnnotationRequiredFieldResourceInjectionBean.class,ex.getInjectionPoint().getField().getDeclaringClass());
  }
}
