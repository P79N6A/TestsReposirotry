@Test public void testObjectProviderInjectionWithUnresolvedOrderedStream(){
  bf.registerBeanDefinition("annotatedBean",new RootBeanDefinition(ObjectProviderInjectionBean.class));
  RootBeanDefinition tb1=new RootBeanDefinition(TestBeanFactory.class);
  tb1.setFactoryMethodName("newTestBean1");
  tb1.setPrimary(true);
  bf.registerBeanDefinition("testBean1",tb1);
  RootBeanDefinition tb2=new RootBeanDefinition(TestBeanFactory.class);
  tb2.setFactoryMethodName("newTestBean2");
  tb2.setLazyInit(true);
  bf.registerBeanDefinition("testBean2",tb2);
  ObjectProviderInjectionBean bean=(ObjectProviderInjectionBean)bf.getBean("annotatedBean");
  List<?> testBeans=bean.sortedTestBeans();
  assertEquals(2,testBeans.size());
  assertSame(bf.getBean("testBean2"),testBeans.get(0));
  assertSame(bf.getBean("testBean1"),testBeans.get(1));
}
