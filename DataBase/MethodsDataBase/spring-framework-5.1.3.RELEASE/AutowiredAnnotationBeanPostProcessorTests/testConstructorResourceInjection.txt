@Test public void testConstructorResourceInjection(){
  RootBeanDefinition bd=new RootBeanDefinition(ConstructorResourceInjectionBean.class);
  bd.setScope(RootBeanDefinition.SCOPE_PROTOTYPE);
  bf.registerBeanDefinition("annotatedBean",bd);
  TestBean tb=new TestBean();
  bf.registerSingleton("testBean",tb);
  NestedTestBean ntb=new NestedTestBean();
  bf.registerSingleton("nestedTestBean",ntb);
  ConstructorResourceInjectionBean bean=(ConstructorResourceInjectionBean)bf.getBean("annotatedBean");
  assertSame(tb,bean.getTestBean());
  assertSame(tb,bean.getTestBean2());
  assertSame(tb,bean.getTestBean3());
  assertSame(tb,bean.getTestBean4());
  assertSame(ntb,bean.getNestedTestBean());
  assertSame(bf,bean.getBeanFactory());
  bean=(ConstructorResourceInjectionBean)bf.getBean("annotatedBean");
  assertSame(tb,bean.getTestBean());
  assertSame(tb,bean.getTestBean2());
  assertSame(tb,bean.getTestBean3());
  assertSame(tb,bean.getTestBean4());
  assertSame(ntb,bean.getNestedTestBean());
  assertSame(bf,bean.getBeanFactory());
}
