@Test @SuppressWarnings("deprecation") public void basicAuthenticationAttributes(){
  ClientRequest request=ClientRequest.create(HttpMethod.GET,DEFAULT_URL).attributes(org.springframework.web.reactive.function.client.ExchangeFilterFunctions.Credentials.basicAuthenticationCredentials("foo","bar")).build();
  ClientResponse response=mock(ClientResponse.class);
  ExchangeFunction exchange=r -> {
    assertTrue(r.headers().containsKey(HttpHeaders.AUTHORIZATION));
    assertTrue(r.headers().getFirst(HttpHeaders.AUTHORIZATION).startsWith("Basic "));
    return Mono.just(response);
  }
;
  ExchangeFilterFunction auth=ExchangeFilterFunctions.basicAuthentication();
  assertFalse(request.headers().containsKey(HttpHeaders.AUTHORIZATION));
  ClientResponse result=auth.filter(request,exchange).block();
  assertEquals(response,result);
}
