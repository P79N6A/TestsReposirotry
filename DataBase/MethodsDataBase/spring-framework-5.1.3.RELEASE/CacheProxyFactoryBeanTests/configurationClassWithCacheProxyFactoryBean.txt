@Test public void configurationClassWithCacheProxyFactoryBean(){
  try (AnnotationConfigApplicationContext applicationContext=new AnnotationConfigApplicationContext(CacheProxyFactoryBeanConfiguration.class)){
    Greeter greeter=applicationContext.getBean("greeter",Greeter.class);
    assertNotNull(greeter);
    assertFalse(greeter.isCacheMiss());
    assertEquals("Hello John!",greeter.greet("John"));
    assertTrue(greeter.isCacheMiss());
    assertEquals("Hello Jon!",greeter.greet("Jon"));
    assertTrue(greeter.isCacheMiss());
    assertEquals("Hello John!",greeter.greet("John"));
    assertFalse(greeter.isCacheMiss());
    assertEquals("Hello World!",greeter.greet());
    assertTrue(greeter.isCacheMiss());
    assertEquals("Hello World!",greeter.greet());
    assertFalse(greeter.isCacheMiss());
  }
 }
