/** 
 * Test the important case where the invocation is on a proxied interface method but the attribute is defined on the target class.
 */
@Test public void transactionAttributeDeclaredOnClassMethod() throws Exception {
  Method classMethod=ITestBean1.class.getMethod("getAge");
  AnnotationTransactionAttributeSource atas=new AnnotationTransactionAttributeSource();
  TransactionAttribute actual=atas.getTransactionAttribute(classMethod,TestBean1.class);
  RuleBasedTransactionAttribute rbta=new RuleBasedTransactionAttribute();
  rbta.getRollbackRules().add(new RollbackRuleAttribute(Exception.class));
  assertEquals(rbta.getRollbackRules(),((RuleBasedTransactionAttribute)actual).getRollbackRules());
}
