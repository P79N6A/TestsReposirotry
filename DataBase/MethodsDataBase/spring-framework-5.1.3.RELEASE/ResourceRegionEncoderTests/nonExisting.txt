@Test public void nonExisting(){
  Resource resource=new ClassPathResource("ResourceRegionEncoderTests.txt",getClass());
  Resource nonExisting=new ClassPathResource("does not exist",getClass());
  Flux<ResourceRegion> regions=Flux.just(new ResourceRegion(resource,0,6),new ResourceRegion(nonExisting,0,6));
  String boundary=MimeTypeUtils.generateMultipartBoundaryString();
  Flux<DataBuffer> result=this.encoder.encode(regions,this.bufferFactory,ResolvableType.forClass(ResourceRegion.class),MimeType.valueOf("text/plain"),Collections.singletonMap(ResourceRegionEncoder.BOUNDARY_STRING_HINT,boundary));
  StepVerifier.create(result).consumeNextWith(stringConsumer("\r\n--" + boundary + "\r\n")).consumeNextWith(stringConsumer("Content-Type: text/plain\r\n")).consumeNextWith(stringConsumer("Content-Range: bytes 0-5/39\r\n\r\n")).consumeNextWith(stringConsumer("Spring")).expectError(EncodingException.class).verify();
}
