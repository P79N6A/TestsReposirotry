@Test public void patchForObject() throws Exception {
  mockTextPlainHttpMessageConverter();
  HttpHeaders requestHeaders=new HttpHeaders();
  mockSentRequest(PATCH,"http://example.com",requestHeaders);
  mockResponseStatus(HttpStatus.OK);
  String expected="42";
  mockResponseBody("42",MediaType.TEXT_PLAIN);
  String result=template.patchForObject("http://example.com","Hello World",String.class);
  assertEquals("Invalid POST result",expected,result);
  assertEquals("Invalid Accept header",MediaType.TEXT_PLAIN_VALUE,requestHeaders.getFirst("Accept"));
  verify(response).close();
}
