@Test public void SPR16070() throws Exception {
  ReadableByteChannel channel=mock(ReadableByteChannel.class);
  when(channel.read(any())).thenAnswer(putByte('a')).thenAnswer(putByte('b')).thenAnswer(putByte('c')).thenReturn(-1);
  Flux<DataBuffer> read=DataBufferUtils.readByteChannel(() -> channel,this.bufferFactory,1);
  StepVerifier.create(read).consumeNextWith(stringConsumer("a")).consumeNextWith(stringConsumer("b")).consumeNextWith(stringConsumer("c")).expectComplete().verify(Duration.ofSeconds(5));
}
