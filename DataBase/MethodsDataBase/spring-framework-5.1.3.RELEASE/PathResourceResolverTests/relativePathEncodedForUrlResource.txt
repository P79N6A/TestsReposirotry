@Test public void relativePathEncodedForUrlResource() throws Exception {
  TestUrlResource location=new TestUrlResource("file:///tmp");
  List<TestUrlResource> locations=Collections.singletonList(location);
  this.resolver.setUrlPathHelper(new UrlPathHelper());
  this.resolver.setLocationCharsets(Collections.singletonMap(location,StandardCharsets.ISO_8859_1));
  this.resolver.resolveResource(new MockHttpServletRequest(),"/Ä ;ä.txt",locations,null);
  assertEquals("%C4%20%3B%E4.txt",location.getSavedRelativePath());
  this.resolver.setLocationCharsets(Collections.singletonMap(location,StandardCharsets.UTF_8));
  this.resolver.resolveResource(new MockHttpServletRequest(),"/Ä ;ä.txt",locations,null);
  assertEquals("%C3%84%20%3B%C3%A4.txt",location.getSavedRelativePath());
  this.resolver.setLocationCharsets(Collections.emptyMap());
  this.resolver.resolveResource(new MockHttpServletRequest(),"/Ä ;ä.txt",locations,null);
  assertEquals("%C3%84%20%3B%C3%A4.txt",location.getSavedRelativePath());
}
