@Test public void fromServletMappingWithForwardedPrefix() throws Exception {
  this.request.addHeader("X-Forwarded-Prefix","/prefix");
  this.request.setContextPath("/mvc-showcase");
  this.request.setServletPath("/app");
  this.request.setRequestURI("/mvc-showcase/app/simple");
  HttpServletRequest requestToUse=adaptFromForwardedHeaders(this.request);
  String result=ServletUriComponentsBuilder.fromServletMapping(requestToUse).build().toUriString();
  assertEquals("http://localhost/prefix/app",result);
}
