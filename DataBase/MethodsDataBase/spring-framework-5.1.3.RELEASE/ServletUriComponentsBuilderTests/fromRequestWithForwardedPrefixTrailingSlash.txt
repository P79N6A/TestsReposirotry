@Test public void fromRequestWithForwardedPrefixTrailingSlash() throws Exception {
  this.request.addHeader("X-Forwarded-Prefix","/foo/");
  this.request.setContextPath("/spring-mvc-showcase");
  this.request.setRequestURI("/spring-mvc-showcase/bar");
  HttpServletRequest requestToUse=adaptFromForwardedHeaders(this.request);
  UriComponents result=ServletUriComponentsBuilder.fromRequest(requestToUse).build();
  assertEquals("http://localhost/foo/bar",result.toUriString());
}
