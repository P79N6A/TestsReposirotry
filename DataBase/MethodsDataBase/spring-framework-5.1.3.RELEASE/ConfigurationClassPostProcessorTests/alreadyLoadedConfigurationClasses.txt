/** 
 * Tests the fix for SPR-5655, a special workaround that prefers reflection over ASM if a bean class is already loaded.
 */
@Test public void alreadyLoadedConfigurationClasses(){
  beanFactory.registerBeanDefinition("unloadedConfig",new RootBeanDefinition(UnloadedConfig.class.getName()));
  beanFactory.registerBeanDefinition("loadedConfig",new RootBeanDefinition(LoadedConfig.class));
  ConfigurationClassPostProcessor pp=new ConfigurationClassPostProcessor();
  pp.postProcessBeanFactory(beanFactory);
  beanFactory.getBean("foo");
  beanFactory.getBean("bar");
}
