@Test(expected=BeanDefinitionStoreException.class) public void testNameClashBetweenConfigurationClassAndBean(){
  ApplicationContext ctx=new AnnotationConfigApplicationContext(MyTestBean.class);
  ctx.getBean("myTestBean",TestBean.class);
}
