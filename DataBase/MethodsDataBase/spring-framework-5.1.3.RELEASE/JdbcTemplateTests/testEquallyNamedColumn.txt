@Test public void testEquallyNamedColumn() throws SQLException {
  given(this.connection.createStatement()).willReturn(this.statement);
  ResultSetMetaData metaData=mock(ResultSetMetaData.class);
  given(metaData.getColumnCount()).willReturn(2);
  given(metaData.getColumnLabel(1)).willReturn("x");
  given(metaData.getColumnLabel(2)).willReturn("X");
  given(this.resultSet.getMetaData()).willReturn(metaData);
  given(this.resultSet.next()).willReturn(true,false);
  given(this.resultSet.getObject(1)).willReturn("first value");
  given(this.resultSet.getObject(2)).willReturn("second value");
  Map<String,Object> map=this.template.queryForMap("my query");
  assertEquals(1,map.size());
  assertEquals("first value",map.get("x"));
}
