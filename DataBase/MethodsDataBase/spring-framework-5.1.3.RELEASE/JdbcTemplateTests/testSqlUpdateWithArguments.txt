/** 
 * Test update with dynamic SQL.
 */
@Test public void testSqlUpdateWithArguments() throws Exception {
  final String sql="UPDATE NOSUCHTABLE SET DATE_DISPATCHED = SYSDATE WHERE ID = ? and PR = ?";
  int rowsAffected=33;
  given(this.preparedStatement.executeUpdate()).willReturn(rowsAffected);
  int actualRowsAffected=this.template.update(sql,4,new SqlParameterValue(Types.NUMERIC,2,Float.valueOf(1.4142f)));
  assertTrue("Actual rows affected is correct",actualRowsAffected == rowsAffected);
  verify(this.preparedStatement).setObject(1,4);
  verify(this.preparedStatement).setObject(2,Float.valueOf(1.4142f),Types.NUMERIC,2);
  verify(this.preparedStatement).close();
  verify(this.connection).close();
}
