@Test public void testExecuteClosed() throws Exception {
  given(this.resultSet.next()).willReturn(true);
  given(this.callableStatement.execute()).willReturn(true);
  given(this.callableStatement.getUpdateCount()).willReturn(-1);
  SqlParameter param=new SqlReturnResultSet("",(RowCallbackHandler)rs -> {
    throw new InvalidDataAccessApiUsageException("");
  }
);
  this.thrown.expect(InvalidDataAccessApiUsageException.class);
  try {
    this.template.call(conn -> conn.prepareCall("my query"),Collections.singletonList(param));
  }
  finally {
    verify(this.resultSet).close();
    verify(this.callableStatement).close();
    verify(this.connection).close();
  }
}
