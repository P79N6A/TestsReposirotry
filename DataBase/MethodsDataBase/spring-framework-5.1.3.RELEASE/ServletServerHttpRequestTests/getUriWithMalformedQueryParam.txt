@Test public void getUriWithMalformedQueryParam() throws URISyntaxException {
  mockRequest.setServerName("example.com");
  mockRequest.setRequestURI("/path");
  mockRequest.setQueryString("query=foo%%x");
  assertEquals(new URI("http://example.com/path"),request.getURI());
}
