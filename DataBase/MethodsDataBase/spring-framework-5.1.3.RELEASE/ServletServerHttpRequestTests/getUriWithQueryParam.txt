@Test public void getUriWithQueryParam() throws URISyntaxException {
  mockRequest.setServerName("example.com");
  mockRequest.setRequestURI("/path");
  mockRequest.setQueryString("query=foo");
  assertEquals(new URI("http://example.com/path?query=foo"),request.getURI());
}
