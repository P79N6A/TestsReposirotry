@Test public void overflowStrategyDrop() throws IOException, InterruptedException {
  BlockingSession session=new BlockingSession();
  session.setId("123");
  session.setOpen(true);
  final ConcurrentWebSocketSessionDecorator decorator=new ConcurrentWebSocketSessionDecorator(session,10 * 1000,1024,OverflowStrategy.DROP);
  sendBlockingMessage(decorator);
  StringBuilder sb=new StringBuilder();
  for (int i=0; i < 1023; i++) {
    sb.append("a");
  }
  for (int i=0; i < 5; i++) {
    TextMessage message=new TextMessage(sb.toString());
    decorator.sendMessage(message);
  }
  assertEquals(1023,decorator.getBufferSize());
  assertTrue(session.isOpen());
}
