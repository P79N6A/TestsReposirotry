@Test public void zeroCopy() throws Exception {
  assumeTrue(server instanceof ReactorHttpServer || server instanceof UndertowHttpServer);
  URI url=new URI("http://localhost:" + port);
  RequestEntity<?> request=RequestEntity.get(url).build();
  ResponseEntity<byte[]> response=new RestTemplate().exchange(request,byte[].class);
  Resource logo=new ClassPathResource("spring.png",ZeroCopyIntegrationTests.class);
  assertTrue(response.hasBody());
  assertEquals(logo.contentLength(),response.getHeaders().getContentLength());
  assertEquals(logo.contentLength(),response.getBody().length);
  assertEquals(MediaType.IMAGE_PNG,response.getHeaders().getContentType());
}
