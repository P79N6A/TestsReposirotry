/** 
 * Negative test, verify that connection to secure HS2 fails when required connection attributes are not provided
 * @throws Exception
 */
@Test public void testConnectionNeg() throws Exception {
  miniHiveKdc.loginUser(MiniHiveKdc.HIVE_TEST_USER_1);
  try {
    String url=miniHS2.getJdbcURL().replaceAll(";principal.*","");
    hs2Conn=DriverManager.getConnection(url);
    fail("NON kerberos connection should fail");
  }
 catch (  SQLException e) {
    assertEquals("08S01",e.getSQLState().trim());
  }
}
