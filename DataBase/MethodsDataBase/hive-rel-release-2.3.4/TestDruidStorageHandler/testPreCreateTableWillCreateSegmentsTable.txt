@Test public void testPreCreateTableWillCreateSegmentsTable() throws MetaException {
  DruidStorageHandler druidStorageHandler=new DruidStorageHandler(derbyConnectorRule.getConnector(),new SQLMetadataStorageUpdaterJobHandler(derbyConnectorRule.getConnector()),derbyConnectorRule.metadataTablesConfigSupplier().get(),null);
  try (Handle handle=derbyConnectorRule.getConnector().getDBI().open()){
    Assert.assertFalse(derbyConnectorRule.getConnector().tableExists(handle,segmentsTable));
    druidStorageHandler.preCreateTable(tableMock);
    Assert.assertTrue(derbyConnectorRule.getConnector().tableExists(handle,segmentsTable));
  }
 }
