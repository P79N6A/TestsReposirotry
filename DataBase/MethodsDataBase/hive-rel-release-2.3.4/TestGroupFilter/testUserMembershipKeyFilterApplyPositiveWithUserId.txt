@Test public void testUserMembershipKeyFilterApplyPositiveWithUserId() throws AuthenticationException, NamingException, IOException {
  conf.setVar(HiveConf.ConfVars.HIVE_SERVER2_PLAIN_LDAP_USERMEMBERSHIP_KEY,"memberOf");
  conf.setVar(HiveConf.ConfVars.HIVE_SERVER2_PLAIN_LDAP_GROUPFILTER,"Group1,Group2");
  when(search.findGroupDn("Group1")).thenReturn("cn=Group1,dc=a,dc=b");
  when(search.findGroupDn("Group2")).thenReturn("cn=Group2,dc=a,dc=b");
  when(search.isUserMemberOfGroup("User1","cn=Group2,dc=a,dc=b")).thenReturn(true);
  Filter filter=factory.getInstance(conf);
  filter.apply(search,"User1");
}
