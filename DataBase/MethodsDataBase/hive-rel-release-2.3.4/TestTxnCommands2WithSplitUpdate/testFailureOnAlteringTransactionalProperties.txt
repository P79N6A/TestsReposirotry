/** 
 * In current implementation of ACID, altering the value of transactional_properties or trying to set a value for previously unset value for an acid table will throw an exception.
 * @throws Exception
 */
@Test public void testFailureOnAlteringTransactionalProperties() throws Exception {
  expectedException.expect(RuntimeException.class);
  expectedException.expectMessage("TBLPROPERTIES with 'transactional_properties' cannot be altered after the table is created");
  runStatementOnDriver("create table acidTblLegacy (a int, b int) clustered by (a) into " + BUCKET_COUNT + " buckets stored as orc TBLPROPERTIES ('transactional'='true')");
  runStatementOnDriver("alter table acidTblLegacy SET TBLPROPERTIES ('transactional_properties' = 'default')");
}
