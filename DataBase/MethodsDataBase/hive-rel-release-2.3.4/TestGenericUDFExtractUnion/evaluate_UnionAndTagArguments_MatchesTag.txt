@Test public void evaluate_UnionAndTagArguments_MatchesTag() throws HiveException {
  when(unionOI.getObjectInspectors()).thenReturn(ImmutableList.<ObjectInspector>of(PrimitiveObjectInspectorFactory.writableStringObjectInspector,PrimitiveObjectInspectorFactory.writableLongObjectInspector));
  when(tagOI.getWritableConstantValue()).thenReturn(new IntWritable(0));
  when(deferredObject.get()).thenReturn(value);
  when(unionOI.getTag(value)).thenReturn((byte)0);
  when(unionOI.getField(value)).thenReturn("foo");
  underTest.initialize(new ObjectInspector[]{unionOI,tagOI});
  Object result=underTest.evaluate(new DeferredObject[]{deferredObject});
  assertThat(result,is((Object)"foo"));
}
