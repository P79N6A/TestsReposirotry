@Test public void testNoErrorOnDisabledMetrics() throws Exception {
  MetricsFactory.close();
  MetricsQueryLifeTimeHook emptyhook=new MetricsQueryLifeTimeHook();
  assertThat(MetricsFactory.getInstance(),nullValue());
  emptyhook.beforeCompile(ctx);
  emptyhook.afterCompile(ctx,false);
  emptyhook.beforeExecution(ctx);
  emptyhook.afterExecution(ctx,false);
}
