@Test public void addMultiColForeignKey() throws Exception {
  String tableName="mcfktable";
  String pkTable="pktable";
  String pkName="test_pk";
  String fkName="test_fk";
  String fkColNames[]={"col0","col1","col2"};
  String pkColNames[]={"pcol0","pcol1"};
  Table table=createMultiColumnTable(tableName,"int","double","timestamp");
  List<SQLForeignKey> fk=Arrays.asList(new SQLForeignKey(DB,pkTable,pkColNames[0],DB,tableName,fkColNames[1],0,1,2,fkName,pkName,true,false,false),new SQLForeignKey(DB,pkTable,pkColNames[1],DB,tableName,fkColNames[2],1,1,2,fkName,pkName,true,false,false));
  store.createTable(table);
  store.addForeignKeys(fk);
  fk=store.getForeignKeys(DB,pkTable,DB,tableName);
  Assert.assertNotNull(fk);
  Assert.assertEquals(2,fk.size());
  SQLForeignKey[] sorted=fk.toArray(new SQLForeignKey[2]);
  Arrays.sort(sorted,new Comparator<SQLForeignKey>(){
    @Override public int compare(    SQLForeignKey o1,    SQLForeignKey o2){
      if (o1.getFk_name().equals(o2.getFk_name())) {
        return o1.getFkcolumn_name().compareTo(o2.getFkcolumn_name());
      }
 else {
        return o1.getFk_name().compareTo(o2.getFk_name());
      }
    }
  }
);
  for (int i=0; i < 2; i++) {
    Assert.assertEquals(DB,sorted[i].getPktable_db());
    Assert.assertEquals(pkTable,sorted[i].getPktable_name());
    Assert.assertEquals(pkColNames[i],sorted[i].getPkcolumn_name());
    Assert.assertEquals(DB,sorted[i].getFktable_db());
    Assert.assertEquals(tableName,sorted[i].getFktable_name());
    Assert.assertEquals(fkColNames[i + 1],sorted[i].getFkcolumn_name());
    Assert.assertEquals(i,sorted[i].getKey_seq());
    Assert.assertEquals(1,sorted[i].getUpdate_rule());
    Assert.assertEquals(2,sorted[i].getDelete_rule());
    Assert.assertEquals(fkName,sorted[i].getFk_name());
    Assert.assertEquals(pkName,sorted[i].getPk_name());
    Assert.assertTrue(sorted[i].isEnable_cstr());
    Assert.assertFalse(sorted[i].isValidate_cstr());
    Assert.assertFalse(sorted[i].isRely_cstr());
  }
}
