@Test public void testGauge() throws Exception {
  TestMetricsVariable testVar=new TestMetricsVariable();
  testVar.setValue(20);
  MetricsFactory.getInstance().addGauge("gauge1",testVar);
  String json=((CodahaleMetrics)MetricsFactory.getInstance()).dumpJson();
  MetricsTestUtils.verifyMetricsJson(json,MetricsTestUtils.GAUGE,"gauge1",testVar.getValue());
  testVar.setValue(40);
  json=((CodahaleMetrics)MetricsFactory.getInstance()).dumpJson();
  MetricsTestUtils.verifyMetricsJson(json,MetricsTestUtils.GAUGE,"gauge1",testVar.getValue());
}
