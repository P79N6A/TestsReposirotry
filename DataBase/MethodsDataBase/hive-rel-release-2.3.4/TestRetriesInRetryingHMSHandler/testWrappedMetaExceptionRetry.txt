@Test public void testWrappedMetaExceptionRetry() throws MetaException {
  IHMSHandler mockBaseHandler=Mockito.mock(HiveMetaStore.HMSHandler.class);
  Mockito.when(mockBaseHandler.getConf()).thenReturn(hiveConf);
  MetaException me=new MetaException("Dummy exception");
  me.initCause(new JDOException());
  InvocationTargetException ex=new InvocationTargetException(me);
  Mockito.doThrow(me).doNothing().when(mockBaseHandler).init();
  RetryingHMSHandler.getProxy(hiveConf,mockBaseHandler,false);
  Mockito.verify(mockBaseHandler,Mockito.times(2)).init();
}
