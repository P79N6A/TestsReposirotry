@Test(expected=MetaException.class) public void testRetriesLimit() throws MetaException {
  IHMSHandler mockBaseHandler=Mockito.mock(HiveMetaStore.HMSHandler.class);
  Mockito.when(mockBaseHandler.getConf()).thenReturn(hiveConf);
  Mockito.doThrow(JDOException.class).when(mockBaseHandler).init();
  RetryingHMSHandler.getProxy(hiveConf,mockBaseHandler,false);
  Mockito.verify(mockBaseHandler,Mockito.times(RETRY_ATTEMPTS)).init();
}
