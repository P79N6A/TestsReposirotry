@Test public void testCredentialProviderWithNoPasswords() throws Exception {
  setupConfigs(true,false,false,true);
  HiveConfUtil.updateJobCredentialProviders(jobConf);
  Assert.assertEquals(JOB_CREDSTORE_LOCATION,jobConf.get(HADOOP_CREDENTIAL_PROVIDER_PATH_CONFIG));
  Assert.assertNull(jobConf.get(JobConf.MAPRED_MAP_TASK_ENV));
  Assert.assertNull(jobConf.get(JobConf.MAPRED_REDUCE_TASK_ENV));
  resetConfig();
  setupConfigs(true,false,false,false);
  HiveConfUtil.updateJobCredentialProviders(jobConf);
  Assert.assertEquals(HADOOP_CREDSTORE_LOCATION,jobConf.get(HADOOP_CREDENTIAL_PROVIDER_PATH_CONFIG));
  Assert.assertNull(jobConf.get(JobConf.MAPRED_MAP_TASK_ENV));
  Assert.assertNull(jobConf.get(JobConf.MAPRED_REDUCE_TASK_ENV));
}
