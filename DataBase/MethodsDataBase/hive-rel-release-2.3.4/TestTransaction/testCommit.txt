@Test public void testCommit() throws Exception {
  transaction.commit();
  verify(mockLock).release();
  verify(mockMetaStoreClient).commitTxn(TRANSACTION_ID);
  assertThat(transaction.getState(),is(TransactionBatch.TxnState.COMMITTED));
}
