@Test public void testLogin() throws Exception {
  String servicePrinc=miniHiveKdc.getHiveServicePrincipal();
  assertNotNull(servicePrinc);
  miniHiveKdc.loginUser(servicePrinc);
  assertTrue(UserGroupInformation.isLoginKeytabBased());
  UserGroupInformation ugi=Utils.getUGI();
  assertEquals(MiniHiveKdc.HIVE_SERVICE_PRINCIPAL,ugi.getShortUserName());
}
