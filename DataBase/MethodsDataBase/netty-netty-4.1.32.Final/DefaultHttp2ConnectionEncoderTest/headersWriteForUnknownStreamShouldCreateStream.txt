@Test public void headersWriteForUnknownStreamShouldCreateStream() throws Exception {
  writeAllFlowControlledFrames();
  final int streamId=6;
  ChannelPromise promise=newPromise();
  encoder.writeHeaders(ctx,streamId,EmptyHttp2Headers.INSTANCE,0,false,promise);
  verify(writer).writeHeaders(eq(ctx),eq(streamId),eq(EmptyHttp2Headers.INSTANCE),eq(0),eq(DEFAULT_PRIORITY_WEIGHT),eq(false),eq(0),eq(false),eq(promise));
  assertTrue(promise.isSuccess());
}
