@Test(expected=ConnectTimeoutException.class) public void testKeyMismatch() throws Exception {
  server.config().setOption(EpollChannelOption.TCP_MD5SIG,Collections.<InetAddress,byte[]>singletonMap(NetUtil.LOCALHOST4,SERVER_KEY));
  EpollSocketChannel client=(EpollSocketChannel)new Bootstrap().group(GROUP).channel(EpollSocketChannel.class).handler(new ChannelInboundHandlerAdapter()).option(EpollChannelOption.TCP_MD5SIG,Collections.<InetAddress,byte[]>singletonMap(NetUtil.LOCALHOST4,BAD_KEY)).option(ChannelOption.CONNECT_TIMEOUT_MILLIS,1000).connect(server.localAddress()).syncUninterruptibly().channel();
  client.close().syncUninterruptibly();
}
