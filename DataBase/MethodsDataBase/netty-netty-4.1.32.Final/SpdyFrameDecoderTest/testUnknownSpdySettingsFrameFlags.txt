@Test public void testUnknownSpdySettingsFrameFlags() throws Exception {
  short type=4;
  byte flags=(byte)0xFE;
  int numSettings=0;
  int length=8 * numSettings + 4;
  ByteBuf buf=Unpooled.buffer(SPDY_HEADER_SIZE + length);
  encodeControlFrameHeader(buf,type,flags,length);
  buf.writeInt(numSettings);
  decoder.decode(buf);
  verify(delegate).readSettingsFrame(false);
  verify(delegate).readSettingsEnd();
  assertFalse(buf.isReadable());
  buf.release();
}
