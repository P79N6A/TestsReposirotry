@Test public void decodeLargerThanHeaderListSizeGoAway() throws Exception {
  decoder.maxHeaderListSize(MIN_HEADER_LIST_SIZE,MIN_HEADER_LIST_SIZE);
  ByteBuf buf=encode(b(":method"),b("GET"));
  final int streamId=1;
  try {
    decoder.decodeHeaders(streamId,buf);
    fail();
  }
 catch (  Http2Exception e) {
    assertEquals(Http2Error.PROTOCOL_ERROR,e.error());
  }
 finally {
    buf.release();
  }
}
