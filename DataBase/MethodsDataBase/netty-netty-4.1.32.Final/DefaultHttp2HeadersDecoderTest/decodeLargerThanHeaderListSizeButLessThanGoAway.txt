@Test public void decodeLargerThanHeaderListSizeButLessThanGoAway() throws Exception {
  decoder.maxHeaderListSize(MIN_HEADER_LIST_SIZE,MAX_HEADER_LIST_SIZE);
  ByteBuf buf=encode(b(":method"),b("GET"));
  final int streamId=1;
  try {
    decoder.decodeHeaders(streamId,buf);
    fail();
  }
 catch (  Http2Exception.HeaderListSizeException e) {
    assertEquals(streamId,e.streamId());
  }
 finally {
    buf.release();
  }
}
