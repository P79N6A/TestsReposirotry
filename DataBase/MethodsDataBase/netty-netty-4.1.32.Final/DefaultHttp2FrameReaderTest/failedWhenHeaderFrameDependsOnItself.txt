@Test(expected=Http2Exception.class) public void failedWhenHeaderFrameDependsOnItself() throws Http2Exception {
  ByteBuf input=Unpooled.buffer();
  try {
    Http2Headers headers=new DefaultHttp2Headers().authority("foo").method("get").path("/").scheme("https");
    writeHeaderFramePriorityPresent(input,1,headers,new Http2Flags().endOfHeaders(true).endOfStream(true).priorityPresent(true),1,10);
    frameReader.readFrame(ctx,input,listener);
  }
  finally {
    input.release();
  }
}
