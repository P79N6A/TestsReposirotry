@Test public void testUnsafeHeapBufferAndUnsafeDirectBuffer(){
  T allocator=newUnpooledAllocator();
  ByteBuf directBuffer=allocator.directBuffer();
  assertInstanceOf(directBuffer,PlatformDependent.hasUnsafe() ? UnpooledUnsafeDirectByteBuf.class : UnpooledDirectByteBuf.class);
  directBuffer.release();
  ByteBuf heapBuffer=allocator.heapBuffer();
  assertInstanceOf(heapBuffer,PlatformDependent.hasUnsafe() ? UnpooledUnsafeHeapByteBuf.class : UnpooledHeapByteBuf.class);
  heapBuffer.release();
}
