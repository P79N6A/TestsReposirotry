@Test public void testDataIsMultipleOfChunkSize2() throws Exception {
  DefaultFullHttpRequest request=new DefaultFullHttpRequest(HttpVersion.HTTP_1_1,HttpMethod.POST,"http://localhost");
  HttpPostRequestEncoder encoder=new HttpPostRequestEncoder(request,true);
  int length=7943;
  char[] array=new char[length];
  Arrays.fill(array,'a');
  String longText=new String(array);
  encoder.addBodyAttribute("foo",longText);
  assertNotNull(encoder.finalizeRequest());
  checkNextChunkSize(encoder,8080);
  HttpContent httpContent=encoder.readChunk((ByteBufAllocator)null);
  assertTrue("Expected LastHttpContent is not received",httpContent instanceof LastHttpContent);
  httpContent.release();
  assertTrue("Expected end of input is not receive",encoder.isEndOfInput());
}
