@Test(expected=IllegalReferenceCountException.class) public void shouldErrorOnReleasecontentOfArrayChildReferenceCounted() throws Exception {
  ByteBuf buf=Unpooled.buffer();
  buf.writeBytes(byteBufOf("*2\r\n"));
  buf.writeBytes(byteBufOf("$3\r\nFoo\r\n$3\r\nBar\r\n"));
  assertTrue(channel.writeInbound(buf));
  ArrayRedisMessage msg=channel.readInbound();
  List<RedisMessage> children=msg.children();
  ByteBuf childBuf=((FullBulkStringRedisMessage)children.get(0)).content();
  ReferenceCountUtil.release(msg);
  ReferenceCountUtil.release(childBuf);
}
