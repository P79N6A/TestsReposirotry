@Test public void shouldDecodeNullBulkString(){
  assertFalse(channel.writeInbound(byteBufOf("$")));
  assertFalse(channel.writeInbound(byteBufOf(Integer.toString(-1))));
  assertTrue(channel.writeInbound(byteBufOf("\r\n")));
  assertTrue(channel.writeInbound(byteBufOf("$")));
  assertTrue(channel.writeInbound(byteBufOf(Integer.toString(-1))));
  assertTrue(channel.writeInbound(byteBufOf("\r\n")));
  FullBulkStringRedisMessage msg1=channel.readInbound();
  assertThat(msg1.isNull(),is(true));
  ReferenceCountUtil.release(msg1);
  FullBulkStringRedisMessage msg2=channel.readInbound();
  assertThat(msg2.isNull(),is(true));
  ReferenceCountUtil.release(msg2);
  FullBulkStringRedisMessage msg3=channel.readInbound();
  assertThat(msg3,is(nullValue()));
}
