@SuppressWarnings("unchecked") @Test public void testSuccessfulNoPending() throws Exception {
  Promise<Void> p=mock(Promise.class);
  PromiseAggregator<Void,Future<Void>> a=new PromiseAggregator<Void,Future<Void>>(p);
  Future<Void> future=mock(Future.class);
  when(p.setSuccess(null)).thenReturn(p);
  a.add();
  a.operationComplete(future);
  verifyNoMoreInteractions(future);
  verify(p).setSuccess(null);
}
