@Test public void shouldEncodeExtras(){
  String extrasContent="netty<3memcache";
  ByteBuf extras=Unpooled.copiedBuffer(extrasContent,CharsetUtil.UTF_8);
  int extrasLength=extras.readableBytes();
  BinaryMemcacheRequest request=new DefaultBinaryMemcacheRequest(Unpooled.EMPTY_BUFFER,extras);
  boolean result=channel.writeOutbound(request);
  assertThat(result,is(true));
  ByteBuf written=channel.readOutbound();
  assertThat(written.readableBytes(),is(DEFAULT_HEADER_SIZE + extrasLength));
  written.skipBytes(DEFAULT_HEADER_SIZE);
  assertThat(written.readSlice(extrasLength).toString(CharsetUtil.UTF_8),equalTo(extrasContent));
  written.release();
}
