@Test public void shouldEncodeKey(){
  ByteBuf key=Unpooled.copiedBuffer("netty",CharsetUtil.UTF_8);
  int keyLength=key.readableBytes();
  BinaryMemcacheRequest request=new DefaultBinaryMemcacheRequest(key);
  boolean result=channel.writeOutbound(request);
  assertThat(result,is(true));
  ByteBuf written=channel.readOutbound();
  assertThat(written.readableBytes(),is(DEFAULT_HEADER_SIZE + keyLength));
  written.skipBytes(DEFAULT_HEADER_SIZE);
  assertThat(written.readSlice(keyLength).toString(CharsetUtil.UTF_8),equalTo("netty"));
  written.release();
}
