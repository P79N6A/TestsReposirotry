@Test public void testSupportedCiphers() throws KeyManagementException, NoSuchAlgorithmException, SSLException {
  SSLContext jdkSslContext=SSLContext.getInstance("TLS");
  jdkSslContext.init(null,null,null);
  SSLEngine sslEngine=jdkSslContext.createSSLEngine();
  String unsupportedCipher="TLS_DH_anon_WITH_DES_CBC_SHA";
  IllegalArgumentException exception=null;
  try {
    sslEngine.setEnabledCipherSuites(new String[]{unsupportedCipher});
  }
 catch (  IllegalArgumentException e) {
    exception=e;
  }
  assumeNotNull(exception);
  File keyFile=new File(getClass().getResource("test_unencrypted.pem").getFile());
  File crtFile=new File(getClass().getResource("test.crt").getFile());
  SslContext sslContext=newServerContext(crtFile,keyFile,null);
  assertFalse(sslContext.cipherSuites().contains(unsupportedCipher));
}
