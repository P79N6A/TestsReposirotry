@Test public void createOutboundStream() throws Exception {
  Channel childChannel=newOutboundStream(new TestChannelInitializer());
  assertTrue(childChannel.isRegistered());
  assertTrue(childChannel.isActive());
  Http2Headers headers=new DefaultHttp2Headers();
  childChannel.writeAndFlush(new DefaultHttp2HeadersFrame(headers));
  ByteBuf data=Unpooled.buffer(100).writeZero(100);
  childChannel.writeAndFlush(new DefaultHttp2DataFrame(data,true));
  Http2HeadersFrame headersFrame=serverLastInboundHandler.blockingReadInbound();
  assertNotNull(headersFrame);
  assertEquals(3,headersFrame.stream().id());
  assertEquals(headers,headersFrame.headers());
  Http2DataFrame dataFrame=serverLastInboundHandler.blockingReadInbound();
  assertNotNull(dataFrame);
  assertEquals(3,dataFrame.stream().id());
  assertEquals(data.resetReaderIndex(),dataFrame.content());
  assertTrue(dataFrame.isEndStream());
  dataFrame.release();
  childChannel.close();
  Http2ResetFrame rstFrame=serverLastInboundHandler.blockingReadInbound();
  assertNotNull(rstFrame);
  assertEquals(3,rstFrame.stream().id());
  serverLastInboundHandler.checkException();
}
