@Test public void testScheduleTimeoutShouldNotRunBeforeDelay() throws InterruptedException {
  final Timer timer=new HashedWheelTimer();
  final CountDownLatch barrier=new CountDownLatch(1);
  final Timeout timeout=timer.newTimeout(new TimerTask(){
    @Override public void run(    Timeout timeout) throws Exception {
      fail("This should not have run");
      barrier.countDown();
    }
  }
,10,TimeUnit.SECONDS);
  assertFalse(barrier.await(3,TimeUnit.SECONDS));
  assertFalse("timer should not expire",timeout.isExpired());
  timer.stop();
}
