@Test public void testScheduleTimeoutShouldRunAfterDelay() throws InterruptedException {
  final Timer timer=new HashedWheelTimer();
  final CountDownLatch barrier=new CountDownLatch(1);
  final Timeout timeout=timer.newTimeout(new TimerTask(){
    @Override public void run(    Timeout timeout) throws Exception {
      barrier.countDown();
    }
  }
,2,TimeUnit.SECONDS);
  assertTrue(barrier.await(3,TimeUnit.SECONDS));
  assertTrue("timer should expire",timeout.isExpired());
  timer.stop();
}
