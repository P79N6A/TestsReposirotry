@Test public void testInvalidCipher() throws Exception {
  SelfSignedCertificate cert=new SelfSignedCertificate();
  List<String> cipherList=new ArrayList<String>();
  Collections.addAll(cipherList,((SSLSocketFactory)SSLSocketFactory.getDefault()).getDefaultCipherSuites());
  cipherList.add("InvalidCipher");
  SSLEngine server=null;
  try {
    serverSslCtx=SslContextBuilder.forServer(cert.key(),cert.cert()).sslProvider(sslClientProvider()).ciphers(cipherList).build();
    server=wrapEngine(serverSslCtx.newEngine(UnpooledByteBufAllocator.DEFAULT));
    fail();
  }
 catch (  IllegalArgumentException expected) {
  }
catch (  SSLException expected) {
  }
 finally {
    cert.delete();
    cleanupServerSslEngine(server);
  }
}
