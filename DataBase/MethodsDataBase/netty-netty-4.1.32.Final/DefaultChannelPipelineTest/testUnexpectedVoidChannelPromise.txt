@Test(expected=IllegalArgumentException.class) public void testUnexpectedVoidChannelPromise() throws Exception {
  ChannelPipeline pipeline=new LocalChannel().pipeline();
  group.register(pipeline.channel()).sync();
  try {
    ChannelPromise promise=new VoidChannelPromise(pipeline.channel(),false);
    pipeline.close(promise);
  }
  finally {
    pipeline.close();
  }
}
