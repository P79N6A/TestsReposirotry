@Test(timeout=10000) public void testRemoveAndForwardOutbound() throws Exception {
  final BufferedTestHandler handler1=new BufferedTestHandler();
  final BufferedTestHandler handler2=new BufferedTestHandler();
  setUp(handler1,handler2);
  self.eventLoop().submit(new Runnable(){
    @Override public void run(){
      ChannelPipeline p=self.pipeline();
      handler2.outboundBuffer.add(8);
      assertEquals(8,handler2.outboundBuffer.peek());
      assertTrue(handler1.outboundBuffer.isEmpty());
      p.remove(handler2);
      assertEquals(1,handler1.outboundBuffer.size());
      assertEquals(8,handler1.outboundBuffer.peek());
    }
  }
).sync();
}
