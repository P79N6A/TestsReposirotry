@Test public void testCancelDisconnect() throws Exception {
  ChannelPipeline pipeline=new LocalChannel().pipeline();
  group.register(pipeline.channel());
  ChannelPromise promise=pipeline.channel().newPromise();
  assertTrue(promise.cancel(false));
  ChannelFuture future=pipeline.disconnect(promise);
  assertTrue(future.isCancelled());
}
