@Test public void testAddRemoveHandlerNotRegistered() throws Throwable {
  final AtomicReference<Throwable> error=new AtomicReference<Throwable>();
  ChannelHandler handler=new ErrorChannelHandler(error);
  ChannelPipeline pipeline=new LocalChannel().pipeline();
  pipeline.addFirst(handler);
  pipeline.remove(handler);
  Throwable cause=error.get();
  if (cause != null) {
    throw cause;
  }
}
