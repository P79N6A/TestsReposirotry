@Test(expected=IllegalArgumentException.class) public void testWrongPromiseChannel() throws Exception {
  ChannelPipeline pipeline=new LocalChannel().pipeline();
  group.register(pipeline.channel()).sync();
  ChannelPipeline pipeline2=new LocalChannel().pipeline();
  group.register(pipeline2.channel()).sync();
  try {
    ChannelPromise promise2=pipeline2.channel().newPromise();
    pipeline.close(promise2);
  }
  finally {
    pipeline.close();
    pipeline2.close();
  }
}
