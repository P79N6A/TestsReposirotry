/** 
 * In this test, we verify that the highest priority frame which has 0 bytes to send, but an empty frame is able to send that empty frame. <pre> 0 / \ A   B / \ C   D </pre> After the tree shift: <pre> 0 | A | B / \ C   D </pre>
 */
@Test public void emptyFrameAtHeadIsWritten() throws Http2Exception {
  initState(STREAM_A,0,true);
  initState(STREAM_B,0,true);
  initState(STREAM_C,0,true);
  initState(STREAM_D,10,true);
  setPriority(STREAM_B,STREAM_A,DEFAULT_PRIORITY_WEIGHT,true);
  assertFalse(write(10));
  verifyWrite(STREAM_A,0);
  verifyWrite(STREAM_B,0);
  verifyWrite(STREAM_C,0);
  verifyWrite(STREAM_D,10);
}
