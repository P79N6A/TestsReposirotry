/** 
 * In this test, we block B which allows all bytes to be written by A. Once A is complete, it will spill over the remaining of its portion to its children. <pre> 0 / \ A  [B] / \ C   D </pre>
 */
@Test public void parentShouldWaterFallDataToChildren() throws Http2Exception {
  initState(STREAM_A,5,true);
  initState(STREAM_C,10,true);
  initState(STREAM_D,10,true);
  assertTrue(write(10));
  verifyWrite(STREAM_A,5);
  verifyNeverWrite(STREAM_B);
  verifyWrite(STREAM_C,5);
  verifyNeverWrite(STREAM_D);
  assertFalse(write(15));
  verifyAnyWrite(STREAM_A,1);
  verifyNeverWrite(STREAM_B);
  verifyWrite(times(2),STREAM_C,5);
  verifyWrite(STREAM_D,10);
}
