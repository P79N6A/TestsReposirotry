/** 
 * In this test, we call distribute with 0 bytes and verify that all streams with 0 bytes are written. <pre> 0 / \ A   B / \ C   D </pre> After the tree shift: <pre> 0 | [A] | B / \ C   D </pre>
 */
@Test public void zeroDistributeShouldWriteAllZeroFrames() throws Http2Exception {
  initState(STREAM_A,400,false);
  initState(STREAM_B,0,true);
  initState(STREAM_C,0,true);
  initState(STREAM_D,0,true);
  setPriority(STREAM_B,STREAM_A,DEFAULT_PRIORITY_WEIGHT,true);
  assertFalse(write(0));
  verifyNeverWrite(STREAM_A);
  verifyWrite(STREAM_B,0);
  verifyAnyWrite(STREAM_B,1);
  verifyWrite(STREAM_C,0);
  verifyAnyWrite(STREAM_C,1);
  verifyWrite(STREAM_D,0);
  verifyAnyWrite(STREAM_D,1);
}
