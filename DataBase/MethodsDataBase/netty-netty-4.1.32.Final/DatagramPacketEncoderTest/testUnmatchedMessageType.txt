@Test public void testUnmatchedMessageType(){
  InetSocketAddress recipient=SocketUtils.socketAddress("127.0.0.1",10000);
  InetSocketAddress sender=SocketUtils.socketAddress("127.0.0.1",20000);
  DefaultAddressedEnvelope<Long,InetSocketAddress> envelope=new DefaultAddressedEnvelope<Long,InetSocketAddress>(1L,recipient,sender);
  assertTrue(channel.writeOutbound(envelope));
  DefaultAddressedEnvelope<Long,InetSocketAddress> output=channel.readOutbound();
  try {
    assertSame(envelope,output);
  }
  finally {
    output.release();
  }
}
