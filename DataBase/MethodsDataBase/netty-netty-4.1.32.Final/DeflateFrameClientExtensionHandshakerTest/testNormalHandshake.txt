@Test public void testNormalHandshake(){
  DeflateFrameClientExtensionHandshaker handshaker=new DeflateFrameClientExtensionHandshaker(false);
  WebSocketClientExtension extension=handshaker.handshakeExtension(new WebSocketExtensionData(DEFLATE_FRAME_EXTENSION,Collections.<String,String>emptyMap()));
  assertNotNull(extension);
  assertEquals(WebSocketClientExtension.RSV1,extension.rsv());
  assertTrue(extension.newExtensionDecoder() instanceof PerFrameDeflateDecoder);
  assertTrue(extension.newExtensionEncoder() instanceof PerFrameDeflateEncoder);
}
