@Test public void shouldLogByteBufHolderDataRead() throws Exception {
  ByteBufHolder msg=new DefaultByteBufHolder(Unpooled.copiedBuffer("hello",CharsetUtil.UTF_8)){
    @Override public String toString(){
      return "foobar";
    }
  }
;
  EmbeddedChannel channel=new EmbeddedChannel(new LoggingHandler());
  channel.writeInbound(msg);
  verify(appender).doAppend(argThat(new RegexLogMatcher(".+READ: foobar, 5B$")));
  ByteBufHolder handledMsg=channel.readInbound();
  assertThat(msg,is(sameInstance(handledMsg)));
  handledMsg.release();
  assertThat(channel.readInbound(),is(nullValue()));
}
