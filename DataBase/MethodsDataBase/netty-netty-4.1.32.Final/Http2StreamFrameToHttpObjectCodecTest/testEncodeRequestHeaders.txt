@Test public void testEncodeRequestHeaders() throws Exception {
  EmbeddedChannel ch=new EmbeddedChannel(new Http2StreamFrameToHttpObjectCodec(false));
  HttpRequest request=new DefaultHttpRequest(HttpVersion.HTTP_1_1,HttpMethod.GET,"/hello/world");
  assertTrue(ch.writeOutbound(request));
  Http2HeadersFrame headersFrame=ch.readOutbound();
  Http2Headers headers=headersFrame.headers();
  assertThat(headers.scheme().toString(),is("http"));
  assertThat(headers.method().toString(),is("GET"));
  assertThat(headers.path().toString(),is("/hello/world"));
  assertFalse(headersFrame.isEndStream());
  assertThat(ch.readOutbound(),is(nullValue()));
  assertFalse(ch.finish());
}
