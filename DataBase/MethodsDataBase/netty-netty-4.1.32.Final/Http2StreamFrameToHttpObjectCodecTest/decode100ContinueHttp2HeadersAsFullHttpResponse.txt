@Test public void decode100ContinueHttp2HeadersAsFullHttpResponse() throws Exception {
  EmbeddedChannel ch=new EmbeddedChannel(new Http2StreamFrameToHttpObjectCodec(false));
  Http2Headers headers=new DefaultHttp2Headers();
  headers.scheme(HttpScheme.HTTP.name());
  headers.status(HttpResponseStatus.CONTINUE.codeAsText());
  assertTrue(ch.writeInbound(new DefaultHttp2HeadersFrame(headers,false)));
  final FullHttpResponse response=ch.readInbound();
  try {
    assertThat(response.status(),is(HttpResponseStatus.CONTINUE));
    assertThat(response.protocolVersion(),is(HttpVersion.HTTP_1_1));
  }
  finally {
    response.release();
  }
  assertThat(ch.readInbound(),is(nullValue()));
  assertFalse(ch.finish());
}
