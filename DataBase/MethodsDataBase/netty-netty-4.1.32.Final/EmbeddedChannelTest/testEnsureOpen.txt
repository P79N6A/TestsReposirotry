@Test public void testEnsureOpen() throws InterruptedException {
  EmbeddedChannel channel=new EmbeddedChannel();
  channel.close().syncUninterruptibly();
  try {
    channel.writeOutbound("Hello, Netty!");
    fail("This should have failed with a ClosedChannelException");
  }
 catch (  Exception expected) {
    assertTrue(expected instanceof ClosedChannelException);
  }
  try {
    channel.writeInbound("Hello, Netty!");
    fail("This should have failed with a ClosedChannelException");
  }
 catch (  Exception expected) {
    assertTrue(expected instanceof ClosedChannelException);
  }
}
