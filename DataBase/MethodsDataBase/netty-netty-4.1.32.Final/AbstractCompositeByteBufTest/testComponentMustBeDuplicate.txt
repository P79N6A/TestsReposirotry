@SuppressWarnings("deprecation") @Test public void testComponentMustBeDuplicate(){
  CompositeByteBuf buf=compositeBuffer();
  buf.addComponent(buffer(4,6).setIndex(1,3));
  assertThat(buf.component(0),is(instanceOf(AbstractDerivedByteBuf.class)));
  assertThat(buf.component(0).capacity(),is(4));
  assertThat(buf.component(0).maxCapacity(),is(6));
  assertThat(buf.component(0).readableBytes(),is(2));
  buf.release();
}
