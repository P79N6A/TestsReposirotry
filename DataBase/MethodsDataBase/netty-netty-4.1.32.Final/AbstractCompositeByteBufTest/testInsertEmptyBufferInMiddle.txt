@Test public void testInsertEmptyBufferInMiddle(){
  CompositeByteBuf cbuf=compositeBuffer();
  ByteBuf buf1=buffer().writeByte((byte)1);
  cbuf.addComponent(true,buf1);
  ByteBuf buf2=buffer().writeByte((byte)2);
  cbuf.addComponent(true,buf2);
  cbuf.addComponent(true,1,EMPTY_BUFFER);
  assertEquals(2,cbuf.readableBytes());
  assertEquals((byte)1,cbuf.readByte());
  assertEquals((byte)2,cbuf.readByte());
  assertEquals(2,cbuf.capacity());
  assertEquals(3,cbuf.numComponents());
  byte[] dest=new byte[2];
  cbuf.getBytes(0,dest);
  assertArrayEquals(new byte[]{1,2},dest);
  cbuf.release();
}
