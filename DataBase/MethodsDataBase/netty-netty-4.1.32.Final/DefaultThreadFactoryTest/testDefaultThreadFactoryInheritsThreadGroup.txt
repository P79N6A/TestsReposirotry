@Test(timeout=2000) public void testDefaultThreadFactoryInheritsThreadGroup() throws InterruptedException {
  final ThreadGroup sticky=new ThreadGroup("sticky");
  runStickyThreadGroupTest(new Callable<DefaultThreadFactory>(){
    @Override public DefaultThreadFactory call() throws Exception {
      final AtomicReference<DefaultThreadFactory> factory=new AtomicReference<DefaultThreadFactory>();
      final Thread thread=new Thread(sticky,new Runnable(){
        @Override public void run(){
          factory.set(new DefaultThreadFactory("test"));
        }
      }
);
      thread.start();
      thread.join();
      return factory.get();
    }
  }
,sticky);
}
