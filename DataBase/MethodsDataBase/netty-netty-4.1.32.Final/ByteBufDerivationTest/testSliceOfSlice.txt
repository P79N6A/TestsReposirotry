@Test public void testSliceOfSlice() throws Exception {
  ByteBuf buf=Unpooled.buffer(8);
  ByteBuf slice=buf.slice(1,7);
  ByteBuf slice2=slice.slice(0,6);
  assertThat(slice2,not(sameInstance(slice)));
  assertThat(slice2,instanceOf(AbstractUnpooledSlicedByteBuf.class));
  assertThat(slice2.unwrap(),sameInstance(buf));
  assertThat(slice2.writerIndex(),is(6));
  assertThat(slice2.capacity(),is(6));
}
