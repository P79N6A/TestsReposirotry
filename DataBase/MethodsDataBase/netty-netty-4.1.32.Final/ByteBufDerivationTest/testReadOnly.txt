@Test public void testReadOnly() throws Exception {
  ByteBuf buf=Unpooled.buffer(8).setIndex(1,7);
  ByteBuf ro=Unpooled.unmodifiableBuffer(buf);
  assertThat(ro,instanceOf(ReadOnlyByteBuf.class));
  assertThat(ro.unwrap(),sameInstance(buf));
  assertThat(ro.readerIndex(),is(buf.readerIndex()));
  assertThat(ro.writerIndex(),is(buf.writerIndex()));
  assertThat(ro.capacity(),is(buf.capacity()));
  assertThat(ro.maxCapacity(),is(buf.maxCapacity()));
  ro.setIndex(2,6);
  assertThat(buf.readerIndex(),is(1));
}
