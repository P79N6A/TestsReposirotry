@Test(timeout=5000) public void testGracefulShutdownQuietPeriod() throws Exception {
  loopA.shutdownGracefully(1,Integer.MAX_VALUE,TimeUnit.SECONDS);
  for (int i=0; i < 20; i++) {
    Thread.sleep(100);
    loopA.execute(NOOP);
  }
  long startTime=System.nanoTime();
  assertThat(loopA.isShuttingDown(),is(true));
  assertThat(loopA.isShutdown(),is(false));
  while (!loopA.isTerminated()) {
    loopA.awaitTermination(Integer.MAX_VALUE,TimeUnit.SECONDS);
  }
  assertThat(System.nanoTime() - startTime,is(greaterThanOrEqualTo(TimeUnit.SECONDS.toNanos(1))));
}
