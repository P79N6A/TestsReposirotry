@Test public void shouldConsolidationInSequence(){
  ByteBuf currentBuffer=wrappedBuffer(wrappedBuffer("a".getBytes(CharsetUtil.US_ASCII)),wrappedBuffer("=".getBytes(CharsetUtil.US_ASCII)));
  currentBuffer=wrappedBuffer(currentBuffer,wrappedBuffer("1".getBytes(CharsetUtil.US_ASCII)),wrappedBuffer("&".getBytes(CharsetUtil.US_ASCII)));
  currentBuffer=wrappedBuffer(currentBuffer,wrappedBuffer("b".getBytes(CharsetUtil.US_ASCII)),wrappedBuffer("=".getBytes(CharsetUtil.US_ASCII)));
  currentBuffer=wrappedBuffer(currentBuffer,wrappedBuffer("2".getBytes(CharsetUtil.US_ASCII)),wrappedBuffer("&".getBytes(CharsetUtil.US_ASCII)));
  currentBuffer=wrappedBuffer(currentBuffer,wrappedBuffer("c".getBytes(CharsetUtil.US_ASCII)),wrappedBuffer("=".getBytes(CharsetUtil.US_ASCII)));
  currentBuffer=wrappedBuffer(currentBuffer,wrappedBuffer("3".getBytes(CharsetUtil.US_ASCII)),wrappedBuffer("&".getBytes(CharsetUtil.US_ASCII)));
  currentBuffer=wrappedBuffer(currentBuffer,wrappedBuffer("d".getBytes(CharsetUtil.US_ASCII)),wrappedBuffer("=".getBytes(CharsetUtil.US_ASCII)));
  currentBuffer=wrappedBuffer(currentBuffer,wrappedBuffer("4".getBytes(CharsetUtil.US_ASCII)),wrappedBuffer("&".getBytes(CharsetUtil.US_ASCII)));
  currentBuffer=wrappedBuffer(currentBuffer,wrappedBuffer("e".getBytes(CharsetUtil.US_ASCII)),wrappedBuffer("=".getBytes(CharsetUtil.US_ASCII)));
  currentBuffer=wrappedBuffer(currentBuffer,wrappedBuffer("5".getBytes(CharsetUtil.US_ASCII)),wrappedBuffer("&".getBytes(CharsetUtil.US_ASCII)));
  ByteBuf copy=currentBuffer.copy();
  String s=copy.toString(CharsetUtil.US_ASCII);
  assertEquals("a=1&b=2&c=3&d=4&e=5&",s);
  currentBuffer.release();
  copy.release();
}
