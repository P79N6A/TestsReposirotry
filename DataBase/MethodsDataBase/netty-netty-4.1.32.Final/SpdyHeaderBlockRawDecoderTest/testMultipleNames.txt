@Test public void testMultipleNames() throws Exception {
  ByteBuf headerBlock=Unpooled.buffer(38);
  headerBlock.writeInt(2);
  headerBlock.writeInt(4);
  headerBlock.writeBytes(nameBytes);
  headerBlock.writeInt(5);
  headerBlock.writeBytes(valueBytes);
  headerBlock.writeInt(4);
  headerBlock.writeBytes(nameBytes);
  headerBlock.writeInt(5);
  headerBlock.writeBytes(valueBytes);
  decoder.decode(ByteBufAllocator.DEFAULT,headerBlock,frame);
  assertFalse(headerBlock.isReadable());
  assertTrue(frame.isInvalid());
  assertEquals(1,frame.headers().names().size());
  assertTrue(frame.headers().contains(name));
  assertEquals(1,frame.headers().getAll(name).size());
  assertEquals(value,frame.headers().get(name));
  headerBlock.release();
}
