@Test public void nullParametersShouldBeHandledWithoutBarfing(){
  String result=MessageFormatter.format("Value is {}.",null).getMessage();
  assertEquals("Value is null.",result);
  result=MessageFormatter.format("Val1 is {}, val2 is {}.",null,null).getMessage();
  assertEquals("Val1 is null, val2 is null.",result);
  result=MessageFormatter.format("Val1 is {}, val2 is {}.",1,null).getMessage();
  assertEquals("Val1 is 1, val2 is null.",result);
  result=MessageFormatter.format("Val1 is {}, val2 is {}.",null,2).getMessage();
  assertEquals("Val1 is null, val2 is 2.",result);
  result=MessageFormatter.arrayFormat("Val1 is {}, val2 is {}, val3 is {}",new Integer[]{null,null,null}).getMessage();
  assertEquals("Val1 is null, val2 is null, val3 is null",result);
  result=MessageFormatter.arrayFormat("Val1 is {}, val2 is {}, val3 is {}",new Integer[]{null,2,3}).getMessage();
  assertEquals("Val1 is null, val2 is 2, val3 is 3",result);
  result=MessageFormatter.arrayFormat("Val1 is {}, val2 is {}, val3 is {}",new Integer[]{null,null,3}).getMessage();
  assertEquals("Val1 is null, val2 is null, val3 is 3",result);
}
