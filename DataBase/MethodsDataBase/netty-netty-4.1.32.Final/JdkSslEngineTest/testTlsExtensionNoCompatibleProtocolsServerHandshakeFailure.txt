@Test public void testTlsExtensionNoCompatibleProtocolsServerHandshakeFailure() throws Exception {
  try {
    providerType.activate(this);
    ApplicationProtocolConfig clientApn=acceptingNegotiator(providerType.protocol(),PREFERRED_APPLICATION_LEVEL_PROTOCOL);
    ApplicationProtocolConfig serverApn=failingNegotiator(providerType.protocol(),APPLICATION_LEVEL_PROTOCOL_NOT_COMPATIBLE);
    setupHandlers(serverApn,clientApn);
    assertTrue(serverLatch.await(2,TimeUnit.SECONDS));
    assertTrue(serverException instanceof SSLHandshakeException);
  }
 catch (  SkipTestException e) {
    assumeNoException(e);
  }
}
