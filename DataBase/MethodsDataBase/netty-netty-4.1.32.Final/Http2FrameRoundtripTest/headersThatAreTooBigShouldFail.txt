@Test public void headersThatAreTooBigShouldFail() throws Exception {
  reader=new DefaultHttp2FrameReader(false);
  final int maxListSize=100;
  reader.configuration().headersConfiguration().maxHeaderListSize(maxListSize,maxListSize);
  final Http2Headers headers=headersOfSize(maxListSize + 1);
  writer.writeHeaders(ctx,STREAM_ID,headers,2,(short)3,true,MAX_PADDING,true,ctx.newPromise());
  try {
    readFrames();
    fail();
  }
 catch (  Http2Exception e) {
    verify(listener,never()).onHeadersRead(any(ChannelHandlerContext.class),anyInt(),any(Http2Headers.class),anyInt(),anyShort(),anyBoolean(),anyInt(),anyBoolean());
  }
}
