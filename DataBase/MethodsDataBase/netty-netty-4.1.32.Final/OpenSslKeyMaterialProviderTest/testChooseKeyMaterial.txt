@Test public void testChooseKeyMaterial() throws Exception {
  OpenSslKeyMaterialProvider provider=newMaterialProvider(newKeyManagerFactory(),PASSWORD);
  OpenSslKeyMaterial nonExistingMaterial=provider.chooseKeyMaterial(UnpooledByteBufAllocator.DEFAULT,NON_EXISTING_ALIAS);
  assertNull(nonExistingMaterial);
  OpenSslKeyMaterial material=provider.chooseKeyMaterial(UnpooledByteBufAllocator.DEFAULT,EXISTING_ALIAS);
  assertNotNull(material);
  assertNotEquals(0,material.certificateChainAddress());
  assertNotEquals(0,material.privateKeyAddress());
  assertRelease(material);
  provider.destroy();
}
