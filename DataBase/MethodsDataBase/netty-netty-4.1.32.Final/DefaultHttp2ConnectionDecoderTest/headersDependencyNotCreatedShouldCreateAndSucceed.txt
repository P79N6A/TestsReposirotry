@Test public void headersDependencyNotCreatedShouldCreateAndSucceed() throws Exception {
  final short weight=1;
  decode().onHeadersRead(ctx,STREAM_ID,EmptyHttp2Headers.INSTANCE,STREAM_DEPENDENCY_ID,weight,true,0,true);
  verify(listener).onHeadersRead(eq(ctx),eq(STREAM_ID),eq(EmptyHttp2Headers.INSTANCE),eq(STREAM_DEPENDENCY_ID),eq(weight),eq(true),eq(0),eq(true));
  verify(remoteFlow).updateDependencyTree(eq(STREAM_ID),eq(STREAM_DEPENDENCY_ID),eq(weight),eq(true));
  verify(lifecycleManager).closeStreamRemote(eq(stream),any(ChannelFuture.class));
}
