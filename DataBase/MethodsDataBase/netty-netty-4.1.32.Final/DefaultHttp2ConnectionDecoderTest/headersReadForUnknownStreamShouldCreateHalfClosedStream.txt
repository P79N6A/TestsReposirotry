@Test public void headersReadForUnknownStreamShouldCreateHalfClosedStream() throws Exception {
  final int streamId=5;
  when(remote.createStream(eq(streamId),anyBoolean())).thenReturn(stream);
  decode().onHeadersRead(ctx,streamId,EmptyHttp2Headers.INSTANCE,0,true);
  verify(remote).createStream(eq(streamId),eq(true));
  verify(listener).onHeadersRead(eq(ctx),eq(streamId),eq(EmptyHttp2Headers.INSTANCE),eq(0),eq(DEFAULT_PRIORITY_WEIGHT),eq(false),eq(0),eq(true));
}
