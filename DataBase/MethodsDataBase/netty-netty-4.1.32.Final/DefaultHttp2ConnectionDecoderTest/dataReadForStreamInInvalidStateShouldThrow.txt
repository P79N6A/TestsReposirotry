@Test(expected=Http2Exception.class) public void dataReadForStreamInInvalidStateShouldThrow() throws Exception {
  when(stream.state()).thenReturn(Http2Stream.State.CLOSED);
  final ByteBuf data=dummyData();
  try {
    decode().onDataRead(ctx,STREAM_ID,data,10,true);
  }
  finally {
    data.release();
  }
}
