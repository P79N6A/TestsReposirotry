@Test public void testMultiLineHeader(){
  EmbeddedChannel channel=new EmbeddedChannel(new HttpRequestDecoder());
  String crlf="\r\n";
  String request="GET /some/path HTTP/1.1" + crlf + "Host: localhost"+ crlf+ "MyTestHeader: part1"+ crlf+ "              newLinePart2"+ crlf+ "MyTestHeader2: part21"+ crlf+ "\t            newLinePart22"+ crlf+ crlf;
  assertTrue(channel.writeInbound(Unpooled.copiedBuffer(request,CharsetUtil.US_ASCII)));
  HttpRequest req=channel.readInbound();
  assertEquals("part1 newLinePart2",req.headers().get(of("MyTestHeader")));
  assertEquals("part21 newLinePart22",req.headers().get(of("MyTestHeader2")));
  LastHttpContent c=channel.readInbound();
  c.release();
  assertFalse(channel.finish());
  assertNull(channel.readInbound());
}
