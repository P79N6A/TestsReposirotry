@Test(expected=IllegalArgumentException.class) public void testAlgorithmConstraintsThrows() throws Exception {
  SelfSignedCertificate ssc=new SelfSignedCertificate();
  serverSslCtx=SslContextBuilder.forServer(ssc.certificate(),ssc.privateKey()).sslProvider(sslServerProvider()).protocols(protocols()).ciphers(ciphers()).build();
  SSLEngine engine=wrapEngine(serverSslCtx.newEngine(UnpooledByteBufAllocator.DEFAULT));
  try {
    SSLParameters parameters=new SSLParameters();
    parameters.setAlgorithmConstraints(new AlgorithmConstraints(){
      @Override public boolean permits(      Set<CryptoPrimitive> primitives,      String algorithm,      AlgorithmParameters parameters){
        return false;
      }
      @Override public boolean permits(      Set<CryptoPrimitive> primitives,      Key key){
        return false;
      }
      @Override public boolean permits(      Set<CryptoPrimitive> primitives,      String algorithm,      Key key,      AlgorithmParameters parameters){
        return false;
      }
    }
);
    engine.setSSLParameters(parameters);
  }
  finally {
    cleanupServerSslEngine(engine);
    ssc.delete();
  }
}
