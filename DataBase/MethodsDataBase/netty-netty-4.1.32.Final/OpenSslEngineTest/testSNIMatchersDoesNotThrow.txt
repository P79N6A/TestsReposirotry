@Test public void testSNIMatchersDoesNotThrow() throws Exception {
  assumeTrue(PlatformDependent.javaVersion() >= 8);
  SelfSignedCertificate ssc=new SelfSignedCertificate();
  serverSslCtx=SslContextBuilder.forServer(ssc.certificate(),ssc.privateKey()).sslProvider(sslServerProvider()).protocols(protocols()).ciphers(ciphers()).build();
  SSLEngine engine=wrapEngine(serverSslCtx.newEngine(UnpooledByteBufAllocator.DEFAULT));
  try {
    SSLParameters parameters=new SSLParameters();
    Java8SslTestUtils.setSNIMatcher(parameters,EmptyArrays.EMPTY_BYTES);
    engine.setSSLParameters(parameters);
  }
  finally {
    cleanupServerSslEngine(engine);
    ssc.delete();
  }
}
