@Test public void testGetWithSystemProperty(){
  final String availableProcessorsSystemProperty=SystemPropertyUtil.get("io.netty.availableProcessors");
  try {
    System.setProperty("io.netty.availableProcessors","2048");
    final NettyRuntime.AvailableProcessorsHolder holder=new NettyRuntime.AvailableProcessorsHolder();
    assertThat(holder.availableProcessors(),equalTo(2048));
  }
  finally {
    if (availableProcessorsSystemProperty != null) {
      System.setProperty("io.netty.availableProcessors",availableProcessorsSystemProperty);
    }
 else {
      System.clearProperty("io.netty.availableProcessors");
    }
  }
}
