@Test public void preflightGetRequestWithCustomHeaders(){
  final CorsConfig config=forOrigin("http://localhost:8888").allowedRequestMethods(OPTIONS,GET,DELETE).allowedRequestHeaders("content-type","xheader1").build();
  final HttpResponse response=preflightRequest(config,"http://localhost:8888","content-type, xheader1");
  assertThat(response.headers().get(ACCESS_CONTROL_ALLOW_ORIGIN),is("http://localhost:8888"));
  assertThat(response.headers().get(ACCESS_CONTROL_ALLOW_METHODS),containsString("OPTIONS"));
  assertThat(response.headers().get(ACCESS_CONTROL_ALLOW_METHODS),containsString("GET"));
  assertThat(response.headers().get(ACCESS_CONTROL_ALLOW_HEADERS),containsString("content-type"));
  assertThat(response.headers().get(ACCESS_CONTROL_ALLOW_HEADERS),containsString("xheader1"));
  assertThat(response.headers().get(VARY),equalTo(ORIGIN.toString()));
}
