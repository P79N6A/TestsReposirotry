@Test public void testAddAllFail() throws Exception {
  RuntimeException e1=new RuntimeException("fake exception 1");
  RuntimeException e2=new RuntimeException("fake exception 2");
  mockFailedPromise(p1,e1,l1Consumer);
  mockFailedPromise(p2,e2,l2Consumer);
  combiner.addAll(p1,p2);
  combiner.finish(p3);
  l1.operationComplete(p1);
  verifyNotCompleted(p3);
  l2.operationComplete(p2);
  verifyFail(p3,e1);
}
