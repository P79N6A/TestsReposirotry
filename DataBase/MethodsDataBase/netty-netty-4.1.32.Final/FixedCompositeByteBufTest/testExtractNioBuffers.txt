@Test public void testExtractNioBuffers(){
  ByteBuf buf1=directBuffer(10);
  ByteBuf buf2=buffer(10);
  ByteBuf buf3=directBuffer(10);
  buf1.writeBytes("a".getBytes(Charset.defaultCharset()));
  buf2.writeBytes("b".getBytes(Charset.defaultCharset()));
  buf3.writeBytes("c".getBytes(Charset.defaultCharset()));
  ByteBuf composite=unmodifiableBuffer(buf1,buf2,buf3);
  ByteBuffer[] byteBuffers=composite.nioBuffers(0,3);
  assertEquals(3,byteBuffers.length);
  assertEquals(1,byteBuffers[0].limit());
  assertEquals(1,byteBuffers[1].limit());
  assertEquals(1,byteBuffers[2].limit());
  composite.release();
}
