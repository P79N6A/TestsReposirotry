@Test public void testCopyingToOtherBuffer(){
  ByteBuf buf1=directBuffer(10);
  ByteBuf buf2=buffer(10);
  ByteBuf buf3=directBuffer(10);
  buf1.writeBytes("a".getBytes(Charset.defaultCharset()));
  buf2.writeBytes("b".getBytes(Charset.defaultCharset()));
  buf3.writeBytes("c".getBytes(Charset.defaultCharset()));
  ByteBuf composite=unmodifiableBuffer(buf1,buf2,buf3);
  ByteBuf copy=directBuffer(3);
  ByteBuf copy2=buffer(3);
  copy.setBytes(0,composite,0,3);
  copy2.setBytes(0,composite,0,3);
  copy.writerIndex(3);
  copy2.writerIndex(3);
  assertEquals(0,ByteBufUtil.compare(copy,composite));
  assertEquals(0,ByteBufUtil.compare(copy2,composite));
  assertEquals(0,ByteBufUtil.compare(copy,copy2));
  copy.release();
  copy2.release();
  composite.release();
}
