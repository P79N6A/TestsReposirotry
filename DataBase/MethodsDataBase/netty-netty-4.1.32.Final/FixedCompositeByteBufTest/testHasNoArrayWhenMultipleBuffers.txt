@Test(expected=UnsupportedOperationException.class) public void testHasNoArrayWhenMultipleBuffers(){
  ByteBuf buf1=buffer(10);
  ByteBuf buf2=buffer(10);
  ByteBuf buf=newBuffer(buf1,buf2);
  assertFalse(buf.hasArray());
  try {
    buf.array();
    fail();
  }
  finally {
    buf.release();
  }
}
