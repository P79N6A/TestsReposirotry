@Override @Test(expected=IndexOutOfBoundsException.class) public void testGetBytesByteBuffer(){
  byte[] bytes={'a','b','c','d','e','f','g'};
  ByteBuffer nioBuffer=ByteBuffer.allocate(bytes.length + 1);
  ByteBuf wrappedBuffer=Unpooled.wrappedBuffer(bytes).slice(0,bytes.length - 1);
  try {
    wrappedBuffer.getBytes(wrappedBuffer.readerIndex(),nioBuffer);
  }
  finally {
    wrappedBuffer.release();
  }
}
