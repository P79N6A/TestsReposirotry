@Test public void testMultipleFramesDecoding(){
  ByteBuf incoming=Unpooled.buffer();
  incoming.writeBytes(StompTestConstants.CONNECT_FRAME.getBytes());
  incoming.writeBytes(StompTestConstants.CONNECTED_FRAME.getBytes());
  channel.writeInbound(incoming);
  StompHeadersSubframe frame=channel.readInbound();
  assertNotNull(frame);
  assertEquals(StompCommand.CONNECT,frame.command());
  StompContentSubframe content=channel.readInbound();
  assertSame(LastStompContentSubframe.EMPTY_LAST_CONTENT,content);
  content.release();
  StompHeadersSubframe frame2=channel.readInbound();
  assertNotNull(frame2);
  assertEquals(StompCommand.CONNECTED,frame2.command());
  StompContentSubframe content2=channel.readInbound();
  assertSame(LastStompContentSubframe.EMPTY_LAST_CONTENT,content2);
  content2.release();
  assertNull(channel.readInbound());
}
