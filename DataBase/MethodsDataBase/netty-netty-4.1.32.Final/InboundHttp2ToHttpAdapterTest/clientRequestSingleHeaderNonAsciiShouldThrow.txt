@Test public void clientRequestSingleHeaderNonAsciiShouldThrow() throws Exception {
  boostrapEnv(1,1,1);
  final Http2Headers http2Headers=new DefaultHttp2Headers().method(new AsciiString("GET")).scheme(new AsciiString("https")).authority(new AsciiString("example.org")).path(new AsciiString("/some/path/resource2")).add(new AsciiString("çã".getBytes(CharsetUtil.UTF_8)),new AsciiString("Ãã".getBytes(CharsetUtil.UTF_8)));
  runInChannel(clientChannel,new Http2Runnable(){
    @Override public void run() throws Http2Exception {
      clientHandler.encoder().writeHeaders(ctxClient(),3,http2Headers,0,true,newPromiseClient());
      clientChannel.flush();
    }
  }
);
  awaitResponses();
  assertTrue(isStreamError(clientException));
}
