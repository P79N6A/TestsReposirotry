@Test public void testPeerCreds() throws IOException {
  BsdSocket s1=BsdSocket.newSocketDomain();
  BsdSocket s2=BsdSocket.newSocketDomain();
  try {
    DomainSocketAddress dsa=UnixTestUtils.newSocketAddress();
    s1.bind(dsa);
    s1.listen(1);
    assertTrue(s2.connect(dsa));
    byte[] addr=new byte[64];
    s1.accept(addr);
    PeerCredentials pc=s1.getPeerCredentials();
    assertNotEquals(pc.uid(),-1);
  }
  finally {
    s1.close();
    s2.close();
  }
}
