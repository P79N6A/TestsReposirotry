/** 
 * This tests a simple GET request with a key as the value.
 */
@Test public void shouldDecodeRequestWithSimpleValue(){
  ByteBuf incoming=Unpooled.buffer();
  incoming.writeBytes(GET_REQUEST);
  channel.writeInbound(incoming);
  BinaryMemcacheRequest request=channel.readInbound();
  assertThat(request,notNullValue());
  assertThat(request.key(),notNullValue());
  assertThat(request.extras(),nullValue());
  assertThat(request.keyLength(),is((short)3));
  assertThat(request.extrasLength(),is((byte)0));
  assertThat(request.totalBodyLength(),is(3));
  request.release();
  assertThat(channel.readInbound(),instanceOf(LastMemcacheContent.class));
}
