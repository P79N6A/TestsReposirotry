@Test public void dependentPromiseIsFulfilledAfterTheConsumerConsumesTheResultOfThisPromise() throws InterruptedException, ExecutionException {
  Promise<Void> dependentPromise=promise.fulfillInAsync(new NumberCrunchingTask(),executor).thenAccept(value -> {
    assertEquals(NumberCrunchingTask.CRUNCHED_NUMBER,value);
  }
);
  dependentPromise.get();
  assertTrue(dependentPromise.isDone());
  assertFalse(dependentPromise.isCancelled());
}
