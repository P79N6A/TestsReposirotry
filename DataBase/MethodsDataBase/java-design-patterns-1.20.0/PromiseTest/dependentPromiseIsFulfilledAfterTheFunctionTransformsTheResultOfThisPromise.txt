@Test public void dependentPromiseIsFulfilledAfterTheFunctionTransformsTheResultOfThisPromise() throws InterruptedException, ExecutionException {
  Promise<String> dependentPromise=promise.fulfillInAsync(new NumberCrunchingTask(),executor).thenApply(value -> {
    assertEquals(NumberCrunchingTask.CRUNCHED_NUMBER,value);
    return String.valueOf(value);
  }
);
  assertEquals(String.valueOf(NumberCrunchingTask.CRUNCHED_NUMBER),dependentPromise.get());
  assertTrue(dependentPromise.isDone());
  assertFalse(dependentPromise.isCancelled());
}
