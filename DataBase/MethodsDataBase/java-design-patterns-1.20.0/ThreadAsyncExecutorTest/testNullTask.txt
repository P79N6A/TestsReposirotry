/** 
 * Test used to verify the behaviour of  {@link ThreadAsyncExecutor#startProcess(Callable)} when the callable is 'null'
 */
@Test public void testNullTask() throws Exception {
  assertTimeout(ofMillis(3000),() -> {
    final ThreadAsyncExecutor executor=new ThreadAsyncExecutor();
    final AsyncResult<Object> asyncResult=executor.startProcess(null);
    assertNotNull(asyncResult,"The AsyncResult should not be 'null', even though the task was 'null'.");
    asyncResult.await();
    assertTrue(asyncResult.isCompleted());
    try {
      asyncResult.getValue();
      fail("Expected ExecutionException with NPE as cause");
    }
 catch (    final ExecutionException e) {
      assertNotNull(e.getMessage());
      assertNotNull(e.getCause());
      assertEquals(NullPointerException.class,e.getCause().getClass());
    }
  }
);
}
