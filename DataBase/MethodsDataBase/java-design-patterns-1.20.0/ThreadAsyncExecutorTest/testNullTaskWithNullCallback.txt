/** 
 * Test used to verify the behaviour of  {@link ThreadAsyncExecutor#startProcess(Callable,AsyncCallback)} when boththe callable and the asynchronous callback are 'null'
 */
@Test public void testNullTaskWithNullCallback() throws Exception {
  assertTimeout(ofMillis(3000),() -> {
    final ThreadAsyncExecutor executor=new ThreadAsyncExecutor();
    final AsyncResult<Object> asyncResult=executor.startProcess(null,null);
    assertNotNull(asyncResult,"The AsyncResult should not be 'null', even though the task and callback were 'null'.");
    asyncResult.await();
    assertTrue(asyncResult.isCompleted());
    try {
      asyncResult.getValue();
      fail("Expected ExecutionException with NPE as cause");
    }
 catch (    final ExecutionException e) {
      assertNotNull(e.getMessage());
      assertNotNull(e.getCause());
      assertEquals(NullPointerException.class,e.getCause().getClass());
    }
  }
);
}
