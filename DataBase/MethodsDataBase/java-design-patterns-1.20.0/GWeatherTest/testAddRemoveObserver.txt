/** 
 * Add a  {@link WeatherObserver}, verify if it gets notified of a weather change, remove the observer again and verify that there are no more notifications.
 */
@Test public void testAddRemoveObserver(){
  final Race observer=mock(Race.class);
  final GWeather weather=new GWeather();
  weather.addObserver(observer);
  verifyZeroInteractions(observer);
  weather.timePasses();
  assertEquals("The weather changed to rainy.",appender.getLastMessage());
  verify(observer).update(weather,WeatherType.RAINY);
  weather.removeObserver(observer);
  weather.timePasses();
  assertEquals("The weather changed to windy.",appender.getLastMessage());
  verifyNoMoreInteractions(observer);
  assertEquals(2,appender.getLogSize());
}
