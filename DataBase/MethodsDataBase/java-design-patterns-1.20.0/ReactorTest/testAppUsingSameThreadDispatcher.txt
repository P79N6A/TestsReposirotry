/** 
 * Test the application using same thread dispatcher.
 * @throws IOException if any I/O error occurs.
 * @throws InterruptedException if interrupted while stopping the application.
 */
@Test public void testAppUsingSameThreadDispatcher() throws IOException, InterruptedException {
  LOGGER.info("testAppUsingSameThreadDispatcher start");
  App app=new App(new SameThreadDispatcher());
  app.start();
  AppClient client=new AppClient();
  client.start();
  try {
    Thread.sleep(2000);
  }
 catch (  InterruptedException e) {
    LOGGER.error("sleep interrupted",e);
  }
  client.stop();
  app.stop();
  LOGGER.info("testAppUsingSameThreadDispatcher stop");
}
