/** 
 * Test the application using pooled thread dispatcher.
 * @throws IOException if any I/O error occurs.
 * @throws InterruptedException if interrupted while stopping the application.
 */
@Test public void testAppUsingThreadPoolDispatcher() throws IOException, InterruptedException {
  LOGGER.info("testAppUsingThreadPoolDispatcher start");
  App app=new App(new ThreadPoolDispatcher(2));
  app.start();
  AppClient client=new AppClient();
  client.start();
  try {
    Thread.sleep(2000);
  }
 catch (  InterruptedException e) {
    LOGGER.error("sleep interrupted",e);
  }
  client.stop();
  app.stop();
  LOGGER.info("testAppUsingThreadPoolDispatcher stop");
}
