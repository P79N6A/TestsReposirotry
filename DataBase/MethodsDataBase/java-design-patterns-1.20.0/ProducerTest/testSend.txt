@Test public void testSend() throws Exception {
  final MqPublishPoint publishPoint=mock(MqPublishPoint.class);
  final Producer producer=new Producer("producer",publishPoint);
  verifyZeroInteractions(publishPoint);
  producer.send("Hello!");
  final ArgumentCaptor<Message> messageCaptor=ArgumentCaptor.forClass(Message.class);
  verify(publishPoint).put(messageCaptor.capture());
  final Message message=messageCaptor.getValue();
  assertNotNull(message);
  assertEquals("producer",message.getHeader(Message.Headers.SENDER));
  assertNotNull(message.getHeader(Message.Headers.DATE));
  assertEquals("Hello!",message.getBody());
  verifyNoMoreInteractions(publishPoint);
}
