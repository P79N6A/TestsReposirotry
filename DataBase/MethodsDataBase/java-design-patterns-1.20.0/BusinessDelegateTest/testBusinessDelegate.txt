/** 
 * In this example the client ( {@link Client}) utilizes a business delegate ( {@link BusinessDelegate}) to execute a task. The Business Delegate then selects the appropriate service and makes the service call.
 */
@Test public void testBusinessDelegate(){
  Client client=new Client(businessDelegate);
  businessDelegate.setServiceType(ServiceType.EJB);
  client.doTask();
  verify(businessDelegate).doTask();
  verify(ejbService).doProcessing();
  businessDelegate.setServiceType(ServiceType.JMS);
  client.doTask();
  verify(businessDelegate,times(2)).doTask();
  verify(jmsService).doProcessing();
}
