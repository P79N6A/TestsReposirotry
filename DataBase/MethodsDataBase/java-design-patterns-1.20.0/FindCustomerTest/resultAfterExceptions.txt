/** 
 * Should first throw the given exceptions, then return the given result.
 * @throws Exception not an expected exception
 */
@Test public void resultAfterExceptions() throws Exception {
  final BusinessOperation<String> op=new FindCustomer("123",new CustomerNotFoundException("not found"),new DatabaseNotAvailableException("not available"));
  try {
    op.perform();
  }
 catch (  CustomerNotFoundException e) {
  }
  try {
    op.perform();
  }
 catch (  DatabaseNotAvailableException e) {
  }
  assertThat(op.perform(),is("123"));
}
