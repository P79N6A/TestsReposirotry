@Test public void shouldCreateAnInstanceOfBasicUploaderWhenPortIsSerial() throws Exception {
  TargetBoard board=new LegacyTargetBoard("uno",new PreferencesMap(new HashMap<String,String>()),new TargetPlatformStub("id",new TargetPackageStub("id")));
  BoardPort boardPort=new BoardPort();
  boardPort.setBoardName("Arduino Leonardo");
  boardPort.setAddress("/dev/ttyACM0");
  boardPort.setProtocol("serial");
  Uploader uploader=new UploaderFactory().newUploader(board,boardPort,false);
  assertTrue(uploader instanceof SerialUploader);
}
