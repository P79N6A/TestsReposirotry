@Test public void testUpdatableLibrary() throws Exception {
  List<UserLibraryFolder> folders=new ArrayList<>();
  folders.add(new UserLibraryFolder(SD111,Location.IDE_BUILTIN));
  LibrariesIndexer indexer=new LibrariesIndexer(index_SD_only);
  BaseNoGui.librariesIndexer=indexer;
  indexer.parseIndex();
  indexer.setLibrariesFolders(folders);
  indexer.rescanLibraries();
  ContributedLibrary sdLib=indexer.getIndex().getInstalled("SD").get();
  assertTrue("SD lib is installed",sdLib.isLibraryInstalled());
  assertEquals("SD installed version","1.1.1",sdLib.getParsedVersion());
  assertTrue(ContributionsSelfCheck.checkForUpdatableLibraries());
  folders.add(new UserLibraryFolder(SD121,Location.SKETCHBOOK));
  indexer.setLibrariesFolders(folders);
  sdLib=indexer.getIndex().getInstalled("SD").get();
  assertTrue("SD lib is installed",sdLib.isLibraryInstalled());
  assertEquals("SD installed version","1.2.1",sdLib.getParsedVersion());
  assertFalse(ContributionsSelfCheck.checkForUpdatableLibraries());
}
