@Test public void testProxyPACSOCKS() throws Exception {
  preferences.put(Constants.PREF_PROXY_TYPE,Constants.PROXY_TYPE_AUTO);
  preferences.put(Constants.PREF_PROXY_PAC_URL,CustomProxySelectorTest.class.getResource("proxy_socks.pac").toExternalForm());
  CustomProxySelector proxySelector=new CustomProxySelector(preferences);
  Proxy proxy=proxySelector.getProxyFor(uri);
  assertEquals(new Proxy(Proxy.Type.SOCKS,new InetSocketAddress("proxy.example.com",8080)),proxy);
}
