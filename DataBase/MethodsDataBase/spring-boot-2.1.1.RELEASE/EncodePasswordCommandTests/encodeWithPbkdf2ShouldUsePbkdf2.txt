@Test public void encodeWithPbkdf2ShouldUsePbkdf2() throws Exception {
  EncodePasswordCommand command=new EncodePasswordCommand();
  ExitStatus status=command.run("-a","pbkdf2","boot");
  verify(this.log).info(this.message.capture());
  assertThat(this.message.getValue()).doesNotStartWith("{");
  assertThat(new Pbkdf2PasswordEncoder().matches("boot",this.message.getValue())).isTrue();
  assertThat(status).isEqualTo(ExitStatus.OK);
}
