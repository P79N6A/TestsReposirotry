@Test public void generateProject() throws Exception {
  String fileName=UUID.randomUUID().toString() + ".zip";
  File file=new File(fileName);
  assertThat(file.exists()).as("file should not exist").isFalse();
  MockHttpProjectGenerationRequest request=new MockHttpProjectGenerationRequest("application/zip",fileName);
  mockSuccessfulProjectGeneration(request);
  try {
    assertThat(this.command.run()).isEqualTo(ExitStatus.OK);
    assertThat(file.exists()).as("file should have been created").isTrue();
  }
  finally {
    assertThat(file.delete()).as("failed to delete test file").isTrue();
  }
}
