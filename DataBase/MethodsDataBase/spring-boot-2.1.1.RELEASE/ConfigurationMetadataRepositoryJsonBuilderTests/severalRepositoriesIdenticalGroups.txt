@Test public void severalRepositoriesIdenticalGroups() throws IOException {
  try (InputStream foo=getInputStreamFor("foo");InputStream foo2=getInputStreamFor("foo2")){
    ConfigurationMetadataRepository repo=ConfigurationMetadataRepositoryJsonBuilder.create(foo,foo2).build();
    assertThat(repo.getAllGroups()).hasSize(1);
    ConfigurationMetadataGroup group=repo.getAllGroups().get("spring.foo");
    contains(group.getSources(),"org.acme.Foo","org.acme.Foo2","org.springframework.boot.FooProperties");
    assertThat(group.getSources()).hasSize(3);
    contains(group.getProperties(),"spring.foo.name","spring.foo.description","spring.foo.counter","spring.foo.enabled","spring.foo.type");
    assertThat(group.getProperties()).hasSize(5);
    contains(repo.getAllProperties(),"spring.foo.name","spring.foo.description","spring.foo.counter","spring.foo.enabled","spring.foo.type");
    assertThat(repo.getAllProperties()).hasSize(5);
  }
 }
