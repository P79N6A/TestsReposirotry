@Test public void createAControllerAndThenAddARequestMappingToAnExistingController() throws Exception {
  TestRestTemplate template=new TestRestTemplate();
  String urlBase="http://localhost:" + awaitServerPort();
  assertThat(template.getForObject(urlBase + "/one",String.class)).isEqualTo("one");
  assertThat(template.getForEntity(urlBase + "/two",String.class).getStatusCode()).isEqualTo(HttpStatus.NOT_FOUND);
  controller("com.example.ControllerTwo").withRequestMapping("two").build();
  urlBase="http://localhost:" + awaitServerPort();
  assertThat(template.getForObject(urlBase + "/one",String.class)).isEqualTo("one");
  assertThat(template.getForObject(urlBase + "/two",String.class)).isEqualTo("two");
  controller("com.example.ControllerOne").withRequestMapping("one").withRequestMapping("three").build();
  urlBase="http://localhost:" + awaitServerPort();
  assertThat(template.getForObject(urlBase + "/one",String.class)).isEqualTo("one");
  assertThat(template.getForObject(urlBase + "/two",String.class)).isEqualTo("two");
  assertThat(template.getForObject(urlBase + "/three",String.class)).isEqualTo("three");
}
