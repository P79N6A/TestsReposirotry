@Test public void authenticatedUsersAreNotShownDetailsByDefault(){
  this.contextRunner.run((context) -> {
    ReactiveHealthEndpointWebExtension extension=context.getBean(ReactiveHealthEndpointWebExtension.class);
    SecurityContext securityContext=mock(SecurityContext.class);
    given(securityContext.getPrincipal()).willReturn(mock(Principal.class));
    assertThat(extension.health(securityContext).block().getBody().getDetails()).isEmpty();
  }
);
}
