@Test @SuppressWarnings("unchecked") public void tldSkipPatternsShouldBeAppliedToContextJarScanner(){
  TomcatServletWebServerFactory factory=getFactory();
  factory.addTldSkipPatterns("foo.jar","bar.jar");
  this.webServer=factory.getWebServer();
  this.webServer.start();
  Tomcat tomcat=((TomcatWebServer)this.webServer).getTomcat();
  Context context=(Context)tomcat.getHost().findChildren()[0];
  JarScanFilter jarScanFilter=context.getJarScanner().getJarScanFilter();
  Set<String> tldSkipSet=(Set<String>)ReflectionTestUtils.getField(jarScanFilter,"tldSkipSet");
  assertThat(tldSkipSet).contains("foo.jar","bar.jar");
}
