@Test public void withBasicAuthDoesNotResetErrorHandler(){
  TestRestTemplate originalTemplate=new TestRestTemplate("foo","bar");
  ResponseErrorHandler errorHandler=mock(ResponseErrorHandler.class);
  originalTemplate.getRestTemplate().setErrorHandler(errorHandler);
  TestRestTemplate basicAuthTemplate=originalTemplate.withBasicAuth("user","password");
  assertThat(basicAuthTemplate.getRestTemplate().getErrorHandler()).isSameAs(errorHandler);
}
