@Test public void customResourceLoaderIsUsedInNonWebApplication(){
  GenericApplicationContext context=new GenericApplicationContext();
  ResourceLoader resourceLoader=mock(ResourceLoader.class);
  context.setResourceLoader(resourceLoader);
  this.resolver=new ClassLoaderFilesResourcePatternResolver(context,this.files);
  this.resolver.getResource("foo.txt");
  verify(resourceLoader).getResource("foo.txt");
}
