@Test public void allEntriesUseUnixPlatformAndUtf8NameEncoding() throws IOException {
  this.task.setMainClassName("com.example.Main");
  this.task.setMetadataCharset("UTF-8");
  File classpathFolder=this.temp.newFolder();
  File resource=new File(classpathFolder,"some-resource.xml");
  resource.getParentFile().mkdirs();
  resource.createNewFile();
  this.task.classpath(classpathFolder);
  this.task.execute();
  File archivePath=this.task.getArchivePath();
  try (ZipFile zip=new ZipFile(archivePath)){
    Enumeration<ZipArchiveEntry> entries=zip.getEntries();
    while (entries.hasMoreElements()) {
      ZipArchiveEntry entry=entries.nextElement();
      assertThat(entry.getPlatform()).isEqualTo(ZipArchiveEntry.PLATFORM_UNIX);
      assertThat(entry.getGeneralPurposeBit().usesUTF8ForNames()).isTrue();
    }
  }
 }
