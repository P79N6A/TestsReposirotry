@Test public void responseCommitted(){
  this.contextRunner.run((context) -> {
    WebTestClient client=WebTestClient.bindToApplicationContext(context).build();
    assertThatExceptionOfType(RuntimeException.class).isThrownBy(() -> client.get().uri("/commit").exchange().expectStatus()).withCauseInstanceOf(IllegalStateException.class).withMessageContaining("already committed!");
  }
);
}
