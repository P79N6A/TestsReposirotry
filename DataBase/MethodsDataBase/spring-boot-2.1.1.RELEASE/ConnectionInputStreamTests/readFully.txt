@Test public void readFully() throws Exception {
  byte[] bytes="the data that we want to read fully".getBytes();
  LimitedInputStream source=new LimitedInputStream(new ByteArrayInputStream(bytes),2);
  ConnectionInputStream inputStream=new ConnectionInputStream(source);
  byte[] buffer=new byte[bytes.length];
  inputStream.readFully(buffer,0,buffer.length);
  assertThat(buffer).isEqualTo(bytes);
}
