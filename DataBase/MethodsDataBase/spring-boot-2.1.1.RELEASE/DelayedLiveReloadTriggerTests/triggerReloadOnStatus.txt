@Test public void triggerReloadOnStatus() throws Exception {
  given(this.requestFactory.createRequest(new URI(URL),HttpMethod.GET)).willThrow(new IOException()).willReturn(this.errorRequest,this.okRequest);
  long startTime=System.currentTimeMillis();
  this.trigger.setTimings(10,200,30000);
  this.trigger.run();
  assertThat(System.currentTimeMillis() - startTime).isGreaterThan(300L);
  verify(this.liveReloadServer).triggerReload();
}
