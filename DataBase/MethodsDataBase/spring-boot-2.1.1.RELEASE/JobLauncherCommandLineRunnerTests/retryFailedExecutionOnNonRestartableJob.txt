@Test public void retryFailedExecutionOnNonRestartableJob() throws Exception {
  this.job=this.jobs.get("job").preventRestart().start(this.steps.get("step").tasklet(throwingTasklet()).build()).incrementer(new RunIdIncrementer()).build();
  this.runner.execute(this.job,new JobParameters());
  this.runner.execute(this.job,new JobParameters());
  assertThat(this.jobExplorer.getJobInstances("job",0,100)).hasSize(2);
  assertThatExceptionOfType(JobRestartException.class).isThrownBy(() -> {
    this.runner.execute(this.job,new JobParametersBuilder().addLong("run.id",1L).toJobParameters());
    fail("expected JobRestartException");
  }
).withMessageContaining("JobInstance already exists and is not restartable");
}
