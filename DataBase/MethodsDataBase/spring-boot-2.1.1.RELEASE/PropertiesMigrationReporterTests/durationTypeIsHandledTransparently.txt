@Test public void durationTypeIsHandledTransparently(){
  MutablePropertySources propertySources=this.environment.getPropertySources();
  Map<String,Object> content=new LinkedHashMap<>();
  content.put("test.cache-seconds",50);
  content.put("test.time-to-live-ms",1234L);
  content.put("test.ttl",5678L);
  propertySources.addFirst(new MapPropertySource("test",content));
  assertThat(propertySources).hasSize(2);
  String report=createWarningReport(loadRepository("metadata/type-conversion-metadata.json"));
  assertThat(report).contains("Property source 'test'","test.cache-seconds","test.cache","test.time-to-live-ms","test.time-to-live","test.ttl","test.mapped.ttl");
  assertThat(mapToNames(propertySources)).containsExactly("migrate-test","test","mockProperties");
  PropertySource<?> propertySource=propertySources.get("migrate-test");
  assertMappedProperty(propertySource,"test.cache",50,null);
  assertMappedProperty(propertySource,"test.time-to-live",1234L,null);
  assertMappedProperty(propertySource,"test.mapped.ttl",5678L,null);
}
