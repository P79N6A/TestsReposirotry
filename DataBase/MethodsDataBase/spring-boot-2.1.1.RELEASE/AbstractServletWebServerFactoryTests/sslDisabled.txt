@Test public void sslDisabled() throws Exception {
  AbstractServletWebServerFactory factory=getFactory();
  Ssl ssl=getSsl(null,"password","classpath:test.jks");
  ssl.setEnabled(false);
  factory.setSsl(ssl);
  this.webServer=factory.getWebServer(new ServletRegistrationBean<>(new ExampleServlet(true,false),"/hello"));
  this.webServer.start();
  SSLConnectionSocketFactory socketFactory=new SSLConnectionSocketFactory(new SSLContextBuilder().loadTrustMaterial(null,new TrustSelfSignedStrategy()).build());
  HttpClient httpClient=HttpClients.custom().setSSLSocketFactory(socketFactory).build();
  HttpComponentsClientHttpRequestFactory requestFactory=new HttpComponentsClientHttpRequestFactory(httpClient);
  assertThatExceptionOfType(SSLException.class).isThrownBy(() -> getResponse(getLocalUrl("https","/hello"),requestFactory));
}
