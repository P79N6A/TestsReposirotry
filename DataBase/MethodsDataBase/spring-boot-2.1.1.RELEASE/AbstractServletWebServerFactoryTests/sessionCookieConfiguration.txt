@Test public void sessionCookieConfiguration(){
  AbstractServletWebServerFactory factory=getFactory();
  factory.getSession().getCookie().setName("testname");
  factory.getSession().getCookie().setDomain("testdomain");
  factory.getSession().getCookie().setPath("/testpath");
  factory.getSession().getCookie().setComment("testcomment");
  factory.getSession().getCookie().setHttpOnly(true);
  factory.getSession().getCookie().setSecure(true);
  factory.getSession().getCookie().setMaxAge(Duration.ofSeconds(60));
  final AtomicReference<SessionCookieConfig> configReference=new AtomicReference<>();
  this.webServer=factory.getWebServer((context) -> configReference.set(context.getSessionCookieConfig()));
  SessionCookieConfig sessionCookieConfig=configReference.get();
  assertThat(sessionCookieConfig.getName()).isEqualTo("testname");
  assertThat(sessionCookieConfig.getDomain()).isEqualTo("testdomain");
  assertThat(sessionCookieConfig.getPath()).isEqualTo("/testpath");
  assertThat(sessionCookieConfig.getComment()).isEqualTo("testcomment");
  assertThat(sessionCookieConfig.isHttpOnly()).isTrue();
  assertThat(sessionCookieConfig.isSecure()).isTrue();
  assertThat(sessionCookieConfig.getMaxAge()).isEqualTo(60);
}
