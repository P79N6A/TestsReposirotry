@Test public void sslKeyAlias() throws Exception {
  AbstractServletWebServerFactory factory=getFactory();
  Ssl ssl=getSsl(null,"password","test-alias","src/test/resources/test.jks");
  factory.setSsl(ssl);
  ServletRegistrationBean<ExampleServlet> registration=new ServletRegistrationBean<>(new ExampleServlet(true,false),"/hello");
  this.webServer=factory.getWebServer(registration);
  this.webServer.start();
  TrustStrategy trustStrategy=new SerialNumberValidatingTrustSelfSignedStrategy("3a3aaec8");
  SSLContext sslContext=new SSLContextBuilder().loadTrustMaterial(null,trustStrategy).build();
  HttpClient httpClient=HttpClients.custom().setSSLSocketFactory(new SSLConnectionSocketFactory(sslContext)).build();
  String response=getResponse(getLocalUrl("https","/hello"),new HttpComponentsClientHttpRequestFactory(httpClient));
  assertThat(response).contains("scheme=https");
}
