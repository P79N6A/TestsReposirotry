@Test public void setupAndExit() throws Exception {
  TestThread testThread=new TestThread(){
    @Override public void run(){
      SilentExitExceptionHandler.exitCurrentThread();
      fail("Didn't exit");
    }
  }
;
  SilentExitExceptionHandler.setup(testThread);
  testThread.startAndJoin();
  assertThat(testThread.getThrown()).isNull();
}
