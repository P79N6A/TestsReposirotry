@Test public void waitsForPollingInterval() throws Exception {
  setupWatcher(10,1);
  File folder=startWithNewFolder();
  touch(new File(folder,"test1.txt"));
  while (this.changes.size() != 1) {
    Thread.sleep(10);
  }
  touch(new File(folder,"test2.txt"));
  this.watcher.stopAfter(1);
  assertThat(this.changes.size()).isEqualTo(2);
}
