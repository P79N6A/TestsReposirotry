@Test public void withExistingFiles() throws Exception {
  File folder=this.temp.newFolder();
  touch(new File(folder,"test.txt"));
  this.watcher.addSourceFolder(folder);
  this.watcher.start();
  File file=touch(new File(folder,"test2.txt"));
  this.watcher.stopAfter(1);
  ChangedFiles changedFiles=getSingleChangedFiles();
  ChangedFile expected=new ChangedFile(folder,file,Type.ADD);
  assertThat(changedFiles.getFiles()).contains(expected);
}
