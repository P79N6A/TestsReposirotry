@Test public void multipleListeners() throws Exception {
  File folder=this.temp.newFolder();
  final Set<ChangedFiles> listener2Changes=new LinkedHashSet<>();
  this.watcher.addSourceFolder(folder);
  this.watcher.addListener(listener2Changes::addAll);
  this.watcher.start();
  File file=touch(new File(folder,"test.txt"));
  this.watcher.stopAfter(1);
  ChangedFiles changedFiles=getSingleChangedFiles();
  ChangedFile expected=new ChangedFile(folder,file,Type.ADD);
  assertThat(changedFiles.getFiles()).contains(expected);
  assertThat(listener2Changes).isEqualTo(this.changes.get(0));
}
