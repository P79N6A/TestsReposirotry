@Test public void overflow() throws Exception {
  WritableByteChannel channel=Channels.newChannel(new ByteArrayOutputStream());
  HttpTunnelPayloadForwarder forwarder=new HttpTunnelPayloadForwarder(channel);
  assertThatIllegalStateException().isThrownBy(() -> {
    for (int i=2; i < 130; i++) {
      forwarder.forward(payload(i,"data" + i));
    }
  }
).withMessageContaining("Too many messages queued");
}
