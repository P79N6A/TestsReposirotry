@Test @SuppressWarnings("rawtypes") public void whenHttp2IsEnabledServerConnectorsHasSslAlpnH2AndHttpConnectionFactories(){
  Http2 http2=new Http2();
  http2.setEnabled(true);
  Server server=createCustomizedServer(http2);
  assertThat(server.getConnectors()).hasSize(1);
  List<ConnectionFactory> factories=new ArrayList<>(server.getConnectors()[0].getConnectionFactories());
  assertThat(factories).extracting((factory) -> (Class)factory.getClass()).containsExactly(SslConnectionFactory.class,ALPNServerConnectionFactory.class,HTTP2ServerConnectionFactory.class,HttpConnectionFactory.class);
}
