@Test public void testLogin(){
  HttpHeaders headers=getHeaders();
  headers.setAccept(Arrays.asList(MediaType.TEXT_HTML));
  headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);
  MultiValueMap<String,String> form=new LinkedMultiValueMap<>();
  form.set("username","user");
  form.set("password","password");
  ResponseEntity<String> entity=this.restTemplate.exchange("/login",HttpMethod.POST,new HttpEntity<>(form,headers),String.class);
  assertThat(entity.getStatusCode()).isEqualTo(HttpStatus.FOUND);
  assertThat(entity.getHeaders().getLocation().toString()).endsWith(this.port + "/");
  assertThat(entity.getHeaders().get("Set-Cookie")).isNotNull();
}
