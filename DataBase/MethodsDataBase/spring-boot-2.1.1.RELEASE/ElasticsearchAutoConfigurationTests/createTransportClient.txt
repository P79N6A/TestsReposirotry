@Test public void createTransportClient(){
  this.context=new AnnotationConfigApplicationContext();
  new ElasticsearchNodeTemplate().doWithNode((node) -> {
    TestPropertyValues.of("spring.data.elasticsearch.cluster-nodes:localhost:" + node.getTcpPort(),"spring.data.elasticsearch.properties.path.home:target/es/client").applyTo(this.context);
    this.context.register(PropertyPlaceholderAutoConfiguration.class,ElasticsearchAutoConfiguration.class);
    this.context.refresh();
    List<DiscoveryNode> connectedNodes=this.context.getBean(TransportClient.class).connectedNodes();
    assertThat(connectedNodes).hasSize(1);
  }
);
}
