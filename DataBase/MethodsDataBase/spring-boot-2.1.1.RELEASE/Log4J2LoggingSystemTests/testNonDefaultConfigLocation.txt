@Test public void testNonDefaultConfigLocation(){
  this.loggingSystem.beforeInitialize();
  this.loggingSystem.initialize(null,"classpath:log4j2-nondefault.xml",getLogFile(tmpDir() + "/tmp.log",null));
  this.logger.info("Hello world");
  String output=this.output.toString().trim();
  Configuration configuration=this.loggingSystem.getConfiguration();
  assertThat(output).contains("Hello world").contains(tmpDir() + "/tmp.log");
  assertThat(new File(tmpDir() + "/tmp.log").exists()).isFalse();
  assertThat(configuration.getConfigurationSource().getFile().getAbsolutePath()).contains("log4j2-nondefault.xml");
  assertThat(configuration.getWatchManager().getIntervalSeconds()).isEqualTo(30);
}
