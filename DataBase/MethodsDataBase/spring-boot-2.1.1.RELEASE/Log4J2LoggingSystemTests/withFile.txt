@Test public void withFile(){
  this.loggingSystem.beforeInitialize();
  this.logger.info("Hidden");
  this.loggingSystem.initialize(null,null,getLogFile(null,tmpDir()));
  this.logger.info("Hello world");
  String output=this.output.toString().trim();
  Configuration configuration=this.loggingSystem.getConfiguration();
  assertThat(output).contains("Hello world").doesNotContain("Hidden");
  assertThat(new File(tmpDir() + "/spring.log").exists()).isTrue();
  assertThat(configuration.getConfigurationSource().getFile()).isNotNull();
}
