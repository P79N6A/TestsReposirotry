@Test public void restTemplateWhenMessageConvertersDefinedShouldHaveMessageConverters(){
  load(HttpMessageConvertersAutoConfiguration.class,RestTemplateConfig.class);
  assertThat(this.context.getBeansOfType(RestTemplate.class)).hasSize(1);
  RestTemplate restTemplate=this.context.getBean(RestTemplate.class);
  List<HttpMessageConverter<?>> converters=this.context.getBean(HttpMessageConverters.class).getConverters();
  assertThat(restTemplate.getMessageConverters()).containsExactlyElementsOf(converters);
  assertThat(restTemplate.getRequestFactory()).isInstanceOf(HttpComponentsClientHttpRequestFactory.class);
}
