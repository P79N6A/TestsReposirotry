@Test public void producesJsonWhenXmlIsPreferred(){
  HttpHeaders headers=new HttpHeaders();
  headers.set(HttpHeaders.ACCEPT,"application/xml;q=0.9,application/json;q=0.8");
  HttpEntity<?> request=new HttpEntity<>(headers);
  ResponseEntity<String> response=this.restTemplate.exchange("/customers/1",HttpMethod.GET,request,String.class);
  assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK);
  assertThat(response.getHeaders().getContentType()).isEqualTo(MediaType.parseMediaType("application/json;charset=UTF-8"));
}
