@Test public void activateProfileFromProfileSpecificProperties(){
  SpringApplication application=new SpringApplication(Config.class);
  application.setWebApplicationType(WebApplicationType.NONE);
  this.context=application.run("--spring.profiles.active=includeprofile");
  ConfigurableEnvironment environment=this.context.getEnvironment();
  assertThat(environment).has(matchingProfile("includeprofile"));
  assertThat(environment).has(matchingProfile("specific"));
  assertThat(environment).has(matchingProfile("morespecific"));
  assertThat(environment).has(matchingProfile("yetmorespecific"));
  assertThat(environment).doesNotHave(matchingProfile("missing"));
  assertThat(this.out.toString()).contains("The following profiles are active: includeprofile,specific,morespecific,yetmorespecific");
}
