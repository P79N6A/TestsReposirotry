@Test public void dontRecompressZips() throws Exception {
  TestJarFile nested=new TestJarFile(this.temporaryFolder);
  nested.addClass("a/b/C.class",ClassWithoutMainMethod.class);
  File nestedFile=nested.getFile();
  this.testJarFile.addFile("test/nested.jar",nestedFile);
  this.testJarFile.addClass("A.class",ClassWithMainMethod.class);
  File file=this.testJarFile.getFile();
  Repackager repackager=new Repackager(file);
  repackager.repackage((callback) -> callback.library(new Library(nestedFile,LibraryScope.COMPILE)));
  try (JarFile jarFile=new JarFile(file)){
    assertThat(jarFile.getEntry("BOOT-INF/lib/" + nestedFile.getName()).getMethod()).isEqualTo(ZipEntry.STORED);
    assertThat(jarFile.getEntry("BOOT-INF/classes/test/nested.jar").getMethod()).isEqualTo(ZipEntry.STORED);
  }
 }
