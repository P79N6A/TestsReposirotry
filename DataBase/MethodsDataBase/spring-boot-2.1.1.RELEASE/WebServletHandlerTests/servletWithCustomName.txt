@Test public void servletWithCustomName() throws IOException {
  ScannedGenericBeanDefinition scanned=new ScannedGenericBeanDefinition(new SimpleMetadataReaderFactory().getMetadataReader(CustomNameServlet.class.getName()));
  this.handler.handle(scanned,this.registry);
  BeanDefinition servletRegistrationBean=this.registry.getBeanDefinition("custom");
  MutablePropertyValues propertyValues=servletRegistrationBean.getPropertyValues();
  assertThat(propertyValues.get("name")).isEqualTo("custom");
}
