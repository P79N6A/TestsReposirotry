@Test public void getContextCustomizerShouldAddExcludeFilters() throws Exception {
  ContextCustomizer customizer=this.factory.createContextCustomizer(WithExcludeFilters.class,null);
  customizer.customizeContext(this.context,this.mergedContextConfiguration);
  this.context.refresh();
  TypeExcludeFilter filter=this.context.getBean(TypeExcludeFilter.class);
  MetadataReaderFactory metadataReaderFactory=new SimpleMetadataReaderFactory();
  MetadataReader metadataReader=metadataReaderFactory.getMetadataReader(NoAnnotation.class.getName());
  assertThat(filter.match(metadataReader,metadataReaderFactory)).isFalse();
  metadataReader=metadataReaderFactory.getMetadataReader(SimpleExclude.class.getName());
  assertThat(filter.match(metadataReader,metadataReaderFactory)).isTrue();
  metadataReader=metadataReaderFactory.getMetadataReader(TestClassAwareExclude.class.getName());
  assertThat(filter.match(metadataReader,metadataReaderFactory)).isTrue();
}
