@Test public void childManagementContextShouldStartForEmbeddedServer(){
  WebApplicationContextRunner contextRunner=new WebApplicationContextRunner(AnnotationConfigServletWebServerApplicationContext::new).withConfiguration(AutoConfigurations.of(ManagementContextAutoConfiguration.class,ServletWebServerFactoryAutoConfiguration.class,ServletManagementContextAutoConfiguration.class,WebEndpointAutoConfiguration.class,EndpointAutoConfiguration.class));
  contextRunner.withPropertyValues("management.server.port=8081").run((context) -> assertThat(this.output.toString()).doesNotContain("Could not start embedded management container on " + "different port (management endpoints are still available through JMX)"));
}
