@Test public void runWithSystemPropertiesShouldRestoreOriginalProperties(){
  String key="test." + UUID.randomUUID();
  System.setProperty(key,"value");
  try {
    assertThat(System.getProperties().getProperty(key)).isEqualTo("value");
    get().withSystemProperties(key + "=newValue").run((context) -> assertThat(System.getProperties()).containsEntry(key,"newValue"));
    assertThat(System.getProperties().getProperty(key)).isEqualTo("value");
  }
  finally {
    System.clearProperty(key);
  }
}
