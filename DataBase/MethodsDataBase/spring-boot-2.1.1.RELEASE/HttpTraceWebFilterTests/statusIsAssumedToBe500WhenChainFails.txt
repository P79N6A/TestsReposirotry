@Test public void statusIsAssumedToBe500WhenChainFails() throws ServletException, IOException {
  try {
    this.filter.filter(MockServerWebExchange.from(MockServerHttpRequest.get("https://api.example.com")),new WebFilterChain(){
      @Override public Mono<Void> filter(      ServerWebExchange exchange){
        return Mono.error(new RuntimeException());
      }
    }
).block();
    fail();
  }
 catch (  Exception ex) {
    assertThat(this.repository.findAll()).hasSize(1);
    assertThat(this.repository.findAll().get(0).getResponse().getStatus()).isEqualTo(500);
  }
}
