@Test public void filterDoesNotCaptureIdOfUnusedSession() throws ServletException, IOException {
  this.filter.filter(MockServerWebExchange.from(MockServerHttpRequest.get("https://api.example.com")),new WebFilterChain(){
    @Override public Mono<Void> filter(    ServerWebExchange exchange){
      exchange.getSession().block();
      return Mono.empty();
    }
  }
).block();
  assertThat(this.repository.findAll()).hasSize(1);
  Session session=this.repository.findAll().get(0).getSession();
  assertThat(session).isNull();
}
