@Test public void logFileWebEndpointUsesConfiguredExternalFile() throws IOException {
  File file=this.temp.newFile("logfile");
  FileCopyUtils.copy("--TEST--".getBytes(),file);
  this.contextRunner.withPropertyValues("management.endpoint.logfile.external-file:" + file.getAbsolutePath()).run((context) -> {
    assertThat(context).hasSingleBean(LogFileWebEndpoint.class);
    LogFileWebEndpoint endpoint=context.getBean(LogFileWebEndpoint.class);
    Resource resource=endpoint.logFile();
    assertThat(resource).isNotNull();
    assertThat(StreamUtils.copyToString(resource.getInputStream(),StandardCharsets.UTF_8)).isEqualTo("--TEST--");
  }
);
}
