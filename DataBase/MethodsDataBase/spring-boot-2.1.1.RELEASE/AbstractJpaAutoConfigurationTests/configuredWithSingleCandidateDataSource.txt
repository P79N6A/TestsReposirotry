@Test public void configuredWithSingleCandidateDataSource(){
  this.contextRunner.withUserConfiguration(TestTwoDataSourcesAndPrimaryConfiguration.class).run((context) -> {
    assertThat(context).getBeans(DataSource.class).hasSize(2);
    assertThat(context).hasSingleBean(JpaTransactionManager.class);
    assertThat(context).hasSingleBean(EntityManagerFactory.class);
  }
);
}
