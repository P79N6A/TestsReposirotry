@Test public void overridePortFileWithExplicitFile() throws Exception {
  File file=this.temporaryFolder.newFile();
  System.setProperty("PORTFILE",this.temporaryFolder.newFile().getAbsolutePath());
  WebServerPortFileWriter listener=new WebServerPortFileWriter(file);
  listener.onApplicationEvent(mockEvent("",8080));
  FileReader reader=new FileReader(System.getProperty("PORTFILE"));
  assertThat(FileCopyUtils.copyToString(reader)).isEqualTo("8080");
}
