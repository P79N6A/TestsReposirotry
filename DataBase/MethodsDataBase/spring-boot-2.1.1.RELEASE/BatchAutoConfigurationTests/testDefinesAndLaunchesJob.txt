@Test public void testDefinesAndLaunchesJob(){
  this.contextRunner.withUserConfiguration(JobConfiguration.class,EmbeddedDataSourceConfiguration.class).run((context) -> {
    assertThat(context).hasSingleBean(JobLauncher.class);
    context.getBean(JobLauncherCommandLineRunner.class).run();
    assertThat(context.getBean(JobRepository.class).getLastJobExecution("job",new JobParameters())).isNotNull();
  }
);
}
