@Test public void accessLogCanBeCustomized() throws IOException {
  File logFile=File.createTempFile("jetty_log",".log");
  String timezone=TimeZone.getDefault().getID();
  bind("server.jetty.accesslog.enabled=true","server.jetty.accesslog.filename=" + logFile.getAbsolutePath().replace("\\","\\\\"),"server.jetty.accesslog.file-date-format=yyyy-MM-dd","server.jetty.accesslog.retention-period=42","server.jetty.accesslog.append=true","server.jetty.accesslog.extended-format=true","server.jetty.accesslog.date-format=HH:mm:ss","server.jetty.accesslog.locale=en_BE","server.jetty.accesslog.time-zone=" + timezone,"server.jetty.accesslog.log-cookies=true","server.jetty.accesslog.log-server=true","server.jetty.accesslog.log-latency=true");
  JettyWebServer server=customizeAndGetServer();
  NCSARequestLog requestLog=getNCSARequestLog(server);
  assertThat(requestLog.getFilename()).isEqualTo(logFile.getAbsolutePath());
  assertThat(requestLog.getFilenameDateFormat()).isEqualTo("yyyy-MM-dd");
  assertThat(requestLog.getRetainDays()).isEqualTo(42);
  assertThat(requestLog.isAppend()).isTrue();
  assertThat(requestLog.isExtended()).isTrue();
  assertThat(requestLog.getLogDateFormat()).isEqualTo("HH:mm:ss");
  assertThat(requestLog.getLogLocale()).isEqualTo(new Locale("en","BE"));
  assertThat(requestLog.getLogTimeZone()).isEqualTo(timezone);
  assertThat(requestLog.getLogCookies()).isTrue();
  assertThat(requestLog.getLogServer()).isTrue();
  assertThat(requestLog.getLogLatency()).isTrue();
}
