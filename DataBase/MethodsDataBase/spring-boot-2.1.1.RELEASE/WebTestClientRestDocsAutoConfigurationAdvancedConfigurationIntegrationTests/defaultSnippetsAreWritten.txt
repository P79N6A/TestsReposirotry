@Test public void defaultSnippetsAreWritten() throws Exception {
  this.webTestClient.get().uri("/").exchange().expectStatus().is2xxSuccessful().expectBody().consumeWith(document("default-snippets"));
  File defaultSnippetsDir=new File("target/generated-snippets/default-snippets");
  assertThat(defaultSnippetsDir).exists();
  assertThat(new File(defaultSnippetsDir,"curl-request.md")).has(contentContaining("'https://api.example.com/'"));
  assertThat(new File(defaultSnippetsDir,"http-request.md")).has(contentContaining("api.example.com"));
  assertThat(new File(defaultSnippetsDir,"http-response.md")).isFile();
  assertThat(new File(defaultSnippetsDir,"response-fields.md")).isFile();
}
