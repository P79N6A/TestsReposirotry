@Test public void healthEndpointMergeRegularAndReactive(){
  this.contextRunner.withPropertyValues("management.endpoint.health.show-details=always").withUserConfiguration(HealthIndicatorConfiguration.class,ReactiveHealthIndicatorConfiguration.class).run((context) -> {
    HealthIndicator indicator=context.getBean("simpleHealthIndicator",HealthIndicator.class);
    ReactiveHealthIndicator reactiveHealthIndicator=context.getBean("reactiveHealthIndicator",ReactiveHealthIndicator.class);
    verify(indicator,never()).health();
    verify(reactiveHealthIndicator,never()).health();
    Health health=context.getBean(HealthEndpoint.class).health();
    assertThat(health.getStatus()).isEqualTo(Status.UP);
    assertThat(health.getDetails()).containsOnlyKeys("simple","reactive");
    verify(indicator,times(1)).health();
    verify(reactiveHealthIndicator,times(1)).health();
  }
);
}
