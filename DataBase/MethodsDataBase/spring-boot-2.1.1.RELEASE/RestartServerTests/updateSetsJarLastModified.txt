@Test public void updateSetsJarLastModified() throws Exception {
  long startTime=System.currentTimeMillis();
  File folder=this.temp.newFolder();
  File jarFile=new File(folder,"module-a.jar");
  new FileOutputStream(jarFile).close();
  jarFile.setLastModified(0);
  URL url=jarFile.toURI().toURL();
  URLClassLoader classLoader=new URLClassLoader(new URL[]{url});
  SourceFolderUrlFilter filter=new DefaultSourceFolderUrlFilter();
  MockRestartServer server=new MockRestartServer(filter,classLoader);
  ClassLoaderFiles files=new ClassLoaderFiles();
  ClassLoaderFile fileA=new ClassLoaderFile(Kind.ADDED,new byte[0]);
  files.addFile("my/module-a","ClassA.class",fileA);
  server.updateAndRestart(files);
  assertThat(jarFile.lastModified()).isGreaterThan(startTime - 1000);
}
