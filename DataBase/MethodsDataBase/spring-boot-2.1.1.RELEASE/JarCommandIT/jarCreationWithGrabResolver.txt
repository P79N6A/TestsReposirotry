@Test public void jarCreationWithGrabResolver() throws Exception {
  File jar=new File("target/test-app.jar");
  Invocation invocation=this.cli.invoke("run",jar.getAbsolutePath(),"bad.groovy");
  invocation.await();
  if (!JAVA_9_OR_LATER) {
    assertThat(invocation.getErrorOutput(),equalTo(""));
  }
  invocation=this.cli.invoke("jar",jar.getAbsolutePath(),"bad.groovy");
  invocation.await();
  if (!JAVA_9_OR_LATER) {
    assertEquals(invocation.getErrorOutput(),0,invocation.getErrorOutput().length());
  }
  assertTrue(jar.exists());
  Process process=new JavaExecutable().processBuilder("-jar",jar.getAbsolutePath()).start();
  invocation=new Invocation(process);
  invocation.await();
  if (!JAVA_9_OR_LATER) {
    assertThat(invocation.getErrorOutput(),equalTo(""));
  }
}
