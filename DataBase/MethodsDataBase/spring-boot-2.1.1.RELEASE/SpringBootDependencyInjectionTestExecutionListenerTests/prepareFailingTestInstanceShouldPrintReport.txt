@Test public void prepareFailingTestInstanceShouldPrintReport() throws Exception {
  TestContext testContext=mock(TestContext.class);
  given(testContext.getTestInstance()).willThrow(new IllegalStateException());
  SpringApplication application=new SpringApplication(Config.class);
  application.setWebApplicationType(WebApplicationType.NONE);
  ConfigurableApplicationContext applicationContext=application.run();
  given(testContext.getApplicationContext()).willReturn(applicationContext);
  try {
    this.reportListener.prepareTestInstance(testContext);
  }
 catch (  IllegalStateException ex) {
  }
  this.out.expect(containsString("CONDITIONS EVALUATION REPORT"));
  this.out.expect(containsString("Positive matches"));
  this.out.expect(containsString("Negative matches"));
}
