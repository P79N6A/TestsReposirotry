@Test public void createUrlFromString() throws Exception {
  JarFile.registerUrlProtocolHandler();
  String spec="jar:" + this.rootJarFile.toURI() + "!/nested.jar!/3.dat";
  URL url=new URL(spec);
  assertThat(url.toString()).isEqualTo(spec);
  InputStream inputStream=url.openStream();
  assertThat(inputStream).isNotNull();
  assertThat(inputStream.read()).isEqualTo(3);
  JarURLConnection connection=(JarURLConnection)url.openConnection();
  assertThat(connection.getURL().toString()).isEqualTo(spec);
  assertThat(connection.getJarFileURL().toString()).isEqualTo("jar:" + this.rootJarFile.toURI() + "!/nested.jar");
  assertThat(connection.getEntryName()).isEqualTo("3.dat");
}
