@Test public void testCompletedProcedure() throws InterruptedException, IOException {
  long procId=EXEC.submitProcedure(new ExchangeProcedure());
  EXCHANGER.exchange(Boolean.FALSE);
  UTIL.waitFor(10000,() -> EXEC.isFinished(procId));
  for (int i=0; i < WAL_COUNT - 1; i++) {
    assertTrue(STORE.rollWriterForTesting());
    long pid=EXEC.submitProcedure(new NoopNoAckProcedure());
    assertEquals(2 + i,STORE.getActiveLogs().size());
    UTIL.waitFor(10000,() -> EXEC.isFinished(pid));
  }
  UTIL.waitFor(10000,() -> EXEC.getCompletedSize() == 1);
  STORE.rollWriterForTesting();
  UTIL.waitFor(10000,() -> STORE.getActiveLogs().size() <= 1);
}
