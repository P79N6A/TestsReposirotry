@Test public void testCompactionEmptyHFile() throws IOException {
  ScanInfo oldScanInfo=store.getScanInfo();
  ScanInfo newScanInfo=oldScanInfo.customize(oldScanInfo.getMaxVersions(),600,oldScanInfo.getKeepDeletedCells());
  store.setScanInfo(newScanInfo);
  List<HStoreFile> candidates=sfCreate(0);
  for (  HStoreFile file : candidates) {
    if (file instanceof MockHStoreFile) {
      MockHStoreFile mockFile=(MockHStoreFile)file;
      mockFile.setTimeRangeTracker(TimeRangeTracker.create(TimeRangeTracker.Type.SYNC,-1,-1));
      mockFile.setEntries(0);
    }
  }
  CompactionRequestImpl result=((RatioBasedCompactionPolicy)store.storeEngine.getCompactionPolicy()).selectCompaction(candidates,new ArrayList<>(),false,false,false);
  Assert.assertTrue(result.getFiles().isEmpty());
  store.setScanInfo(oldScanInfo);
}
