@Test public void testStatusJournal(){
  TaskMonitor tm=new TaskMonitor(new Configuration());
  MonitoredTask task=tm.createStatus("Test task");
  assertTrue(task.getStatusJournal().isEmpty());
  task.disableStatusJournal();
  task.setStatus("status1");
  assertTrue(task.getStatusJournal().isEmpty());
  task.enableStatusJournal(true);
  assertEquals("status1",task.getStatusJournal().get(0).getStatus());
  assertTrue(task.getStatusJournal().get(0).getTimeStamp() > 0);
  task.disableStatusJournal();
  task.setStatus("status2");
  assertEquals(1,task.getStatusJournal().size());
  task.enableStatusJournal(false);
  assertEquals(1,task.getStatusJournal().size());
  task.setStatus("status3");
  assertEquals("status3",task.getStatusJournal().get(1).getStatus());
  tm.shutdown();
}
