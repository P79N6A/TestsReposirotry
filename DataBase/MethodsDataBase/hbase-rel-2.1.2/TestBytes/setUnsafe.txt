private static void setUnsafe(boolean value) throws Exception {
  Field field=Bytes.class.getDeclaredField("UNSAFE_UNALIGNED");
  field.setAccessible(true);
  Field modifiersField=Field.class.getDeclaredField("modifiers");
  modifiersField.setAccessible(true);
  int oldModifiers=field.getModifiers();
  modifiersField.setInt(field,oldModifiers & ~Modifier.FINAL);
  try {
    field.set(null,value);
  }
  finally {
    modifiersField.setInt(field,oldModifiers);
  }
  assertEquals(Bytes.UNSAFE_UNALIGNED,value);
}
