@Test public void testSetModifyRemoveRPCQuota() throws Exception {
  Admin admin=TEST_UTIL.getAdmin();
  final TableName tn=TableName.valueOf("sq_table1");
  QuotaSettings settings=QuotaSettingsFactory.throttleTable(tn,ThrottleType.REQUEST_SIZE,2L,TimeUnit.HOURS);
  admin.setQuota(settings);
  verifyRecordPresentInQuotaTable(ThrottleType.REQUEST_SIZE,2L,TimeUnit.HOURS);
  verifyFetchableViaAPI(admin,ThrottleType.REQUEST_SIZE,2L,TimeUnit.HOURS);
  QuotaSettings newSettings=QuotaSettingsFactory.throttleTable(tn,ThrottleType.REQUEST_SIZE,3L,TimeUnit.DAYS);
  admin.setQuota(newSettings);
  verifyRecordPresentInQuotaTable(ThrottleType.REQUEST_SIZE,3L,TimeUnit.DAYS);
  verifyFetchableViaAPI(admin,ThrottleType.REQUEST_SIZE,3L,TimeUnit.DAYS);
  QuotaSettings removeQuota=QuotaSettingsFactory.unthrottleTable(tn);
  admin.setQuota(removeQuota);
  verifyRecordNotPresentInQuotaTable();
  verifyNotFetchableViaAPI(admin);
}
