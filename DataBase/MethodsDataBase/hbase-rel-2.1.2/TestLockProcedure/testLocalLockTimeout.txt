@Test public void testLocalLockTimeout() throws Exception {
  CountDownLatch latch=new CountDownLatch(1);
  LockProcedure lockProc=new LockProcedure(UTIL.getConfiguration(),TableName.valueOf("table"),LockType.EXCLUSIVE,"desc",latch);
  procExec.submitProcedure(lockProc);
  assertTrue(awaitForLocked(lockProc.getProcId(),2000));
  Thread.sleep(LOCAL_LOCKS_TIMEOUT / 2);
  assertTrue(lockProc.isLocked());
  Thread.sleep(2 * LOCAL_LOCKS_TIMEOUT);
  assertFalse(lockProc.isLocked());
  releaseLock(lockProc.getProcId());
  ProcedureTestingUtility.waitProcedure(procExec,lockProc.getProcId());
  ProcedureTestingUtility.assertProcNotFailed(procExec,lockProc.getProcId());
}
