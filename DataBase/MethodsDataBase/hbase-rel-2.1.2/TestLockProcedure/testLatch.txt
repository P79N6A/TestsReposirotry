@Test public void testLatch() throws Exception {
  CountDownLatch latch=new CountDownLatch(1);
  LockProcedure lockProc=new LockProcedure(UTIL.getConfiguration(),TableName.valueOf("table"),org.apache.hadoop.hbase.procedure2.LockType.EXCLUSIVE,"desc",latch);
  procExec.submitProcedure(lockProc);
  assertTrue(latch.await(2000,TimeUnit.MILLISECONDS));
  releaseLock(lockProc.getProcId());
  ProcedureTestingUtility.waitProcedure(procExec,lockProc.getProcId());
  ProcedureTestingUtility.assertProcNotFailed(procExec,lockProc.getProcId());
}
