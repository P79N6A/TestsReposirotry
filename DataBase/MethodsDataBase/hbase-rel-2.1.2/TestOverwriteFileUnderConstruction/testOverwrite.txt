@Test public void testOverwrite() throws IOException {
  Path file=new Path("/" + name.getMethodName());
  FSDataOutputStream out1=FS.create(file);
  FSDataOutputStream out2=FS.create(file,true);
  out1.write(2);
  out2.write(1);
  try {
    out1.close();
  }
 catch (  FileNotFoundException fnfe) {
  }
catch (  RemoteException e) {
    assertThat(e.unwrapRemoteException(),instanceOf(LeaseExpiredException.class));
  }
  out2.close();
  try (FSDataInputStream in=FS.open(file)){
    assertEquals(1,in.read());
    assertEquals(-1,in.read());
  }
 }
