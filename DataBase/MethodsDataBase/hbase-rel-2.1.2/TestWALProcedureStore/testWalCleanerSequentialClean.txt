@Test public void testWalCleanerSequentialClean() throws Exception {
  final Procedure<?>[] procs=new Procedure[5];
  ArrayList<ProcedureWALFile> logs=null;
  for (int i=0; i < procs.length; i++) {
    procs[i]=new TestSequentialProcedure();
    procStore.insert(procs[i],null);
    procStore.rollWriterForTesting();
    logs=procStore.getActiveLogs();
    assertEquals(logs.size(),i + 2);
  }
  final int[] deleteOrder=new int[]{0,1,2,3,4};
  for (int i=0; i < deleteOrder.length; i++) {
    procStore.delete(procs[deleteOrder[i]].getProcId());
    procStore.removeInactiveLogsForTesting();
    assertFalse(logs.get(deleteOrder[i]).toString(),procStore.getActiveLogs().contains(logs.get(deleteOrder[i])));
    assertEquals(procStore.getActiveLogs().size(),procs.length - i);
  }
}
