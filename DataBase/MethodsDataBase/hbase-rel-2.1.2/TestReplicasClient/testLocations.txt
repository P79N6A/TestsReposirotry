@Test public void testLocations() throws Exception {
  byte[] b1="testLocations".getBytes();
  openRegion(hriSecondary);
  ClusterConnection hc=(ClusterConnection)HTU.getAdmin().getConnection();
  try {
    hc.clearRegionCache();
    RegionLocations rl=hc.locateRegion(table.getName(),b1,false,false);
    Assert.assertEquals(2,rl.size());
    rl=hc.locateRegion(table.getName(),b1,true,false);
    Assert.assertEquals(2,rl.size());
    hc.clearRegionCache();
    rl=hc.locateRegion(table.getName(),b1,true,false);
    Assert.assertEquals(2,rl.size());
    rl=hc.locateRegion(table.getName(),b1,false,false);
    Assert.assertEquals(2,rl.size());
  }
  finally {
    closeRegion(hriSecondary);
  }
}
