@Test(expected=KeeperException.SystemErrorException.class) public void testInterruptedDuringAction() throws ZooKeeperConnectionException, IOException, KeeperException, InterruptedException {
  final RecoverableZooKeeper recoverableZk=Mockito.mock(RecoverableZooKeeper.class);
  ZKWatcher zkw=new ZKWatcher(HBaseConfiguration.create(),"unittest",null){
    @Override public RecoverableZooKeeper getRecoverableZooKeeper(){
      return recoverableZk;
    }
  }
;
  Mockito.doThrow(new InterruptedException()).when(recoverableZk).getChildren(zkw.getZNodePaths().baseZNode,null);
  ZKUtil.listChildrenNoWatch(zkw,zkw.getZNodePaths().baseZNode);
}
