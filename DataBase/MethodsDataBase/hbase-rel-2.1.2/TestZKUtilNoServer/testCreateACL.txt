@Test public void testCreateACL() throws ZooKeeperConnectionException, IOException {
  Configuration conf=HBaseConfiguration.create();
  conf.set(Superusers.SUPERUSER_CONF_KEY,"user1,@group1,user2,@group2,user3");
  String node="/hbase/testCreateACL";
  ZKWatcher watcher=new ZKWatcher(conf,node,null,false);
  List<ACL> aclList=ZKUtil.createACL(watcher,node,true);
  assertEquals(4,aclList.size());
  assertFalse(aclList.contains(new ACL(Perms.ALL,new Id("sasl","@group1"))));
  assertFalse(aclList.contains(new ACL(Perms.ALL,new Id("sasl","@group2"))));
  assertTrue(aclList.contains(new ACL(Perms.ALL,new Id("sasl","user1"))));
  assertTrue(aclList.contains(new ACL(Perms.ALL,new Id("sasl","user2"))));
  assertTrue(aclList.contains(new ACL(Perms.ALL,new Id("sasl","user3"))));
}
