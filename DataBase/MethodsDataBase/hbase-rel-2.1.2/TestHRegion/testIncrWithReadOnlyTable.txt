@Test public void testIncrWithReadOnlyTable() throws Exception {
  final TableName tableName=TableName.valueOf(name.getMethodName());
  this.region=initHRegion(tableName,method,CONF,true,Bytes.toBytes("somefamily"));
  boolean exceptionCaught=false;
  Increment inc=new Increment(Bytes.toBytes("somerow"));
  inc.setDurability(Durability.SKIP_WAL);
  inc.addColumn(Bytes.toBytes("somefamily"),Bytes.toBytes("somequalifier"),1L);
  try {
    region.increment(inc);
  }
 catch (  IOException e) {
    exceptionCaught=true;
  }
 finally {
    HBaseTestingUtility.closeRegionAndWAL(this.region);
    this.region=null;
  }
  assertTrue(exceptionCaught == true);
}
