@Test public void testScanWithReadOnly() throws Exception {
  ThriftHBaseServiceHandler handler=createHandler();
  ByteBuffer table=wrap(tableAname);
  TScan scan=new TScan();
  boolean exceptionCaught=false;
  try {
    int scanId=handler.openScanner(table,scan);
    handler.getScannerRows(scanId,10);
    handler.closeScanner(scanId);
  }
 catch (  TIOError e) {
    exceptionCaught=true;
  }
 finally {
    assertFalse(exceptionCaught);
  }
}
