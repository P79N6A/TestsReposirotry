@Test public void testListTables() throws IOException, InterruptedException {
  final TableName tableName1=TableName.valueOf(name.getMethodName() + "1");
  final TableName tableName2=TableName.valueOf(name.getMethodName() + "2");
  final TableName tableName3=TableName.valueOf(name.getMethodName() + "3");
  TableName[] tables=new TableName[]{tableName1,tableName2,tableName3};
  for (int i=0; i < tables.length; i++) {
    TEST_UTIL.createTable(tables[i],FAMILY);
  }
  Admin admin=TEST_UTIL.getAdmin();
  HTableDescriptor[] ts=admin.listTables();
  HashSet<HTableDescriptor> result=new HashSet<HTableDescriptor>(ts.length);
  Collections.addAll(result,ts);
  int size=result.size();
  assertTrue(size >= tables.length);
  for (int i=0; i < tables.length && i < size; i++) {
    boolean found=false;
    for (int j=0; j < ts.length; j++) {
      if (ts[j].getTableName().equals(tables[i])) {
        found=true;
        break;
      }
    }
    assertTrue("Not found: " + tables[i],found);
  }
}
