@Test public void testAddToFailedServersLogging(){
  Throwable nullException=new NullPointerException();
  FailedServers fs=new FailedServers(new Configuration());
  addr=new InetSocketAddress(TEST_PORT);
  fs.addToFailedServers(addr,nullException);
  Mockito.verify(mockAppender).doAppend((LoggingEvent)captorLoggingEvent.capture());
  LoggingEvent loggingEvent=(LoggingEvent)captorLoggingEvent.getValue();
  assertThat(loggingEvent.getLevel(),is(Level.DEBUG));
  assertEquals("Added failed server with address " + addr.toString() + " to list caused by "+ nullException.toString(),loggingEvent.getRenderedMessage());
}
