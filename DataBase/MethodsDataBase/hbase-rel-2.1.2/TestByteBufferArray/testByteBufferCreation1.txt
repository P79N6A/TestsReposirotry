@Test public void testByteBufferCreation1() throws Exception {
  ByteBufferAllocator allocator=new ByteBufferAllocator(){
    @Override public ByteBuffer allocate(    long size) throws IOException {
      return ByteBuffer.allocateDirect((int)size);
    }
  }
;
  ByteBufferArray array=new DummyByteBufferArray(7 * 1024 * 1024,allocator);
  array.bufferCount=25;
  array.buffers=new ByteBuffer[array.bufferCount + 1];
  array.createBuffers(allocator);
  for (int i=0; i < array.buffers.length; i++) {
    if (i == array.buffers.length - 1) {
      assertEquals(0,array.buffers[i].capacity());
    }
 else {
      assertEquals(458752,array.buffers[i].capacity());
    }
  }
}
