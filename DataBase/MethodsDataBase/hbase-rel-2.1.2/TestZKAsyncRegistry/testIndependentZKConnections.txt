@Test public void testIndependentZKConnections() throws IOException {
  try (ReadOnlyZKClient zk1=REGISTRY.getZKClient()){
    Configuration otherConf=new Configuration(TEST_UTIL.getConfiguration());
    otherConf.set(HConstants.ZOOKEEPER_QUORUM,"127.0.0.1");
    try (ZKAsyncRegistry otherRegistry=new ZKAsyncRegistry(otherConf)){
      ReadOnlyZKClient zk2=otherRegistry.getZKClient();
      assertNotSame("Using a different configuration / quorum should result in different " + "backing zk connection.",zk1,zk2);
      assertNotEquals("Using a different configrution / quorum should be reflected in the zk connection.",zk1.getConnectString(),zk2.getConnectString());
    }
   }
  finally {
    LOG.info("DONE!");
  }
}
