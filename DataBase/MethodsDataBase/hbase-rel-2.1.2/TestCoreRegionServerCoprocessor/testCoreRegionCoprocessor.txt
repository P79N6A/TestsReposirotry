/** 
 * Assert that when a Coprocessor is annotated with CoreCoprocessor, then it is possible to access a RegionServerServices instance. Assert the opposite too. Do it to RegionServerCoprocessors.
 * @throws IOException
 */
@Test public void testCoreRegionCoprocessor() throws IOException {
  RegionServerCoprocessorEnvironment env=rsch.load(null,NotCoreRegionServerCoprocessor.class.getName(),0,HTU.getConfiguration());
  assertFalse(env instanceof HasRegionServerServices);
  env=rsch.load(null,CoreRegionServerCoprocessor.class.getName(),1,HTU.getConfiguration());
  assertTrue(env instanceof HasRegionServerServices);
  assertEquals(this.rss,((HasRegionServerServices)env).getRegionServerServices());
}
