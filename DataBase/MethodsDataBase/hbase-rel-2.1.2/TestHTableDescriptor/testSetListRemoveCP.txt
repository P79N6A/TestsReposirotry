/** 
 * Test cps in the table description
 * @throws Exception
 */
@Test public void testSetListRemoveCP() throws Exception {
  HTableDescriptor desc=new HTableDescriptor(TableName.valueOf(name.getMethodName()));
  String className1="org.apache.hadoop.hbase.coprocessor.SimpleRegionObserver";
  String className2="org.apache.hadoop.hbase.coprocessor.SampleRegionWALObserver";
  assertTrue(desc.getCoprocessors().isEmpty());
  desc.addCoprocessor(className1);
  assertTrue(desc.getCoprocessors().size() == 1);
  assertTrue(desc.getCoprocessors().contains(className1));
  desc.addCoprocessor(className2);
  assertTrue(desc.getCoprocessors().size() == 2);
  assertTrue(desc.getCoprocessors().contains(className2));
  desc.removeCoprocessor(className1);
  assertTrue(desc.getCoprocessors().size() == 1);
  assertFalse(desc.getCoprocessors().contains(className1));
  assertTrue(desc.getCoprocessors().contains(className2));
  desc.removeCoprocessor(className2);
  assertTrue(desc.getCoprocessors().isEmpty());
  assertFalse(desc.getCoprocessors().contains(className1));
  assertFalse(desc.getCoprocessors().contains(className2));
}
