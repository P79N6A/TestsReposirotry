@Test public void testNamespaceOperations() throws Exception {
  MiniHBaseCluster cluster=UTIL.getHBaseCluster();
  String testNamespace="observed_ns";
  HMaster master=cluster.getMaster();
  MasterCoprocessorHost host=master.getMasterCoprocessorHost();
  CPMasterObserver cp=host.findCoprocessor(CPMasterObserver.class);
  Admin admin=UTIL.getAdmin();
  admin.createNamespace(NamespaceDescriptor.create(testNamespace).build());
  assertTrue("Test namespace should be created",cp.wasCreateNamespaceCalled());
  assertNotNull(admin.getNamespaceDescriptor(testNamespace));
  assertTrue("Test namespace descriptor should have been called",cp.wasGetNamespaceDescriptorCalled());
}
