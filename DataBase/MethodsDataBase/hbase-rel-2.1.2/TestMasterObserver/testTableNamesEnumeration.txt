@Test public void testTableNamesEnumeration() throws Exception {
  MiniHBaseCluster cluster=UTIL.getHBaseCluster();
  HMaster master=cluster.getMaster();
  MasterCoprocessorHost host=master.getMasterCoprocessorHost();
  CPMasterObserver cp=host.findCoprocessor(CPMasterObserver.class);
  cp.resetStates();
  master.getMasterRpcServices().getTableNames(null,GetTableNamesRequest.newBuilder().build());
  assertTrue("Coprocessor should be called on table names request",cp.wasGetTableNamesCalled());
}
