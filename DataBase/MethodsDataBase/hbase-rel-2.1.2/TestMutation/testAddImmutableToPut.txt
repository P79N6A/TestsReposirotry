@Test public void testAddImmutableToPut() throws IOException {
  byte[] row=Bytes.toBytes("immutable-row");
  byte[] family=Bytes.toBytes("immutable-family");
  byte[] qualifier0=Bytes.toBytes("immutable-qualifier-0");
  byte[] value0=Bytes.toBytes("immutable-value-0");
  byte[] qualifier1=Bytes.toBytes("immutable-qualifier-1");
  byte[] value1=Bytes.toBytes("immutable-value-1");
  long ts1=5000L;
  Put put=new Put(row,true);
  put.add(CellBuilderFactory.create(CellBuilderType.SHALLOW_COPY).setRow(row).setFamily(family).setQualifier(qualifier0).setTimestamp(put.getTimestamp()).setType(Type.Put).setValue(value0).build()).add(CellBuilderFactory.create(CellBuilderType.SHALLOW_COPY).setRow(row).setFamily(family).setQualifier(qualifier1).setTimestamp(ts1).setType(Type.Put).setValue(value1).build());
  Cell cell0=put.get(family,qualifier0).get(0);
  assertTrue(cell0.getFamilyArray() == family);
  assertTrue(cell0.getQualifierArray() == qualifier0);
  assertTrue(cell0.getValueArray() == value0);
  assertTrue(cell0.getTimestamp() == put.getTimestamp());
  Cell cell1=put.get(family,qualifier1).get(0);
  assertTrue(cell1.getFamilyArray() == family);
  assertTrue(cell1.getQualifierArray() == qualifier1);
  assertTrue(cell1.getValueArray() == value1);
  assertTrue(cell1.getTimestamp() == ts1);
}
