@Test(expected=NullPointerException.class) public void testMalformedMap(){
  TableName tn=TableName.valueOf("table1");
  RegionInfo hri1=RegionInfoBuilder.newBuilder(tn).setStartKey(Bytes.toBytes("a")).setEndKey(Bytes.toBytes("b")).build();
  Map<RegionInfo,Long> sizes=new HashMap<>();
  sizes.put(hri1,null);
  HRegionServer rs=mock(HRegionServer.class);
  doCallRealMethod().when(rs).buildRegionSpaceUseReportRequest(any());
  doCallRealMethod().when(rs).convertRegionSize(any(),anyLong());
  rs.buildRegionSpaceUseReportRequest(sizes);
}
