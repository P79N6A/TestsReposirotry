@Test public void testTruncateTable() throws Exception {
  final TableName tableName=TableName.valueOf(name.getMethodName());
  TEST_UTIL.createTable(tableName,Bytes.toBytes("f"),splitKeys);
  TEST_UTIL.waitUntilAllRegionsAssigned(tableName);
  checkIfFavoredNodeInformationIsCorrect(tableName);
  List<HRegionInfo> regions=admin.getTableRegions(tableName);
  TEST_UTIL.truncateTable(tableName,true);
  checkNoFNForDeletedTable(regions);
  checkIfFavoredNodeInformationIsCorrect(tableName);
  regions=admin.getTableRegions(tableName);
  TEST_UTIL.truncateTable(tableName,false);
  checkNoFNForDeletedTable(regions);
  TEST_UTIL.deleteTable(tableName);
}
