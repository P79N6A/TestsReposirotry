@Test public void testResetDeleteWhenBuildingHoldingCleanupTracker() throws Exception {
  createProcExecutor();
  ExchangeProcedure proc1=new ExchangeProcedure();
  ExchangeProcedure proc2=new ExchangeProcedure();
  procExecutor.submitProcedure(proc1);
  long procId2=procExecutor.submitProcedure(proc2);
  Thread.sleep(500);
  procStore.rollWriterForTesting();
  proc1.exchanger.exchange(Boolean.TRUE);
  Thread.sleep(500);
  FileStatus[] walFiles=fs.listStatus(logDir);
  Arrays.sort(walFiles,(f1,f2) -> f1.getPath().getName().compareTo(f2.getPath().getName()));
  corrupt(walFiles[0]);
  ProcedureTestingUtility.restart(procExecutor,false,true);
  proc2=(ExchangeProcedure)procExecutor.getProcedure(procId2);
  proc2.exchanger.exchange(Boolean.TRUE);
  htu.waitFor(10000,() -> !fs.exists(walFiles[0].getPath()));
}
