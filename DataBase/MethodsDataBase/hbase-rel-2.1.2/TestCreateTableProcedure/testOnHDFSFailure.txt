@Test public void testOnHDFSFailure() throws Exception {
  final TableName tableName=TableName.valueOf(name.getMethodName());
  final ProcedureExecutor<MasterProcedureEnv> procExec=getMasterProcedureExecutor();
  final byte[][] splitKeys=new byte[][]{Bytes.toBytes("a"),Bytes.toBytes("b"),Bytes.toBytes("c")};
  TableDescriptor htd=MasterProcedureTestingUtility.createHTD(tableName,"f1","f2");
  RegionInfo[] regions=ModifyRegionUtils.createRegionInfos(htd,splitKeys);
  long procId=ProcedureTestingUtility.submitAndWait(procExec,new CreateTableProcedureOnHDFSFailure(procExec.getEnvironment(),htd,regions));
  ProcedureTestingUtility.assertProcNotFailed(procExec,procId);
}
