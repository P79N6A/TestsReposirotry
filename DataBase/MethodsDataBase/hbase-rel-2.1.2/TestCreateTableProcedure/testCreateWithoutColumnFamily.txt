@Test public void testCreateWithoutColumnFamily() throws Exception {
  final ProcedureExecutor<MasterProcedureEnv> procExec=getMasterProcedureExecutor();
  final TableName tableName=TableName.valueOf(name.getMethodName());
  final TableDescriptorBuilder builder=TableDescriptorBuilder.newBuilder(MasterProcedureTestingUtility.createHTD(tableName));
  builder.setValue("hbase.table.sanity.checks",Boolean.FALSE.toString());
  TableDescriptor htd=builder.build();
  final RegionInfo[] regions=ModifyRegionUtils.createRegionInfos(htd,null);
  long procId=ProcedureTestingUtility.submitAndWait(procExec,new CreateTableProcedure(procExec.getEnvironment(),htd,regions));
  final Procedure<?> result=procExec.getResult(procId);
  assertEquals(true,result.isFailed());
  Throwable cause=ProcedureTestingUtility.getExceptionCause(result);
  assertTrue("expected DoNotRetryIOException, got " + cause,cause instanceof DoNotRetryIOException);
}
