/** 
 * Master recovery when the znode already exists. Internally, this test differs from  {@link #testMasterSessionExpired} because herethe master znode will exist in ZK.
 */
@Test public void testMasterZKSessionRecoveryFailure() throws Exception {
  LOG.info("Starting " + name.getMethodName());
  MiniHBaseCluster cluster=TEST_UTIL.getHBaseCluster();
  HMaster m=cluster.getMaster();
  m.abort("Test recovery from zk session expired",new KeeperException.SessionExpiredException());
  assertTrue(m.isStopped());
  testSanity(name.getMethodName());
}
