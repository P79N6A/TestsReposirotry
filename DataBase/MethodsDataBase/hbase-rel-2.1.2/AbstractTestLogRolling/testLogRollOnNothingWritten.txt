/** 
 * Tests that log rolling doesn't hang when no data is written.
 */
@Test public void testLogRollOnNothingWritten() throws Exception {
  final Configuration conf=TEST_UTIL.getConfiguration();
  final WALFactory wals=new WALFactory(conf,ServerName.valueOf("test.com",8080,1).toString());
  final WAL newLog=wals.getWAL(null);
  try {
    newLog.rollWriter(true);
  }
  finally {
    wals.close();
  }
}
