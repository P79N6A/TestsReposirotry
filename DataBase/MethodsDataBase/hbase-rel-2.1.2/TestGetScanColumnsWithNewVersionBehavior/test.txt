@Test public void test() throws IOException {
  try (Table t=TEST_UTIL.getConnection().getTable(TABLE)){
    Cell[] expected=new Cell[2];
    expected[0]=new KeyValue(ROW,CF,COLA,TS,COLA);
    expected[1]=new KeyValue(ROW,CF,COLC,TS,COLC);
    Put p=new Put(ROW);
    p.addColumn(CF,COLA,TS,COLA);
    p.addColumn(CF,COLB,TS,COLB);
    p.addColumn(CF,COLC,TS,COLC);
    t.put(p);
    Get get=new Get(ROW);
    get.addColumn(CF,COLA);
    get.addColumn(CF,COLC);
    Result getResult=t.get(get);
    assertArrayEquals(expected,getResult.rawCells());
    Scan scan=new Scan(ROW);
    scan.addColumn(CF,COLA);
    scan.addColumn(CF,COLC);
    ResultScanner scanner=t.getScanner(scan);
    List scanResult=new ArrayList<Cell>();
    for (Result result=scanner.next(); (result != null); result=scanner.next()) {
      scanResult.addAll(result.listCells());
    }
    assertArrayEquals(expected,scanResult.toArray(new Cell[scanResult.size()]));
  }
 }
