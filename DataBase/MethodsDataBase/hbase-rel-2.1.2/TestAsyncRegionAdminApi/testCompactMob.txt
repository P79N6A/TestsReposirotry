@Test public void testCompactMob() throws Exception {
  ColumnFamilyDescriptor columnDescriptor=ColumnFamilyDescriptorBuilder.newBuilder(Bytes.toBytes("mob")).setMobEnabled(true).setMobThreshold(0).build();
  TableDescriptor tableDescriptor=TableDescriptorBuilder.newBuilder(tableName).setColumnFamily(columnDescriptor).build();
  admin.createTable(tableDescriptor).get();
  byte[][] families={Bytes.toBytes("mob")};
  loadData(tableName,families,3000,8);
  admin.majorCompact(tableName,CompactType.MOB).get();
  CompactionState state=admin.getCompactionState(tableName,CompactType.MOB).get();
  assertNotEquals(CompactionState.NONE,state);
  waitUntilMobCompactionFinished(tableName);
}
