/** 
 * Do IOE. Take the RAMQueueEntry that was on the queue, doctor it to throw exception, then put it back and process it.
 * @throws IOException
 * @throws InterruptedException
 */
@SuppressWarnings("unchecked") @Test public void testIOE() throws IOException, InterruptedException {
  this.bc.cacheBlock(this.plainKey,plainCacheable);
  RAMQueueEntry rqe=q.remove();
  RAMQueueEntry spiedRqe=Mockito.spy(rqe);
  Mockito.doThrow(new IOException("Mocked!")).when(spiedRqe).writeToCache((IOEngine)Mockito.any(),(BucketAllocator)Mockito.any(),(UniqueIndexMap<Integer>)Mockito.any(),(LongAdder)Mockito.any());
  this.q.add(spiedRqe);
  doDrainOfOneEntry(bc,wt,q);
  assertTrue(!bc.isCacheEnabled());
}
