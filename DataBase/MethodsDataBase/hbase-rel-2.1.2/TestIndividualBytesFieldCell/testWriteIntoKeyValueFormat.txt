/** 
 * Verify KeyValue format related functions: write() and getSerializedSize(). Should have the same behaviors as  {@link KeyValue}.
 */
@Test public void testWriteIntoKeyValueFormat() throws IOException {
  assertEquals(kv0.getSerializedSize(true),ic0.getSerializedSize(true));
  assertEquals(kv0.getSerializedSize(false),ic0.getSerializedSize(false));
  ByteBuffer bbufIC=ByteBuffer.allocate(ic0.getSerializedSize(true));
  ic0.write(bbufIC,0);
  ByteBuffer bbufKV=ByteBuffer.allocate(kv0.getSerializedSize(true));
  kv0.write(bbufKV,0);
  assertTrue(bbufIC.equals(bbufKV));
  testWriteIntoOutputStream(ic0,kv0,true);
  testWriteIntoOutputStream(ic0,kv0,false);
}
