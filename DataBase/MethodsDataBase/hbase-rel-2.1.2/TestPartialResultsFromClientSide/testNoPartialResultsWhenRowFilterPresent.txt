/** 
 * When a scan has a filter where  {@link org.apache.hadoop.hbase.filter.Filter#hasFilterRow()} istrue, the scanner should not return partial results. The scanner cannot return partial results because the entire row needs to be read for the include/exclude decision to be made
 */
@Test public void testNoPartialResultsWhenRowFilterPresent() throws Exception {
  Scan scan=new Scan();
  scan.setMaxResultSize(1);
  scan.setAllowPartialResults(true);
  scan.setFilter(new RandomRowFilter(1.0f));
  ResultScanner scanner=TABLE.getScanner(scan);
  Result r=null;
  while ((r=scanner.next()) != null) {
    assertFalse(r.mayHaveMoreCellsInRow());
  }
  scanner.close();
}
