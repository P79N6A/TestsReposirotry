@Test public void testFilterRegionsByTable() throws Exception {
  TableName tn1=TableName.valueOf("foo");
  TableName tn2=TableName.valueOf("bar");
  TableName tn3=TableName.valueOf("ns","foo");
  assertEquals(0,size(store.filterBySubject(tn1)));
  for (int i=0; i < 5; i++) {
    regionReports.put(RegionInfoBuilder.newBuilder(tn1).setStartKey(Bytes.toBytes(i)).setEndKey(Bytes.toBytes(i + 1)).build(),0L);
  }
  for (int i=0; i < 3; i++) {
    regionReports.put(RegionInfoBuilder.newBuilder(tn2).setStartKey(Bytes.toBytes(i)).setEndKey(Bytes.toBytes(i + 1)).build(),0L);
  }
  for (int i=0; i < 10; i++) {
    regionReports.put(RegionInfoBuilder.newBuilder(tn3).setStartKey(Bytes.toBytes(i)).setEndKey(Bytes.toBytes(i + 1)).build(),0L);
  }
  assertEquals(18,regionReports.size());
  assertEquals(5,size(store.filterBySubject(tn1)));
  assertEquals(3,size(store.filterBySubject(tn2)));
  assertEquals(10,size(store.filterBySubject(tn3)));
}
