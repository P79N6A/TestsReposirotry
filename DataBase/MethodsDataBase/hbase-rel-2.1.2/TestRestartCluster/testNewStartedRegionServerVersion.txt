@Test public void testNewStartedRegionServerVersion() throws Exception {
  UTIL.startMiniCluster(1);
  Thread t=new Thread(() -> {
    for (int i=0; i < 3; i++) {
      try {
        JVMClusterUtil.RegionServerThread newRS=UTIL.getMiniHBaseCluster().startRegionServer();
        newRS.waitForServerOnline();
      }
 catch (      IOException e) {
        LOG.error("Failed to start a new RS",e);
      }
    }
  }
);
  t.start();
  HMaster master=UTIL.getMiniHBaseCluster().getMaster();
  while (t.isAlive()) {
    List<ServerName> serverNames=master.getServerManager().getOnlineServersList();
    for (    ServerName serverName : serverNames) {
      assertNotEquals(0,master.getServerManager().getVersionNumber(serverName));
    }
    Thread.sleep(100);
  }
}
