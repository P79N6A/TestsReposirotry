@Test public void testPreadNotEnabledForCompactionStoreScanners() throws Exception {
  long now=System.currentTimeMillis();
  KeyValue[] kvs=new KeyValue[]{new KeyValue(Bytes.toBytes("R1"),Bytes.toBytes("cf"),null,now - 1000,KeyValue.Type.DeleteFamily),create("R1","cf","a",now - 10,KeyValue.Type.Put,"dont-care")};
  List<KeyValueScanner> scanners=scanFixture(kvs);
  ScanInfo scanInfo=new ScanInfo(CONF,CF,0,1,500,KeepDeletedCells.FALSE,HConstants.DEFAULT_BLOCKSIZE,0,CellComparator.getInstance(),false);
  try (StoreScanner storeScanner=new StoreScanner(scanInfo,OptionalInt.empty(),ScanType.COMPACT_RETAIN_DELETES,scanners)){
    assertFalse(storeScanner.isScanUsePread());
  }
 }
