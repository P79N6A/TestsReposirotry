@Test public void testLastRegionAndOpeningCanNotPush() throws IOException, ReplicationException {
  RegionInfo region=RegionInfoBuilder.newBuilder(tableName).build();
  addStateAndBarrier(region,RegionState.State.OPEN,10);
  Cell cell=createCell(region);
  assertTrue(checker.canPush(createEntry(region,100),cell));
  setState(region,RegionState.State.OPENING);
  assertFalse(checker.canPush(createEntry(region,102),cell));
  addStateAndBarrier(region,RegionState.State.OPEN,50);
  assertFalse(checker.canPush(createEntry(region,102),cell));
  updatePushedSeqId(region,49);
  assertTrue(checker.canPush(createEntry(region,102),cell));
  setState(region,RegionState.State.OPENING);
  assertFalse(checker.canPush(createEntry(region,104),cell));
}
