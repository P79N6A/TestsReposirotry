@Test public void testAsyncTable() throws Exception {
  TableName tn=TableName.valueOf(name.getMethodName());
  ColumnFamilyDescriptorBuilder cfDescBuilder=ColumnFamilyDescriptorBuilder.newBuilder(family);
  TableDescriptorBuilder tableDescBuilder=TableDescriptorBuilder.newBuilder(tn).setColumnFamily(cfDescBuilder.build());
  try (AsyncConnection ASYNC_CONN=ConnectionFactory.createAsyncConnection(TEST_UTIL.getConfiguration()).get()){
    ASYNC_CONN.getAdmin().createTable(tableDescBuilder.build()).get();
    AsyncTable<?> table=ASYNC_CONN.getTable(tn);
    Put put=new Put(row);
    put.addColumn(family,qualifier,value);
    table.put(put).get();
    Get get=new Get(row);
    Result result=table.get(get).get();
    LOG.debug("Result: " + Bytes.toString(result.getValue(family,qualifier)));
    Assert.assertArrayEquals(value,result.getValue(family,qualifier));
  }
 }
