@Test public void testRegionObserverMultiTable() throws IOException {
  final TableName tableName1=TableName.valueOf(name.getMethodName() + "1");
  final TableName tableName2=TableName.valueOf(name.getMethodName() + "2");
  try (Connection connection=ConnectionFactory.createConnection(UTIL.getConfiguration());Admin admin=connection.getAdmin()){
    admin.createTable(new HTableDescriptor(tableName1).addFamily(new HColumnDescriptor(foo)).addCoprocessor(CustomRegionObserver.class.getName()));
    admin.createTable(new HTableDescriptor(tableName2).addFamily(new HColumnDescriptor(foo)).addCoprocessor(CustomRegionObserver.class.getName()));
    try (Table table1=connection.getTable(tableName1);Table table2=connection.getTable(tableName2)){
      table1.get(new Get(bar));
      table2.get(new Get(foo));
    }
   }
   assertPreGetRequestsCounter(CustomRegionObserver.class);
}
