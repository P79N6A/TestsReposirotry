@Test public void testGetTableDescriptor() throws Exception {
  byte[][] families={FAMILY,FAMILY_0,FAMILY_1};
  TableDescriptorBuilder builder=TableDescriptorBuilder.newBuilder(tableName);
  for (  byte[] family : families) {
    builder.setColumnFamily(ColumnFamilyDescriptorBuilder.of(family));
  }
  TableDescriptor desc=builder.build();
  admin.createTable(desc).join();
  ModifyableTableDescriptor modifyableDesc=((ModifyableTableDescriptor)desc);
  TableDescriptor confirmedHtd=admin.getDescriptor(tableName).get();
  assertEquals(0,modifyableDesc.compareTo((ModifyableTableDescriptor)confirmedHtd));
}
