@Test public void testCheckAndPutCount() throws Exception {
  byte[] valOne=Bytes.toBytes("Value");
  byte[] valTwo=Bytes.toBytes("ValueTwo");
  byte[] valThree=Bytes.toBytes("ValueThree");
  Put p=new Put(row);
  p.addColumn(cf,qualifier,valOne);
  table.put(p);
  Put pTwo=new Put(row);
  pTwo.addColumn(cf,qualifier,valTwo);
  table.checkAndMutate(row,cf).qualifier(qualifier).ifEquals(valOne).thenPut(pTwo);
  Put pThree=new Put(row);
  pThree.addColumn(cf,qualifier,valThree);
  table.checkAndMutate(row,cf).qualifier(qualifier).ifEquals(valOne).thenPut(pThree);
  metricsRegionServer.getRegionServerWrapper().forceRecompute();
  assertCounter("checkMutateFailedCount",1);
  assertCounter("checkMutatePassedCount",1);
}
