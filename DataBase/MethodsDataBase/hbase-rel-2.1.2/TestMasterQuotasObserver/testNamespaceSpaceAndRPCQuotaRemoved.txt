@Test public void testNamespaceSpaceAndRPCQuotaRemoved() throws Exception {
  final Connection conn=TEST_UTIL.getConnection();
  final Admin admin=conn.getAdmin();
  final TableName tn=TableName.valueOf(testName.getMethodName());
  final String ns=testName.getMethodName();
  if (namespaceExists(ns)) {
    admin.deleteNamespace(ns);
  }
  NamespaceDescriptor desc=NamespaceDescriptor.create(ns).build();
  admin.createNamespace(desc);
  assertEquals(0,getNumSpaceQuotas());
  assertEquals(0,getThrottleQuotas());
  QuotaSettings settings=QuotaSettingsFactory.limitNamespaceSpace(ns,1024L,SpaceViolationPolicy.NO_INSERTS);
  admin.setQuota(settings);
  settings=QuotaSettingsFactory.throttleNamespace(ns,ThrottleType.REQUEST_SIZE,2L,TimeUnit.HOURS);
  admin.setQuota(settings);
  assertEquals(1,getNumSpaceQuotas());
  assertEquals(1,getThrottleQuotas());
  admin.deleteNamespace(ns);
  assertEquals(0,getNumSpaceQuotas());
  assertEquals(0,getThrottleQuotas());
}
