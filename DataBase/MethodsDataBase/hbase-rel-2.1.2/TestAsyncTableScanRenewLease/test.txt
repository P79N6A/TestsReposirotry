@Test public void test() throws Throwable {
  RenewLeaseConsumer consumer=new RenewLeaseConsumer();
  TABLE.scan(new Scan(),consumer);
  List<Result> results=consumer.get();
  assertEquals(10,results.size());
  IntStream.range(0,10).forEach(i -> {
    Result result=results.get(i);
    assertEquals(String.format("%02d",i),Bytes.toString(result.getRow()));
    assertEquals(i,Bytes.toInt(result.getValue(FAMILY,CQ)));
  }
);
  List<Result> results2=TABLE.scanAll(new Scan()).get();
  assertEquals(11,results2.size());
  IntStream.range(0,11).forEach(i -> {
    Result result=results2.get(i);
    assertEquals(String.format("%02d",i),Bytes.toString(result.getRow()));
    assertEquals(i,Bytes.toInt(result.getValue(FAMILY,CQ)));
  }
);
}
