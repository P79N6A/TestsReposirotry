@Test public void testSplit() throws IOException, InterruptedException, ExecutionException, TimeoutException {
  try (Table table=createTable(false)){
    table.put(new Put(Bytes.toBytes(0)).addColumn(CF,CQ,Bytes.toBytes(0)));
    table.put(new Put(Bytes.toBytes(1)).addColumn(CF,CQ,Bytes.toBytes(0)));
  }
   UTIL.flush(NAME);
  HRegionServer rs=UTIL.getRSForFirstRegionInTable(NAME);
  RegionInfo region=UTIL.getMiniHBaseCluster().getRegions(NAME).get(0).getRegionInfo();
  UTIL.getAdmin().splitRegionAsync(region.getRegionName(),Bytes.toBytes(1)).get(1,TimeUnit.MINUTES);
  long maxSeqId=getMaxSeqId(rs,region);
  RegionLocator locator=UTIL.getConnection().getRegionLocator(NAME);
  HRegionLocation locA=locator.getRegionLocation(Bytes.toBytes(0),true);
  HRegionLocation locB=locator.getRegionLocation(Bytes.toBytes(1),true);
  assertEquals(maxSeqId + 1,locA.getSeqNum());
  assertEquals(maxSeqId + 1,locB.getSeqNum());
}
