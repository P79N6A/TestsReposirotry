@Test public void testAbortTimeoutWithChildren(){
  List<String> state=new ArrayList<>();
  Procedure<Void> proc=new TestWaitingProcedure("wproc",state,true);
  proc.setTimeout(2500);
  long rootId=ProcedureTestingUtility.submitAndWait(procExecutor,proc);
  LOG.info(Objects.toString(state));
  Procedure<?> result=procExecutor.getResult(rootId);
  assertTrue(state.toString(),result.isFailed());
  ProcedureTestingUtility.assertIsTimeoutException(result);
  assertEquals(state.toString(),3,state.size());
  assertEquals("wproc-execute",state.get(0));
  assertEquals("wproc-child-execute",state.get(1));
  assertEquals("wproc-rollback",state.get(2));
}
