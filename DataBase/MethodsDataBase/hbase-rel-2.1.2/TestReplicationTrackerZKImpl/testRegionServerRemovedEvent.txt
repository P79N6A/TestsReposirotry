@Test public void testRegionServerRemovedEvent() throws Exception {
  ZKUtil.createAndWatch(zkw,ZNodePaths.joinZNode(zkw.getZNodePaths().rsZNode,"hostname2.example.org:1234"),HConstants.EMPTY_BYTE_ARRAY);
  rt.registerListener(new DummyReplicationListener());
  ZKUtil.deleteNode(zkw,ZNodePaths.joinZNode(zkw.getZNodePaths().rsZNode,"hostname2.example.org:1234"));
  while (rsRemovedCount.get() < 1) {
    Thread.sleep(5);
  }
  assertEquals("hostname2.example.org:1234",rsRemovedData);
}
