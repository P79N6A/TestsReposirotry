@Test public void testCallQueueInfo() throws IOException, InterruptedException {
  PriorityFunction qosFunction=mock(PriorityFunction.class);
  RpcScheduler scheduler=new SimpleRpcScheduler(conf,0,0,0,qosFunction,0);
  scheduler.init(CONTEXT);
  scheduler=disableHandlers(scheduler);
  scheduler.start();
  int totalCallMethods=10;
  for (int i=totalCallMethods; i > 0; i--) {
    CallRunner task=createMockTask();
    task.setStatus(new MonitoredRPCHandlerImpl());
    scheduler.dispatch(task);
  }
  CallQueueInfo callQueueInfo=scheduler.getCallQueueInfo();
  for (  String callQueueName : callQueueInfo.getCallQueueNames()) {
    for (    String calledMethod : callQueueInfo.getCalledMethodNames(callQueueName)) {
      assertEquals(totalCallMethods,callQueueInfo.getCallMethodCount(callQueueName,calledMethod));
    }
  }
  scheduler.stop();
}
