@Test public void testRpcTimeout() throws Exception {
  TEST_UTIL.getConfiguration().set(CoprocessorHost.MASTER_COPROCESSOR_CONF_KEY,TestRpcTimeoutCoprocessor.class.getName());
  TEST_UTIL.startMiniCluster(2);
  ASYNC_CONN=ConnectionFactory.createAsyncConnection(TEST_UTIL.getConfiguration()).get();
  try {
    getAdminBuilder.get().setRpcTimeout(DEFAULT_RPC_TIMEOUT / 2,TimeUnit.MILLISECONDS).build().getNamespaceDescriptor(DEFAULT_NAMESPACE_NAME_STR).get();
    fail("We expect an exception here");
  }
 catch (  Exception e) {
  }
  try {
    getAdminBuilder.get().setRpcTimeout(DEFAULT_RPC_TIMEOUT * 2,TimeUnit.MILLISECONDS).build().getNamespaceDescriptor(DEFAULT_NAMESPACE_NAME_STR).get();
  }
 catch (  Exception e) {
    fail("The Operation should succeed, unexpected exception: " + e.getMessage());
  }
}
