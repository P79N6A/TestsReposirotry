@Test(timeout=60000) public void testMasterInitWithObserverModeClientZKQuorum() throws Exception {
  Configuration conf=new Configuration(TESTUTIL.getConfiguration());
  Assert.assertFalse(Boolean.getBoolean(HConstants.CLIENT_ZOOKEEPER_OBSERVER_MODE));
  conf.set(HConstants.CLIENT_ZOOKEEPER_QUORUM,HConstants.LOCALHOST);
  conf.setInt(HConstants.CLIENT_ZOOKEEPER_CLIENT_PORT,TESTUTIL.getZkCluster().getClientPort() + 1);
  conf.setInt(ServerManager.WAIT_ON_REGIONSERVERS_MINTOSTART,1);
  conf.setBoolean(LoadBalancer.TABLES_ON_MASTER,true);
  conf.setBoolean(HConstants.CLIENT_ZOOKEEPER_OBSERVER_MODE,true);
  HMaster master=new HMaster(conf);
  master.start();
  while (!master.isInitialized()) {
    Threads.sleep(200);
  }
  Assert.assertNull(master.metaLocationSyncer);
  Assert.assertNull(master.masterAddressSyncer);
  master.stopMaster();
  master.join();
}
