@Test public void testDefaultProvider() throws IOException {
  final Configuration conf=new Configuration();
  final WALFactory normalWalFactory=new WALFactory(conf,this.currentServername.toString());
  Class<? extends WALProvider> fshLogProvider=normalWalFactory.getProviderClass(WALFactory.WAL_PROVIDER,Providers.filesystem.name());
  assertEquals(Providers.filesystem.clazz,fshLogProvider);
  final WALFactory customizedWalFactory=new WALFactory(conf,this.currentServername.toString()){
    @Override Providers getDefaultProvider(){
      return Providers.multiwal;
    }
  }
;
  Class<? extends WALProvider> multiwalProviderClass=customizedWalFactory.getProviderClass(WALFactory.WAL_PROVIDER,Providers.multiwal.name());
  assertEquals(Providers.multiwal.clazz,multiwalProviderClass);
}
