@Test public void testGetPartitionSize() throws IOException {
  validateGetPartitionSize(cache,BucketCache.DEFAULT_SINGLE_FACTOR,BucketCache.DEFAULT_MIN_FACTOR);
  Configuration conf=HBaseConfiguration.create();
  conf.setFloat(BucketCache.MIN_FACTOR_CONFIG_NAME,0.5f);
  conf.setFloat(BucketCache.SINGLE_FACTOR_CONFIG_NAME,0.1f);
  conf.setFloat(BucketCache.MULTI_FACTOR_CONFIG_NAME,0.7f);
  conf.setFloat(BucketCache.MEMORY_FACTOR_CONFIG_NAME,0.2f);
  BucketCache cache=new BucketCache(ioEngineName,capacitySize,constructedBlockSize,constructedBlockSizes,writeThreads,writerQLen,persistencePath,100,conf);
  validateGetPartitionSize(cache,0.1f,0.5f);
  validateGetPartitionSize(cache,0.7f,0.5f);
  validateGetPartitionSize(cache,0.2f,0.5f);
}
