@Test public void testCreateTableWithRegions() throws Exception {
  HTableDescriptor desc=new HTableDescriptor(TABLE_NAME);
  desc.addFamily(new HColumnDescriptor("cf"));
  SplitAlgorithm algo=new RegionSplitter.HexStringSplit();
  byte[][] splits=algo.split(REGION_COUNT);
  LOG.info(String.format("Creating table %s with %d splits.",TABLE_NAME,REGION_COUNT));
  long startTime=System.currentTimeMillis();
  try {
    admin.createTable(desc,splits);
    LOG.info(String.format("Pre-split table created successfully in %dms.",(System.currentTimeMillis() - startTime)));
  }
 catch (  IOException e) {
    LOG.error("Failed to create table",e);
  }
}
