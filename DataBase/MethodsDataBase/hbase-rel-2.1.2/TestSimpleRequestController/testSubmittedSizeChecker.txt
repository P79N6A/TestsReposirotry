@Test public void testSubmittedSizeChecker(){
  final long maxHeapSizeSubmit=2 * 1024 * 1024;
  SimpleRequestController.SubmittedSizeChecker checker=new SimpleRequestController.SubmittedSizeChecker(maxHeapSizeSubmit);
  for (int i=0; i != 10; ++i) {
    ReturnCode include=checker.canTakeOperation(LOC1,100000);
    assertEquals(ReturnCode.INCLUDE,include);
  }
  for (int i=0; i != 10; ++i) {
    checker.notifyFinal(ReturnCode.INCLUDE,LOC1,maxHeapSizeSubmit);
  }
  for (int i=0; i != 10; ++i) {
    ReturnCode include=checker.canTakeOperation(LOC1,100000);
    assertEquals(ReturnCode.END,include);
  }
  for (int i=0; i != 10; ++i) {
    ReturnCode include=checker.canTakeOperation(LOC2,100000);
    assertEquals(ReturnCode.END,include);
  }
  checker.reset();
  for (int i=0; i != 10; ++i) {
    ReturnCode include=checker.canTakeOperation(LOC1,100000);
    assertEquals(ReturnCode.INCLUDE,include);
  }
}
