@Test public void testWriteOperation() throws Exception {
  ServiceStatus status=camelContext.getRouteStatus("foo-route");
  Assert.assertTrue(status.isStarted());
  TimeInfo timeInfo=new TimeInfo();
  timeInfo.setAbortAfterTimeout(true);
  timeInfo.setTimeout(5L);
  endpoint.doWriteAction("foo-route",WriteAction.STOP,timeInfo);
  status=camelContext.getRouteStatus("foo-route");
  Assert.assertTrue(status.isStopped());
  endpoint.doWriteAction("foo-route",WriteAction.START,timeInfo);
  status=camelContext.getRouteStatus("foo-route");
  Assert.assertTrue(status.isStarted());
}
