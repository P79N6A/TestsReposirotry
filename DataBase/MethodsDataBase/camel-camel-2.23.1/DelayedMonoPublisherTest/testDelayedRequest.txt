@Test public void testDelayedRequest() throws Exception {
  DelayedMonoPublisher<Integer> pub=new DelayedMonoPublisher<>(service);
  pub.setData(2);
  BlockingQueue<Integer> queue=new LinkedBlockingDeque<>();
  TestSubscriber<Integer> sub=new TestSubscriber<Integer>(){
    @Override public void onNext(    Integer o){
      queue.add(o);
    }
  }
;
  sub.setInitiallyRequested(0);
  pub.subscribe(sub);
  Thread.sleep(100);
  sub.request(1);
  Integer res=queue.poll(1,TimeUnit.SECONDS);
  assertEquals(new Integer(2),res);
}
