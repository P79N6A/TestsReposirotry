@Test public void testMultipleSubscribersMixedArrival() throws Exception {
  DelayedMonoPublisher<Integer> pub=new DelayedMonoPublisher<>(service);
  ConcurrentLinkedDeque<Integer> data=new ConcurrentLinkedDeque<>();
  CountDownLatch latch=new CountDownLatch(2);
  Flowable.fromPublisher(pub).doOnNext(data::add).doOnComplete(latch::countDown).subscribe();
  Thread.sleep(200);
  pub.setData(5);
  Flowable.fromPublisher(pub).doOnNext(data::add).doOnComplete(latch::countDown).subscribe();
  assertTrue(latch.await(1,TimeUnit.SECONDS));
  assertEquals(2,data.size());
  for (  Integer n : data) {
    assertEquals(5,n.intValue());
  }
}
