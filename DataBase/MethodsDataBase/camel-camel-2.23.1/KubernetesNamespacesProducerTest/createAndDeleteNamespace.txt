@Test public void createAndDeleteNamespace() throws Exception {
  Namespace ns1=new NamespaceBuilder().withNewMetadata().withName("ns1").endMetadata().build();
  server.expect().withPath("/api/v1/namespaces/ns1").andReturn(200,ns1).once();
  Exchange ex=template.request("direct:deleteNamespace",new Processor(){
    @Override public void process(    Exchange exchange) throws Exception {
      exchange.getIn().setHeader(KubernetesConstants.KUBERNETES_NAMESPACE_NAME,"ns1");
    }
  }
);
  boolean nsDeleted=ex.getOut().getBody(Boolean.class);
  assertTrue(nsDeleted);
}
