/** 
 * Verify that the endpoint is only skipped if the adjacent 'when' condition is satisfied
 */
@Test public void testInterceptSendToEndpointSkipConditionSatisfied() throws Exception {
  getMockEndpoint("mock:a").expectedMessageCount(1);
  getMockEndpoint("mock:skippable").expectedMessageCount(0);
  getMockEndpoint("mock:detour").expectedMessageCount(1);
  getMockEndpoint("mock:c").expectedMessageCount(1);
  template.sendBody("direct:start","skip");
  assertMockEndpointsSatisfied();
}
