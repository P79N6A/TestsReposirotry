@Test public void testAggregateLifecycle() throws Exception {
  assertTrue("Should be started",strategy.isStarted());
  assertSame(context,strategy.getCamelContext());
  MockEndpoint result=getMockEndpoint("mock:aggregated");
  result.expectedBodiesReceived("A+B+C");
  template.sendBodyAndHeader("direct:start","A","id",123);
  template.sendBodyAndHeader("direct:start","B","id",123);
  template.sendBodyAndHeader("direct:start","C","id",123);
  assertMockEndpointsSatisfied();
  context.stop();
  assertTrue("Should be stopped",strategy.isStopped());
}
