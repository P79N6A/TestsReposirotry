@Test public void testHeaderForwardedToCompensate() throws Exception {
  MockEndpoint compensate=getMockEndpoint("mock:compensate");
  compensate.expectedMessageCount(1);
  compensate.expectedHeaderReceived("id","myheader");
  compensate.expectedHeaderReceived("name","Nicola");
  compensate.expectedMessagesMatches(ex -> ex.getIn().getHeader(Exchange.SAGA_LONG_RUNNING_ACTION) != null);
  try {
    template.sendBodyAndHeader("direct:workflow","compensate","myname","Nicola");
    Assert.fail("Should throw an exception");
  }
 catch (  Exception ex) {
  }
  compensate.assertIsSatisfied();
}
