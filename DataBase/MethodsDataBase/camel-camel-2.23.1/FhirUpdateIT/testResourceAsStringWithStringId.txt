@Test public void testResourceAsStringWithStringId() throws Exception {
  Date date=new SimpleDateFormat("yyyy-MM-dd").parse("1998-04-29");
  assertNotEquals(date,patient.getBirthDate());
  this.patient.setBirthDate(date);
  final Map<String,Object> headers=new HashMap<>();
  headers.put("CamelFhir.resourceAsString",this.fhirContext.newJsonParser().encodeResourceToString(this.patient));
  headers.put("CamelFhir.stringId",this.patient.getIdElement().getIdPart());
  headers.put("CamelFhir.preferReturn",PreferReturnEnum.REPRESENTATION);
  MethodOutcome result=requestBodyAndHeaders("direct://RESOURCE_AS_STRING_WITH_STRING_ID",null,headers);
  assertNotNull("resource result",result);
  LOG.debug("resource: " + result);
  assertEquals("Birth date not updated!",date,((Patient)result.getResource()).getBirthDate());
}
