@Test public void shouldProcessRawPayloadPushTopicMessages() throws Exception {
  when(endpoint.getTopicName()).thenReturn("AccountUpdates");
  configuration.setRawPayload(true);
  final SalesforceConsumer consumer=new SalesforceConsumer(endpoint,processor,NOT_USED);
  consumer.processMessage(mock(ClientSessionChannel.class),pushTopicMessage);
  verify(in).setBody("{\"Phone\":\"(415) 555-1212\",\"Id\":\"001D000000KneakIAB\",\"Name\":\"Blackbeard\"}");
  verify(in).setHeader("CamelSalesforceEventType","created");
  verify(in).setHeader("CamelSalesforceCreatedDate","2016-09-16T19:45:27.454Z");
  verify(in).setHeader("CamelSalesforceReplayId",1L);
  verify(in).setHeader("CamelSalesforceTopicName","AccountUpdates");
  verify(in).setHeader("CamelSalesforceChannel","/topic/AccountUpdates");
  verify(in).setHeader("CamelSalesforceClientId","lxdl9o32njygi1gj47kgfaga4k");
  verify(processor).process(same(exchange),any());
}
