@Test public void testNotExistsWithHeaders() throws Exception {
  Map<String,String> map=createIndexedData();
  Map<String,Object> headers=new HashMap<>();
  headers.put(ElasticsearchConstants.PARAM_OPERATION,ElasticsearchOperation.INDEX);
  headers.put(ElasticsearchConstants.PARAM_INDEX_NAME,"twitter");
  headers.put(ElasticsearchConstants.PARAM_INDEX_TYPE,"tweet");
  template.requestBodyAndHeaders("direct:start",map,headers,String.class);
  headers.put(ElasticsearchConstants.PARAM_OPERATION,ElasticsearchOperation.EXISTS);
  headers.put(ElasticsearchConstants.PARAM_INDEX_NAME,"twitter-tweet");
  Boolean exists=template.requestBodyAndHeaders("direct:exists","",headers,Boolean.class);
  assertNotNull("response should not be null",exists);
  assertFalse("Index should not exists",exists);
}
