/** 
 * Write a file without chmod set, should work normally and not throw an exception for invalid chmod value
 * @throws Exception
 */
@Test public void testWriteNoChmod() throws Exception {
  if (!canTest()) {
    return;
  }
  MockEndpoint mock=getMockEndpoint("mock:noChmod");
  mock.expectedMessageCount(1);
  String testFileName="noChmod.txt";
  String fullTestFileName=TEST_DIRECTORY + testFileName;
  String testFileContent="Writing file with no chmod option at " + new Date();
  mock.expectedFileExists(fullTestFileName,testFileContent);
  template.sendBodyAndHeader("direct:writeNoChmod",testFileContent,Exchange.FILE_NAME,testFileName);
  assertMockEndpointsSatisfied();
}
