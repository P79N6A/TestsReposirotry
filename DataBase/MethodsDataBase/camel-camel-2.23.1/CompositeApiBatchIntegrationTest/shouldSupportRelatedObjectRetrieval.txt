@Test public void shouldSupportRelatedObjectRetrieval() throws IOException {
  if (Version.create(version).compareTo(Version.create("36.0")) < 0) {
    return;
  }
  final SObjectBatch batch=new SObjectBatch("36.0");
  batch.addGetRelated("Account",accountId,"CreatedBy");
  final SObjectBatchResponse response=testBatch(batch);
  final List<SObjectBatchResult> results=response.getResults();
  final SObjectBatchResult batchResult=results.get(0);
  @SuppressWarnings("unchecked") final Map<String,Object> result=(Map<String,Object>)batchResult.getResult();
  @SuppressWarnings("unchecked") final Map<String,String> data=(Map<String,String>)result.getOrDefault("User",result);
  final SalesforceLoginConfig loginConfig=LoginConfigHelper.getLoginConfig();
  assertEquals(loginConfig.getUserName(),data.get("Username"));
}
