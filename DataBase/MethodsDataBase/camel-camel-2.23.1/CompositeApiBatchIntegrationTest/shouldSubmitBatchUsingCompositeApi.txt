@Test public void shouldSubmitBatchUsingCompositeApi(){
  final SObjectBatch batch=new SObjectBatch(version);
  final Account updates=new Account();
  updates.setName("NewName");
  batch.addUpdate("Account",accountId,updates);
  final Account newAccount=new Account();
  newAccount.setName("Account created from Composite batch API");
  batch.addCreate(newAccount);
  batch.addGet("Account",accountId,"Name","BillingPostalCode");
  batch.addDelete("Account",accountId);
  final SObjectBatchResponse response=template.requestBody(batchuri,batch,SObjectBatchResponse.class);
  assertNotNull("Response should be provided",response);
  assertFalse(response.hasErrors());
}
