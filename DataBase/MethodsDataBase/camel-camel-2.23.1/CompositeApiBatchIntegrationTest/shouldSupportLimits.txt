/** 
 * The XML format fails, as Salesforce API wrongly includes whitespaces inside tag names. E.g.  <Ant Migration Tool> https://www.w3.org/TR/2008/REC-xml-20081126/#NT-NameChar
 */
@Test public void shouldSupportLimits(){
  final SObjectBatch batch=new SObjectBatch(version);
  batch.addLimits();
  final SObjectBatchResponse response=testBatch(batch);
  final List<SObjectBatchResult> results=response.getResults();
  final SObjectBatchResult batchResult=results.get(0);
  @SuppressWarnings("unchecked") final Map<String,Object> result=(Map<String,Object>)batchResult.getResult();
  @SuppressWarnings("unchecked") final Map<String,Object> limits=(Map<String,Object>)result.getOrDefault("LimitsSnapshot",result);
  @SuppressWarnings("unchecked") final Map<String,String> apiRequests=(Map<String,String>)limits.get("DailyApiRequests");
  assertEquals("15000",String.valueOf(apiRequests.get("Max")));
}
