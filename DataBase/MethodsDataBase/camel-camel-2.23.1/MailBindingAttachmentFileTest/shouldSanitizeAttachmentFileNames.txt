@Test public void shouldSanitizeAttachmentFileNames() throws MessagingException, IOException {
  final Session session=Session.getInstance(new Properties());
  final Message message=new MimeMessage(session);
  final Multipart multipart=new MimeMultipart();
  final MimeBodyPart part=new MimeBodyPart();
  part.attachFile(name);
  multipart.addBodyPart(part);
  message.setContent(multipart);
  final Map<String,Attachment> attachments=new HashMap<>();
  binding.extractAttachmentsFromMail(message,attachments);
  assertThat(attachments).containsKey("file.txt");
  final Attachment attachment=attachments.get("file.txt");
  final DataHandler dataHandler=attachment.getDataHandler();
  assertThat(dataHandler.getName()).isEqualTo("file.txt");
}
