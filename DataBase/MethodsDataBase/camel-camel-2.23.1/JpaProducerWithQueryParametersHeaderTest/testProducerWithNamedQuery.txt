@Test @SuppressWarnings("rawtypes") public void testProducerWithNamedQuery() throws Exception {
  template.sendBody("direct:deleteCustomers","");
  Customer c1=new Customer();
  c1.setName("Willem");
  template.sendBody("direct:addCustomer",c1);
  Customer c2=new Customer();
  c2.setName("Dummy");
  template.sendBody("direct:addCustomer",c2);
  Map<String,Object> params=new HashMap<>();
  params.put("custName","${body}");
  List list=template.requestBodyAndHeader("direct:namedQuery","Willem",JpaConstants.JPA_PARAMETERS_HEADER,params,List.class);
  assertEquals(1,list.size());
  assertEquals("Willem",((Customer)list.get(0)).getName());
  int integer=template.requestBody("direct:deleteCustomers",null,int.class);
  assertEquals(2,integer);
}
