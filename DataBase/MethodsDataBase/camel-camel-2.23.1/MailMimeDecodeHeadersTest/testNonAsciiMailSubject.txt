@Test public void testNonAsciiMailSubject() throws Exception {
  Mailbox.clearAll();
  template.sendBody("direct:nonAsciiSubject","");
  MockEndpoint mockDecoded=getMockEndpoint("mock:decoded");
  mockDecoded.expectedMessageCount(1);
  mockDecoded.expectedHeaderReceived("subject",nonAsciiSubject);
  mockDecoded.assertIsSatisfied();
  MockEndpoint mockPlain=getMockEndpoint("mock:plain");
  mockPlain.expectedMessageCount(1);
  mockPlain.expectedHeaderReceived("subject",encodedNonAsciiSubject);
  mockPlain.assertIsSatisfied();
}
