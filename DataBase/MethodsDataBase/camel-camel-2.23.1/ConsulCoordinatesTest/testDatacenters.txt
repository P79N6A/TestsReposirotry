@Test public void testDatacenters() throws Exception {
  List<Datacenter> ref=getConsul().coordinateClient().getDatacenters();
  List<Datacenter> res=fluentTemplate().withHeader(ConsulConstants.CONSUL_ACTION,ConsulCoordinatesActions.DATACENTERS).to("direct:consul").request(List.class);
  Assert.assertFalse(ref.isEmpty());
  Assert.assertFalse(res.isEmpty());
  Assert.assertEquals(ref,res);
}
