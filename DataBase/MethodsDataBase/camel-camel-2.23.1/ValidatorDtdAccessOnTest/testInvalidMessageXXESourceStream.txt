/** 
 * Tests that XXE is possible for StreamSource by expecting an UnkonwHostException. 
 */
@Test public void testInvalidMessageXXESourceStream() throws Exception {
  unknownHostExceptionEndpoint.expectedMessageCount(1);
  finallyEndpoint.expectedMessageCount(1);
  InputStream is=new ByteArrayInputStream(xxePayloud.getBytes(StandardCharsets.UTF_8));
  template.sendBody("direct:start",is);
  MockEndpoint.assertIsSatisfied(validEndpoint,unknownHostExceptionEndpoint,finallyEndpoint);
}
