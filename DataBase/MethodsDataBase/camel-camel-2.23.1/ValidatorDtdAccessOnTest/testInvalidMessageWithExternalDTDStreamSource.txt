/** 
 * Tests that external DTD call is executed  for StreamSourceby expecting an UnkonwHostException. 
 */
@Test public void testInvalidMessageWithExternalDTDStreamSource() throws Exception {
  unknownHostExceptionEndpoint.expectedMessageCount(1);
  finallyEndpoint.expectedMessageCount(1);
  InputStream is=new ByteArrayInputStream(ssrfPayloud.getBytes(StandardCharsets.UTF_8));
  template.sendBody("direct:start",is);
  MockEndpoint.assertIsSatisfied(validEndpoint,unknownHostExceptionEndpoint,finallyEndpoint);
}
