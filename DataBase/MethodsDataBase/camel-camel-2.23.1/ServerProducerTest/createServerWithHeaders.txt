@Test public void createServerWithHeaders() throws Exception {
  final String expectedFlavorID=UUID.randomUUID().toString();
  when(testOSServer.getId()).thenReturn(expectedFlavorID);
  msg.setHeader(OpenstackConstants.OPERATION,OpenstackConstants.CREATE);
  msg.setHeader(OpenstackConstants.NAME,dummyServer.getName());
  msg.setHeader(NovaConstants.FLAVOR_ID,dummyServer.getFlavorRef());
  msg.setHeader(NovaConstants.IMAGE_ID,dummyServer.getImageRef());
  producer.process(exchange);
  final Server created=msg.getBody(Server.class);
  checkCreatedServer(dummyServer,created);
}
