@Test public void testArrivesBeforeAndAfter() throws Exception {
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMessageCount(3);
  mock.message(1).arrives().noLaterThan(250).millis().afterPrevious();
  mock.message(1).arrives().noLaterThan(250).millis().beforeNext();
  template.sendBody("direct:a","A");
  Thread.sleep(50);
  template.sendBody("direct:a","B");
  Thread.sleep(50);
  template.sendBody("direct:a","C");
  assertMockEndpointsSatisfied();
}
