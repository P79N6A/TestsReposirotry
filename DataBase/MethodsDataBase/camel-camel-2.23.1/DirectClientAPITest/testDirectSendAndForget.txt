@Test public void testDirectSendAndForget() throws Exception {
  new RouteBuilder(){
    @Override public void configure() throws Exception {
      from("direct:data").to("mock:result");
    }
  }
.addRoutesToCamelContext(context);
  context.start();
  Flowable.just(1,2,3).subscribe(camel.subscriber("direct:data",Integer.class));
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMessageCount(3);
  mock.assertIsSatisfied();
  int idx=1;
  for (  Exchange ex : mock.getExchanges()) {
    Integer num=ex.getIn().getBody(Integer.class);
    assertEquals(new Integer(idx++),num);
  }
}
