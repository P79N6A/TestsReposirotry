/** 
 * Test if returned array size is only to limit of ByteBuffer. If byteBuffer capacity is bigger that limit, we MUST return data only to the limit.
 */
@Test public void testToByteArrayBigBuffer(){
  ByteBuffer bb=ByteBuffer.allocate(100);
  bb.put("Hello".getBytes());
  bb.flip();
  byte[] out=NIOConverter.toByteArray(bb);
  assertNotNull(out);
  assertEquals(5,out.length);
}
