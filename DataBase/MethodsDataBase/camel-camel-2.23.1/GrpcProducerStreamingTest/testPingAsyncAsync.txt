@Test public void testPingAsyncAsync() throws Exception {
  int messageCount=10;
  for (int i=1; i <= messageCount; i++) {
    template.sendBody("direct:grpc-stream-async-async-route",PingRequest.newBuilder().setPingName(String.valueOf(i)).build());
  }
  MockEndpoint replies=getMockEndpoint("mock:grpc-replies");
  replies.expectedMessageCount(messageCount);
  replies.assertIsSatisfied();
  context().stop();
  assertNotNull(pingPongServer.getLastStreamRequests());
  assertListSize(pingPongServer.getLastStreamRequests(),1);
  assertListSize(pingPongServer.getLastStreamRequests().get(0),messageCount);
}
