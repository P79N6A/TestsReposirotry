@Test public void testMultiArgsCombinedWithIndividuallySpecified() throws Exception {
  RabbitMQEndpoint endpoint=context.getEndpoint("rabbitmq:localhost/exchange" + "?arg.exchange.e1=v1&exchangeArgs=#args" + "&arg.queue.q1=v2&queueArgs=#moreArgs"+ "&arg.binding.b1=v3&bindingArgs=#evenMoreArgs",RabbitMQEndpoint.class);
  Map<String,Object> inlineArgs=endpoint.getArgs();
  assertEquals("Wrong number of args",3,inlineArgs.size());
  assertTrue(inlineArgs.containsKey("exchange.e1"));
  assertTrue(inlineArgs.containsKey("queue.q1"));
  assertTrue(inlineArgs.containsKey("binding.b1"));
  Map<String,Object> exchangeArgs=endpoint.getExchangeArgs();
  assertEquals("Wrong number of exchange args",2,exchangeArgs.size());
  assertTrue("Should contain the individually specified exchange args",exchangeArgs.containsKey("foo"));
  assertTrue("Should contain the args in the multi-value map",exchangeArgs.containsKey("e1"));
  Map<String,Object> queueArgs=endpoint.getQueueArgs();
  assertEquals("Wrong number of queue args",2,queueArgs.size());
  assertTrue("Should contain the individually specified queue args",queueArgs.containsKey("fizz"));
  assertTrue("Should contain the args in the multi-value map",queueArgs.containsKey("q1"));
  Map<String,Object> bindingArgs=endpoint.getBindingArgs();
  assertEquals("Wrong number of binding args",2,bindingArgs.size());
  assertTrue("Should contain the individually specified binding args",bindingArgs.containsKey("ping"));
  assertTrue("Should contain the args in the multi-value map",bindingArgs.containsKey("b1"));
}
