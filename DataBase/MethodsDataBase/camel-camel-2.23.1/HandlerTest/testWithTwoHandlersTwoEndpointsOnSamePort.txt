@Test public void testWithTwoHandlersTwoEndpointsOnSamePort() throws Exception {
  assertEquals(0,statisticsHandler1.getRequests());
  assertEquals(0,statisticsHandler2.getRequests());
  assertEquals(0,statisticsHandler3.getRequests());
  InputStream html1=(InputStream)template.requestBody("http://localhost:" + port2,"");
  BufferedReader br1=IOHelper.buffered(new InputStreamReader(html1));
  assertEquals(htmlResponse,br1.readLine());
  InputStream html2=(InputStream)template.requestBody("http://localhost:" + port2 + "/endpoint2","");
  BufferedReader br2=IOHelper.buffered(new InputStreamReader(html2));
  assertEquals(htmlResponse,br2.readLine());
  assertEquals(0,statisticsHandler1.getRequests());
  assertEquals(2,statisticsHandler2.getRequests());
  assertEquals(2,statisticsHandler3.getRequests());
}
