@Test public void testDynamicDoneFileNameContainingTwoDots() throws Exception {
  NotifyBuilder notify=new NotifyBuilder(context).whenDone(1).create();
  getMockEndpoint("mock:result").expectedBodiesReceivedInAnyOrder("input-body");
  template.sendBodyAndHeader("file:" + TARGET_DIR_NAME,"input-body",Exchange.FILE_NAME,"test.twodot.txt");
  template.sendBodyAndHeader("file:" + TARGET_DIR_NAME,"done-body",Exchange.FILE_NAME,"test.twodot.done");
  assertMockEndpointsSatisfied();
  assertTrue(notify.matchesMockWaitTime());
  assertFalse("Input file should be deleted",new File(TARGET_DIR_NAME,"test.twodot.txt").exists());
  assertFalse("Done file should be deleted",new File(TARGET_DIR_NAME,"test.twodot.done").exists());
}
