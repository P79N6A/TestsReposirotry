@Test public void testSubscriber() throws Exception {
  context.start();
  context.addRoutes(new RouteBuilder(){
    @Override public void configure() throws Exception {
      from("direct:reactor").to("mock:result");
    }
  }
);
  Flowable.just(1,2,3).subscribe(crs.subscriber("direct:reactor",Integer.class));
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMessageCount(3);
  mock.assertIsSatisfied();
  int idx=1;
  for (  Exchange ex : mock.getExchanges()) {
    Assert.assertEquals(new Integer(idx++),ex.getIn().getBody(Integer.class));
  }
}
