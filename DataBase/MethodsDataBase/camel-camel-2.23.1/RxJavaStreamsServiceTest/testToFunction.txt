@Test public void testToFunction() throws Exception {
  context.start();
  AtomicInteger value=new AtomicInteger(0);
  CountDownLatch latch=new CountDownLatch(1);
  Function<Object,Publisher<String>> fun=crs.to("bean:hello",String.class);
  Flowable.just(1,2,3).flatMap(fun::apply).doOnNext(res -> Assert.assertEquals("Hello " + value.incrementAndGet(),res)).doOnNext(res -> latch.countDown()).subscribe();
  Assert.assertTrue(latch.await(2,TimeUnit.SECONDS));
}
