@Test public void testAuthors() throws Exception {
  getMockEndpoint("mock:authors").expectedMessageCount(1);
  Object file=new File("src/test/resources/books.json");
  template.sendBodyAndHeader("direct:start","Hello World","myHeader",file);
  assertMockEndpointsSatisfied();
  List<?> authors=getMockEndpoint("mock:authors").getReceivedExchanges().get(0).getIn().getBody(List.class);
  assertEquals("Nigel Rees",authors.get(0));
  assertEquals("Evelyn Waugh",authors.get(1));
}
