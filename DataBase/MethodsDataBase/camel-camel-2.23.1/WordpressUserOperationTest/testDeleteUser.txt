@Test public void testDeleteUser() throws InterruptedException {
  MockEndpoint mock=getMockEndpoint("mock:resultDelete");
  mock.expectedBodyReceived().body(User.class);
  mock.expectedMessageCount(1);
  final User response=(User)template.requestBody("direct:deleteUser","");
  assertThat(response.getId(),is(4));
  assertThat(response.getUsername(),is("bmarsh"));
  assertMockEndpointsSatisfied();
}
