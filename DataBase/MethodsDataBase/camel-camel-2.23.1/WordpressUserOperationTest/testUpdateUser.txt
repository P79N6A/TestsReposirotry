@Test public void testUpdateUser() throws InterruptedException {
  MockEndpoint mock=getMockEndpoint("mock:resultUpdate");
  mock.expectedBodyReceived().body(User.class);
  mock.expectedMessageCount(1);
  final User request=new User();
  request.setEmail("admin@email.com");
  final User response=(User)template.requestBody("direct:updateUser",request);
  assertThat(response.getId(),is(1));
  assertThat(response.getEmail(),is("admin@email.com"));
  assertMockEndpointsSatisfied();
}
