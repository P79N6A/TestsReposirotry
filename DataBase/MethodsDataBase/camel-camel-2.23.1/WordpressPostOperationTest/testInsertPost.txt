@Test public void testInsertPost() throws InterruptedException {
  MockEndpoint mock=getMockEndpoint("mock:resultInsert");
  mock.expectedBodyReceived().body(Post.class);
  mock.expectedMessageCount(1);
  final Post request=new Post();
  request.setAuthor(2);
  request.setTitle(new Content("hello from postman 2"));
  final Post response=(Post)template.requestBody("direct:insertPost",request);
  assertThat(response.getId(),is(9));
  assertThat(response.getStatus(),is(PublishableStatus.draft));
  assertMockEndpointsSatisfied();
}
