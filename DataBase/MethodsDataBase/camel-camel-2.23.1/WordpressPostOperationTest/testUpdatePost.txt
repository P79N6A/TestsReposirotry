@Test public void testUpdatePost() throws InterruptedException {
  MockEndpoint mock=getMockEndpoint("mock:resultUpdate");
  mock.expectedBodyReceived().body(Post.class);
  mock.expectedMessageCount(1);
  final Post request=new Post();
  request.setAuthor(2);
  request.setTitle(new Content("hello from postman 2 - update"));
  final Post response=(Post)template.requestBody("direct:updatePost",request);
  assertThat(response.getId(),is(9));
  assertThat(response.getStatus(),is(PublishableStatus.draft));
  assertThat(response.getTitle().getRaw(),is("hello from postman 2 - update"));
  assertThat(response.getTitle().getRendered(),is("hello from postman 2 &#8211; update"));
  assertMockEndpointsSatisfied();
}
