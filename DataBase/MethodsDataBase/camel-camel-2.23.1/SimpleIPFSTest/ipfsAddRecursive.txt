@Test @SuppressWarnings("unchecked") public void ipfsAddRecursive() throws Exception {
  String hash="Qme6hd6tYXTFb7bb7L3JZ5U6ygktpAHKxbaeffYyQN85mW";
  CamelContext camelctx=new DefaultCamelContext();
  camelctx.addRoutes(new RouteBuilder(){
    @Override public void configure() throws Exception {
      from("direct:start").to("ipfs:add");
    }
  }
);
  Path path=Paths.get("src/test/resources/html");
  camelctx.start();
  assumeIPFS(camelctx);
  try {
    ProducerTemplate producer=camelctx.createProducerTemplate();
    List<String> res=producer.requestBody("direct:start",path,List.class);
    Assert.assertEquals(10,res.size());
    Assert.assertEquals(hash,res.get(9));
  }
  finally {
    camelctx.stop();
  }
}
