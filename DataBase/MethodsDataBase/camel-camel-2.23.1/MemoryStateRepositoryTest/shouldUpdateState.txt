@Test public void shouldUpdateState() throws Exception {
  MemoryStateRepository repository=new MemoryStateRepository();
  repository.setState("key","value");
  repository.setState("key","value2");
  assertEquals("value2",repository.getState("key"));
}
