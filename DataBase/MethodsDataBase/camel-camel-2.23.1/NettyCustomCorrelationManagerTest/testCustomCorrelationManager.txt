@Test public void testCustomCorrelationManager() throws Exception {
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedBodiesReceivedInAnyOrder("Bye A","Bye B","Bye C");
  mock.allMessages().header("manager").isEqualTo(myManager);
  mock.allMessages().predicate(exchange -> {
    String request=exchange.getMessage().getHeader("request",String.class);
    String reply=exchange.getMessage().getBody(String.class);
    return reply.endsWith(request);
  }
);
  template.sendBodyAndHeader("seda:start","A","request","A");
  template.sendBodyAndHeader("seda:start","B","request","B");
  template.sendBodyAndHeader("seda:start","C","request","C");
  assertMockEndpointsSatisfied();
}
