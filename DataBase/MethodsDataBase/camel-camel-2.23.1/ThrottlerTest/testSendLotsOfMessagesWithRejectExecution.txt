@Test public void testSendLotsOfMessagesWithRejectExecution() throws Exception {
  if (!canTest()) {
    return;
  }
  MockEndpoint resultEndpoint=resolveMandatoryEndpoint("mock:result",MockEndpoint.class);
  resultEndpoint.expectedMessageCount(2);
  MockEndpoint errorEndpoint=resolveMandatoryEndpoint("mock:error",MockEndpoint.class);
  errorEndpoint.expectedMessageCount(4);
  for (int i=0; i < 6; i++) {
    template.sendBody("direct:start","<message>" + i + "</message>");
  }
  assertMockEndpointsSatisfied();
}
