@Test public void createQueueShouldCreateFifoQueueWithContentBasedDeduplication(){
  config.setQueueName("test-queue.fifo");
  config.setMessageDeduplicationIdStrategy("useContentBasedDeduplication");
  CreateQueueRequest expectedCreateQueueRequest=new CreateQueueRequest("test-queue.fifo").addAttributesEntry(QueueAttributeName.FifoQueue.name(),"true").addAttributesEntry(QueueAttributeName.ContentBasedDeduplication.name(),"true");
  Mockito.when(amazonSQSClient.createQueue(ArgumentMatchers.any(CreateQueueRequest.class))).thenReturn(new CreateQueueResult().withQueueUrl("https://sqs.us-east-1.amazonaws.com/111222333/test-queue.fifo"));
  endpoint.createQueue(amazonSQSClient);
  Mockito.verify(amazonSQSClient).createQueue(expectedCreateQueueRequest);
  assertEquals("https://sqs.us-east-1.amazonaws.com/111222333/test-queue.fifo",endpoint.getQueueUrl());
}
