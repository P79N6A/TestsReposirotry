@Test public void testCacheInvalidate() throws Exception {
  final Cache<Object,Object> cache=getTestCache();
  final String key=generateRandomString();
  final String val=generateRandomString();
  cache.put(key,val);
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMinimumMessageCount(1);
  mock.expectedHeaderReceived(CaffeineConstants.ACTION_HAS_RESULT,false);
  mock.expectedHeaderReceived(CaffeineConstants.ACTION_SUCCEEDED,true);
  fluentTemplate().withHeader(CaffeineConstants.ACTION,CaffeineConstants.ACTION_INVALIDATE).withHeader(CaffeineConstants.KEY,key).to("direct://start").send();
  assertMockEndpointsSatisfied();
  assertFalse(cache.getIfPresent(key) != null);
}
