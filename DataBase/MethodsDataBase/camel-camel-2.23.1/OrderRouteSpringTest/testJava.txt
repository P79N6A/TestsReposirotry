@Test public void testJava() throws Exception {
  mockCsv.whenAnyExchangeReceived(new Processor(){
    public void process(    Exchange exchange){
      Object mockBody=exchange.getIn().getBody();
      assertEquals(Order.class,mockBody.getClass());
      Order mockOrder=(Order)mockBody;
      assertEquals("Order-Java-0001",mockOrder.getOrderId());
      assertEquals("MILK",mockOrder.getItemId());
      assertEquals(3,mockOrder.getQuantity());
    }
  }
);
  mockCsv.setExpectedMessageCount(1);
  Order order=new Order().setOrderId("Order-Java-0001").setItemId("MILK").setQuantity(3);
  Object answer=javaProducer.requestBody(order);
  assertEquals(OrderResponse.class,answer.getClass());
  OrderResponse or=(OrderResponse)answer;
  assertEquals("Order-Java-0001",or.getOrderId());
  assertEquals(true,or.isAccepted());
  assertEquals("Order accepted:[item='MILK' quantity='3']",or.getDescription());
  mockCsv.assertIsSatisfied();
}
