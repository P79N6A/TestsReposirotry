@Test public void createEndpointWithMaximalConfiguration() throws Exception {
  AmazonSDBClientMock mock=new AmazonSDBClientMock();
  ((JndiRegistry)((PropertyPlaceholderDelegateRegistry)context.getRegistry()).getRegistry()).bind("amazonSDBClient",mock);
  SdbComponent component=new SdbComponent(context);
  SdbEndpoint endpoint=(SdbEndpoint)component.createEndpoint("aws-sdb://TestDomain?amazonSDBClient=#amazonSDBClient&accessKey=xxx&secretKey=yyy&operation=DeleteAttributes&consistentRead=true" + "&maxNumberOfDomains=5");
  assertEquals("TestDomain",endpoint.getConfiguration().getDomainName());
  assertEquals("xxx",endpoint.getConfiguration().getAccessKey());
  assertEquals("yyy",endpoint.getConfiguration().getSecretKey());
  assertNotNull(endpoint.getConfiguration().getAmazonSDBClient());
  assertEquals(SdbOperations.DeleteAttributes,endpoint.getConfiguration().getOperation());
  assertTrue(endpoint.getConfiguration().isConsistentRead());
  assertEquals(new Integer(5),endpoint.getConfiguration().getMaxNumberOfDomains());
}
