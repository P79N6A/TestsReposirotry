@Test public void updateTest() throws Exception {
  final String id="myID";
  msg.setHeader(OpenstackConstants.OPERATION,OpenstackConstants.UPDATE);
  final String newName="newName";
  when(testOSgroup.getId()).thenReturn(id);
  when(testOSgroup.getName()).thenReturn(newName);
  when(testOSgroup.getDescription()).thenReturn("desc");
  when(groupService.update(any())).thenReturn(testOSgroup);
  msg.setBody(testOSgroup);
  producer.process(exchange);
  verify(groupService).update(groupCaptor.capture());
  assertEqualsGroup(testOSgroup,groupCaptor.getValue());
  assertNotNull(groupCaptor.getValue().getId());
  assertEquals(newName,msg.getBody(Group.class).getName());
}
