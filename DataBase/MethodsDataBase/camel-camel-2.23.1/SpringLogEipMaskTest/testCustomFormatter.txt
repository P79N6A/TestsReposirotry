@Test public void testCustomFormatter() throws Exception {
  final AbstractXmlApplicationContext applicationContext=new ClassPathXmlApplicationContext("org/apache/camel/spring/processor/logEipCustomFormatterTest.xml");
  SpringCamelContext context=SpringCamelContext.springCamelContext(applicationContext);
  context.start();
  MockMaskingFormatter customFormatter=applicationContext.getBean(Constants.CUSTOM_LOG_MASK_REF,MockMaskingFormatter.class);
  context.createProducerTemplate().sendBody("direct:foo","mock password=\"my passw0rd!\"");
  Assert.assertEquals("Got mock password=\"my passw0rd!\"",customFormatter.received);
  context.stop();
}
