@Test public void testCombinedServiceDiscoveryConfigurationDsl() throws Exception {
  CombinedServiceCallServiceDiscoveryConfiguration multiConf=new CombinedServiceCallServiceDiscoveryConfiguration();
  multiConf.staticServiceDiscovery().setServers(Arrays.asList("discovery1@localhost:1111","discovery1@localhost:1112"));
  multiConf.staticServiceDiscovery().setServers(Arrays.asList("discovery1@localhost:1113","discovery2@localhost:1114"));
  CombinedServiceDiscovery discovery=(CombinedServiceDiscovery)multiConf.newInstance(context);
  Assert.assertEquals(2,discovery.getDelegates().size());
  Assert.assertEquals(3,discovery.getServices("discovery1").size());
  Assert.assertEquals(1,discovery.getServices("discovery2").size());
}
