@Test public void testPgEventProducerProcessServerMinimumVersionNotMatched() throws Exception {
  when(endpoint.getDatasource()).thenReturn(dataSource);
  when(connection.isClosed()).thenReturn(false);
  when(dataSource.getConnection()).thenReturn(connection);
  when(exchange.getIn()).thenReturn(message);
  when(message.getBody(String.class)).thenReturn("pgevent");
  when(endpoint.getChannel()).thenReturn("camel");
  when(connection.isServerMinimumVersion(9,0)).thenReturn(false);
  when(connection.prepareStatement("NOTIFY camel, 'pgevent'")).thenReturn(statement);
  PgEventProducer producer=new PgEventProducer(endpoint);
  producer.start();
  producer.process(exchange);
  verify(statement).execute();
}
