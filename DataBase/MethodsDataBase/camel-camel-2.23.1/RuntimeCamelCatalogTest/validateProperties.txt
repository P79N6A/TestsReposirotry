@Test public void validateProperties() throws Exception {
  EndpointValidationResult result=catalog.validateEndpointProperties("log:mylog");
  assertTrue(result.isSuccess());
  result=catalog.validateEndpointProperties("log:mylog?level=WARN&foo=bar");
  assertFalse(result.isSuccess());
  assertTrue(result.getUnknown().contains("foo"));
  assertEquals(1,result.getNumberOfErrors());
  result=catalog.validateEndpointProperties("seda:foo?waitForTaskToComplete=blah");
  assertFalse(result.isSuccess());
  assertEquals("blah",result.getInvalidEnum().get("waitForTaskToComplete"));
  assertEquals(1,result.getNumberOfErrors());
  result=catalog.validateEndpointProperties("seda:foo?queue=#queue");
  assertTrue(result.isSuccess());
  assertEquals(0,result.getNumberOfErrors());
  result=catalog.validateEndpointProperties("foo:bar?me=you");
  assertFalse(result.isSuccess());
  assertTrue(result.getUnknownComponent().equals("foo"));
  assertEquals(1,result.getNumberOfErrors());
  result=catalog.validateEndpointProperties("log:output?showAll=ggg");
  assertFalse(result.isSuccess());
  assertEquals("ggg",result.getInvalidBoolean().get("showAll"));
  assertEquals(1,result.getNumberOfErrors());
  result=catalog.validateEndpointProperties("dataset:foo?minRate=50");
  assertTrue(result.isSuccess());
  result=catalog.validateEndpointProperties("timer://foo?fixedRate=true&delay=0&period=2s");
  assertTrue(result.isSuccess());
  result=catalog.validateEndpointProperties("timer://foo?fixedRate=#fixed&delay=#myDelay");
  assertTrue(result.isSuccess());
  result=catalog.validateEndpointProperties("file:inbox?consumer.delay=5000&consumer.greedy=true");
  assertTrue(result.isSuccess());
  result=catalog.validateEndpointProperties("file:inbox?delay=5000&greedy=true");
  assertTrue(result.isSuccess());
  result=catalog.validateEndpointProperties("file:inbox?delay=5000&consumer.greedy=true");
  assertTrue(result.isSuccess());
  result=catalog.validateEndpointProperties("file:inbox?delay=5000&scheduler.foo=123&scheduler.bar=456");
  assertTrue(result.isSuccess());
  result=catalog.validateEndpointProperties("stub:foo?me=123&you=456");
  assertTrue(result.isSuccess());
  result=catalog.validateEndpointProperties("dataformat:string:marshal?foo=bar");
  assertTrue(result.isSuccess());
  result=catalog.validateEndpointProperties("dataformat:string:marshal?foo=bar",true);
  assertFalse(result.isSuccess());
  assertTrue(result.getUnknown().contains("foo"));
  result=catalog.validateEndpointProperties("dataformat:string:marshal?charset=utf-8",true);
  assertTrue(result.isSuccess());
  result=catalog.validateEndpointProperties("{{getFtpUrl}}?recursive=true");
  assertFalse(result.isSuccess());
  assertTrue(result.getIncapable() != null);
}
