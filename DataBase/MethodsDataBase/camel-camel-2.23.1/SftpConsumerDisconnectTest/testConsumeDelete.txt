@Test public void testConsumeDelete() throws Exception {
  if (!canTest()) {
    return;
  }
  createSampleFile(SAMPLE_FILE_NAME_1);
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMessageCount(1);
  mock.expectedBodiesReceived(SAMPLE_FILE_PAYLOAD);
  context.startRoute("foo");
  assertMockEndpointsSatisfied();
  Thread.sleep(250);
  File deletedFile=new File(FTP_ROOT_DIR + "/" + SAMPLE_FILE_NAME_1);
  assertFalse("File should have been deleted: " + deletedFile,deletedFile.exists());
}
