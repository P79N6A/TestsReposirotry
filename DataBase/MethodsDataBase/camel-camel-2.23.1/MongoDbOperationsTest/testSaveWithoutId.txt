@Test public void testSaveWithoutId(){
  assertEquals(0,testCollection.count());
  Document doc=new Document("scientist","Copernic");
  template.requestBody("direct:insert",doc);
  doc=new Document("scientist","Einstein");
  assertNull(doc.get(MONGO_ID));
  UpdateResult result=template.requestBody("direct:save",doc,UpdateResult.class);
  assertNotNull(result.getUpsertedId());
  assertEquals(0,result.getModifiedCount());
  Document record1=testCollection.find(eq(MONGO_ID,result.getUpsertedId())).first();
  assertEquals("Scientist field of '" + result.getUpsertedId() + "' must equal 'Einstein'","Einstein",record1.get("scientist"));
}
