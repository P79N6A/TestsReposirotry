@Test public void shouldComplainIfClassResolverCannotResolveClass() throws IOException {
  final ClassResolver classResolver=mock(ClassResolver.class);
  final String properties="class=" + TestImplA.class.getName();
  when(classResolver.loadResourceAsStream("/org/apache/camel/impl/TestImplA")).thenReturn(new ByteArrayInputStream(properties.getBytes()));
  when(classResolver.resolveClass(TestImplA.class.getName())).thenReturn(null);
  final DefaultFactoryFinder factoryFinder=new DefaultFactoryFinder(classResolver,TEST_RESOURCE_PATH);
  try {
    factoryFinder.findClass("TestImplA",null);
    fail("Should have thrown ClassNotFoundException");
  }
 catch (  final ClassNotFoundException e) {
    assertEquals(TestImplA.class.getName(),e.getMessage());
  }
}
