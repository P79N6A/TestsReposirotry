@Test public void testDisabledCamelServiceRegistry(){
  new ApplicationContextRunner().withConfiguration(AutoConfigurations.of(CamelAutoConfiguration.class,CamelCloudAutoConfiguration.class,CamelSpringCloudServiceRegistryAutoConfiguration.class)).withUserConfiguration(TestConfiguration.class).withPropertyValues("spring.main.banner-mode=off","ribbon.eureka.enabled=false","ribbon.enabled=false","camel.cloud.enabled=true","camel.cloud.service-registry.enabled=false").run(context -> {
    assertThat(context).hasSingleBean(org.springframework.cloud.client.serviceregistry.ServiceRegistry.class);
    assertThat(context).getBean(org.springframework.cloud.client.serviceregistry.ServiceRegistry.class).isInstanceOf(MyServiceRegistry.class);
    assertThat(context).doesNotHaveBean(org.apache.camel.cloud.ServiceRegistry.class);
  }
);
}
