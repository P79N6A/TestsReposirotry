@Test public void testPropertiesSet() throws Exception {
  Map<String,Object> params=new HashMap<>();
  params.put("username","ugol");
  params.put("password","pwd");
  params.put("additionalHosts","127.0.0.1,example.com,another-host");
  params.put("persistTo",2);
  params.put("replicateTo",3);
  String uri="couchdb:http://localhost:91234/bucket";
  String remaining="http://localhost:91234/bucket";
  CouchbaseEndpoint endpoint=new CouchbaseComponent(context).createEndpoint(uri,remaining,params);
  assertEquals("http",endpoint.getProtocol());
  assertEquals("localhost",endpoint.getHostname());
  assertEquals("bucket",endpoint.getBucket());
  assertEquals(91234,endpoint.getPort());
  assertEquals("ugol",endpoint.getUsername());
  assertEquals("pwd",endpoint.getPassword());
  assertEquals("127.0.0.1,example.com,another-host",endpoint.getAdditionalHosts());
  assertEquals(2,endpoint.getPersistTo());
  assertEquals(3,endpoint.getReplicateTo());
}
