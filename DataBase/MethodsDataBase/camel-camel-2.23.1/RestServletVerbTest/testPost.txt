@Test public void testPost() throws Exception {
  final String body="{ \"id\":\"1\", \"name\":\"Scott\" }";
  MockEndpoint mock=getMockEndpoint("mock:create");
  mock.expectedBodiesReceived(body);
  mock.expectedHeaderReceived(Exchange.HTTP_METHOD,"POST");
  WebRequest req=new PostMethodWebRequest(CONTEXT_URL + "/services/users",new ByteArrayInputStream(body.getBytes()),"application/json");
  ServletUnitClient client=newClient();
  client.setExceptionsThrownOnErrorStatus(false);
  WebResponse response=client.getResponse(req);
  assertEquals(200,response.getResponseCode());
  assertMockEndpointsSatisfied();
}
