@Test public void testPut() throws Exception {
  final String body="{ \"id\":\"1\", \"name\":\"Scott\" }";
  MockEndpoint mock=getMockEndpoint("mock:update");
  mock.expectedBodiesReceived(body);
  mock.expectedHeaderReceived("id","1");
  mock.expectedHeaderReceived(Exchange.HTTP_METHOD,"PUT");
  WebRequest req=new PutMethodWebRequest(CONTEXT_URL + "/services/users/1",new ByteArrayInputStream(body.getBytes()),"application/json");
  ServletUnitClient client=newClient();
  client.setExceptionsThrownOnErrorStatus(false);
  WebResponse response=client.getResponse(req);
  assertEquals(200,response.getResponseCode());
  assertMockEndpointsSatisfied();
}
