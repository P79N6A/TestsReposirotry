@Test public void testPgEventNotification() throws Exception {
  PgEventEndpoint endpoint=mock(PgEventEndpoint.class);
  Processor processor=mock(Processor.class);
  Exchange exchange=mock(Exchange.class);
  Message message=mock(Message.class);
  when(endpoint.createExchange()).thenReturn(exchange);
  when(exchange.getIn()).thenReturn(message);
  PgEventConsumer consumer=new PgEventConsumer(endpoint,processor);
  consumer.notification(1,"camel","some event");
  verify(message).setHeader("channel","camel");
  verify(message).setBody("some event");
  verify(processor).process(exchange);
}
