@Test public void testDefaultHealthCheckRegistry() throws Exception {
  HealthCheckRegistry registry=new DefaultHealthCheckRegistry();
  registry.register(new MyHealthCheck("G1","1"));
  registry.register(new MyHealthCheck("G1","1"));
  registry.register(new MyHealthCheck("G1","2"));
  registry.register(new MyHealthCheck("G2","3"));
  List<HealthCheck> checks=registry.stream().collect(Collectors.toList());
  Assert.assertEquals(3,checks.size());
  for (  HealthCheck check : checks) {
    HealthCheck.Result response=check.call();
    Assert.assertEquals(HealthCheck.State.UP,response.getState());
    Assert.assertFalse(response.getMessage().isPresent());
    Assert.assertFalse(response.getError().isPresent());
  }
}
