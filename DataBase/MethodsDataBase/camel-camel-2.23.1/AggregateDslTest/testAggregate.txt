@Test public void testAggregate() throws Exception {
  getMockEndpoint("mock:aggregated").expectedBodiesReceived("0,3","1,4","2,5");
  getMockEndpoint("mock:aggregated-supplier").expectedBodiesReceived("0,3,6","1,4,7","2,5,8");
  for (int i=0; i < 9; i++) {
    template.sendBodyAndHeader("direct:start",i,"type",i % 3);
    template.sendBodyAndHeader("direct:start-supplier",i,"type",i % 3);
  }
  assertMockEndpointsSatisfied();
}
