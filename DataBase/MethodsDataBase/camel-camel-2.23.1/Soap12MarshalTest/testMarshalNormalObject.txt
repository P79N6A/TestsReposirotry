/** 
 * Test Soap marshalling by sending a GetCustomerByName object and checking against a xml file.
 * @throws java.io.IOException
 * @throws InterruptedException
 */
@Test public void testMarshalNormalObject() throws IOException, InterruptedException {
  InputStream in=this.getClass().getResourceAsStream("SoapMarshalTestExpectedResult.xml");
  resultEndpoint.expectedMessageCount(1);
  resultEndpoint.expectedBodiesReceived(TestUtil.readStream(in));
  GetCustomersByName request=new GetCustomersByName();
  request.setName("Smith");
  producer.sendBody(request);
  resultEndpoint.assertIsSatisfied();
}
