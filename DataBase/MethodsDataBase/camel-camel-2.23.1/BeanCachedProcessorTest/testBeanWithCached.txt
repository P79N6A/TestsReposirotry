@Test public void testBeanWithCached() throws Exception {
  MyBean originalInstance=registry.lookup("something",MyBean.class);
  template.sendBody("direct:cached",null);
  context.unbind("something");
  context.bind("something",new MyBean());
  assertNotSame(registry.lookup("something"),originalInstance);
  try {
    template.sendBody("direct:cached",null);
    fail("The IllegalStateException is expected");
  }
 catch (  CamelExecutionException ex) {
    assertTrue("IllegalStateException is expected!",ex.getCause() instanceof IllegalStateException);
    assertEquals("This bean is not supported to be invoked again!",ex.getCause().getMessage());
  }
}
