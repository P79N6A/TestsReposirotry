@Test public void testThrowSomething() throws Exception {
  try {
    runTestSendBody(m -> m.expectedMessageCount(0),"SomeProblem",this::throwSomething);
    fail("Exception expected");
  }
 catch (  ExecutionException e) {
    Assert.assertTrue(e.getCause() instanceof CamelExecutionException);
    Assert.assertTrue(e.getCause().getCause() instanceof IllegalStateException);
    Assert.assertEquals("SomeProblem",e.getCause().getCause().getMessage());
  }
}
