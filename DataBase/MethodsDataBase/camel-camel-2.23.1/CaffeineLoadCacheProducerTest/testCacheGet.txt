@Test public void testCacheGet() throws Exception {
  final Integer key=1;
  final Integer val=2;
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMinimumMessageCount(1);
  mock.expectedBodiesReceived(val);
  mock.expectedHeaderReceived(CaffeineConstants.ACTION_HAS_RESULT,true);
  mock.expectedHeaderReceived(CaffeineConstants.ACTION_SUCCEEDED,true);
  fluentTemplate().withHeader(CaffeineConstants.ACTION,CaffeineConstants.ACTION_GET).withHeader(CaffeineConstants.KEY,key).withBody(val).to("direct://start").send();
  assertMockEndpointsSatisfied();
}
