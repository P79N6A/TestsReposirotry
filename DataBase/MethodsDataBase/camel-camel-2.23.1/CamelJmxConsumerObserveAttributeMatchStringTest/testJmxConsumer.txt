@Test public void testJmxConsumer() throws Exception {
  getMockEndpoint("mock:result").expectedMinimumMessageCount(1);
  getMockEndpoint("mock:result").message(0).body().contains("<newValue>false</newValue>");
  getMockEndpoint("mock:result").message(0).body().contains("<attributeName>Tracing</attributeName>");
  ManagedRouteMBean mr=context.getManagedRoute("foo",ManagedRouteMBean.class);
  mr.setStatisticsEnabled(true);
  mr=context.getManagedRoute("foo",ManagedRouteMBean.class);
  mr.setTracing(true);
  mr=context.getManagedRoute("foo",ManagedRouteMBean.class);
  mr.setTracing(false);
  mr=context.getManagedRoute("foo",ManagedRouteMBean.class);
  mr.setTracing(true);
  assertMockEndpointsSatisfied();
}
