@Test public void testConsumeSynchronization() throws Exception {
  CamelPostProcessorHelper helper=new CamelPostProcessorHelper(context);
  MyConsumeAndSynchronizationBean my=new MyConsumeAndSynchronizationBean();
  Method method=my.getClass().getMethod("consumeSomething",String.class,Exchange.class);
  helper.consumerInjection(method,my,"foo");
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedBodiesReceived("Hello World");
  template.sendBody("seda:foo","Hello World");
  assertMockEndpointsSatisfied();
  await("onDone invokation").atMost(1,TimeUnit.SECONDS).until(mySynchronization::isOnDone);
}
