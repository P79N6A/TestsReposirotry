@Test public void testWhereNow() throws Exception {
  stubFor(get(urlPathEqualTo("/v2/presence/sub-key/mySubscribeKey/uuid/myUUID")).willReturn(aResponse().withBody("{\"status\": 200, \"message\": \"OK\", \"payload\": {\"channels\": [\"channel-a\",\"channel-b\"]}, \"service\": \"Presence\"}")));
  Map<String,Object> headers=new HashMap<>();
  headers.put(PubNubConstants.OPERATION,"WHERENOW");
  headers.put(PubNubConstants.UUID,"myUUID");
  @SuppressWarnings("unchecked") List<String> response=template.requestBodyAndHeaders("direct:publish",null,headers,List.class);
  assertNotNull(response);
  assertListSize(response,2);
  assertEquals("channel-a",response.get(0));
}
