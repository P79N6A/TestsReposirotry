@Test public void testGetConfiguredClientUriMismatch() throws Exception {
  CloudAppendBlob client=new CloudAppendBlob(URI.create("https://camelazure.blob.core.windows.net/container/blob"));
  JndiRegistry registry=(JndiRegistry)((PropertyPlaceholderDelegateRegistry)context.getRegistry()).getRegistry();
  registry.bind("azureBlobClient",client);
  BlobServiceComponent component=new BlobServiceComponent(context);
  BlobServiceEndpoint endpoint=(BlobServiceEndpoint)component.createEndpoint("azure-blob://camelazure/container/blob2?azureBlobClient=#azureBlobClient&publicForRead=true" + "&blobType=appendBlob");
  try {
    BlobServiceUtil.getConfiguredClient(endpoint.getConfiguration());
    fail();
  }
 catch (  IllegalArgumentException ex) {
    assertEquals("Invalid Client URI",ex.getMessage());
  }
}
