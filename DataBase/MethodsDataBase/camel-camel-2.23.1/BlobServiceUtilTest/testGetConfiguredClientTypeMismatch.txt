@Test public void testGetConfiguredClientTypeMismatch() throws Exception {
  CloudBlockBlob client=new CloudBlockBlob(URI.create("https://camelazure.blob.core.windows.net/container/blob"));
  JndiRegistry registry=(JndiRegistry)((PropertyPlaceholderDelegateRegistry)context.getRegistry()).getRegistry();
  registry.bind("azureBlobClient",client);
  BlobServiceComponent component=new BlobServiceComponent(context);
  BlobServiceEndpoint endpoint=(BlobServiceEndpoint)component.createEndpoint("azure-blob://camelazure/container/blob?azureBlobClient=#azureBlobClient&publicForRead=true" + "&blobType=appendBlob");
  try {
    BlobServiceUtil.getConfiguredClient(endpoint.getConfiguration());
    fail();
  }
 catch (  IllegalArgumentException ex) {
    assertEquals("Invalid Client Type",ex.getMessage());
  }
}
