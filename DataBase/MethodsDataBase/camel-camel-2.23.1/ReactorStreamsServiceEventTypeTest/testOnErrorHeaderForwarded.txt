@Test public void testOnErrorHeaderForwarded() throws Exception {
  context.addRoutes(new RouteBuilder(){
    @Override public void configure() throws Exception {
      from("reactive-streams:numbers?forwardOnError=true").to("mock:endpoint");
    }
  }
);
  Subscriber<Integer> numbers=crs.streamSubscriber("numbers",Integer.class);
  context.start();
  RuntimeException ex=new RuntimeException("1");
  Flux.just(1).map(n -> {
    if (n == 1) {
      throw ex;
    }
    return n;
  }
).subscribe(numbers);
  MockEndpoint endpoint=getMockEndpoint("mock:endpoint");
  endpoint.expectedMessageCount(1);
  endpoint.expectedHeaderReceived(ReactiveStreamsConstants.REACTIVE_STREAMS_EVENT_TYPE,"onError");
  endpoint.assertIsSatisfied();
  Exchange exch=endpoint.getExchanges().get(0);
  Assert.assertEquals(ex,exch.getIn().getBody());
}
