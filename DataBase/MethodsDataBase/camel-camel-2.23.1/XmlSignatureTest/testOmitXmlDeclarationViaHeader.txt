/** 
 * The parameter can also be configured via {@link XmlSignatureConfiguration#setOmitXmlDeclaration(Boolean)}
 */
@Test public void testOmitXmlDeclarationViaHeader() throws Exception {
  String payloadOut="<root xmlns=\"http://test/test\"><test>Test Message</test></root>";
  setupMock(payloadOut);
  Map<String,Object> headers=new TreeMap<>();
  headers.put(XmlSignatureConstants.HEADER_OMIT_XML_DECLARATION,Boolean.TRUE);
  InputStream payload=XmlSignatureTest.class.getResourceAsStream("/org/apache/camel/component/xmlsecurity/ExampleEnvelopedXmlSig.xml");
  assertNotNull("Cannot load payload",payload);
  sendBody("direct:outputnodesearchelementname",payload,headers);
  assertMockEndpointsSatisfied();
}
