@Test public void testListen() throws Exception {
  try {
    createTestFile();
  }
  finally {
    deleteTestFile();
  }
  MockEndpoint mockEndpoint=getMockEndpoint("mock:boxEvents");
  mockEndpoint.expectedMinimumMessageCount(2);
  mockEndpoint.setResultWaitTime(TimeUnit.MILLISECONDS.convert(30,TimeUnit.SECONDS));
  mockEndpoint.assertIsSatisfied();
  final List<Exchange> exchanges=mockEndpoint.getExchanges();
  assertNotNull("poll result",exchanges);
  assertFalse("poll result",exchanges.isEmpty());
  LOG.debug("poll result: " + exchanges);
}
