@Test public void testNoResponseOnNthMessage() throws Exception {
  int sendMessageCount=3;
  expectedAACount=sendMessageCount - 1;
  expectedTimeoutCount=1;
  setExpectedCounts();
  NotifyBuilder[] complete=new NotifyBuilder[sendMessageCount];
  for (int i=0; i < sendMessageCount; ++i) {
    complete[i]=new NotifyBuilder(context).whenDone(i + 1).create();
  }
  mllpServer.disableResponse(sendMessageCount);
  for (int i=0; i < sendMessageCount; ++i) {
    source.sendBody(Hl7TestMessageGenerator.generateMessage(i + 1));
    assertTrue("Messege " + i + " not completed",complete[i].matches(1,TimeUnit.SECONDS));
  }
}
