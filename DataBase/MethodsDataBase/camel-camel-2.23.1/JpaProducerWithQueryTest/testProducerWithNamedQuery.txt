@Test public void testProducerWithNamedQuery() throws Exception {
  template.sendBody("direct:deleteCustomers","");
  Customer c1=new Customer();
  c1.setName("Willem");
  template.sendBody("direct:addCustomer",c1);
  Customer c2=new Customer();
  c2.setName("Dummy");
  template.sendBody("direct:addCustomer",c2);
  Object answer=template.requestBody("direct:namedQuery","Willem");
  List list=(List)answer;
  assertEquals(1,list.size());
  assertEquals("Willem",((Customer)list.get(0)).getName());
  answer=template.requestBody("direct:deleteCustomers","");
  assertEquals(2,((Integer)answer).intValue());
}
