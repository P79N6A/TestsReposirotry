@Test public void shouldSupportInitialConfigMapWithTwoKeySyntaxes() throws Exception {
  final Map<String,Long> initialReplayIdMap=new HashMap<>();
  initialReplayIdMap.put("my-topic-1",10L);
  initialReplayIdMap.put("/topic/my-topic-1",20L);
  initialReplayIdMap.put("/topic/my-topic-2",30L);
  final SalesforceEndpointConfig config=new SalesforceEndpointConfig();
  config.setDefaultReplayId(14L);
  config.setInitialReplayIdMap(initialReplayIdMap);
  final SalesforceComponent component=mock(SalesforceComponent.class);
  final SalesforceEndpoint endpoint=mock(SalesforceEndpoint.class);
  when(endpoint.getReplayId()).thenReturn(null);
  when(endpoint.getComponent()).thenReturn(component);
  when(endpoint.getConfiguration()).thenReturn(config);
  when(component.getConfig()).thenReturn(new SalesforceEndpointConfig());
  assertEquals("Expecting replayId for `my-topic-1` to be 10, as short topic names have priority",Optional.of(10L),determineReplayIdFor(endpoint,"my-topic-1"));
  assertEquals("Expecting replayId for `my-topic-2` to be 30, the only one given",Optional.of(30L),determineReplayIdFor(endpoint,"my-topic-2"));
  assertEquals("Expecting replayId for `my-topic-3` to be 14, the default",Optional.of(14L),determineReplayIdFor(endpoint,"my-topic-3"));
}
