@Test public void testToInputStreamFileWithCharsetUTF8withOtherDefaultEncoding() throws Exception {
  switchToDefaultCharset(StandardCharsets.ISO_8859_1);
  File file=new File("src/test/resources/org/apache/camel/converter/german.utf-8.txt");
  try (InputStream in=IOConverter.toInputStream(file,"UTF-8");BufferedReader reader=new BufferedReader(new InputStreamReader(in,StandardCharsets.ISO_8859_1));BufferedReader naiveReader=new BufferedReader(new InputStreamReader(Files.newInputStream(Paths.get(file.getAbsolutePath())),StandardCharsets.UTF_8))){
    String line=reader.readLine();
    String naiveLine=naiveReader.readLine();
    assertEquals(naiveLine,line);
    assertEquals(CONTENT,line);
  }
 }
