@Test public void testRecovery() throws InterruptedException {
  when(queue.poll(any(Long.class),any(TimeUnit.class))).thenReturn("bar").thenReturn(null);
  when(tqueue.poll(any(Long.class),any(TimeUnit.class))).thenReturn("bar").thenReturn(null);
  mock.expectedMessageCount(1);
  assertMockEndpointsSatisfied(5000,TimeUnit.MILLISECONDS);
}
