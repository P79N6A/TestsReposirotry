@Test(expected=IllegalArgumentException.class) public void shouldPreventUsingNewLineInValue() throws Exception {
  FileStateRepository repository=createRepository();
  repository.setState("key","\n");
}
