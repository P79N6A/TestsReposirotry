@Test(expected=IllegalArgumentException.class) public void shouldPreventUsingNewLineInKey() throws Exception {
  FileStateRepository repository=createRepository();
  repository.setState("\n","value");
}
