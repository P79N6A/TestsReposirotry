@Test public void testStringToAddressConversion() throws Exception {
  DefaultCamelContext context=null;
  try {
    context=new DefaultCamelContext();
    context.start();
    TypeConverterRegistry registry=context.getTypeConverterRegistry();
    TypeConverter converter=registry.lookup(Address.class,String.class);
    Assert.assertNotNull(converter);
    Assert.assertEquals("127.0.0.1",converter.mandatoryConvertTo(Address.class,"127.0.0.1:1234").host());
    Assert.assertEquals(1234,converter.mandatoryConvertTo(Address.class,"127.0.0.1:1234").port());
  }
  finally {
    if (context != null) {
      context.stop();
    }
  }
}
