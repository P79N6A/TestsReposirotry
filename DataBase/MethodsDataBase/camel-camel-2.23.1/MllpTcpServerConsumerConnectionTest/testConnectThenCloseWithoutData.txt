/** 
 * Simulate a Load Balancer Probe <p/> Load Balancers check the status of a port by establishing and closing a TCP connection periodically.  The time between these probes can normally be configured, but it is typically set to about 15-sec.  Since there could be a large number of port that are being probed, the logging from the connect/disconnect operations can drown-out more useful information. <p/> Watch the logs when running this test to verify that the log output will be acceptable when a load balancer is probing the port. <p/> TODO:  Need to add a custom Log4j Appender that can verify the logging is acceptable
 * @throws Exception
 */
@Test public void testConnectThenCloseWithoutData() throws Exception {
  int connectionCount=10;
  long connectionMillis=200;
  result.setExpectedCount(0);
  result.setAssertPeriod(1000);
  addTestRouteWithIdleTimeout(-1);
  for (int i=1; i <= connectionCount; ++i) {
    mllpClient.connect();
    Thread.sleep(connectionMillis);
    mllpClient.close();
  }
  mllpClient.connect();
  Thread.sleep(1000);
  mllpClient.close();
  assertMockEndpointsSatisfied(15,TimeUnit.SECONDS);
}
