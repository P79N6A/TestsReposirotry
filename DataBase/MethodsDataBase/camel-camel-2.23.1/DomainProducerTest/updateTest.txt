@Test public void updateTest() throws Exception {
  final String id="myID";
  msg.setHeader(OpenstackConstants.OPERATION,OpenstackConstants.UPDATE);
  final String newName="newName";
  when(testOSdomain.getId()).thenReturn(id);
  when(testOSdomain.getName()).thenReturn(newName);
  when(testOSdomain.getDescription()).thenReturn("desc");
  when(domainService.update(any())).thenReturn(testOSdomain);
  msg.setBody(testOSdomain);
  producer.process(exchange);
  verify(domainService).update(domainCaptor.capture());
  assertEqualsDomain(testOSdomain,domainCaptor.getValue());
  assertNotNull(domainCaptor.getValue().getId());
  assertEquals(newName,msg.getBody(Domain.class).getName());
}
