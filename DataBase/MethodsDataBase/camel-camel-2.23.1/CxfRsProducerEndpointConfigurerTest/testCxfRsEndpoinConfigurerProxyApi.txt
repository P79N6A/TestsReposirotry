@Test public void testCxfRsEndpoinConfigurerProxyApi() throws InterruptedException {
  template.send("direct:start",exchange -> {
    exchange.setPattern(ExchangePattern.InOut);
    Message inMessage=exchange.getIn();
    inMessage.setHeader(CxfConstants.OPERATION_NAME,"getCustomer");
    inMessage.setHeader(CxfConstants.CAMEL_CXF_RS_USING_HTTP_API,Boolean.FALSE);
    MessageContentsList messageContentsList=new MessageContentsList();
    messageContentsList.add("1");
    inMessage.setBody(messageContentsList);
  }
);
  getMockEndpoint("mock:result").expectedHeaderReceived("foo","bar");
  getMockEndpoint("mock:end").expectedMessageCount(1);
  assertMockEndpointsSatisfied();
}
