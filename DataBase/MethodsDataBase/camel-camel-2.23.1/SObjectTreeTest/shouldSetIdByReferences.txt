@Test public void shouldSetIdByReferences(){
  final SObjectTree tree=new SObjectTree();
  final SObjectNode account1=new SObjectNode(tree,simpleAccount);
  account1.addChild("Contacts",smith);
  account1.addChild("Contacts",evans);
  tree.addNode(account1);
  final SObjectNode account2=new SObjectNode(tree,simpleAccount2);
  tree.addNode(account2);
  tree.setIdFor("ref1","id1");
  tree.setIdFor("ref4","id4");
  tree.setIdFor("ref3","id3");
  tree.setIdFor("ref2","id2");
  assertEquals("id1",simpleAccount.getId());
  assertEquals("id2",smith.getId());
  assertEquals("id3",evans.getId());
  assertEquals("id4",simpleAccount2.getId());
}
