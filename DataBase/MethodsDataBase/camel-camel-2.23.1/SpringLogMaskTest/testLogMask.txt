@Test public void testLogMask() throws Exception {
  final AbstractXmlApplicationContext applicationContext=new ClassPathXmlApplicationContext("org/apache/camel/component/log/SpringLogMaskTest-context.xml");
  SpringCamelContext context=SpringCamelContext.springCamelContext(applicationContext);
  context.start();
  MockEndpoint mock=context.getEndpoint("mock:mask",MockEndpoint.class);
  ProducerTemplate template=context.createProducerTemplate();
  template.sendBodyAndHeader("direct:mask","password=passw0rd@","headerPassword","#header-password$");
  template.sendBodyAndProperty("direct:mask","password=passw0rd@","propertyPassphrase","#property-passphrase$");
  context.stop();
  mock.expectedMessageCount(2);
}
