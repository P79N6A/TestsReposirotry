@Test public void testReceptionOfMessageWithAMessage() throws Exception {
  endpoint.expectedMinimumMessageCount(1);
  endpoint.assertIsSatisfied();
  Exchange mediaExchange=endpoint.getExchanges().get(0);
  IncomingMessage msg=mediaExchange.getIn().getBody(IncomingMessage.class);
  assertEquals("-1001245756934",mediaExchange.getIn().getHeader(TelegramConstants.TELEGRAM_CHAT_ID));
  assertNotNull(msg);
  assertEquals("test",msg.getText());
  assertEquals(Long.valueOf(67L),msg.getMessageId());
  assertEquals(Instant.ofEpochSecond(1546505413L),msg.getDate());
  Chat chat=msg.getChat();
  assertNotNull(chat);
  assertEquals("-1001245756934",chat.getId());
  assertEquals("cameltemp",chat.getTitle());
  assertEquals("channel",chat.getType());
}
