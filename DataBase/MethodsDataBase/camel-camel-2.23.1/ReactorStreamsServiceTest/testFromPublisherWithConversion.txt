@Test public void testFromPublisherWithConversion() throws Exception {
  context.start();
  context.addRoutes(new RouteBuilder(){
    @Override public void configure() throws Exception {
      from("direct:source").to("direct:stream").setBody().simple("after stream: ${body}");
    }
  }
);
  crs.process("direct:stream",Integer.class,publisher -> Flux.from(publisher).map(Math::negateExact));
  for (int i=1; i <= 3; i++) {
    Assert.assertEquals("after stream: " + (-i),template.requestBody("direct:source",i,String.class));
  }
}
