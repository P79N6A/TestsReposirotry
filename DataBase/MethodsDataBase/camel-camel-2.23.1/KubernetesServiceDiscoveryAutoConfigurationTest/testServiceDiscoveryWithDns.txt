@Test public void testServiceDiscoveryWithDns(){
  new ApplicationContextRunner().withUserConfiguration(TestConfiguration.class).withPropertyValues("spring.main.banner-mode=off","camel.cloud.kubernetes.service-discovery.enabled=true","camel.cloud.kubernetes.service-discovery.lookup=dns","camel.cloud.kubernetes.service-discovery.dns-domain=mydomain","camel.cloud.kubernetes.service-discovery.namespace=mynamespace").run(context -> {
    assertThat(context).hasSingleBean(KubernetesServiceCallServiceDiscoveryConfigurationProperties.class);
    assertThat(context).getBeans(ServiceDiscovery.class).containsKeys("kubernetes-service-discovery");
    assertThat(context).getBean("kubernetes-service-discovery").isInstanceOf(KubernetesDnsServiceDiscovery.class);
  }
);
}
