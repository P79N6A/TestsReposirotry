@Test public void updateTest() throws Exception {
  final String portID="myID";
  msg.setHeader(OpenstackConstants.OPERATION,OpenstackConstants.UPDATE);
  final String newDevId="dev";
  when(testOSport.getDeviceId()).thenReturn(newDevId);
  when(testOSport.getId()).thenReturn(portID);
  when(portService.update(any())).thenReturn(testOSport);
  msg.setBody(testOSport);
  producer.process(exchange);
  verify(portService).update(portCaptor.capture());
  assertEqualsPort(testOSport,portCaptor.getValue());
  assertNotNull(portCaptor.getValue().getId());
}
