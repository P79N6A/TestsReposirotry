@Test public void testCsvWithEndingLineBreak() throws Exception {
  final CsvRecord record=MyCsvRecord.class.getAnnotation(CsvRecord.class);
  final MyCsvRecord csvRecord=new MyCsvRecord();
  csvRecord.setAddressLine1("221b Baker Street");
  csvRecord.setCity("London");
  csvRecord.setCountry("England");
  csvRecord.setAttention("1");
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMessageCount(1);
  mock.message(0).body().convertToString().endsWith(ConverterUtils.getStringCarriageReturn(record.crlf()));
  template.sendBody("direct:withlb",csvRecord);
  assertMockEndpointsSatisfied();
}
