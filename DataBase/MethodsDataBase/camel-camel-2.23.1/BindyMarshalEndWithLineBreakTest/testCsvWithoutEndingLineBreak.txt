@Test public void testCsvWithoutEndingLineBreak() throws Exception {
  final CsvRecord record=MyCsvRecord2.class.getAnnotation(CsvRecord.class);
  final MyCsvRecord2 csvRecord2=new MyCsvRecord2();
  csvRecord2.setAddressLine1("221b Baker Street");
  csvRecord2.setCity("London");
  csvRecord2.setCountry("England");
  csvRecord2.setAttention("1");
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMessageCount(1);
  mock.message(0).body().convertToString().endsWith(record.separator());
  template.sendBody("direct:withoutlb",csvRecord2);
  assertMockEndpointsSatisfied();
}
