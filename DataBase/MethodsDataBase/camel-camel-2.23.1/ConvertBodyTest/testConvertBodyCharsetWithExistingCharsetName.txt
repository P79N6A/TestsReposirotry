@Test public void testConvertBodyCharsetWithExistingCharsetName() throws Exception {
  context.addRoutes(new RouteBuilder(){
    public void configure(){
      from("direct:foo").convertBodyTo(byte[].class,"iso-8859-1").to("mock:foo");
    }
  }
);
  getMockEndpoint("mock:foo").expectedMessageCount(1);
  getMockEndpoint("mock:foo").message(0).exchangeProperty(Exchange.CHARSET_NAME).isEqualTo("UTF-8");
  Exchange srcExchange=ExchangeBuilder.anExchange(context).withProperty(Exchange.CHARSET_NAME,"UTF-8").withBody("Hello World").build();
  template.send("direct:foo",srcExchange);
  assertMockEndpointsSatisfied();
}
