@Test public void testSelectByOrder() throws Exception {
  CamelContext context=null;
  try {
    DummyClusterService1 service1=new DummyClusterService1();
    service1.setOrder(1);
    DummyClusterService2 service2=new DummyClusterService2();
    service2.setOrder(0);
    context=new DefaultCamelContext();
    context.addService(service1);
    context.addService(service2);
    CamelClusterService.Selector selector=ClusterServiceSelectors.order();
    Optional<CamelClusterService> lookup=lookupService(context,selector);
    Assert.assertTrue(lookup.isPresent());
    Assert.assertEquals(service2,lookup.get());
  }
  finally {
    if (context != null) {
      context.stop();
    }
  }
}
