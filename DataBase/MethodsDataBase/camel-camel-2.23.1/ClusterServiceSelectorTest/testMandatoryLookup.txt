@Test public void testMandatoryLookup() throws Exception {
  CamelContext context=null;
  try {
    DummyClusterService1 service1=new DummyClusterService1();
    context=new DefaultCamelContext();
    context.addService(service1);
    CamelClusterService.Selector selector=ClusterServiceSelectors.single();
    CamelClusterService lookup=mandatoryLookupService(context,selector);
    Assert.assertNotNull(lookup);
    Assert.assertEquals(service1,lookup);
  }
  finally {
    if (context != null) {
      context.stop();
    }
  }
}
