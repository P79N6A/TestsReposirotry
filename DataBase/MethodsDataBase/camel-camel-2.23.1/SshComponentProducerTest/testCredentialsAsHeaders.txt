@Test public void testCredentialsAsHeaders() throws Exception {
  final String msg="test";
  MockEndpoint mock=getMockEndpoint("mock:password");
  mock.expectedMinimumMessageCount(1);
  mock.expectedBodiesReceived(msg);
  mock.expectedHeaderReceived(SshResult.EXIT_VALUE,0);
  mock.expectedHeaderReceived(SshResult.STDERR,"Error:test");
  Map<String,Object> headers=new HashMap<>();
  headers.put(SshConstants.USERNAME_HEADER,"smx");
  headers.put(SshConstants.PASSWORD_HEADER,"smx");
  template.sendBodyAndHeaders("direct:sshCredentialsWithHeaders",msg,headers);
  assertMockEndpointsSatisfied();
}
