@Test public void testPreMessageId(){
  String messageId="abcd";
  Endpoint endpoint=Mockito.mock(Endpoint.class);
  Exchange exchange=Mockito.mock(Exchange.class);
  Mockito.when(endpoint.getEndpointUri()).thenReturn("test");
  SpanDecorator decorator=new AbstractMessagingSpanDecorator(){
    @Override public String getComponent(){
      return null;
    }
    @Override public String getMessageId(    Exchange exchange){
      return messageId;
    }
  }
;
  MockTracer tracer=new MockTracer();
  MockSpan span=tracer.buildSpan("TestSpan").start();
  decorator.pre(span,exchange,endpoint);
  assertEquals(messageId,span.tags().get(AbstractMessagingSpanDecorator.MESSAGE_BUS_ID));
}
