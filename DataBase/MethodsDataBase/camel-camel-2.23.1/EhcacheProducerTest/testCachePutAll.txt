@Test public void testCachePutAll() throws Exception {
  final Cache<Object,Object> cache=getTestCache();
  final Map<String,String> map=generateRandomMapOfString(3);
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMinimumMessageCount(1);
  mock.expectedHeaderReceived(EhcacheConstants.ACTION_HAS_RESULT,false);
  mock.expectedHeaderReceived(EhcacheConstants.ACTION_SUCCEEDED,true);
  fluentTemplate().withHeader(EhcacheConstants.ACTION,EhcacheConstants.ACTION_PUT_ALL).withBody(map).to("direct://start").send();
  assertMockEndpointsSatisfied();
  map.forEach((k,v) -> {
    assertTrue(cache.containsKey(k));
    assertEquals(v,cache.get(k));
  }
);
}
