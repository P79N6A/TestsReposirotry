@Test public void testStatus400() throws Exception {
  final Merchandise__c merchandise=template().requestBodyAndHeader("direct:getSObject",testId,"sObjectFields","Description__c,Price__c",Merchandise__c.class);
  assertNotNull(merchandise);
  assertNotNull(merchandise.getPrice__c());
  assertNull(merchandise.getTotal_Inventory__c());
  merchandise.clearBaseFields();
  CreateSObjectResult result=null;
  try {
    result=template().requestBody("direct:createSObject",merchandise,CreateSObjectResult.class);
    fail("Expected SalesforceException with statusCode 400");
  }
 catch (  final CamelExecutionException e) {
    final Throwable cause=e.getCause();
    assertTrue(cause instanceof SalesforceException);
    final SalesforceException badRequest=(SalesforceException)cause;
    assertEquals(400,badRequest.getStatusCode());
    assertEquals(1,badRequest.getErrors().size());
    assertEquals("[Total_Inventory__c]",badRequest.getErrors().get(0).getFields().toString());
  }
 finally {
    if (result != null) {
      template().requestBody("direct:deleteSObject",result.getId());
    }
  }
}
