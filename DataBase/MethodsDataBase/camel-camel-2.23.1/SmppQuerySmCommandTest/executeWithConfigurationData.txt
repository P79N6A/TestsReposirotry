@Test public void executeWithConfigurationData() throws Exception {
  Exchange exchange=new DefaultExchange(new DefaultCamelContext(),ExchangePattern.InOut);
  exchange.getIn().setHeader(SmppConstants.COMMAND,"QuerySm");
  exchange.getIn().setHeader(SmppConstants.ID,"1");
  when(session.queryShortMessage("1",TypeOfNumber.UNKNOWN,NumberingPlanIndicator.UNKNOWN,"1616")).thenReturn(new QuerySmResult("-300101010000004+",MessageState.DELIVERED,(byte)0));
  command.execute(exchange);
  assertEquals("1",exchange.getOut().getHeader(SmppConstants.ID));
  assertEquals("DELIVERED",exchange.getOut().getHeader(SmppConstants.MESSAGE_STATE));
  assertEquals((byte)0,exchange.getOut().getHeader(SmppConstants.ERROR));
  assertNotNull(exchange.getOut().getHeader(SmppConstants.FINAL_DATE));
}
