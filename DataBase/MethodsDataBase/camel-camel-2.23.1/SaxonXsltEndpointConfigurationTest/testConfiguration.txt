@Test public void testConfiguration() throws Exception {
  Configuration configuration=context.getRegistry().lookupByNameAndType("saxon-configuration",Configuration.class);
  Map<String,Object> properties=context.getRegistry().lookupByNameAndType("saxon-properties",Map.class);
  XsltComponent component=context.getComponent("xslt",XsltComponent.class);
  XsltEndpoint endpoint=null;
  assertNotNull(configuration);
  assertNotNull(properties);
  for (  Endpoint ep : context.getEndpoints()) {
    if (ep instanceof XsltEndpoint) {
      endpoint=(XsltEndpoint)ep;
      break;
    }
  }
  assertNotNull(component);
  assertNotNull(endpoint);
  assertNull(component.getSaxonConfiguration());
  assertTrue(component.getSaxonConfigurationProperties().isEmpty());
  assertNotNull(endpoint.getSaxonConfiguration());
  assertNotNull(endpoint.getSaxonConfigurationProperties());
  assertEquals(configuration,endpoint.getSaxonConfiguration());
  assertEquals(properties,endpoint.getSaxonConfigurationProperties());
}
