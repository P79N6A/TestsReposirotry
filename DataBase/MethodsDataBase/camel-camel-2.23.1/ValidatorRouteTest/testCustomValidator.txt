@Test public void testCustomValidator() throws Exception {
  Exchange exchange=new DefaultExchange(context,ExchangePattern.InOut);
  exchange.getIn().setBody("name=XOrder");
  Exchange answerEx=template.send("direct:custom",exchange);
  if (answerEx.getException() != null) {
    throw answerEx.getException();
  }
  assertEquals("name=XOrderResponse",answerEx.getOut().getBody(String.class));
  assertEquals(OtherXOrderResponseValidator.class,answerEx.getProperty(VALIDATOR_INVOKED));
}
