@Test public void testMultipleConsumers() throws Exception {
  Observable.intervalRange(0,1000,0,300,TimeUnit.MICROSECONDS).toFlowable(BackpressureStrategy.BUFFER).subscribe(CamelReactiveStreams.get(context()).streamSubscriber("multipleConsumers",Long.class));
  MockEndpoint endpoint=getMockEndpoint("mock:multipleBucket");
  endpoint.expectedMessageCount(1000);
  endpoint.assertIsSatisfied();
  Set<String> threads=endpoint.getExchanges().stream().map(x -> x.getIn().getHeader("thread",String.class)).collect(Collectors.toSet());
  assertEquals(3,threads.size());
}
