@Test public void testUndertowPojoTypePutUserFail() throws Exception {
  MockEndpoint mock=getMockEndpoint("mock:putUser");
  mock.expectedMessageCount(0);
  Exchange outExchange=template.request("undertow:http://localhost:{{port}}/users/1",new Processor(){
    @Override public void process(    Exchange exchange) throws Exception {
      exchange.getIn().setHeader(Exchange.HTTP_METHOD,"PUT");
      exchange.getIn().setHeader(Exchange.ACCEPT_CONTENT_TYPE,"application/json");
      exchange.getIn().setHeader(Exchange.CONTENT_TYPE,"application/json");
      CountryPojo country=new CountryPojo();
      country.setIso("US");
      country.setCountry("United States");
      String body=mapper.writeValueAsString(country);
      exchange.getIn().setBody(body);
    }
  }
);
  assertNotNull(outExchange);
  assertEquals(400,outExchange.getOut().getHeader(Exchange.HTTP_RESPONSE_CODE));
  assertMockEndpointsSatisfied();
}
