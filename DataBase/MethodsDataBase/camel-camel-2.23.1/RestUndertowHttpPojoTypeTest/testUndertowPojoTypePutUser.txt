@Test public void testUndertowPojoTypePutUser() throws Exception {
  Exchange outExchange=template.request("undertow:http://localhost:{{port}}/users/1",new Processor(){
    @Override public void process(    Exchange exchange) throws Exception {
      exchange.getIn().setHeader(Exchange.HTTP_METHOD,"PUT");
      exchange.getIn().setHeader(Exchange.ACCEPT_CONTENT_TYPE,"application/json");
      exchange.getIn().setHeader(Exchange.CONTENT_TYPE,"application/json");
      UserPojo user=new UserPojo();
      user.setId(1);
      user.setName("Scott");
      String body=mapper.writeValueAsString(user);
      exchange.getIn().setBody(body);
    }
  }
);
  assertNotNull(outExchange);
  assertEquals(200,outExchange.getOut().getHeader(Exchange.HTTP_RESPONSE_CODE));
}
