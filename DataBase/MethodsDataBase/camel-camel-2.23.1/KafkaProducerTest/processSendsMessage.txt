@Test @SuppressWarnings({"unchecked"}) public void processSendsMessage() throws Exception {
  endpoint.getConfiguration().setTopic("sometopic");
  Mockito.when(exchange.getIn()).thenReturn(in);
  Mockito.when(exchange.getOut()).thenReturn(out);
  in.setHeader(KafkaConstants.PARTITION_KEY,4);
  producer.process(exchange);
  Mockito.verify(producer.getKafkaProducer()).send(any(ProducerRecord.class));
  assertRecordMetadataExists();
}
