@Test public void processRequiresTopicInEndpointOrInHeader() throws Exception {
  endpoint.getConfiguration().setTopic(null);
  Mockito.when(exchange.getIn()).thenReturn(in);
  in.setHeader(KafkaConstants.PARTITION_KEY,4);
  in.setHeader(KafkaConstants.KEY,"someKey");
  producer.process(exchange);
  verifySendMessage("sometopic","someKey");
  assertRecordMetadataExists();
}
