/** 
 * Description of test.
 * @throws Exception in the event of a test error.
 */
@Test public void testHasTrailingOutOfBandDataWithOptionalEndOfData() throws Exception {
  endpoint.setRequireEndOfData(false);
  assertFalse("Unexpected initial value",instance.hasTrailingOutOfBandData());
  instance.write(buildTestBytes(true,true,true));
  assertFalse(instance.hasTrailingOutOfBandData());
  instance.write("BLAH".getBytes());
  assertTrue(instance.hasTrailingOutOfBandData());
  instance.reset();
  assertFalse(instance.hasTrailingOutOfBandData());
  instance.write(buildTestBytes(true,true,false));
  assertFalse(instance.hasTrailingOutOfBandData());
  instance.write("BLAH".getBytes());
  assertTrue(instance.hasTrailingOutOfBandData());
  instance.reset();
  instance.write("BLAH".getBytes());
  instance.write(buildTestBytes(true,true,true));
  assertFalse(instance.hasTrailingOutOfBandData());
}
