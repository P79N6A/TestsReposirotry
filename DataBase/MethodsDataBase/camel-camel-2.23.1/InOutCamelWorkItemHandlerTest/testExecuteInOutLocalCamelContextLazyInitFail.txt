@Test(expected=IllegalArgumentException.class) public void testExecuteInOutLocalCamelContextLazyInitFail() throws Exception {
  String camelEndpointId="testCamelRoute";
  String camelRouteUri="direct:" + camelEndpointId;
  String testReponse="testResponse";
  String runtimeManagerId="testRuntimeManager";
  when(runtimeManager.getIdentifier()).thenReturn(runtimeManagerId);
  WorkItemImpl workItem=new WorkItemImpl();
  workItem.setParameter(JBPMConstants.CAMEL_ENDPOINT_ID_WI_PARAM,camelEndpointId);
  workItem.setParameter("Request","someRequest");
  workItem.setDeploymentId("testDeploymentId");
  workItem.setProcessInstanceId(1L);
  workItem.setId(1L);
  AbstractCamelWorkItemHandler handler=new InOutCamelWorkItemHandler(runtimeManager);
  TestWorkItemManager manager=new TestWorkItemManager();
  handler.executeWorkItem(workItem,manager);
}
