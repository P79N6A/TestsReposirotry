@Test public void deleteFailure() throws Exception {
  final String failReason="unknown";
  when(flavorService.delete(anyString())).thenReturn(ActionResponse.actionFailed(failReason,401));
  when(endpoint.getOperation()).thenReturn(OpenstackConstants.DELETE);
  String id="myID";
  msg.setHeader(OpenstackConstants.ID,id);
  producer.process(exchange);
  verify(flavorService).delete(flavorIdCaptor.capture());
  assertEquals(id,flavorIdCaptor.getValue());
  assertTrue(msg.isFault());
  assertTrue(msg.getBody(String.class).contains(failReason));
}
