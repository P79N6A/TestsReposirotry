@Test public void deleteSuccess() throws Exception {
  when(flavorService.delete(anyString())).thenReturn(ActionResponse.actionSuccess());
  when(endpoint.getOperation()).thenReturn(OpenstackConstants.DELETE);
  String id="myID";
  msg.setHeader(OpenstackConstants.ID,id);
  producer.process(exchange);
  verify(flavorService).delete(flavorIdCaptor.capture());
  assertEquals(id,flavorIdCaptor.getValue());
  assertFalse(msg.isFault());
  assertNull(msg.getBody());
}
