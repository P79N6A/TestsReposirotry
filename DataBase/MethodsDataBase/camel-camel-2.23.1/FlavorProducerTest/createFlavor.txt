@Test public void createFlavor() throws Exception {
  when(endpoint.getOperation()).thenReturn(OpenstackConstants.CREATE);
  final String expectedFlavorID=UUID.randomUUID().toString();
  when(testOSFlavor.getId()).thenReturn(expectedFlavorID);
  msg.setBody(dummyFlavor);
  producer.process(exchange);
  verify(flavorService).create(flavorCaptor.capture());
  assertEquals(dummyFlavor,flavorCaptor.getValue());
  final Flavor createdFlavor=msg.getBody(Flavor.class);
  assertEqualsFlavors(dummyFlavor,createdFlavor);
  assertNotNull(createdFlavor.getId());
}
