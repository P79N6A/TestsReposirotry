@Test public void testCustomConfigurationUri() throws Exception {
  DefaultCamelContext context=null;
  try {
    context=new DefaultCamelContext();
    context.start();
    HazelcastDefaultEndpoint endpoint1=getHzEndpoint(context,"hazelcast-map:my-cache-1?hazelcastConfigUri=classpath:hazelcast-custom.xml");
    HazelcastDefaultEndpoint endpoint2=getHzEndpoint(context,"hazelcast-map:my-cache-2?hazelcastConfigUri=classpath:hazelcast-custom.xml");
    Assert.assertNotNull(endpoint1.getHazelcastInstance());
    Assert.assertNotNull(endpoint2.getHazelcastInstance());
    Assert.assertTrue(endpoint1.getHazelcastInstance() != endpoint2.getHazelcastInstance());
    HazelcastMapComponent component=context.getComponent("hazelcast-map",HazelcastMapComponent.class);
    Assert.assertNull(component.getHazelcastInstance());
    for (    HazelcastDefaultEndpoint endpoint : Arrays.asList(endpoint1,endpoint2)) {
      HazelcastInstance hz=endpoint.getHazelcastInstance();
      Assert.assertFalse(hz.getConfig().getNetworkConfig().getJoin().getAwsConfig().isEnabled());
      Assert.assertFalse(hz.getConfig().getNetworkConfig().getJoin().getMulticastConfig().isEnabled());
      Assert.assertFalse(hz.getConfig().getNetworkConfig().getJoin().getTcpIpConfig().isEnabled());
      Assert.assertEquals(9876,hz.getConfig().getNetworkConfig().getPort());
    }
  }
  finally {
    if (context != null) {
      context.stop();
    }
  }
}
