@Test public void testNonSingleton() throws Exception {
  context.addComponent("dummy",new MyDummyComponent());
  ProducerCache cache=new ProducerCache(this,context);
  cache.start();
  Endpoint endpoint=context.getEndpoint("dummy:foo");
  DefaultProducer producer=(DefaultProducer)cache.acquireProducer(endpoint);
  assertNotNull(producer);
  assertTrue("Should be started",producer.getStatus().isStarted());
  Object found=context.hasService(MyDummyProducer.class);
  assertNull("Should not store producer on CamelContext",found);
  cache.releaseProducer(endpoint,producer);
  assertTrue("Should be stopped",producer.getStatus().isStopped());
  cache.stop();
}
