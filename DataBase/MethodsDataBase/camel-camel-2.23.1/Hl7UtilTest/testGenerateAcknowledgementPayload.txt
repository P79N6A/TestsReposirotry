/** 
 * Description of test.
 * @throws Exception in the event of a test error.
 */
@Test public void testGenerateAcknowledgementPayload() throws Exception {
  MllpSocketBuffer mllpSocketBuffer=new MllpSocketBuffer(new MllpEndpointStub());
  Hl7Util.generateAcknowledgementPayload(mllpSocketBuffer,TEST_MESSAGE.getBytes(),"AA");
  String actual=mllpSocketBuffer.toString();
  assertThat(actual,startsWith(EXPECTED_ACKNOWLEDGEMENT_PAYLOAD_START));
  assertThat(actual,endsWith(EXPECTED_ACKNOWLEDGEMENT_PAYLOAD_END));
}
