@Test public void testSendTwoToNagios() throws Exception {
  if (!canRun) {
    return;
  }
  MessagePayload expectedPayload1=new MessagePayload("localhost",Level.OK,context.getName(),"Hello Nagios");
  MessagePayload expectedPayload2=new MessagePayload("localhost",Level.OK,context.getName(),"Bye Nagios");
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMessageCount(2);
  mock.allMessages().body().isInstanceOf(String.class);
  mock.expectedBodiesReceived("Hello Nagios","Bye Nagios");
  template.sendBody("direct:start","Hello Nagios");
  template.sendBody("direct:start","Bye Nagios");
  assertMockEndpointsSatisfied();
  verify(nagiosPassiveCheckSender).send(expectedPayload1);
  verify(nagiosPassiveCheckSender).send(expectedPayload2);
}
