@Test public void getPodTest() throws Exception {
  Pod pod1=new PodBuilder().withNewMetadata().withName("pod1").withNamespace("test").and().build();
  Pod pod2=new PodBuilder().withNewMetadata().withName("pod2").withNamespace("ns1").and().build();
  server.expect().withPath("/api/v1/namespaces/test/pods/pod1").andReturn(200,pod1).once();
  server.expect().withPath("/api/v1/namespaces/ns1/pods/pod2").andReturn(200,pod2).once();
  Exchange ex=template.request("direct:getPod",new Processor(){
    @Override public void process(    Exchange exchange) throws Exception {
      exchange.getIn().setHeader(KubernetesConstants.KUBERNETES_NAMESPACE_NAME,"test");
      exchange.getIn().setHeader(KubernetesConstants.KUBERNETES_POD_NAME,"pod1");
    }
  }
);
  Pod result=ex.getOut().getBody(Pod.class);
  assertEquals("pod1",result.getMetadata().getName());
}
