@Test public void testOnInstanceVersion() throws Exception {
  final Map<String,Object> headers=new HashMap<String,Object>();
  headers.put("CamelFhir.id",this.patient.getIdElement());
  headers.put("CamelFhir.name","everything");
  headers.put("CamelFhir.parameters",null);
  headers.put("CamelFhir.outputParameterType",Parameters.class);
  headers.put("CamelFhir.useHttpGet",Boolean.FALSE);
  headers.put("CamelFhir.returnType",null);
  headers.put("CamelFhir.extraParameters",null);
  final Parameters result=requestBodyAndHeaders("direct://ON_INSTANCE_VERSION",null,headers);
  LOG.debug("onInstance: " + result);
  assertNotNull("onInstance result",result);
  Bundle bundle=(Bundle)result.getParameter().get(0).getResource();
  assertNotNull("onInstance result",bundle);
  IdType id=bundle.getEntry().get(0).getResource().getIdElement().toUnqualifiedVersionless();
  assertEquals(patient.getIdElement().toUnqualifiedVersionless(),id);
}
