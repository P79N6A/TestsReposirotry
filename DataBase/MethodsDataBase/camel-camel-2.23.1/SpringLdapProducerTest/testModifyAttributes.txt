@Test public void testModifyAttributes() throws Exception {
  String dn="cn=dn";
  ModificationItem[] modificationItems=new ModificationItem[]{new ModificationItem(DirContext.ADD_ATTRIBUTE,new BasicAttribute("key","value"))};
  Exchange exchange=new DefaultExchange(context);
  Message in=new DefaultMessage(context);
  Map<String,Object> body=new HashMap<>();
  body.put(SpringLdapProducer.DN,dn);
  body.put(SpringLdapProducer.MODIFICATION_ITEMS,modificationItems);
  when(ldapEndpoint.getOperation()).thenReturn(LdapOperation.MODIFY_ATTRIBUTES);
  processBody(exchange,in,body);
  verify(ldapTemplate).modifyAttributes(eq(dn),eq(modificationItems));
}
