@Test public void testAuthenticate() throws Exception {
  String dn="cn=dn";
  String filter="filter";
  String password="password";
  Exchange exchange=new DefaultExchange(context);
  Message in=new DefaultMessage(context);
  Map<String,Object> body=new HashMap<>();
  body.put(SpringLdapProducer.DN,dn);
  body.put(SpringLdapProducer.FILTER,filter);
  body.put(SpringLdapProducer.PASSWORD,password);
  when(ldapEndpoint.getOperation()).thenReturn(LdapOperation.AUTHENTICATE);
  processBody(exchange,in,body);
  verify(ldapTemplate).authenticate(ArgumentMatchers.any(LdapQuery.class),eq(password));
}
