@Test public void testAggregateDiscardOnTimeout() throws Exception {
  MockEndpoint mock=getMockEndpoint("mock:aggregated");
  mock.expectedMessageCount(0);
  template.sendBodyAndHeader("direct:start","A","id",123);
  template.sendBodyAndHeader("direct:start","B","id",123);
  Thread.sleep(250);
  mock.assertIsSatisfied();
  mock.reset();
  mock.expectedBodiesReceived("C+D+E");
  template.sendBodyAndHeader("direct:start","C","id",456);
  template.sendBodyAndHeader("direct:start","D","id",456);
  template.sendBodyAndHeader("direct:start","E","id",456);
  assertTrue(mock.await(1000,TimeUnit.MILLISECONDS));
}
