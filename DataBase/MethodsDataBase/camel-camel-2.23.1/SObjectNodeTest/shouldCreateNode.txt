@Test public void shouldCreateNode(){
  final SObjectTree tree=new SObjectTree();
  final SObjectNode node=new SObjectNode(tree,simpleAccount);
  node.addChild("Contacts",new SObjectNode(tree,smith));
  node.addChild("Contacts",new SObjectNode(tree,evans));
  assertSame("Object in the node should be the given account",simpleAccount,node.getObject());
  assertEquals("Type of the object in node should be auto-detected","Account",node.getObjectType());
  final Stream<SObjectNode> children=node.getChildNodesOfType("Contacts");
  final SObjectNode[] childrenAry=toArray(children);
  assertEquals("There should be two records in this node",2,childrenAry.length);
  assertSame("First record should be smith contact",smith,childrenAry[0].getObject());
  assertEquals("Type of first record should be Contact","Contact",childrenAry[0].getObjectType());
  assertSame("Second record should be evans contact",evans,childrenAry[1].getObject());
  assertEquals("Type of second record should be Contact","Contact",childrenAry[1].getObjectType());
  assertEquals("Size of the node should be 3",3,node.size());
}
