@Test public void shouldCreateProducers() throws Exception {
  final CamelContext camelContext=mock(CamelContext.class);
  when(camelContext.getClassResolver()).thenReturn(new DefaultClassResolver());
  final Endpoint endpointDelegate=mock(Endpoint.class);
  when(camelContext.getEndpoint("rest:GET:/v2:/pet/{petId}")).thenReturn(endpointDelegate);
  final Producer delegateProducer=mock(Producer.class);
  when(endpointDelegate.createProducer()).thenReturn(delegateProducer);
  final RestSwaggerComponent component=new RestSwaggerComponent(camelContext);
  component.setHost("http://petstore.swagger.io");
  final RestSwaggerEndpoint endpoint=new RestSwaggerEndpoint("rest-swagger:getPetById","getPetById",component,Collections.emptyMap());
  final Producer producer=endpoint.createProducer();
  assertThat(producer).isSameAs(delegateProducer);
}
