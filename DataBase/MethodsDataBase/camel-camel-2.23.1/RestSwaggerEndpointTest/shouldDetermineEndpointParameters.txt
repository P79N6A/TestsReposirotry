@Test public void shouldDetermineEndpointParameters(){
  final CamelContext camelContext=mock(CamelContext.class);
  final RestSwaggerComponent component=new RestSwaggerComponent();
  component.setCamelContext(camelContext);
  final RestSwaggerEndpoint endpoint=new RestSwaggerEndpoint("uri","remaining",component,Collections.emptyMap());
  endpoint.setHost("http://petstore.swagger.io");
  final Swagger swagger=new Swagger();
  final Operation operation=new Operation();
  assertThat(endpoint.determineEndpointParameters(swagger,operation)).containsOnly(entry("host","http://petstore.swagger.io"));
  component.setComponentName("xyz");
  assertThat(endpoint.determineEndpointParameters(swagger,operation)).containsOnly(entry("host","http://petstore.swagger.io"),entry("componentName","xyz"));
  swagger.consumes("application/json").produces("application/xml");
  assertThat(endpoint.determineEndpointParameters(swagger,operation)).containsOnly(entry("host","http://petstore.swagger.io"),entry("componentName","xyz"),entry("consumes","application/xml"),entry("produces","application/json"));
  component.setProduces("application/json");
  component.setConsumes("application/atom+xml");
  assertThat(endpoint.determineEndpointParameters(swagger,operation)).containsOnly(entry("host","http://petstore.swagger.io"),entry("componentName","xyz"),entry("consumes","application/atom+xml"),entry("produces","application/json"));
  endpoint.setProduces("application/atom+xml");
  endpoint.setConsumes("application/json");
  assertThat(endpoint.determineEndpointParameters(swagger,operation)).containsOnly(entry("host","http://petstore.swagger.io"),entry("componentName","xyz"),entry("consumes","application/json"),entry("produces","application/atom+xml"));
  endpoint.setComponentName("zyx");
  assertThat(endpoint.determineEndpointParameters(swagger,operation)).containsOnly(entry("host","http://petstore.swagger.io"),entry("componentName","zyx"),entry("consumes","application/json"),entry("produces","application/atom+xml"));
  operation.addParameter(new QueryParameter().name("q").required(true));
  assertThat(endpoint.determineEndpointParameters(swagger,operation)).containsOnly(entry("host","http://petstore.swagger.io"),entry("componentName","zyx"),entry("consumes","application/json"),entry("produces","application/atom+xml"),entry("queryParameters","q={q}"));
  operation.addParameter(new QueryParameter().name("o"));
  assertThat(endpoint.determineEndpointParameters(swagger,operation)).containsOnly(entry("host","http://petstore.swagger.io"),entry("componentName","zyx"),entry("consumes","application/json"),entry("produces","application/atom+xml"),entry("queryParameters","q={q}&o={o?}"));
}
