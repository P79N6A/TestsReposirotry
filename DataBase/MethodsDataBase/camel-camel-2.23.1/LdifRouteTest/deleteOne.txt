@Test @ApplyLdifFiles({"org/apache/camel/component/ldif/DeleteOneSetup.ldif"}) public void deleteOne() throws Exception {
  camel.addRoutes(createRouteBuilder(ENDPOINT_LDIF));
  camel.start();
  Endpoint endpoint=camel.getEndpoint(ENDPOINT_START);
  Exchange exchange=endpoint.createExchange();
  URL loc=this.getClass().getResource("/org/apache/camel/component/ldif/DeleteOne.ldif");
  exchange.getIn().setBody(loc.toString());
  Exchange out=template.send(endpoint,exchange);
  List<String> ldifResults=defaultLdapModuleOutAssertions(out);
  assertThat(ldifResults,notNullValue());
  assertThat(ldifResults.size(),equalTo(1));
  assertThat(ldifResults.get(0),equalTo("success"));
  NamingEnumeration<SearchResult> searchResults=ldapContext.search("","(uid=test*)",SEARCH_CONTROLS);
  assertThat(false,equalTo(searchResults.hasMore()));
}
