@Test public void parseMessageDispositionNotificationReportMessageTest() throws Exception {
  HttpResponse response=new BasicHttpResponse(HttpVersion.HTTP_1_1,HttpStatus.SC_OK,EnglishReasonPhraseCatalog.INSTANCE.getReason(HttpStatus.SC_OK,null));
  HttpMessageUtils.setHeaderValue(response,AS2Header.CONTENT_TRANSFER_ENCODING,DISPOSITION_NOTIFICATION_CONTENT_TRANSFER_ENCODING);
  BasicHttpEntity entity=new BasicHttpEntity();
  entity.setContentType(REPORT_CONTENT_TYPE_VALUE);
  InputStream is=new ByteArrayInputStream(DISPOSITION_NOTIFICATION_REPORT_CONTENT.getBytes(DISPOSITION_NOTIFICATION_REPORT_CONTENT_CHARSET_NAME));
  entity.setContent(is);
  EntityUtils.setMessageEntity(response,entity);
  EntityParser.parseMessageDispositionNotificationReportEntity(response);
  HttpEntity parsedEntity=EntityUtils.getMessageEntity(response);
  assertNotNull("Unexpected Null message disposition notification report entity",parsedEntity);
  assertTrue("Unexpected type for message disposition notification report entity",parsedEntity instanceof DispositionNotificationMultipartReportEntity);
}
