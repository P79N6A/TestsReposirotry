@Test public void parseMessageDispositionNotificationReportBodyTest() throws Exception {
  InputStream is=new ByteArrayInputStream(DISPOSITION_NOTIFICATION_REPORT_CONTENT.getBytes(DISPOSITION_NOTIFICATION_REPORT_CONTENT_CHARSET_NAME));
  AS2SessionInputBuffer inbuffer=new AS2SessionInputBuffer(new HttpTransportMetricsImpl(),DEFAULT_BUFFER_SIZE,DEFAULT_BUFFER_SIZE,null);
  inbuffer.bind(is);
  DispositionNotificationMultipartReportEntity dispositionNotificationMultipartReportEntity=EntityParser.parseMultipartReportEntityBody(inbuffer,DISPOSITION_NOTIFICATION_REPORT_CONTENT_BOUNDARY,DISPOSITION_NOTIFICATION_REPORT_CONTENT_CHARSET_NAME,DISPOSITION_NOTIFICATION_REPORT_CONTENT_TRANSFER_ENCODING);
  assertNotNull("Unexpected Null disposition notification multipart entity",dispositionNotificationMultipartReportEntity);
  assertEquals("Unexpected number of body parts",2,dispositionNotificationMultipartReportEntity.getPartCount());
  assertTrue("Unexpected type for first body part",dispositionNotificationMultipartReportEntity.getPart(0) instanceof TextPlainEntity);
  assertTrue("Unexpected type for second body part",dispositionNotificationMultipartReportEntity.getPart(1) instanceof AS2MessageDispositionNotificationEntity);
}
