@Test public void parseMessageDispositionNotificationBodyTest() throws Exception {
  InputStream is=new ByteArrayInputStream(DISPOSITION_NOTIFICATION_CONTENT.getBytes(DISPOSITION_NOTIFICATION_CONTENT_CHARSET_NAME));
  AS2SessionInputBuffer inbuffer=new AS2SessionInputBuffer(new HttpTransportMetricsImpl(),DEFAULT_BUFFER_SIZE,DEFAULT_BUFFER_SIZE,null);
  inbuffer.bind(is);
  AS2MessageDispositionNotificationEntity messageDispositionNotificationEntity=EntityParser.parseMessageDispositionNotificationEntityBody(inbuffer,DISPOSITION_NOTIFICATION_CONTENT_BOUNDARY,DISPOSITION_NOTIFICATION_CONTENT_CHARSET_NAME,DISPOSITION_NOTIFICATION_CONTENT_TRANSFER_ENCODING);
  assertEquals("Unexpected Reporting UA value",EXPECTED_REPORTING_UA,messageDispositionNotificationEntity.getReportingUA());
  assertEquals("Unexpected MTN Name",EXPECTED_MTN_NAME,messageDispositionNotificationEntity.getMtnName());
  assertEquals("Unexpected Original Recipient",EXPECTED_ORIGINAL_RECIPIENT,messageDispositionNotificationEntity.getExtensionFields().get("Original-Recipient"));
  assertEquals("Unexpected Final Reciptient",EXPECTED_FINAL_RECIPIENT,messageDispositionNotificationEntity.getFinalRecipient());
  assertEquals("Unexpected Original Message ID",EXPECTED_ORIGINAL_MESSAGE_ID,messageDispositionNotificationEntity.getOriginalMessageId());
  assertEquals("Unexpected Disposition Mode",EXPECTED_DISPOSITION_MODE,messageDispositionNotificationEntity.getDispositionMode());
  assertNotNull("Unexpected Null Disposition Modifier",messageDispositionNotificationEntity.getDispositionModifier());
  assertEquals("Unexpected Disposition Modifier",EXPECTED_DISPOSITION_MODIFIER,messageDispositionNotificationEntity.getDispositionModifier().getModifier());
  assertEquals("Unexpected Disposition Type",EXPECTED_DISPOSITION_TYPE,messageDispositionNotificationEntity.getDispositionType());
  assertArrayEquals("Unexpected Failure Array value",EXPECTED_FAILURE,messageDispositionNotificationEntity.getFailureFields());
  assertArrayEquals("Unexpected Error Array value",EXPECTED_ERROR,messageDispositionNotificationEntity.getErrorFields());
  assertArrayEquals("Unexpected Warning Array value",EXPECTED_WARNING,messageDispositionNotificationEntity.getWarningFields());
  assertNotNull("Unexpected Null Received Content MIC",messageDispositionNotificationEntity.getReceivedContentMic());
  assertEquals("Unexpected Encoded Message Digest",EXPECTED_ENCODED_MESSAGE_DIGEST,messageDispositionNotificationEntity.getReceivedContentMic().getEncodedMessageDigest());
  assertEquals("Unexpected Digest Algorithm ID",EXPECTED_DIGEST_ALGORITHM_ID,messageDispositionNotificationEntity.getReceivedContentMic().getDigestAlgorithmId());
}
