@Test public void testValidMessage() throws Exception {
  validEndpoint.expectedMessageCount(1);
  invalidEndpoint.expectedMessageCount(0);
  finallyEndpoint.expectedMessageCount(1);
  template.sendBodyAndHeader("file:target/validator","{ \"name\": \"Joe Doe\", \"id\": 1, \"price\": 12.5 }",Exchange.FILE_NAME,"valid.json");
  MockEndpoint.assertIsSatisfied(validEndpoint,invalidEndpoint,finallyEndpoint);
  assertTrue("Should be able to delete the file",FileUtil.deleteFile(new File("target/validator/valid.json")));
}
