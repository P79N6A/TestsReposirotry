@Test public void testSimpleLeaderElectionWithExistingConfigMap() throws Exception {
  lockSimulator.setConfigMap(new ConfigMapBuilder().withNewMetadata().withName("leaders").and().build(),true);
  LeaderRecorder mypod1=addMember("mypod1");
  LeaderRecorder mypod2=addMember("mypod2");
  context.start();
  mypod1.waitForAnyLeader(2,TimeUnit.SECONDS);
  mypod2.waitForAnyLeader(2,TimeUnit.SECONDS);
  String leader=mypod1.getCurrentLeader();
  assertTrue(leader.startsWith("mypod"));
  assertEquals("Leaders should be equals",mypod2.getCurrentLeader(),leader);
}
