@Test public void testSharedConfigMap() throws Exception {
  LeaderRecorder a1=addMember("a1");
  LeaderRecorder a2=addMember("a2");
  LeaderRecorder b1=addMember("b1","app2");
  LeaderRecorder b2=addMember("b2","app2");
  context.start();
  a1.waitForAnyLeader(2,TimeUnit.SECONDS);
  a2.waitForAnyLeader(2,TimeUnit.SECONDS);
  b1.waitForAnyLeader(2,TimeUnit.SECONDS);
  b2.waitForAnyLeader(2,TimeUnit.SECONDS);
  assertNotNull(a1.getCurrentLeader());
  assertTrue(a1.getCurrentLeader().startsWith("a"));
  assertEquals(a1.getCurrentLeader(),a2.getCurrentLeader());
  assertNotNull(b1.getCurrentLeader());
  assertTrue(b1.getCurrentLeader().startsWith("b"));
  assertEquals(b1.getCurrentLeader(),b2.getCurrentLeader());
  assertNotEquals(a1.getCurrentLeader(),b2.getCurrentLeader());
}
