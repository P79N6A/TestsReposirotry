@Test public void testMultipleMembersLeaderElection() throws Exception {
  int number=5;
  List<LeaderRecorder> members=IntStream.range(0,number).mapToObj(i -> addMember("mypod" + i)).collect(Collectors.toList());
  context.start();
  for (  LeaderRecorder member : members) {
    member.waitForAnyLeader(2,TimeUnit.SECONDS);
  }
  Set<String> leaders=members.stream().map(LeaderRecorder::getCurrentLeader).collect(Collectors.toSet());
  assertEquals(1,leaders.size());
  String leader=leaders.iterator().next();
  assertTrue(leader.startsWith("mypod"));
}
