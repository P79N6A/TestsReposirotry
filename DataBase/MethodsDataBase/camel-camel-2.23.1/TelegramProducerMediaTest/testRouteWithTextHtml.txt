@Test public void testRouteWithTextHtml() throws Exception {
  TelegramService service=mockTelegramService();
  Exchange ex=endpoint.createExchange();
  ex.getIn().setHeader(TelegramConstants.TELEGRAM_MEDIA_TYPE,TelegramMediaType.TEXT.name());
  ex.getIn().setHeader(TelegramConstants.TELEGRAM_PARSE_MODE,TelegramParseMode.HTML.name());
  ex.getIn().setBody("Hello");
  context().createProducerTemplate().send(endpoint,ex);
  ArgumentCaptor<OutgoingTextMessage> captor=ArgumentCaptor.forClass(OutgoingTextMessage.class);
  Mockito.verify(service).sendMessage(eq("mock-token"),captor.capture());
  assertEquals("my-id",captor.getValue().getChatId());
  assertEquals("Hello",captor.getValue().getText());
  assertEquals("HTML",captor.getValue().getParseMode());
}
