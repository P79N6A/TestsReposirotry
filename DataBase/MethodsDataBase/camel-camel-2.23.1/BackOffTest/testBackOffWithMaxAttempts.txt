@Test public void testBackOffWithMaxAttempts(){
  final BackOff backOff=BackOff.builder().maxAttempts(5L).build();
  final BackOffTimerTask context=new BackOffTimerTask(backOff,null,t -> true);
  long delay;
  for (int i=1; i <= 5; i++) {
    delay=context.next();
    Assert.assertEquals(i,context.getCurrentAttempts());
    Assert.assertEquals(BackOff.DEFAULT_DELAY.toMillis(),delay);
    Assert.assertEquals(BackOff.DEFAULT_DELAY.toMillis(),context.getCurrentDelay());
    Assert.assertEquals(BackOff.DEFAULT_DELAY.toMillis() * i,context.getCurrentElapsedTime());
  }
  delay=context.next();
  Assert.assertEquals(6,context.getCurrentAttempts());
  Assert.assertEquals(BackOff.NEVER,delay);
}
