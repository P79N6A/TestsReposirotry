@Test public void testCheck() throws Exception {
  MyHealthCheck check=new MyHealthCheck();
  check.setState(HealthCheck.State.UP);
  HealthCheck.Result result;
  result=check.call();
  Assert.assertEquals(HealthCheck.State.UNKNOWN,result.getState());
  Assert.assertTrue(result.getMessage().isPresent());
  Assert.assertEquals("Disabled",result.getMessage().get());
  Assert.assertEquals(false,result.getDetails().get(AbstractHealthCheck.CHECK_ENABLED));
  check.getConfiguration().setEnabled(true);
  result=check.call();
  Assert.assertEquals(HealthCheck.State.UP,result.getState());
  Assert.assertFalse(result.getMessage().isPresent());
  Assert.assertFalse(result.getDetails().containsKey(AbstractHealthCheck.CHECK_ENABLED));
}
