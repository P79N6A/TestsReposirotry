@Test public void testInterval() throws Exception {
  MyHealthCheck check=new MyHealthCheck();
  check.setState(HealthCheck.State.UP);
  check.getConfiguration().setEnabled(true);
  check.getConfiguration().setInterval(Duration.ofMillis(1000));
  HealthCheck.Result result1=check.call();
  Assert.assertEquals(HealthCheck.State.UP,result1.getState());
  Thread.sleep(100);
  HealthCheck.Result result2=check.call();
  Assert.assertEquals(HealthCheck.State.UP,result2.getState());
  Assert.assertEquals(result1.getDetails().get(AbstractHealthCheck.INVOCATION_TIME),result2.getDetails().get(AbstractHealthCheck.INVOCATION_TIME));
  Assert.assertEquals(result1.getDetails().get(AbstractHealthCheck.INVOCATION_COUNT),result2.getDetails().get(AbstractHealthCheck.INVOCATION_COUNT));
  Assert.assertNotEquals(check.getMetaData().get(AbstractHealthCheck.INVOCATION_ATTEMPT_TIME),result2.getDetails().get(AbstractHealthCheck.INVOCATION_TIME));
  Thread.sleep(1250);
  HealthCheck.Result result3=check.call();
  Assert.assertEquals(HealthCheck.State.UP,result3.getState());
  Assert.assertNotEquals(result2.getDetails().get(AbstractHealthCheck.INVOCATION_TIME),result3.getDetails().get(AbstractHealthCheck.INVOCATION_TIME));
  Assert.assertNotEquals(result2.getDetails().get(AbstractHealthCheck.INVOCATION_COUNT),result3.getDetails().get(AbstractHealthCheck.INVOCATION_COUNT));
  Assert.assertEquals(check.getMetaData().get(AbstractHealthCheck.INVOCATION_ATTEMPT_TIME),result3.getDetails().get(AbstractHealthCheck.INVOCATION_TIME));
}
