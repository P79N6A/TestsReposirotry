@Test public void testConnectivityWithWrongUserName(){
  Map<String,Object> parameters=getParameters();
  parameters.put("userName","not-a-salesforce-user");
  ComponentVerifierExtension.Result result=getExtension().verify(ComponentVerifierExtension.Scope.CONNECTIVITY,parameters);
  Assert.assertEquals(ComponentVerifierExtension.Result.Status.ERROR,result.getStatus());
  Assert.assertEquals(2,result.getErrors().size());
  Assert.assertEquals(ComponentVerifierExtension.VerificationError.StandardCode.EXCEPTION,result.getErrors().get(0).getCode());
  Assert.assertNotNull(result.getErrors().get(0).getDetails().get(ComponentVerifierExtension.VerificationError.ExceptionAttribute.EXCEPTION_INSTANCE));
  Assert.assertTrue(result.getErrors().get(0).getDetails().get(ComponentVerifierExtension.VerificationError.ExceptionAttribute.EXCEPTION_INSTANCE) instanceof SalesforceException);
  Assert.assertEquals(400,result.getErrors().get(0).getDetails().get(ComponentVerifierExtension.VerificationError.HttpAttribute.HTTP_CODE));
  Assert.assertEquals("invalid_grant",result.getErrors().get(1).getDetail("salesforce_code"));
}
