@Test public void testConfigurationWithMethodCallExpression() throws Exception {
  if (!canTest()) {
    return;
  }
  MockEndpoint resultEndpoint=resolveMandatoryEndpoint("mock:result",MockEndpoint.class);
  resultEndpoint.expectedMessageCount(messageCount);
  ExecutorService executor=Executors.newFixedThreadPool(messageCount);
  StopWatch watch=new StopWatch();
  for (int i=0; i < messageCount; i++) {
    executor.execute(new Runnable(){
      public void run(){
        template.sendBody("direct:expressionMethod","<message>payload</message>");
      }
    }
);
  }
  resultEndpoint.assertIsSatisfied();
  assertTrue(watch.taken() > 100);
  executor.shutdownNow();
}
