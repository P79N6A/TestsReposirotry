@Test public void checkPointOnChangedSetMustClearState(){
  SimpleBitSet set=new SimpleBitSet(16);
  int key=10;
  set.put(key);
  long checkpoint=0;
  checkpoint=set.checkPointAndPut(checkpoint,key);
  set.put(key + 1);
  assertThat(set.checkPointAndPut(checkpoint,key),is(not(checkpoint)));
  assertTrue(set.contains(key));
  assertFalse(set.contains(key + 1));
}
