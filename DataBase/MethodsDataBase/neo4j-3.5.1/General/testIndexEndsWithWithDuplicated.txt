@Test public void testIndexEndsWithWithDuplicated() throws Exception {
  updateAndCommit(asList(add(1L,descriptor.schema(),"a"),add(2L,descriptor.schema(),"A"),add(3L,descriptor.schema(),"apa"),add(4L,descriptor.schema(),"apa"),add(5L,descriptor.schema(),"longapa"),add(6L,descriptor.schema(),"apalong")));
  assertThat(query(stringSuffix(1,stringValue("a"))),equalTo(asList(1L,3L,4L,5L)));
  assertThat(query(stringSuffix(1,stringValue("apa"))),equalTo(asList(3L,4L,5L)));
  assertThat(query(stringSuffix(1,stringValue("apa*"))),equalTo(Collections.emptyList()));
  assertThat(query(stringSuffix(1,stringValue(""))),equalTo(asList(1L,2L,3L,4L,5L,6L)));
}
