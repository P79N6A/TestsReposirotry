@Test public void shouldPrintDiskUsage(){
  File databaseDir=Mockito.mock(File.class);
  DatabaseLayout layout=mock(DatabaseLayout.class);
  when(layout.databaseDirectory()).thenReturn(databaseDir);
  when(databaseDir.getTotalSpace()).thenReturn(100L);
  when(databaseDir.getFreeSpace()).thenReturn(40L);
  AssertableLogProvider logProvider=new AssertableLogProvider();
  KernelDiagnostics.StoreFiles storeFiles=new KernelDiagnostics.StoreFiles(layout);
  storeFiles.dump(logProvider.getLog(getClass()).debugLogger());
  logProvider.assertContainsMessageContaining("100 / 40 / 40");
}
