@Test @SuppressWarnings("deprecation") void shouldExposeClientConnectionInfo(){
  EmbeddedChannel channel=new EmbeddedChannel();
  BoltChannel boltChannel=new BoltChannel("bolt-42","my-bolt",channel);
  ClientConnectionInfo info1=boltChannel.info();
  assertEquals("bolt-42",info1.connectionId());
  assertEquals("bolt",info1.protocol());
  assertEquals(SocketAddress.format(channel.remoteAddress()),info1.clientAddress());
  boltChannel.updateUser("Tom","my-driver");
  ClientConnectionInfo info2=boltChannel.info();
  assertEquals("bolt-42",info2.connectionId());
  assertEquals("bolt",info2.protocol());
  assertEquals(SocketAddress.format(channel.remoteAddress()),info2.clientAddress());
  assertThat(info2.asConnectionDetails(),containsString("Tom"));
  assertThat(info2.asConnectionDetails(),containsString("my-driver"));
}
