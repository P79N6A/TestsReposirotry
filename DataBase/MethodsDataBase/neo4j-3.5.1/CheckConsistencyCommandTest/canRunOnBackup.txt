@Test void canRunOnBackup() throws Exception {
  ConsistencyCheckService consistencyCheckService=mock(ConsistencyCheckService.class);
  DatabaseLayout backupLayout=testDir.databaseLayout("backup");
  Path homeDir=testDir.directory("home").toPath();
  CheckConsistencyCommand checkConsistencyCommand=new CheckConsistencyCommand(homeDir,testDir.directory("conf").toPath(),consistencyCheckService);
  when(consistencyCheckService.runFullConsistencyCheck(eq(backupLayout),any(Config.class),any(ProgressMonitorFactory.class),any(LogProvider.class),any(FileSystemAbstraction.class),eq(false),any(),any(ConsistencyFlags.class))).thenReturn(ConsistencyCheckService.Result.success(null));
  checkConsistencyCommand.execute(new String[]{"--backup=" + backupLayout.databaseDirectory()});
  verify(consistencyCheckService).runFullConsistencyCheck(eq(backupLayout),any(Config.class),any(ProgressMonitorFactory.class),any(LogProvider.class),any(FileSystemAbstraction.class),eq(false),any(),any(ConsistencyFlags.class));
}
