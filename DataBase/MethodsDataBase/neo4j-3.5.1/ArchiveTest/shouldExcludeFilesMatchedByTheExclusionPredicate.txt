@Test void shouldExcludeFilesMatchedByTheExclusionPredicate() throws IOException, IncorrectFormat {
  Path directory=testDirectory.directory("a-directory").toPath();
  Files.createDirectories(directory);
  Files.write(directory.resolve("a-file"),new byte[0]);
  Files.write(directory.resolve("another-file"),new byte[0]);
  Path archive=testDirectory.file("the-archive.dump").toPath();
  new Dumper().dump(directory,directory,archive,path -> path.getFileName().toString().equals("another-file"));
  Path newDirectory=testDirectory.file("the-new-directory").toPath();
  new Loader().load(archive,newDirectory,newDirectory);
  Path expectedOutput=testDirectory.directory("expected-output").toPath();
  Files.createDirectories(expectedOutput);
  Files.write(expectedOutput.resolve("a-file"),new byte[0]);
  assertEquals(describeRecursively(expectedOutput),describeRecursively(newDirectory));
}
