@Test void shouldBlockDumpIfABlockerSaysSo(){
  OutsideWorld outsideWorld=mock(OutsideWorld.class);
  AdminCommand command=mock(AdminCommand.class);
  AdminCommand.Blocker blocker=mock(AdminCommand.Blocker.class);
  when(blocker.doesBlock(any(),any())).thenReturn(true);
  when(blocker.commands()).thenReturn(Collections.singleton("command"));
  when(blocker.explanation()).thenReturn("the explanation");
  BlockerLocator blockerLocator=mock(BlockerLocator.class);
  when(blockerLocator.findBlockers("command")).thenReturn(Collections.singletonList(blocker));
  new AdminTool(cannedCommand("command",command),blockerLocator,outsideWorld,false).execute(null,null,"command");
  verify(outsideWorld).stdErrLine("command failed: the explanation");
  verify(outsideWorld).exit(STATUS_ERROR);
}
