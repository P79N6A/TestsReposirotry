@Test void shouldBlockDumpIfOneBlockerOutOfManySaysSo(){
  OutsideWorld outsideWorld=mock(OutsideWorld.class);
  AdminCommand command=mock(AdminCommand.class);
  AdminCommand.Blocker trueBlocker=mock(AdminCommand.Blocker.class);
  when(trueBlocker.doesBlock(any(),any())).thenReturn(true);
  when(trueBlocker.explanation()).thenReturn("trueBlocker explanation");
  AdminCommand.Blocker falseBlocker=mock(AdminCommand.Blocker.class);
  when(falseBlocker.doesBlock(any(),any())).thenReturn(false);
  when(falseBlocker.explanation()).thenReturn("falseBlocker explanation");
  BlockerLocator blockerLocator=mock(BlockerLocator.class);
  when(blockerLocator.findBlockers("command")).thenReturn(Arrays.asList(falseBlocker,trueBlocker,falseBlocker));
  new AdminTool(cannedCommand("command",command),blockerLocator,outsideWorld,false).execute(null,null,"command");
  verify(outsideWorld).stdErrLine("command failed: trueBlocker explanation");
  verify(outsideWorld).exit(STATUS_ERROR);
}
