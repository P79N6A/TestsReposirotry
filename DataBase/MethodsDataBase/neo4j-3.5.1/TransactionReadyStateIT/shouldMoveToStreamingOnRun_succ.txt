@Test void shouldMoveToStreamingOnRun_succ() throws Throwable {
  BoltStateMachineV3 machine=getBoltStateMachineInTxReadyState();
  BoltResponseRecorder recorder=new BoltResponseRecorder();
  machine.process(new RunMessage("CREATE (n {k:'k'}) RETURN n.k",EMPTY_PARAMS),recorder);
  RecordedBoltResponse response=recorder.nextResponse();
  assertTrue(response.hasMetadata("fields"));
  assertTrue(response.hasMetadata("t_first"));
  assertThat(machine.state(),instanceOf(TransactionStreamingState.class));
}
