@Test void shouldMoveToFailedOnRun_fail() throws Throwable {
  BoltStateMachineV3 machine=getBoltStateMachineInTxReadyState();
  BoltResponseHandler handler=mock(BoltResponseHandler.class);
  doThrow(new RuntimeException("Error!")).when(handler).onRecords(any(),anyBoolean());
  machine.process(new RunMessage("A cypher query"),handler);
  assertThat(machine.state(),instanceOf(FailedState.class));
}
