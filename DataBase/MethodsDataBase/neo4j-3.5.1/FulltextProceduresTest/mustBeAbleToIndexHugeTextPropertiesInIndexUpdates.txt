@Test public void mustBeAbleToIndexHugeTextPropertiesInIndexUpdates() throws Exception {
  String meditationes;
  try (BufferedReader reader=new BufferedReader(new InputStreamReader(getClass().getResourceAsStream(DESCARTES_MEDITATIONES),StandardCharsets.UTF_8))){
    meditationes=reader.lines().collect(Collectors.joining("\n"));
  }
   db=createDatabase();
  Label label=Label.label("Book");
  try (Transaction tx=db.beginTx()){
    db.execute(format(NODE_CREATE,"books",array(label.name()),array("title","author","contents"))).close();
    tx.success();
  }
   long nodeId;
  try (Transaction tx=db.beginTx()){
    Node node=db.createNode(label);
    nodeId=node.getId();
    node.setProperty("title","Meditationes de prima philosophia");
    node.setProperty("author","Ren√© Descartes");
    node.setProperty("contents",meditationes);
    tx.success();
  }
   awaitIndexesOnline();
  try (Transaction tx=db.beginTx()){
    assertQueryFindsIds(db,true,"books","impellit scriptum offerendum",nodeId);
    tx.success();
  }
 }
