@Test public void shouldWriteSomeDataIntoTheLog() throws Exception {
  String name="log";
  FileSystemAbstraction fs=fileSystemRule.get();
  LogFiles logFiles=LogFilesBuilder.builder(directory.databaseLayout(),fs).withTransactionIdStore(transactionIdStore).withLogVersionRepository(logVersionRepository).build();
  life.start();
  life.add(logFiles);
  FlushablePositionAwareChannel writer=logFiles.getLogFile().getWriter();
  LogPositionMarker positionMarker=new LogPositionMarker();
  writer.getCurrentPosition(positionMarker);
  int intValue=45;
  long longValue=4854587;
  writer.putInt(intValue);
  writer.putLong(longValue);
  writer.prepareForFlush().flush();
  try (ReadableClosableChannel reader=logFiles.getLogFile().getReader(positionMarker.newPosition())){
    assertEquals(intValue,reader.getInt());
    assertEquals(longValue,reader.getLong());
  }
 }
