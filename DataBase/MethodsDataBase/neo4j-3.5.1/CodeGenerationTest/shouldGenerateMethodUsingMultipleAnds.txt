@Test public void shouldGenerateMethodUsingMultipleAnds() throws Throwable {
  ClassHandle handle;
  try (ClassGenerator simple=generateClass("SimpleClass")){
    try (CodeBlock conditional=simple.generateMethod(boolean.class,"conditional",param(boolean.class,"test1"),param(boolean.class,"test2"),param(boolean.class,"test3"))){
      conditional.returns(and(conditional.load("test1"),and(conditional.load("test2"),conditional.load("test3"))));
    }
     handle=simple.handle();
  }
   MethodHandle conditional=instanceMethod(handle.newInstance(),"conditional",boolean.class,boolean.class,boolean.class);
  assertThat(conditional.invoke(true,true,true),equalTo(true));
  assertThat(conditional.invoke(true,false,true),equalTo(false));
  assertThat(conditional.invoke(false,true,true),equalTo(false));
  assertThat(conditional.invoke(false,false,true),equalTo(false));
  assertThat(conditional.invoke(true,true,false),equalTo(false));
  assertThat(conditional.invoke(true,false,false),equalTo(false));
  assertThat(conditional.invoke(false,true,false),equalTo(false));
  assertThat(conditional.invoke(false,false,false),equalTo(false));
}
