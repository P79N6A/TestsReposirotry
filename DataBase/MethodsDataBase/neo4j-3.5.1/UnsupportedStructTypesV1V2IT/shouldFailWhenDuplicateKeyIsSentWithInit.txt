@Test public void shouldFailWhenDuplicateKeyIsSentWithInit() throws Exception {
  connection.connect(address).send(util.defaultAcceptedVersions());
  assertThat(connection,util.eventuallyReceivesSelectedProtocolVersion());
  connection.send(util.chunk(64,createMsgWithDuplicateKey(InitMessage.SIGNATURE)));
  assertThat(connection,util.eventuallyReceives(msgFailure(Status.Request.Invalid,"Duplicate map key `key1`.")));
  assertThat(connection,eventuallyDisconnects());
}
