@Test void shouldNotOverRun(){
  PortProvider portProvider=new SimplePortProvider(port -> false,65534);
  portProvider.getNextFreePort("foo");
  portProvider.getNextFreePort("foo");
  try {
    portProvider.getNextFreePort("foo");
    fail("Failure was expected");
  }
 catch (  IllegalStateException e) {
    assertThat(e.getMessage(),is("There are no more ports available"));
  }
}
