@Test public void readLatestIndexDataAfterUsingExhaustedNodeRelationshipIterator() throws Exception {
  try (Transaction transaction=databaseRule.beginTx()){
    addStaffMember("Fry");
    assertEquals(1,countStaff().intValue());
    Node fry=databaseRule.getNodeById(0);
    Iterable<Relationship> fryRelationships=fry.getRelationships();
    assertFalse(fryRelationships.iterator().hasNext());
    addStaffMember("Lila");
    assertEquals(2,countStaff().intValue());
    addStaffMember("Bender");
    assertEquals(3,countStaff().intValue());
  }
 }
