@Test void shouldHandleFailureDuringRunMessageProcessing() throws Exception {
  RuntimeException error=new RuntimeException("Hello");
  when(statementProcessor.run(any(),any())).thenThrow(error);
  BoltStateMachineState nextState=state.process(new RunMessage("RETURN 1",EMPTY_MAP),context);
  assertEquals(failedState,nextState);
  verify(context).handleFailure(error,false);
}
