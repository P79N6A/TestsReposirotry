@Test void shouldThrowWhenNotInitialized() throws Exception {
  ReadyState state=new ReadyState();
  assertThrows(IllegalStateException.class,() -> state.process(PullAllMessage.INSTANCE,context));
  state.setStreamingState(streamingState);
  assertThrows(IllegalStateException.class,() -> state.process(PullAllMessage.INSTANCE,context));
  state.setStreamingState(null);
  state.setInterruptedState(interruptedState);
  assertThrows(IllegalStateException.class,() -> state.process(PullAllMessage.INSTANCE,context));
  state.setInterruptedState(null);
  state.setFailedState(failedState);
  assertThrows(IllegalStateException.class,() -> state.process(PullAllMessage.INSTANCE,context));
}
