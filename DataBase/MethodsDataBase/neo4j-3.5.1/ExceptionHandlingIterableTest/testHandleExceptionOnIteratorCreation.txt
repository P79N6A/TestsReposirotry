@Test void testHandleExceptionOnIteratorCreation(){
  assertThrows(IllegalStateException.class,() -> Iterables.count(new ExceptionHandlingIterable(() -> {
    throw new RuntimeException("exception on iterator");
  }
){
    @Override protected Iterator exceptionOnIterator(    Throwable t){
      rethrow(new IllegalStateException());
      return super.exceptionOnIterator(t);
    }
  }
));
}
