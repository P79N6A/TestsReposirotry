@Test public void shouldFailNicelyWhenAggregationFunctionUsesUnknownAPI() throws Throwable {
  exception.expect(ProcedureException.class);
  exception.expectMessage("Unable to set up injection for procedure `AggregationFunctionWithUnknownAPI`, " + "the field `api` has type `class org.neo4j.kernel.impl.proc.ResourceInjectionTest$UnknownAPI` " + "which is not a known injectable component.");
  compiler.compileAggregationFunction(AggregationFunctionWithUnknownAPI.class);
}
