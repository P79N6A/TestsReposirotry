@Test public void shouldDetectAndPreventChannelReadingMultipleLogVersions() throws Exception {
  writeTransactions(1,1,1);
  logFile.rotate();
  writeTransactions(1,1,1);
  try (ReadAheadLogChannel channel=(ReadAheadLogChannel)logFile.getReader(start(0))){
    new ReversedSingleFileTransactionCursor(channel,new VersionAwareLogEntryReader<>(),false,monitor);
    fail("Should've failed");
  }
 catch (  IllegalArgumentException e) {
    assertThat(e.getMessage(),containsString("multiple log versions"));
  }
}
