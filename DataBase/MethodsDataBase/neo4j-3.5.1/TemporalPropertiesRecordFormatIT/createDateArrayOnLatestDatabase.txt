@Test void createDateArrayOnLatestDatabase(){
  File storeDir=testDirectory.storeDir();
  Label label=Label.label("DateNode");
  String propertyKey="a";
  LocalDate date=DateValue.date(1991,5,3).asObjectCopy();
  GraphDatabaseService database=startDatabaseWithFormat(storeDir,Standard.LATEST_NAME);
  try (Transaction transaction=database.beginTx()){
    Node node=database.createNode(label);
    node.setProperty(propertyKey,new LocalDate[]{date,date});
    transaction.success();
  }
   database.shutdown();
  GraphDatabaseService restartedDatabase=startDatabaseWithFormat(storeDir,Standard.LATEST_NAME);
  try (Transaction ignored=restartedDatabase.beginTx()){
    try (ResourceIterator<Node> nodes=restartedDatabase.findNodes(label)){
      Node node=nodes.next();
      LocalDate[] points=(LocalDate[])node.getProperty(propertyKey);
      assertThat(points,arrayWithSize(2));
    }
   }
   restartedDatabase.shutdown();
}
