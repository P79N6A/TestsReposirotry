@Test void failToCreateDateOnOldDatabase(){
  File storeDir=testDirectory.storeDir();
  GraphDatabaseService nonUpgradedStore=startNonUpgradableDatabaseWithFormat(storeDir,StandardV3_2.NAME);
  TransactionFailureException failureException=assertThrows(TransactionFailureException.class,() -> {
    try (Transaction transaction=nonUpgradedStore.beginTx()){
      Node node=nonUpgradedStore.createNode();
      node.setProperty("a",DateValue.date(1991,5,3).asObjectCopy());
      transaction.success();
    }
   }
);
  assertEquals("Current record format does not support TEMPORAL_PROPERTIES. Please upgrade your store to the format that support requested capability.",Exceptions.rootCause(failureException).getMessage());
  nonUpgradedStore.shutdown();
  GraphDatabaseService restartedOldFormatDatabase=startNonUpgradableDatabaseWithFormat(storeDir,StandardV3_2.NAME);
  try (Transaction transaction=restartedOldFormatDatabase.beginTx()){
    Node node=restartedOldFormatDatabase.createNode();
    node.setProperty("c","d");
    transaction.success();
  }
   restartedOldFormatDatabase.shutdown();
}
