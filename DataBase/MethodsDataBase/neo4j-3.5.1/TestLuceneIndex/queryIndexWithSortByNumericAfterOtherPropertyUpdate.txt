@Test public void queryIndexWithSortByNumericAfterOtherPropertyUpdate(){
  Index<Node> index=nodeIndex();
  commitTx();
  String yearProperty="year";
  String priceProperty="price";
  Label nodeLabel=Label.label("priceyNodes");
  try (Transaction transaction=graphDb.beginTx()){
    for (int i=0; i < 15; i++) {
      Node node=graphDb.createNode(nodeLabel);
      node.setProperty(yearProperty,i);
      node.setProperty(priceProperty,i);
      index.add(node,yearProperty,new ValueContext(i).indexNumeric());
      index.add(node,priceProperty,new ValueContext(i).indexNumeric());
    }
    transaction.success();
  }
   doubleNumericPropertyValueForAllNodesWithLabel(index,priceProperty,nodeLabel);
  queryAndSortNodesByNumericProperty(index,yearProperty);
  queryAndSortNodesByNumericProperty(index,priceProperty,value -> value * 2);
}
