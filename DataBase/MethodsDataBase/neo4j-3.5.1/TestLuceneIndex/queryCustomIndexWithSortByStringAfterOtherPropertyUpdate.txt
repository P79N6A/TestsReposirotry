@Test public void queryCustomIndexWithSortByStringAfterOtherPropertyUpdate(){
  Index<Node> index=nodeIndex(MapUtil.stringMap(LuceneIndexImplementation.KEY_TYPE,"exact",LuceneIndexImplementation.KEY_TO_LOWER_CASE,"true"));
  commitTx();
  String nameProperty="NODE_NAME_CUSTOM";
  String jobNameProperty="NODE_JOB_NAME_CUSTOM";
  String[] names=new String[]{"Fry","Leela","Bender","Amy","Hubert","Calculon"};
  String[] jobs=new String[]{"delivery boy","pilot","gambler","intern","professor","actor"};
  Label characters=Label.label("characters_custom");
  setPropertiesAndUpdateToJunior(index,nameProperty,jobNameProperty,names,jobs,characters);
  String[] sortedNames=new String[]{"Leela","Hubert","Fry","Calculon","Bender","Amy"};
  String[] sortedJobs={"junior professor","junior pilot","junior intern","junior gambler","junior delivery boy","junior actor"};
  queryAndSortNodesByStringProperty(index,nameProperty,sortedNames);
  queryAndSortNodesByStringProperty(index,jobNameProperty,sortedJobs);
}
