@Test void streamFilesRecursiveFilePathsMustBeCanonical() throws Exception {
  File sub=existingDirectory("sub");
  File a=new File(new File(new File(sub,".."),"sub"),"a");
  ensureExists(a);
  Stream<FileHandle> stream=fsa.streamFilesRecursive(sub.getParentFile());
  List<File> filepaths=stream.map(FileHandle::getFile).collect(toList());
  assertThat(filepaths,containsInAnyOrder(a.getCanonicalFile()));
}
