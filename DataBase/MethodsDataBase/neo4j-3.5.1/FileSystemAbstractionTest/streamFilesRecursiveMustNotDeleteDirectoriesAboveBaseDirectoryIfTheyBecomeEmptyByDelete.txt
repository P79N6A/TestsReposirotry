@Test void streamFilesRecursiveMustNotDeleteDirectoriesAboveBaseDirectoryIfTheyBecomeEmptyByDelete() throws Exception {
  File sub=existingDirectory("sub");
  File subsub=new File(sub,"subsub");
  File subsubsub=new File(subsub,"subsubsub");
  ensureDirectoryExists(subsub);
  ensureDirectoryExists(subsubsub);
  File x=new File(subsubsub,"x");
  ensureExists(x);
  fsa.streamFilesRecursive(subsub).forEach(HANDLE_DELETE);
  assertFalse(fsa.fileExists(subsubsub));
  assertFalse(fsa.isDirectory(subsubsub));
  assertFalse(fsa.fileExists(subsub));
  assertFalse(fsa.isDirectory(subsub));
  assertTrue(fsa.fileExists(sub));
  assertTrue(fsa.isDirectory(sub));
}
