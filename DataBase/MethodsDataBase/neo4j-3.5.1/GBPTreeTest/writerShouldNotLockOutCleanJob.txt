@Test public void writerShouldNotLockOutCleanJob() throws Exception {
  makeDirty();
  RecoveryCleanupWorkCollector cleanupWork=new ControlledRecoveryCleanupWorkCollector();
  try (GBPTree<MutableLong,MutableLong> index=index().with(cleanupWork).build()){
    try (Writer<MutableLong,MutableLong> writer=index.writer()){
      Future<?> cleanup=executor.submit(throwing(cleanupWork::start));
      writer.put(new MutableLong(1),new MutableLong(1));
      cleanup.get();
    }
   }
 }
