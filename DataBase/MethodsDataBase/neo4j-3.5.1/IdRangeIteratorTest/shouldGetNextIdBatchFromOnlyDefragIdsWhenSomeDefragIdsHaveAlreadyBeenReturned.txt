@Test public void shouldGetNextIdBatchFromOnlyDefragIdsWhenSomeDefragIdsHaveAlreadyBeenReturned(){
  IdRangeIterator iterator=new IdRange(new long[]{1,2,3,4,5,6},7,0).iterator();
  iterator.nextId();
  iterator.nextId();
  IdRangeIterator subRange=iterator.nextIdBatch(3).iterator();
  assertEquals(6,iterator.nextId());
  for (long i=0; i < 3; i++) {
    assertEquals(3 + i,subRange.nextId());
  }
  assertEquals(VALUE_REPRESENTING_NULL,subRange.nextId());
}
