@Test void shouldThrowWhenNotInitialized() throws Exception {
  StreamingState state=new StreamingState();
  assertThrows(IllegalStateException.class,() -> state.process(PullAllMessage.INSTANCE,context));
  state.setReadyState(readyState);
  assertThrows(IllegalStateException.class,() -> state.process(PullAllMessage.INSTANCE,context));
  state.setReadyState(null);
  state.setInterruptedState(interruptedState);
  assertThrows(IllegalStateException.class,() -> state.process(PullAllMessage.INSTANCE,context));
  state.setInterruptedState(null);
  state.setFailedState(failedState);
  assertThrows(IllegalStateException.class,() -> state.process(PullAllMessage.INSTANCE,context));
}
