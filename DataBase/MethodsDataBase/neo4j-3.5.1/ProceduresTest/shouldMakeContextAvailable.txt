@Test public void shouldMakeContextAvailable() throws Throwable {
  Key<String> someKey=key("someKey",String.class);
  procs.register(new CallableProcedure.BasicProcedure(signature){
    @Override public RawIterator<Object[],ProcedureException> apply(    Context ctx,    Object[] input,    ResourceTracker resourceTracker) throws ProcedureException {
      return RawIterator.<Object[],ProcedureException>of(new Object[]{ctx.get(someKey)});
    }
  }
);
  BasicContext ctx=new BasicContext();
  ctx.put(someKey,"hello, world");
  RawIterator<Object[],ProcedureException> result=procs.callProcedure(ctx,signature.name(),new Object[0],resourceTracker);
  assertThat(asList(result),contains(equalTo(new Object[]{"hello, world"})));
}
