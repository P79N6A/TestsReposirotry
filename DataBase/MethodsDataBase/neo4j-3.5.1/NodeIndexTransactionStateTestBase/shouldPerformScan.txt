@Test public void shouldPerformScan() throws Exception {
  Set<Pair<Long,Value>> expected=new HashSet<>();
  long nodeToDelete;
  long nodeToChange;
  try (Transaction tx=beginTransaction()){
    expected.add(nodeWithProp(tx,"suff1"));
    expected.add(nodeWithProp(tx,"supp"));
    nodeToDelete=nodeWithPropId(tx,"supp");
    nodeToChange=nodeWithPropId(tx,"supper");
    tx.success();
  }
   createIndex();
  try (Transaction tx=beginTransaction()){
    int label=tx.tokenRead().nodeLabel("Node");
    int prop=tx.tokenRead().propertyKey("prop");
    expected.add(nodeWithProp(tx,"suff2"));
    tx.dataWrite().nodeDelete(nodeToDelete);
    tx.dataWrite().nodeRemoveProperty(nodeToChange,prop);
    IndexReference index=tx.schemaRead().index(label,prop);
    assertNodeAndValueForScan(expected,tx,index,false,"noff");
  }
 }
