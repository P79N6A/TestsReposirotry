@Test public void shouldUseXForwardedHostAndXForwardedProtoHeadersInCypherResponseRepresentations(){
  String jsonString="{\"statements\" : [{ \"statement\": \"MATCH (n) RETURN n\", " + "\"resultDataContents\":[\"REST\"] }] }";
  ClientResponse response=client.resource(getServerUri() + "db/data/transaction").accept(APPLICATION_JSON).header(X_FORWARDED_HOST,"jimwebber.org:2354").header(X_FORWARDED_PROTO,"https").entity(jsonString,MediaType.APPLICATION_JSON_TYPE).post(ClientResponse.class);
  String entity=response.getEntity(String.class);
  assertTrue(entity.contains("https://jimwebber.org:2354"));
  assertFalse(entity.contains(getServerUri()));
}
