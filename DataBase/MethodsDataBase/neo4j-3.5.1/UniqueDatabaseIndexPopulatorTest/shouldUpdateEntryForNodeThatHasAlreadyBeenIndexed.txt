@Test public void shouldUpdateEntryForNodeThatHasAlreadyBeenIndexed() throws Exception {
  populator=newPopulator();
  addUpdate(populator,1,"value1");
  IndexUpdater updater=populator.newPopulatingUpdater(nodePropertyAccessor);
  updater.process(change(1,schemaDescriptor,"value1","value2"));
  populator.close(true);
  assertEquals(Collections.EMPTY_LIST,getAllNodes(getDirectory(),"value1"));
  assertEquals(asList(1L),getAllNodes(getDirectory(),"value2"));
}
