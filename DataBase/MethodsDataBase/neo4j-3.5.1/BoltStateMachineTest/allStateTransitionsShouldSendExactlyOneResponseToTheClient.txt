@Test public void allStateTransitionsShouldSendExactlyOneResponseToTheClient() throws Exception {
  List<RequestMessage> messages=Arrays.asList(new InitMessage(USER_AGENT,emptyMap()),AckFailureMessage.INSTANCE,ResetMessage.INSTANCE,new RunMessage("RETURN 1",EMPTY_PARAMS),DiscardAllMessage.INSTANCE,PullAllMessage.INSTANCE);
  for (  RequestMessage message : messages) {
    verifyOneResponse((machine,recorder) -> machine.process(message,recorder));
  }
}
