@Test public void multipleInterruptsShouldBeMatchedWithMultipleResets() throws Throwable {
  final BoltStateMachine machine=init(newMachine());
  machine.interrupt();
  machine.interrupt();
  BoltResponseRecorder recorder=new BoltResponseRecorder();
  machine.process(new RunMessage("RETURN 1",EMPTY_PARAMS),recorder);
  machine.process(ResetMessage.INSTANCE,recorder);
  machine.process(new RunMessage("RETURN 1",EMPTY_PARAMS),recorder);
  assertThat(recorder.nextResponse(),wasIgnored());
  assertThat(recorder.nextResponse(),wasIgnored());
  assertThat(recorder.nextResponse(),wasIgnored());
  recorder.reset();
  machine.process(ResetMessage.INSTANCE,recorder);
  machine.process(new RunMessage("RETURN 1",EMPTY_PARAMS),recorder);
  assertThat(recorder.nextResponse(),succeeded());
  assertThat(recorder.nextResponse(),succeeded());
}
