@Test @Documented("Handling errors in an open transaction\n" + "\n" + "Whenever there is an error in a request the server will rollback the transaction.\n"+ "By inspecting the response for the presence/absence of the `transaction` key you can tell if the "+ "transaction is still open") public void errors_in_open_transaction() throws JsonParseException {
  String location=POST(getDataUri() + "transaction").location();
  ResponseEntity response=gen.get().expectedStatus(200).payload(quotedJson("{ 'statements': [ { 'statement': 'This is not a valid Cypher Statement.' } ] }")).post(location);
  Map<String,Object> result=jsonToMap(response.entity());
  assertThat(result,not(hasKey("transaction")));
}
