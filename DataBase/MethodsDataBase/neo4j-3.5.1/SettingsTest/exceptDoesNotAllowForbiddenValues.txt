@Test void exceptDoesNotAllowForbiddenValues(){
  Setting<String> restrictedSetting=buildSetting("foo",STRING,"test").constraint(except("a","b","c")).build();
  assertEquals("test",restrictedSetting.apply(map(stringMap())));
  assertEquals("d",restrictedSetting.apply(map(stringMap("foo","d"))));
  assertThrows(InvalidSettingException.class,() -> restrictedSetting.apply(map(stringMap("foo","a"))));
  assertThrows(InvalidSettingException.class,() -> restrictedSetting.apply(map(stringMap("foo","b"))));
  InvalidSettingException exception=assertThrows(InvalidSettingException.class,() -> restrictedSetting.apply(map(stringMap("foo","c"))));
  assertThat(exception.getMessage(),containsString("not allowed value is: c"));
}
