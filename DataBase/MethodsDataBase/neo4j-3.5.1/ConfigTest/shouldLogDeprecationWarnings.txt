@Test public void shouldLogDeprecationWarnings() throws Exception {
  Log log=mock(Log.class);
  File confFile=testDirectory.file("test.conf");
  assertTrue(confFile.createNewFile());
  Config config=Config.fromFile(confFile).withSetting(MySettingsWithDefaults.oldHello,"baah").withSetting(MySettingsWithDefaults.oldSetting,"booh").withConfigClasses(Arrays.asList(mySettingsWithDefaults,myMigratingSettings,new GraphDatabaseSettings())).build();
  config.setLogger(log);
  verify(log).warn("%s is deprecated. Replaced by %s",MySettingsWithDefaults.oldHello.name(),MySettingsWithDefaults.hello.name());
  verify(log).warn("%s is deprecated.",MySettingsWithDefaults.oldSetting.name());
  verifyNoMoreInteractions(log);
}
