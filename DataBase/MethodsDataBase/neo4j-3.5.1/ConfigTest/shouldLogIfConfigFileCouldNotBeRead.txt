@Test public void shouldLogIfConfigFileCouldNotBeRead() throws IOException {
  Log log=mock(Log.class);
  File confFile=testDirectory.file("test.conf");
  assertTrue(confFile.createNewFile());
  assumeTrue(confFile.setReadable(false));
  Config config=Config.fromFile(confFile).withNoThrowOnFileLoadFailure().build();
  config.setLogger(log);
  verify(log).error("Unable to load config file [%s]: %s",confFile,confFile + " (Permission denied)");
}
