@Test public void validatorsShouldBeCalledWhenBuilding(){
  Config.builder().withSetting(MySettingsWithDefaults.hello,"neo4j").withValidator(new HelloHasToBeNeo4jConfigurationValidator()).withConfigClasses(Arrays.asList(mySettingsWithDefaults,myMigratingSettings)).build();
  expect.expect(InvalidSettingException.class);
  expect.expectMessage("Setting hello has to set to neo4j");
  Config.builder().withSetting(MySettingsWithDefaults.hello,"not-neo4j").withValidator(new HelloHasToBeNeo4jConfigurationValidator()).withConfigClasses(Arrays.asList(mySettingsWithDefaults,myMigratingSettings)).build();
}
