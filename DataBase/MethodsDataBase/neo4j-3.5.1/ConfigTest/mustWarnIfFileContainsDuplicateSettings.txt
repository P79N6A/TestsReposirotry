@Test public void mustWarnIfFileContainsDuplicateSettings() throws Exception {
  Log log=mock(Log.class);
  File confFile=testDirectory.createFile("test.conf");
  Files.write(confFile.toPath(),Arrays.asList(ExternalSettings.initialHeapSize.name() + "=5g",ExternalSettings.initialHeapSize.name() + "=4g",ExternalSettings.initialHeapSize.name() + "=3g",ExternalSettings.maxHeapSize.name() + "=10g",ExternalSettings.maxHeapSize.name() + "=10g"));
  Config config=Config.fromFile(confFile).build();
  config.setLogger(log);
  verify(log).warn("The '%s' setting is specified more than once. Settings only be specified once, to avoid ambiguity. " + "The setting value that will be used is '%s'.",ExternalSettings.initialHeapSize.name(),"5g");
  verify(log).warn("The '%s' setting is specified more than once. Settings only be specified once, to avoid ambiguity. " + "The setting value that will be used is '%s'.",ExternalSettings.maxHeapSize.name(),"10g");
}
