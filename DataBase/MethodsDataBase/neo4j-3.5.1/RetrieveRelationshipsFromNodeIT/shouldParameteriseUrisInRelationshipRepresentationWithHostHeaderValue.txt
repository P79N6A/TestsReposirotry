@Test public void shouldParameteriseUrisInRelationshipRepresentationWithHostHeaderValue() throws Exception {
  HttpClient httpclient=new DefaultHttpClient();
  try {
    HttpGet httpget=new HttpGet(getServerUri() + "db/data/relationship/" + likes);
    httpget.setHeader("Accept","application/json");
    httpget.setHeader("Host","dummy.neo4j.org");
    HttpResponse response=httpclient.execute(httpget);
    HttpEntity entity=response.getEntity();
    String entityBody=IOUtils.toString(entity.getContent(),StandardCharsets.UTF_8);
    System.out.println(entityBody);
    assertThat(entityBody,containsString("http://dummy.neo4j.org/db/data/relationship/" + likes));
    assertThat(entityBody,not(containsString(getServerUri())));
  }
  finally {
    httpclient.getConnectionManager().shutdown();
  }
}
