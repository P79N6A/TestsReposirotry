@Test public void createAndQueryFulltextIndex() throws Exception {
  IndexReference indexReference;
  FulltextIndexProvider provider=(FulltextIndexProvider)db.resolveDependency(IndexProviderMap.class).lookup(DESCRIPTOR);
  indexReference=createIndex(new int[]{0,1,2},new int[]{0,1,2,3});
  await(indexReference);
  long thirdNodeid;
  thirdNodeid=createTheThirdNode();
  verifyNodeData(provider,thirdNodeid);
  db.restartDatabase(DatabaseRule.RestartAction.EMPTY);
  provider=(FulltextIndexProvider)db.resolveDependency(IndexProviderMap.class).lookup(DESCRIPTOR);
  verifyNodeData(provider,thirdNodeid);
}
