@Test public void shouldReturnRelsWhenAskingForRelsWhereOnlySomeTypesExistInCurrentRel() throws Exception {
  Transaction transaction=newTransaction(AnonymousContext.writeToken());
  int relType1=transaction.tokenWrite().relationshipTypeGetOrCreateForName("Type1");
  int relType2=transaction.tokenWrite().relationshipTypeGetOrCreateForName("Type2");
  long refNode=transaction.dataWrite().nodeCreate();
  long otherNode=transaction.dataWrite().nodeCreate();
  long theRel=transaction.dataWrite().relationshipCreate(refNode,relType1,otherNode);
  assertRels(nodeGetRelationships(transaction,refNode,OUTGOING,new int[]{relType2,relType1}),theRel);
  commit();
}
