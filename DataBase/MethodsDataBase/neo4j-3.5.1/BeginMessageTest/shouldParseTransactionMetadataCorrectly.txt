@Test void shouldParseTransactionMetadataCorrectly() throws Throwable {
  Map<String,Object> txMetadata=map("creation-time",Duration.ofMillis(4321L));
  Map<String,Object> msgMetadata=map("tx_metadata",txMetadata);
  MapValue meta=ValueUtils.asMapValue(msgMetadata);
  BeginMessage beginMessage=new BeginMessage(meta);
  assertThat(beginMessage.transactionMetadata().toString(),equalTo(txMetadata.toString()));
}
