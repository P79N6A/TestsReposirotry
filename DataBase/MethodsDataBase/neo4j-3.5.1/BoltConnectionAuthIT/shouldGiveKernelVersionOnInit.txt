@Test public void shouldGiveKernelVersionOnInit() throws Throwable {
  BoltStateMachine machine=env.newMachine(BOLT_CHANNEL);
  BoltResponseRecorder recorder=new BoltResponseRecorder();
  String version="Neo4j/" + Version.getNeo4jVersion();
  InitMessage init=new InitMessage(USER_AGENT,newBasicAuthToken("neo4j","neo4j"));
  machine.process(init,recorder);
  machine.process(new RunMessage("CREATE ()",EMPTY_MAP),recorder);
  assertThat(recorder.nextResponse(),succeededWithMetadata("server",stringValue(version)));
}
