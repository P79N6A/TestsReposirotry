@Test public void shouldCloseConnectionAfterAuthenticationFailure() throws Throwable {
  BoltStateMachine machine=env.newMachine(BOLT_CHANNEL);
  InitMessage init=new InitMessage(USER_AGENT,newBasicAuthToken("neo4j","j4oen"));
  BoltResponseRecorder recorder=new BoltResponseRecorder();
  verifyKillsConnection(() -> machine.process(init,recorder));
  assertThat(recorder.nextResponse(),failedWithStatus(Status.Security.Unauthorized));
}
