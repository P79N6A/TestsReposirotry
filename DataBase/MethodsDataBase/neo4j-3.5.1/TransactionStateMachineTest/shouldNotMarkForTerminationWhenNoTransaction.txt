@Test public void shouldNotMarkForTerminationWhenNoTransaction() throws Exception {
  KernelTransaction transaction=newTransaction();
  TransactionStateMachineV1SPI stateMachineSPI=newTransactionStateMachineSPI(transaction);
  TransactionStateMachine stateMachine=newTransactionStateMachine(stateMachineSPI);
  stateMachine.markCurrentTransactionForTermination();
  verify(transaction,never()).markForTermination(any());
}
