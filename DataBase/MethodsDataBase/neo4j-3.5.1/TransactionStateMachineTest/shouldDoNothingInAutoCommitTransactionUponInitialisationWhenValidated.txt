@Test void shouldDoNothingInAutoCommitTransactionUponInitialisationWhenValidated() throws Exception {
  KernelTransaction transaction=newTimedOutTransaction();
  TransactionStateMachineV1SPI stateMachineSPI=newTransactionStateMachineSPI(transaction);
  TransactionStateMachine stateMachine=newTransactionStateMachine(stateMachineSPI);
  assertThat(stateMachine.state,is(TransactionStateMachine.State.AUTO_COMMIT));
  assertNull(stateMachine.ctx.currentTransaction);
  stateMachine.validateTransaction();
  assertThat(stateMachine.state,is(TransactionStateMachine.State.AUTO_COMMIT));
  assertNull(stateMachine.ctx.currentTransaction);
  verify(transaction,never()).getReasonIfTerminated();
  verify(transaction,never()).failure();
  verify(transaction,never()).close();
}
