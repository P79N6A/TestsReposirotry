@Test public void shouldBeAbleToCheckPropertiesWhileDeletingRelationship() throws InterruptedException, ExecutionException {
  Future query1=executeInThread("MATCH (:L)-[r:T {prop:42}]-(:L) OPTIONAL MATCH (:L)-[:T {prop:1337}]-(:L) WITH r MATCH ()-[r]-() return exists(r.prop)");
  Future query2=executeInThread("MATCH (:L)-[r:T {prop:42}]-(:L) DELETE r");
  query1.get();
  query2.get();
}
