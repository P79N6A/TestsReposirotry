@Test public void shouldBeAbleToRemoveAConstraintIndexWithoutOwner() throws Exception {
  NodePropertyAccessor propertyAccessor=mock(NodePropertyAccessor.class);
  AssertableLogProvider logProvider=new AssertableLogProvider();
  ConstraintIndexCreator creator=new ConstraintIndexCreator(() -> kernel,indexingService,propertyAccessor,logProvider);
  String defaultProvider=Config.defaults().get(default_schema_provider);
  IndexDescriptor constraintIndex=creator.createConstraintIndex(descriptor,defaultProvider);
  Transaction transaction=newTransaction();
  assertEquals(emptySet(),asSet(transaction.schemaRead().constraintsGetForLabel(labelId)));
  commit();
  SchemaWrite schemaWrite=schemaWriteInNewTransaction();
  schemaWrite.indexDrop(constraintIndex);
  commit();
  transaction=newTransaction();
  assertEquals(emptySet(),asSet(transaction.schemaRead().indexesGetForLabel(labelId)));
  commit();
}
