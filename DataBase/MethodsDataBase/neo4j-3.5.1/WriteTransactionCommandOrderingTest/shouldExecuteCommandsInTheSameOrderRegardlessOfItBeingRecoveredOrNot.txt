@Test public void shouldExecuteCommandsInTheSameOrderRegardlessOfItBeingRecoveredOrNot() throws Exception {
  TransactionRecordState tx=injectAllPossibleCommands();
  PhysicalTransactionRepresentation commands=transactionRepresentationOf(tx);
  final OrderVerifyingCommandHandler orderVerifyingCommandHandler=new OrderVerifyingCommandHandler();
  commands.accept(element -> ((Command)element).handle(orderVerifyingCommandHandler));
}
