@Test @DisabledOnOs(OS.WINDOWS) void shouldHandleDatabaseSymlink() throws Exception {
  Path symDir=testDirectory.directory("path-to-links").toPath();
  Path realDatabaseDir=symDir.resolve("foo.db");
  Path dataDir=testDirectory.directory("some-other-path").toPath();
  Path databaseDir=dataDir.resolve("databases/foo.db");
  putStoreInDirectory(realDatabaseDir);
  Files.createDirectories(dataDir.resolve("databases"));
  Files.createSymbolicLink(databaseDir,realDatabaseDir);
  Files.write(configDir.resolve(Config.DEFAULT_CONFIG_FILE_NAME),singletonList(format("%s=%s",data_directory.name(),dataDir.toString().replace('\\','/'))));
  execute("foo.db");
  verify(dumper).dump(eq(realDatabaseDir),eq(realDatabaseDir),any(),any());
}
