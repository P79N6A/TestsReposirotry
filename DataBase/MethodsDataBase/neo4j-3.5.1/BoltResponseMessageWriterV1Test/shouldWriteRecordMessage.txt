@Test public void shouldWriteRecordMessage() throws Exception {
  PackOutput output=mock(PackOutput.class);
  Neo4jPack.Packer packer=mock(Neo4jPack.Packer.class);
  BoltResponseMessageWriterV1 writer=newWriter(output,packer);
  writer.write(new RecordMessage(() -> new AnyValue[]{longValue(42),stringValue("42")}));
  InOrder inOrder=inOrder(output,packer);
  inOrder.verify(output).beginMessage();
  inOrder.verify(packer).pack(longValue(42));
  inOrder.verify(packer).pack(stringValue("42"));
  inOrder.verify(output).messageSucceeded();
}
