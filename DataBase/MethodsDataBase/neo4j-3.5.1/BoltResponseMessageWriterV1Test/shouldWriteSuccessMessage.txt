@Test public void shouldWriteSuccessMessage() throws Exception {
  PackOutput output=mock(PackOutput.class);
  Neo4jPack.Packer packer=mock(Neo4jPack.Packer.class);
  BoltResponseMessageWriterV1 writer=newWriter(output,packer);
  MapValue metadata=map(new String[]{"a","b","c"},new AnyValue[]{intValue(1),stringValue("2"),date(2010,02,02)});
  writer.write(new SuccessMessage(metadata));
  InOrder inOrder=inOrder(output,packer);
  inOrder.verify(output).beginMessage();
  inOrder.verify(packer).pack(metadata);
  inOrder.verify(output).messageSucceeded();
}
