@Test void shouldUseCorrectFileSystemForChosenFile() throws Exception {
  File specialFile=new File("special");
  FileSystemAbstraction normal=mock(FileSystemAbstraction.class);
  FileSystemAbstraction special=mock(FileSystemAbstraction.class);
  try (SelectiveFileSystemAbstraction systemAbstraction=new SelectiveFileSystemAbstraction(specialFile,special,normal)){
    systemAbstraction.open(specialFile,OpenMode.READ);
    verify(special).open(specialFile,OpenMode.READ);
    verifyNoMoreInteractions(special);
    verifyNoMoreInteractions(normal);
  }
 }
