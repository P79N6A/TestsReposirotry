@Test public void shouldThrowIllegalArgumentChangingTypeOfFieldOnNodeIndex(){
  String indexName="index";
  createNodeExplicitIndexWithSingleNode(db,indexName);
  long nodeId;
  try (Transaction tx=db.beginTx()){
    Node node=db.createNode();
    nodeId=node.getId();
    Index<Node> nodeIndex=db.index().forNodes(indexName);
    nodeIndex.add(node,"key","otherValue");
    tx.success();
  }
   try (Transaction tx=db.beginTx()){
    Index<Node> nodeIndex=db.index().forNodes(indexName);
    nodeIndex.remove(db.getNodeById(nodeId),"key");
    tx.success();
  }
   expectedException.expect(IllegalArgumentException.class);
  try (Transaction tx=db.beginTx()){
    Index<Node> nodeIndex=db.index().forNodes(indexName);
    nodeIndex.add(db.getNodeById(nodeId),"key",ValueContext.numeric(52));
    tx.success();
  }
 }
