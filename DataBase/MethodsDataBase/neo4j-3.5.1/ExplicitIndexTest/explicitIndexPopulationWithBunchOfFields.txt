@Test void explicitIndexPopulationWithBunchOfFields(){
  assertTimeout(ofMillis(TEST_TIMEOUT),() -> {
    BatchInserter batchNode=BatchInserters.inserter(directory.databaseDir());
    LuceneBatchInserterIndexProvider provider=new LuceneBatchInserterIndexProvider(batchNode);
    try {
      BatchInserterIndex batchIndex=provider.nodeIndex("node_auto_index",stringMap(IndexManager.PROVIDER,"lucene","type","fulltext"));
      Map<String,Object> properties=IntStream.range(0,2000).mapToObj(i -> Pair.of(Integer.toString(i),randomAlphabetic(200))).collect(toMap(Pair::first,Pair::other));
      long node=batchNode.createNode(properties,Label.label("NODE"));
      batchIndex.add(node,properties);
    }
  finally {
      provider.shutdown();
      batchNode.shutdown();
    }
  }
);
}
