@Test void shouldThrowWhenNotInitialized() throws Exception {
  FailedState state=new FailedState();
  assertThrows(IllegalStateException.class,() -> state.process(AckFailureMessage.INSTANCE,context));
  state.setReadyState(readyState);
  assertThrows(IllegalStateException.class,() -> state.process(AckFailureMessage.INSTANCE,context));
  state.setReadyState(null);
  state.setInterruptedState(interruptedState);
  assertThrows(IllegalStateException.class,() -> state.process(AckFailureMessage.INSTANCE,context));
}
