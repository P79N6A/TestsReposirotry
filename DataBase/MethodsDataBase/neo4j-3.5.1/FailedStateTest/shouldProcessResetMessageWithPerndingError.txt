@Test void shouldProcessResetMessageWithPerndingError() throws Exception {
  when(context.resetMachine()).thenReturn(true);
  Neo4jError error=Neo4jError.from(new RuntimeException());
  connectionState.markFailed(error);
  assertEquals(error,connectionState.getPendingError());
  BoltStateMachineState newState=state.process(ResetMessage.INSTANCE,context);
  assertEquals(readyState,newState);
  assertNull(connectionState.getPendingError());
}
