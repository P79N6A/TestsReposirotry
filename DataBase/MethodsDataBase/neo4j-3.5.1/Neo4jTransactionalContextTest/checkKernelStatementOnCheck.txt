@Test public void checkKernelStatementOnCheck(){
  InternalTransaction initialTransaction=mock(InternalTransaction.class,new ReturnsDeepStubs());
  Kernel kernel=mock(Kernel.class);
  ThreadToStatementContextBridge txBridge=mock(ThreadToStatementContextBridge.class);
  KernelTransaction kernelTransaction=mockTransaction(initialStatement);
  when(txBridge.getKernelTransactionBoundToThisThread(true)).thenReturn(kernelTransaction);
  Neo4jTransactionalContext transactionalContext=new Neo4jTransactionalContext(null,txBridge,null,initialTransaction,initialStatement,null,kernel);
  transactionalContext.check();
  verify(kernelTransaction).assertOpen();
}
