@Test public void shouldNotBePossibleToCloseMultipleTimes(){
  InternalTransaction tx=mock(InternalTransaction.class);
  Neo4jTransactionalContext context=newContext(tx);
  context.close(false);
  context.close(true);
  context.close(false);
  verify(tx).failure();
  verify(tx,never()).success();
  verify(tx).close();
}
