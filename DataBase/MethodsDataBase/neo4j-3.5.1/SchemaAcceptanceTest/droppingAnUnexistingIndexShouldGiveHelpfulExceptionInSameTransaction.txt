@Test public void droppingAnUnexistingIndexShouldGiveHelpfulExceptionInSameTransaction(){
  IndexDefinition index=createIndex(db,label,propertyKey);
  try (Transaction tx=db.beginTx()){
    index.drop();
    try {
      index.drop();
      fail("Should not be able to drop index twice");
    }
 catch (    ConstraintViolationException e) {
      assertThat(e.getMessage(),containsString("No such INDEX ON :MY_LABEL(my_property_key)."));
    }
    tx.success();
  }
   assertThat("Index should have been deleted",getIndexes(db,label),not(contains(index)));
}
