@Test public void shouldCallCloseListenerOnCloseWhenRollingBack() throws Exception {
  AtomicLong closeTxId=new AtomicLong(Long.MIN_VALUE);
  KernelTransactionImplementation tx=newTransaction(loginContext());
  tx.registerCloseListener(closeTxId::set);
  tx.failure();
  tx.close();
  assertEquals(-1L,closeTxId.get());
}
