@Test public void mustSupportScanningAllRecords() throws Exception {
  File file=createMetaDataFile();
  MetaDataStore.Position[] positions=MetaDataStore.Position.values();
  long storeVersion=versionStringToLong(Standard.LATEST_RECORD_FORMATS.storeVersion());
  writeCorrectMetaDataRecord(file,positions,storeVersion);
  List<Long> actualValues=new ArrayList<>();
  try (MetaDataStore store=newMetaDataStore()){
    store.scanAllRecords(record -> {
      actualValues.add(record.getValue());
      return false;
    }
);
  }
   List<Long> expectedValues=Arrays.stream(positions).map(p -> {
    if (p == MetaDataStore.Position.STORE_VERSION) {
      return storeVersion;
    }
 else {
      return p.ordinal() + 1L;
    }
  }
).collect(Collectors.toList());
  assertThat(actualValues,is(expectedValues));
}
