@Test @Graph(nodes={@NODE(name="I",properties={@PROP(key="name",value="me"),@PROP(key="bool",value="true",type=GraphDescription.PropType.BOOLEAN)}),@NODE(name="you",setNameProperty=true)},relationships={@REL(start="I",end="you",type="knows",properties={@PROP(key="name",value="relProp"),@PROP(key="valid",value="true",type=GraphDescription.PropType.BOOLEAN)})},autoIndexRelationships=true) public void canCreateMoreInvolvedGraphWithPropertiesAndAutoIndex(){
  data.get();
  verifyIKnowYou("knows","me");
  try (Transaction ignored=graphdb.beginTx()){
    assertEquals(true,data.get().get("I").getProperty("bool"));
    assertFalse("node autoindex enabled.",graphdb().index().getNodeAutoIndexer().isEnabled());
    try (IndexHits<Relationship> relationships=graphdb().index().getRelationshipAutoIndexer().getAutoIndex().get("name","relProp")){
      assertTrue("can't look up rel.",relationships.hasNext());
    }
     assertTrue("relationship autoindex enabled.",graphdb().index().getRelationshipAutoIndexer().isEnabled());
  }
 }
