@Test void createReadOnlyPartition() throws Exception {
  prepareIndex();
  try (AbstractIndexPartition indexPartition=new ReadOnlyIndexPartitionFactory().createPartition(testDirectory.directory(),directory)){
    assertThrows(UnsupportedOperationException.class,indexPartition::getIndexWriter);
  }
 }
