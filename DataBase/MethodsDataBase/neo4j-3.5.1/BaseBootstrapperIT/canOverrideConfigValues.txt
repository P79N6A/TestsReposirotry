@Test public void canOverrideConfigValues() throws Throwable {
  File configFile=tempDir.newFile(Config.DEFAULT_CONFIG_FILE_NAME);
  Map<String,String> properties=stringMap(forced_kernel_id.name(),"thisshouldnotshowup");
  properties.putAll(ServerTestUtils.getDefaultRelativeProperties());
  properties.putAll(connectorsOnRandomPortsConfig());
  store(properties,configFile);
  ServerBootstrapper.start(bootstrapper,"--home-dir",tempDir.newFolder("home-dir").getAbsolutePath(),"--config-dir",configFile.getParentFile().getAbsolutePath(),"-c",configOption(forced_kernel_id,"mycustomvalue"));
  assertThat(bootstrapper.getServer().getConfig().get(forced_kernel_id),equalTo("mycustomvalue"));
}
