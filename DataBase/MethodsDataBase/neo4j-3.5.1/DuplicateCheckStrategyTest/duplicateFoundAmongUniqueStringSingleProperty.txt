@Test public void duplicateFoundAmongUniqueStringSingleProperty() throws IndexEntryConflictException {
  for (int i=0; i < randomNumberOfEntries(); i++) {
    String propertyValue=String.valueOf(i);
    TextValue stringValue=Values.stringValue(propertyValue);
    checkStrategy.checkForDuplicate(stringValue,i);
  }
  int duplicateTarget=BUCKET_STRATEGY_ENTRIES_THRESHOLD - 2;
  String duplicate=String.valueOf(duplicateTarget);
  TextValue duplicatedValue=Values.stringValue(duplicate);
  expectedException.expect(IndexEntryConflictException.class);
  expectedException.expectMessage(format("Both node %d and node 3 share the property value %s",duplicateTarget,ValueTuple.of(duplicatedValue)));
  checkStrategy.checkForDuplicate(duplicatedValue,3);
}
