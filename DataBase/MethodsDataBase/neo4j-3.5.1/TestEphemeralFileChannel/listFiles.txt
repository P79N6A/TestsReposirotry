@Test void listFiles() throws Exception {
  File root=new File("/root").getCanonicalFile();
  File dir1=new File(root,"dir1");
  File dir2=new File(root,"dir2");
  File subdir1=new File(dir1,"sub");
  File file1=new File(dir1,"file");
  File file2=new File(dir1,"file2");
  File file3=new File(dir2,"file");
  File file4=new File(subdir1,"file");
  fileSystem.mkdirs(dir2);
  fileSystem.mkdirs(dir1);
  fileSystem.mkdirs(subdir1);
  fileSystem.create(file1);
  fileSystem.create(file2);
  fileSystem.create(file3);
  fileSystem.create(file4);
  assertEquals(asSet(dir1,dir2),asSet(fileSystem.listFiles(root)));
  assertEquals(asSet(subdir1,file1,file2),asSet(fileSystem.listFiles(dir1)));
  assertEquals(asSet(file3),asSet(fileSystem.listFiles(dir2)));
  assertEquals(asSet(file4),asSet(fileSystem.listFiles(subdir1)));
}
