@Test public void shouldNotSlowRequestRateOnLessThanMaxFailedAttempts(){
  FakeClock clock=getFakeClock();
  AuthenticationStrategy authStrategy=newAuthStrategy(clock,3);
  User user=new User.Builder("user",LegacyCredential.forPassword("right")).build();
  assertThat(authStrategy.authenticate(user,password("wrong")),equalTo(AuthenticationResult.FAILURE));
  assertThat(authStrategy.authenticate(user,password("wrong")),equalTo(AuthenticationResult.FAILURE));
  assertThat(authStrategy.authenticate(user,password("right")),equalTo(AuthenticationResult.SUCCESS));
}
