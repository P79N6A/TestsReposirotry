@Test public void doNotPruneNonCorruptedLogs() throws IOException {
  life.start();
  generateTransactionLogFiles(logFiles);
  long highestLogVersion=logFiles.getHighestLogVersion();
  long fileSizeBeforePrune=logFiles.getHighestLogFile().length();
  LogPosition endOfLogsPosition=new LogPosition(highestLogVersion,fileSizeBeforePrune);
  assertEquals(TOTAL_NUMBER_OF_LOG_FILES - 1,highestLogVersion);
  logPruner.truncate(endOfLogsPosition);
  assertEquals(TOTAL_NUMBER_OF_LOG_FILES,logFiles.logFiles().length);
  assertEquals(fileSizeBeforePrune,logFiles.getHighestLogFile().length());
  assertTrue(ArrayUtil.isEmpty(databaseDirectory.listFiles(File::isDirectory)));
}
