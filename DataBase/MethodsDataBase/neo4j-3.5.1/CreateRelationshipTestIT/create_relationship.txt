@Test @Documented("Upon successful creation of a relationship, the new relationship is returned.") @Title("Create relationship") @Graph("Joe knows Sara") public void create_relationship() throws Exception {
  String jsonString="{\"to\" : \"" + getDataUri() + "node/"+ getNode("Sara").getId()+ "\", \"type\" : \"LOVES\"}";
  Node i=getNode("Joe");
  String entity=gen.get().expectedStatus(Status.CREATED.getStatusCode()).payload(jsonString).post(getNodeUri(i) + "/relationships").entity();
  try (Transaction tx=graphdb().beginTx()){
    assertTrue(i.hasRelationship(RelationshipType.withName("LOVES")));
  }
   assertProperRelationshipRepresentation(JsonHelper.jsonToMap(entity));
}
