@Test public void shouldCloseAllInstantiated(){
  Function<IndexSlot,String> factory=slotToStringFunction();
  LazyInstanceSelector<String> selector=new LazyInstanceSelector<>(factory);
  selector.select(NUMBER);
  selector.select(STRING);
  Consumer<String> consumer=mock(Consumer.class);
  selector.close(consumer);
  verify(consumer,times(1)).accept(String.valueOf(NUMBER));
  verify(consumer,times(1)).accept(String.valueOf(STRING));
  verifyNoMoreInteractions(consumer);
}
