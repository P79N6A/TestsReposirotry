@Test public void shouldNotFindUpdatedNodeInRangeSearch() throws Exception {
  boolean needsValues=indexProvidesStringValues();
  int label=token.nodeLabel("Node");
  int prop=token.propertyKey("prop");
  IndexReference index=schemaRead.index(label,prop);
  try (org.neo4j.internal.kernel.api.Transaction tx=beginTransaction();NodeValueIndexCursor node=cursors.allocateNodeValueIndexCursor()){
    tx.dataWrite().nodeSetProperty(strOne,prop,stringValue("ett"));
    tx.dataWrite().nodeSetProperty(strThree1,prop,stringValue("tre"));
    tx.dataWrite().nodeSetProperty(strThree2,prop,stringValue("tre"));
    tx.dataWrite().nodeSetProperty(strThree3,prop,stringValue("tre"));
    tx.dataRead().nodeIndexSeek(index,node,IndexOrder.NONE,needsValues,IndexQuery.range(prop,"one",true,"three",true));
    assertFalse(node.next());
  }
 }
