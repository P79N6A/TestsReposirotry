@Test public void shouldFindUpdatedNodeInCompositeIndex() throws Exception {
  boolean needsValues=false;
  int label=token.nodeLabel("Person");
  int firstName=token.propertyKey("firstname");
  int surname=token.propertyKey("surname");
  IndexReference index=schemaRead.index(label,firstName,surname);
  try (org.neo4j.internal.kernel.api.Transaction tx=beginTransaction();NodeValueIndexCursor node=cursors.allocateNodeValueIndexCursor()){
    tx.dataWrite().nodeSetProperty(jackDalton,firstName,stringValue("Jesse"));
    tx.dataWrite().nodeSetProperty(jackDalton,surname,stringValue("James"));
    tx.dataRead().nodeIndexSeek(index,node,IndexOrder.NONE,needsValues,IndexQuery.exact(firstName,"Jesse"),IndexQuery.exact(surname,"James"));
    assertTrue(node.next());
    assertEquals(jackDalton,node.nodeReference());
  }
 }
