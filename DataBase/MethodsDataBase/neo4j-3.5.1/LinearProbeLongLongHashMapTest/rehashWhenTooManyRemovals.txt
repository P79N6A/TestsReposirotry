@Test void rehashWhenTooManyRemovals(){
  map=spy(map);
  final int numOfElements=DEFAULT_CAPACITY / 2;
  final int removalsToTriggerRehashing=(int)(DEFAULT_CAPACITY * REMOVALS_FACTOR);
  for (int i=0; i < numOfElements; i++) {
    map.put(100 + i,i);
  }
  assertEquals(numOfElements,map.size());
  verify(map,never()).rehashWithoutGrow();
  verify(map,never()).growAndRehash();
  for (int i=0; i < removalsToTriggerRehashing; i++) {
    map.remove(100 + i);
  }
  assertEquals(numOfElements - removalsToTriggerRehashing,map.size());
  verify(map).rehashWithoutGrow();
  verify(map,never()).growAndRehash();
}
