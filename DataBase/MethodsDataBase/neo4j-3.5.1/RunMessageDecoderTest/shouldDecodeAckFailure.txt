@Test void shouldDecodeAckFailure() throws Exception {
  Neo4jPackV1 neo4jPack=new Neo4jPackV1();
  RunMessage originalMessage=new RunMessage("UNWIND range(1, 10) AS x RETURN x, $y",map(new String[]{"y"},new AnyValue[]{longValue(42)}));
  PackedInputArray innput=new PackedInputArray(serialize(neo4jPack,originalMessage));
  Unpacker unpacker=neo4jPack.newUnpacker(innput);
  unpacker.unpackStructHeader();
  unpacker.unpackStructSignature();
  RequestMessage deserializedMessage=decoder.decode(unpacker);
  assertEquals(originalMessage,deserializedMessage);
}
