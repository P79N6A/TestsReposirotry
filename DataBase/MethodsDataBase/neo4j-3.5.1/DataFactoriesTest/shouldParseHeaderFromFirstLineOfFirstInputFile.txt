@Test public void shouldParseHeaderFromFirstLineOfFirstInputFile() throws Exception {
  final CharReadable firstSource=wrap("id:ID\tname:String\tbirth_date:long");
  final CharReadable secondSource=wrap("0\tThe node\t123456789");
  DataFactory dataFactory=DataFactories.data(value -> value,() -> new MultiReadable(Readables.iterator(IOFunctions.identity(),firstSource,secondSource)));
  Header.Factory headerFactory=defaultFormatNodeFileHeader();
  Extractors extractors=new Extractors(';');
  CharSeeker seeker=CharSeekers.charSeeker(new MultiReadable(dataFactory.create(TABS).stream()),TABS,false);
  Header header=headerFactory.create(seeker,TABS,IdType.ACTUAL,groups);
  assertArrayEquals(array(entry("id",Type.ID,extractors.long_()),entry("name",Type.PROPERTY,extractors.string()),entry("birth_date",Type.PROPERTY,extractors.long_())),header.entries());
  seeker.close();
}
