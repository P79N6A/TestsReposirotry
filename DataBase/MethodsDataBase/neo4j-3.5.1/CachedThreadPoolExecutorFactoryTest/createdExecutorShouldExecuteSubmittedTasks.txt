@Test public void createdExecutorShouldExecuteSubmittedTasks() throws Exception {
  AtomicBoolean exitCondition=new AtomicBoolean(false);
  AtomicInteger threadCounter=new AtomicInteger(0);
  executorService=factory.create(0,1,Duration.ZERO,0,false,newThreadFactoryWithCounter(threadCounter));
  assertNotNull(executorService);
  assertEquals(0,threadCounter.get());
  Future task1=executorService.submit(newInfiniteWaitingRunnable(exitCondition));
  assertEquals(1,threadCounter.get());
  exitCondition.set(true);
  assertNull(task1.get(1,MINUTES));
  assertTrue(task1.isDone());
  assertFalse(task1.isCancelled());
}
