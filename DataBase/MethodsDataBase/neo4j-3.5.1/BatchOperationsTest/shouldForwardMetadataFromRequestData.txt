@Test public void shouldForwardMetadataFromRequestData() throws Exception {
  RequestData mock=new RequestData("127.0.0.1",true,1,"TheLocalName","129.0.0.1",2,"authorization/auth");
  InternalJettyServletRequest req=new InternalJettyServletRequest("POST","https://localhost:7473/db/data/node","",new InternalJettyServletResponse(),mock);
  assertEquals("127.0.0.1",req.getRemoteAddr());
  assertException(req::getRemoteHost,UnsupportedOperationException.class,"Remote host-name lookup might prove expensive, this should be explicitly considered.");
  assertTrue(req.isSecure());
  assertEquals(1,req.getRemotePort());
  assertEquals("TheLocalName",req.getLocalName());
  assertEquals("129.0.0.1",req.getLocalAddr());
  assertEquals(2,req.getLocalPort());
  assertEquals("authorization/auth",req.getAuthType());
}
