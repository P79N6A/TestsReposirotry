@Test void shouldHandleFailuresOnInitMessage() throws Exception {
  RuntimeException error=new RuntimeException("Hello");
  when(boltSpi.authenticate(AUTH_TOKEN)).thenThrow(error);
  BoltStateMachineState newState=state.process(INIT_MESSAGE,context);
  assertEquals(failedState,newState);
  verify(context).handleFailure(error,true);
}
