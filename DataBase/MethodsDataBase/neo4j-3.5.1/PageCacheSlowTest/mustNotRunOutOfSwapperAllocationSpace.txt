@Test void mustNotRunOutOfSwapperAllocationSpace() throws Exception {
  assumeTrue(fs instanceof EphemeralFileSystemAbstraction,"This test is file system agnostic, and too slow on a real file system");
  configureStandardPageCache();
  File file=file("a");
  int iterations=Short.MAX_VALUE * 3;
  for (int i=0; i < iterations; i++) {
    PagedFile pagedFile=pageCache.map(file,filePageSize);
    try (PageCursor cursor=pagedFile.io(0,PF_SHARED_WRITE_LOCK)){
      assertTrue(cursor.next());
    }
     pagedFile.close();
  }
}
