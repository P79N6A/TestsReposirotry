@Test void shouldNotContinueToCallNextOnHasNextFalse(){
  AtomicLong count=new AtomicLong(2);
  LongIterator iterator=new PrimitiveLongBaseIterator(){
    @Override protected boolean fetchNext(){
      return count.decrementAndGet() >= 0 && next(count.get());
    }
  }
;
  assertTrue(iterator.hasNext());
  assertTrue(iterator.hasNext());
  assertEquals(1L,iterator.next());
  assertTrue(iterator.hasNext());
  assertTrue(iterator.hasNext());
  assertEquals(0L,iterator.next());
  assertFalse(iterator.hasNext());
  assertFalse(iterator.hasNext());
  assertEquals(-1L,count.get());
}
