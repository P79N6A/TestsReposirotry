@Test void scanForHighIdOnlyOnceWhenProcessCache(){
  NeoStores neoStores=mock(NeoStores.class,Mockito.RETURNS_MOCKS);
  NodeStore nodeStore=mock(NodeStore.class);
  NodeRecord nodeRecord=mock(NodeRecord.class);
  StoreProcessor storeProcessor=mock(StoreProcessor.class);
  when(neoStores.getNodeStore()).thenReturn(nodeStore);
  when(nodeStore.getHighId()).thenReturn(10L);
  when(nodeStore.getRecord(anyLong(),any(NodeRecord.class),any(RecordLoad.class))).thenReturn(nodeRecord);
  when(nodeStore.newRecord()).thenReturn(nodeRecord);
  StoreAccess storeAccess=new StoreAccess(neoStores);
  storeAccess.initialize();
  CacheTask.CheckNextRel cacheTask=new CacheTask.CheckNextRel(Stage.SEQUENTIAL_FORWARD,new DefaultCacheAccess(Counts.NONE,1),storeAccess,storeProcessor);
  cacheTask.processCache();
  verify(nodeStore,times(1)).getHighId();
}
