@Test public void shouldThrowWhenByteArrayContainsInsufficientBytes() throws Exception {
  try {
    out.writeBytes(new byte[]{1,2,3},1,5);
    fail("Exception expected");
  }
 catch (  IOException e) {
    assertEquals("Asked to write 5 bytes, but there is only 2 bytes available in data provided.",e.getMessage());
  }
}
