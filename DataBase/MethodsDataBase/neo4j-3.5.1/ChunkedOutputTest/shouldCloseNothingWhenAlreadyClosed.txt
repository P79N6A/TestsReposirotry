@Test public void shouldCloseNothingWhenAlreadyClosed() throws Exception {
  out.beginMessage();
  out.writeLong(42);
  out.messageSucceeded();
  out.close();
  out.close();
  out.close();
  ByteBuf outboundMessage=peekSingleOutboundMessage();
  assertByteBufEqual(outboundMessage,chunkContaining((long)42) + messageBoundary());
}
