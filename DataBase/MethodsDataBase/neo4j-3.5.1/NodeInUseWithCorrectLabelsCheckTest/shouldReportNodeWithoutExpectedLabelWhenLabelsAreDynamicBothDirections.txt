@Test void shouldReportNodeWithoutExpectedLabelWhenLabelsAreDynamicBothDirections(){
  int nodeId=42;
  long[] indexLabelIds={1,2,3,4,5,6,7,8,9,10};
  long[] storeLabelIds={1,2,3,4,5,6,8,9,10,11};
  RecordAccessStub recordAccess=new RecordAccessStub();
  NodeRecord node=inUse(withDynamicLabels(recordAccess,new NodeRecord(nodeId,false,0,0),storeLabelIds));
  ConsistencyReport.LabelScanConsistencyReport report=mock(ConsistencyReport.LabelScanConsistencyReport.class);
  CheckerEngine<LabelScanDocument,ConsistencyReport.LabelScanConsistencyReport> engine=recordAccess.engine(null,report);
  checker(indexLabelIds,true).checkReference(null,node,engine,recordAccess);
  recordAccess.checkDeferred();
  verify(report).nodeDoesNotHaveExpectedLabel(node,7);
  verify(report).nodeLabelNotInIndex(node,11);
}
