@Test public void shouldBeAbleToUseResultsOfPointGeometryProcedureAsInputToDistanceFunction() throws Exception {
  Procedures procedures=graphDb.getDependencyResolver().resolveDependency(Procedures.class);
  procedures.registerProcedure(PointProcs.class);
  Result result=graphDb.execute("CALL spatial.pointGeometry(144.317718, -37.031738) YIELD geometry " + "RETURN distance(point({longitude: 144.317718, latitude: -37.031738}), geometry) AS dist");
  Object dist1=result.next().get("dist");
  Double dist=(Double)dist1;
  assertThat(dist,equalTo(0.0));
}
