@Test public void sharedLockCanBeStopped() throws Exception {
  acquireExclusiveLockInThisThread();
  LockAcquisition sharedLockAcquisition=acquireSharedLockInAnotherThread();
  assertThreadIsWaitingForLock(sharedLockAcquisition);
  sharedLockAcquisition.stop();
  assertLockAcquisitionFailed(sharedLockAcquisition);
}
