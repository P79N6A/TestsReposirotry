@Test public void assertReadLockDoesNotLeakMemory(){
  final RagManager ragManager=new RagManager();
  final LockResource resource=new LockResource(ResourceTypes.NODE,0);
  final RWLock lock=createRWLock(ragManager,resource);
  final Transaction tx1=mock(Transaction.class);
  lock.mark();
  lock.acquireReadLock(LockTracer.NONE,tx1);
  lock.mark();
  assertEquals(1,lock.getTxLockElementCount());
  lock.releaseReadLock(tx1);
  assertEquals(0,lock.getTxLockElementCount());
}
