@Test public void shouldHandleDeletedNodes() throws Throwable {
  negotiateBoltV3();
  connection.send(util.chunk(new RunMessage("CREATE (n:Test) DELETE n RETURN n"),PullAllMessage.INSTANCE));
  Matcher<Map<? extends String,?>> entryFieldsMatcher=hasEntry(is("fields"),equalTo(singletonList("n")));
  assertThat(connection,util.eventuallyReceives(msgSuccess(allOf(entryFieldsMatcher,hasKey("t_first")))));
  assertThat(connection,eventuallyReceives(bytes(0x00,0x08,0xB1,0x71,0x91,0xB3,0x4E,0x00,0x90,0xA0,0x00,0x00)));
  assertThat(connection,util.eventuallyReceives(msgSuccess()));
}
