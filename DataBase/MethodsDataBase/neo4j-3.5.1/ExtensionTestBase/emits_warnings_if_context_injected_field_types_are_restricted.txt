@Test public void emits_warnings_if_context_injected_field_types_are_restricted(){
  JavaFileObject sproc=JavaFileObjectUtils.INSTANCE.procedureSource("invalid/bad_context_field/BadContextRestrictedTypeField.java");
  assert_().about(javaSource()).that(sproc).processedWith(processor()).compilesWithoutError().withWarningCount(2).withWarningContaining("@org.neo4j.procedure.Context usage warning: found unsupported restricted type <org.neo4j.kernel.internal" + ".GraphDatabaseAPI> on BadContextRestrictedTypeField#notOfficiallySupported.\n" + "  The procedure will not load unless declared via the configuration option 'dbms.security.procedures.unrestricted'.\n"+ "  You can ignore this warning by passing the option -AIgnoreContextWarnings to the Java compiler").in(sproc).onLine(35);
}
