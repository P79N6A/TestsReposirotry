/** 
 * It is not allowed to add items manually to automatic indexes.
 */
@Test @Graph(nodes={@NODE(name="I"),@NODE(name="you")},relationships={@REL(start="I",end="you",type="know",properties={@PROP(key="since",value="today")})},autoIndexRelationships=true) public void items_can_not_be_added_manually_to_a_Relationship_AutoIndex(){
  data.get();
  String indexName;
  try (Transaction tx=graphdb().beginTx()){
    indexName=graphdb().index().getRelationshipAutoIndexer().getAutoIndex().getName();
    tx.success();
  }
   try (Transaction tx=graphdb().beginTx()){
    ResourceIterable<Relationship> relationships=(ResourceIterable<Relationship>)data.get().get("I").getRelationships();
    try (ResourceIterator<Relationship> resourceIterator=relationships.iterator()){
      gen.get().expectedStatus(405).payload(createJsonStringFor(getRelationshipUri(resourceIterator.next()),"name","I")).post(postRelationshipIndexUri(indexName)).entity();
    }
   }
 }
