@Test public void shouldNotOpenStoreWithNodesOrRelationshipsInIt() throws Exception {
  someDataInTheDatabase();
  try (JobScheduler jobScheduler=new ThreadPoolJobScheduler()){
    RecordFormats recordFormats=RecordFormatSelector.selectForConfig(Config.defaults(),NullLogProvider.getInstance());
    try (BatchingNeoStores store=BatchingNeoStores.batchingNeoStores(storage.fileSystem(),storage.directory().databaseDir(),recordFormats,DEFAULT,NullLogService.getInstance(),EMPTY,Config.defaults(),jobScheduler)){
      store.createNew();
      fail("Should fail on existing data");
    }
   }
 catch (  IllegalStateException e) {
    assertThat(e.getMessage(),containsString("already contains"));
  }
}
