@Test void mustReportFailedIfNoHeader(){
  ByteBuffer emptyBuffer=ByteBuffer.wrap(new byte[0]);
  NativeIndexHeaderReader nativeIndexHeaderReader=new NativeIndexHeaderReader(NO_HEADER_READER);
  nativeIndexHeaderReader.read(emptyBuffer);
  assertSame(BYTE_FAILED,nativeIndexHeaderReader.state);
  assertThat(nativeIndexHeaderReader.failureMessage,containsString("Could not read header, most likely caused by index not being fully constructed. Index needs to be recreated. Stacktrace:"));
}
