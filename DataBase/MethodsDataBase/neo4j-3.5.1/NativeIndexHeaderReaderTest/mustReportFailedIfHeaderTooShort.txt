@Test void mustReportFailedIfHeaderTooShort(){
  ByteBuffer emptyBuffer=ByteBuffer.wrap(new byte[1]);
  NativeIndexHeaderReader nativeIndexHeaderReader=new NativeIndexHeaderReader(ByteBuffer::get);
  nativeIndexHeaderReader.read(emptyBuffer);
  assertSame(BYTE_FAILED,nativeIndexHeaderReader.state);
  assertThat(nativeIndexHeaderReader.failureMessage,containsString("Could not read header, most likely caused by index not being fully constructed. Index needs to be recreated. Stacktrace:"));
}
