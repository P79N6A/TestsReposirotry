@Test void shouldVisitFreelistPageIds() throws Exception {
  MutableLongSet expected=new LongHashSet();
  expected.add(BASE_ID + 1);
  monitor.set(new Monitor(){
    @Override public void acquiredFreelistPageId(    long freelistPageId){
      expected.add(freelistPageId);
    }
  }
);
  for (int i=0; i < 100; i++) {
    long id=freelist.acquireNewId(GENERATION_ONE,GENERATION_TWO);
    freelist.releaseId(GENERATION_ONE,GENERATION_TWO,id);
  }
  assertTrue(expected.size() > 0);
  freelist.visitFreelistPageIds(id -> assertTrue(expected.remove(id)));
  assertTrue(expected.isEmpty());
}
