@Test void shouldReportInvalidLabelReferences() throws Exception {
  int schemaRuleId=0;
  DynamicRecord record=inUse(dynamicRecord(schemaRuleId));
  IndexProviderDescriptor providerDescriptor=new IndexProviderDescriptor("in-memory","1.0");
  StoreIndexDescriptor rule=indexRule(schemaRuleId,labelId,propertyKeyId,providerDescriptor);
  when(checker().ruleAccess.loadSingleSchemaRule(schemaRuleId)).thenReturn(rule);
  LabelTokenRecord labelTokenRecord=add(notInUse(new LabelTokenRecord(labelId)));
  add(inUse(new PropertyKeyTokenRecord(propertyKeyId)));
  ConsistencyReport.SchemaConsistencyReport report=check(record);
  verify(report).labelNotInUse(labelTokenRecord);
}
