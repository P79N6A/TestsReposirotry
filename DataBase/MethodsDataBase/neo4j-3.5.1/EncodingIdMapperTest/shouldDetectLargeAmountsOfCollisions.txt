@Test public void shouldDetectLargeAmountsOfCollisions(){
  IdMapper mapper=mapper(new StringEncoder(),Radix.STRING,NO_MONITOR);
  int count=20_000;
  List<Object> ids=new ArrayList<>();
  long id=0;
  for (int elements=0; elements < count; elements++) {
    String inputId=UUID.randomUUID().toString();
    for (int i=0; i < 2; i++) {
      ids.add(inputId);
      mapper.put(inputId,id++,GLOBAL);
    }
  }
  CountingCollector collector=new CountingCollector();
  mapper.prepare(values(ids.toArray()),collector,NONE);
  assertEquals(count,collector.count);
}
