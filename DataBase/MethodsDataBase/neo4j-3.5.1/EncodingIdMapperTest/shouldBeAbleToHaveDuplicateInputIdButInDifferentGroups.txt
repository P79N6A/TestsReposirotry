@Test public void shouldBeAbleToHaveDuplicateInputIdButInDifferentGroups(){
  Monitor monitor=mock(Monitor.class);
  Group firstGroup=groups.getOrCreate("first");
  Group secondGroup=groups.getOrCreate("second");
  IdMapper mapper=mapper(new StringEncoder(),Radix.STRING,monitor);
  LongFunction<Object> ids=values("10","9","10");
  int id=0;
  mapper.put(ids.apply(id),id++,firstGroup);
  mapper.put(ids.apply(id),id++,firstGroup);
  mapper.put(ids.apply(id),id++,secondGroup);
  Collector collector=mock(Collector.class);
  mapper.prepare(ids,collector,NONE);
  verifyNoMoreInteractions(collector);
  verify(monitor).numberOfCollisions(0);
  assertEquals(0L,mapper.get("10",firstGroup));
  assertEquals(1L,mapper.get("9",firstGroup));
  assertEquals(2L,mapper.get("10",secondGroup));
  assertFalse(mapper.leftOverDuplicateNodesIds().hasNext());
}
