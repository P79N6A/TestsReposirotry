@Test public void shouldHandleGreatAmountsOfStuff(){
  IdMapper idMapper=mapper(new StringEncoder(),Radix.STRING,NO_MONITOR);
  LongFunction<Object> inputIdLookup=String::valueOf;
  int count=300_000;
  for (long nodeId=0; nodeId < count; nodeId++) {
    idMapper.put(inputIdLookup.apply(nodeId),nodeId,GLOBAL);
  }
  idMapper.prepare(inputIdLookup,mock(Collector.class),NONE);
  for (long nodeId=0; nodeId < count; nodeId++) {
    Object id=inputIdLookup.apply(nodeId);
    if (idMapper.get(id,GLOBAL) == ID_NOT_FOUND) {
      fail("Couldn't find " + id + " even though I added it just previously");
    }
  }
}
