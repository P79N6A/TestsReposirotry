@Test public void shouldReportCollisionsForSameInputId(){
  IdMapper mapper=mapper(new StringEncoder(),Radix.STRING,NO_MONITOR);
  LongFunction<Object> values=values("10","9","10");
  for (int i=0; i < 3; i++) {
    mapper.put(values.apply(i),i,GLOBAL);
  }
  Collector collector=mock(Collector.class);
  mapper.prepare(values,collector,NONE);
  verify(collector,times(1)).collectDuplicateNode("10",2,GLOBAL.name());
  verifyNoMoreInteractions(collector);
}
