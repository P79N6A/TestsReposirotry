@Test public void shouldFailValueValidationIfAnyPartFail(){
  IllegalArgumentException failure=new IllegalArgumentException("failing");
  for (int i=0; i < aliveAccessors.length; i++) {
    for (int j=0; j < aliveAccessors.length; j++) {
      if (i == j) {
        doThrow(failure).when(aliveAccessors[i]).validateBeforeCommit(ArgumentMatchers.any(Value[].class));
      }
 else {
        doAnswer(invocation -> null).when(aliveAccessors[i]).validateBeforeCommit(any(Value[].class));
      }
    }
    try {
      fusionIndexAccessor.validateBeforeCommit(new Value[]{stringValue("something")});
    }
 catch (    IllegalArgumentException e) {
      assertSame(failure,e);
    }
  }
}
