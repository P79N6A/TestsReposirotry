@Test public void shouldLogExceptionOnExceptionCaught(){
  AssertableLogProvider logProvider=new AssertableLogProvider();
  BoltConnection connection=mock(BoltConnection.class);
  channel=new EmbeddedChannel(new HouseKeeper(connection,logProvider.getLog(HouseKeeper.class)));
  RuntimeException exception=new RuntimeException("some exception");
  channel.pipeline().fireExceptionCaught(exception);
  verify(connection).stop();
  logProvider.assertExactly(inLog(HouseKeeper.class).error(startsWith("Fatal error occurred when handling a client connection"),equalTo(exception)));
}
