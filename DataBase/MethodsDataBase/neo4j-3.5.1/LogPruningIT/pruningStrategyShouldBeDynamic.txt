@Test public void pruningStrategyShouldBeDynamic() throws IOException {
  CheckPointer checkPointer=getInstanceFromDb(CheckPointer.class);
  Config config=getInstanceFromDb(Config.class);
  FileSystemAbstraction fs=getInstanceFromDb(FileSystemAbstraction.class);
  LogFiles logFiles=LogFilesBuilder.builder(db.databaseLayout(),fs).withLogVersionRepository(new SimpleLogVersionRepository()).withLastCommittedTransactionIdSupplier(() -> 1).withTransactionIdStore(new SimpleTransactionIdStore()).build();
  writeTransactionsAndRotateTwice();
  checkPointer.forceCheckPoint(triggerInfo);
  assertThat(countTransactionLogs(logFiles),is(3));
  config.updateDynamicSetting(keep_logical_logs.name(),"false","test");
  checkPointer.forceCheckPoint(triggerInfo);
  assertThat(countTransactionLogs(logFiles),is(2));
}
