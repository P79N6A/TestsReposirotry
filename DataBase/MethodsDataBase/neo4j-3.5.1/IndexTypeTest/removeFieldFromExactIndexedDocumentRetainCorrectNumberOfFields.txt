@Test public void removeFieldFromExactIndexedDocumentRetainCorrectNumberOfFields(){
  Document document=new Document();
  indexType.addToDocument(document,STRING_TEST_FIELD,"value");
  indexType.addToDocument(document,STRING_TEST_FIELD2,"value2");
  indexType.addToDocument(document,NUMERIC_TEST_FIELD,1);
  indexType.addToDocument(document,NUMERIC_TEST_FIELD2,2);
  indexType.removeFieldsFromDocument(document,NUMERIC_TEST_FIELD,null);
  indexType.removeFieldsFromDocument(document,STRING_TEST_FIELD2,null);
  assertEquals("Usual fields, doc values fields for user fields and housekeeping fields.",documentFieldsPerUserField * 2,document.getFields().size());
  assertEquals("Two string fields with specified name expected.",2,getDocumentFields(document,STRING_TEST_FIELD).length);
  assertEquals("Two numeric fields with specified name expected.",2,getDocumentFields(document,NUMERIC_TEST_FIELD2).length);
}
