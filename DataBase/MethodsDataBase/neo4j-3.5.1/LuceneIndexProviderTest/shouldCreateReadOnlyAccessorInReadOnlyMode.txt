@Test void shouldCreateReadOnlyAccessorInReadOnlyMode() throws Exception {
  DirectoryFactory directoryFactory=DirectoryFactory.PERSISTENT;
  createEmptySchemaIndex(directoryFactory);
  Config readOnlyConfig=Config.defaults(GraphDatabaseSettings.read_only,Settings.TRUE);
  LuceneIndexProvider readOnlyIndexProvider=getLuceneIndexProvider(readOnlyConfig,directoryFactory,fileSystem,graphDbDir);
  IndexAccessor onlineAccessor=getIndexAccessor(readOnlyConfig,readOnlyIndexProvider);
  assertThrows(UnsupportedOperationException.class,onlineAccessor::drop);
}
