@Test void shouldNeverOverwriteDereferencedTextValues(){
  Value srcValue=Values.utf8Value("First string".getBytes(StandardCharsets.UTF_8));
  GenericKey genericKeyState=newKeyState();
  genericKeyState.writeValue(srcValue,NEUTRAL);
  Value dereferencedValue=genericKeyState.asValue();
  assertEquals(srcValue,dereferencedValue);
  PageCursor cursor=newPageCursor();
  int offset=cursor.getOffset();
  genericKeyState.put(cursor);
  int keySize=cursor.getOffset() - offset;
  cursor.setOffset(offset);
  genericKeyState.clear();
  Value srcValue2=Values.utf8Value("Secondstring".getBytes(StandardCharsets.UTF_8));
  genericKeyState.writeValue(srcValue2,NEUTRAL);
  Value dereferencedValue2=genericKeyState.asValue();
  assertEquals(srcValue2,dereferencedValue2);
  assertEquals(srcValue,dereferencedValue);
  genericKeyState.clear();
  genericKeyState.get(cursor,keySize);
  Value dereferencedValue3=genericKeyState.asValue();
  assertEquals(srcValue,dereferencedValue3);
  assertEquals(srcValue2,dereferencedValue2);
  assertEquals(srcValue,dereferencedValue);
}
