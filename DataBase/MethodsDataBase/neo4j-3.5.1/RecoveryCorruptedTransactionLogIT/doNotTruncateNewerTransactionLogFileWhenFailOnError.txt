@Test public void doNotTruncateNewerTransactionLogFileWhenFailOnError() throws IOException {
  GraphDatabaseAPI database=(GraphDatabaseAPI)databaseFactory.newEmbeddedDatabase(storeDir);
  for (int i=0; i < 10; i++) {
    generateTransaction(database);
  }
  database.shutdown();
  removeLastCheckpointRecordFromLastLogFile();
  addRandomBytesToLastLogFile(this::randomPositiveBytes);
  expectedException.expectCause(new RootCauseMatcher<>(UnsupportedLogVersionException.class));
  database=(GraphDatabaseAPI)databaseFactory.newEmbeddedDatabase(storeDir);
  database.shutdown();
}
