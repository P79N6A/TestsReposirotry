@Test public void modifierMustNotRemoveWhenKeyOnlyExistInInternal() throws Exception {
  initialize();
  int i;
  for (i=0; numberOfRootSplits == 0; i++) {
    insert(key(i),value(i));
  }
  insert(key(i),value(i));
  long currentRightChild=structurePropagation.rightChild;
  KEY keyToRemove=keyAt(currentRightChild,0,LEAF);
  assertEquals(getSeed(keyAt(rootId,0,INTERNAL)),getSeed(keyToRemove));
  goTo(readCursor,currentRightChild);
  int keyCountInRightChild=keyCount();
  assertEquals("same seed",getSeed(keyToRemove),getSeed(keyAt(0,LEAF)));
  generationManager.checkpoint();
  remove(keyToRemove,dontCare);
  goTo(readCursor,rootId);
  currentRightChild=childAt(readCursor,1,stableGeneration,unstableGeneration);
  assertThat(keyCount(),is(1));
  assertEquals("same seed",getSeed(keyAt(0,INTERNAL)),getSeed(keyToRemove));
  goTo(readCursor,currentRightChild);
  assertThat(keyCount(),is(keyCountInRightChild - 1));
  assertEquals("same seed",getSeed(keyAt(0,LEAF)),getSeed(key(getSeed(keyToRemove) + 1)));
  assertNull(remove(keyToRemove,dontCare));
}
