@Test public void shouldOverwriteInheritedSuccessorOnSuccessor() throws Exception {
  assumeTrue("No checkpointing, no successor",isCheckpointing);
  initialize();
  long originalNodeId=rootId;
  generationManager.checkpoint();
  insert(key(1L),value(10L));
  assertEquals(1,numberOfRootSuccessors);
  generationManager.recovery();
  goTo(cursor,originalNodeId);
  treeLogic.initialize(cursor);
  insert(key(1L),value(10L));
  assertEquals(2,numberOfRootSuccessors);
  goTo(readCursor,rootId);
  assertSuccessorPointerNotCrashOrBroken();
  goTo(readCursor,originalNodeId);
  assertSuccessorPointerNotCrashOrBroken();
}
