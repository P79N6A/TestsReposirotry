@Test public void modifierMustRemoveInMiddleInFullLeaf() throws Exception {
  initialize();
  int maxKeyCount=0;
  KEY key=key(maxKeyCount);
  VALUE value=value(maxKeyCount);
  while (node.leafOverflow(cursor,maxKeyCount,key,value) == NO) {
    insert(key,value);
    maxKeyCount++;
    key=key(maxKeyCount);
    value=value(maxKeyCount);
  }
  int middle=maxKeyCount / 2;
  generationManager.checkpoint();
  VALUE readValue=layout.newValue();
  remove(key(middle),readValue);
  assertEqualsValue(value(middle),readValue);
  goTo(readCursor,rootId);
  assertThat(keyCount(),is(maxKeyCount - 1));
  assertEqualsKey(keyAt(middle,LEAF),key(middle + 1L));
  for (int i=0; i < maxKeyCount - 1; i++) {
    long expected=i < middle ? i : i + 1L;
    assertEqualsKey(keyAt(i,LEAF),key(expected));
  }
}
