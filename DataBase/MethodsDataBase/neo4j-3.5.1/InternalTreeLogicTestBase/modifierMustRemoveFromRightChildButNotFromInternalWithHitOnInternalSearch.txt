@Test public void modifierMustRemoveFromRightChildButNotFromInternalWithHitOnInternalSearch() throws Exception {
  initialize();
  int i;
  for (i=0; numberOfRootSplits == 0; i++) {
    insert(key(i),value(i));
  }
  insert(key(i),value(i));
  KEY internalKey=structurePropagation.rightKey;
  goTo(readCursor,rootId);
  assertEqualsKey(keyAt(0,INTERNAL),internalKey);
  long rightChild=structurePropagation.rightChild;
  goTo(readCursor,rightChild);
  int keyCountInRightChild=keyCount();
  KEY keyToRemove=keyAt(0,LEAF);
  assertEquals("expected same seed",getSeed(keyToRemove),getSeed(internalKey));
  generationManager.checkpoint();
  remove(keyToRemove,dontCare);
  goTo(readCursor,rootId);
  assertThat(keyCount(),is(1));
  assertEquals("expected same seed",getSeed(keyAt(0,INTERNAL)),getSeed(keyToRemove));
  rightChild=childAt(readCursor,1,stableGeneration,unstableGeneration);
  goTo(readCursor,rightChild);
  assertThat(keyCount(),is(keyCountInRightChild - 1));
  assertEqualsKey(keyAt(0,LEAF),key(getSeed(keyToRemove) + 1));
}
