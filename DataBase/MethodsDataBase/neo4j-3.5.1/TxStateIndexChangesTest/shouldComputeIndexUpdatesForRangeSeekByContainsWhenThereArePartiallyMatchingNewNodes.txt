@Test void shouldComputeIndexUpdatesForRangeSeekByContainsWhenThereArePartiallyMatchingNewNodes(){
  ReadableTransactionState state=new TxStateBuilder().withAdded(40L,"Aaron").withAdded(41L,"Agatha").withAdded(42L,"Andreas").withAdded(43L,"Andrea").withAdded(44L,"Aristotle").withAdded(45L,"Barbara").withAdded(46L,"Barbarella").withAdded(47L,"Cinderella").build();
  IndexQuery.StringContainsPredicate indexQuery=IndexQuery.stringContains(index.schema().getPropertyId(),stringValue("arbar"));
  AddedAndRemoved changes=indexUpdatesForSuffixOrContains(state,index,indexQuery,IndexOrder.NONE);
  AddedWithValuesAndRemoved changesWithValues=indexUpdatesWithValuesForSuffixOrContains(state,index,indexQuery,IndexOrder.NONE);
  assertContains(changes.getAdded(),45L,46L);
  assertContains(changesWithValues.getAdded(),nodeWithPropertyValues(45L,"Barbara"),nodeWithPropertyValues(46L,"Barbarella"));
}
