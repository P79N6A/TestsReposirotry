@Test void shouldComputeIndexUpdatesForRangeSeekBySuffixWhenThereArePartiallyMatchingNewNodes(){
  ReadableTransactionState state=new TxStateBuilder().withAdded(40L,"Aaron").withAdded(41L,"Agatha").withAdded(42L,"Andreas").withAdded(43L,"Andrea").withAdded(44L,"Aristotle").withAdded(45L,"Barbara").withAdded(46L,"Barbarella").withAdded(47L,"Cinderella").build();
  IndexQuery.StringSuffixPredicate indexQuery=IndexQuery.stringSuffix(index.schema().getPropertyId(),stringValue("ella"));
  AddedAndRemoved changes=indexUpdatesForSuffixOrContains(state,index,indexQuery,IndexOrder.NONE);
  AddedWithValuesAndRemoved changesWithValues=indexUpdatesWithValuesForSuffixOrContains(state,index,indexQuery,IndexOrder.NONE);
  assertContains(changes.getAdded(),46L,47L);
  assertContains(changesWithValues.getAdded(),nodeWithPropertyValues(46L,"Barbarella"),nodeWithPropertyValues(47L,"Cinderella"));
}
