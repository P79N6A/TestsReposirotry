@Test void shouldHandleMixedAddsAndRemovesEntry(){
  ReadableTransactionState state=new TxStateBuilder().withAdded(42L,"42value1","42value2").withAdded(43L,"43value1","43value2").withRemoved(43L,"43value1","43value2").withRemoved(44L,"44value1","44value2").build();
  AddedAndRemoved changes=indexUpdatesForScan(state,compositeIndex,IndexOrder.NONE);
  AddedWithValuesAndRemoved changesWithValues=indexUpdatesWithValuesForScan(state,compositeIndex,IndexOrder.NONE);
  assertContains(changes.getAdded(),42L);
  assertContains(changesWithValues.getAdded(),nodeWithPropertyValues(42L,"42value1","42value2"));
  assertContains(changes.getRemoved(),44L);
  assertContains(changesWithValues.getRemoved(),44L);
}
