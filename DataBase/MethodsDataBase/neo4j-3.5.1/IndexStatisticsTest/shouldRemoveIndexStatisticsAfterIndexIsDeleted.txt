@Test public void shouldRemoveIndexStatisticsAfterIndexIsDeleted() throws KernelException {
  indexOnlineMonitor.initialize(0);
  createSomePersons();
  IndexReference index=createPersonNameIndex();
  awaitIndexesOnline();
  SchemaStorage storage=new SchemaStorage(neoStores().getSchemaStore());
  long indexId=storage.indexGetForSchema((IndexDescriptor)index).getId();
  dropIndex(index);
  try {
    indexSelectivity(index);
    fail("Expected IndexNotFoundKernelException to be thrown");
  }
 catch (  IndexNotFoundKernelException e) {
    DoubleLongRegister actual=getTracker().indexSample(indexId,Registers.newDoubleLongRegister());
    assertDoubleLongEquals(0L,0L,actual);
  }
  DoubleLongRegister actual=getTracker().indexUpdatesAndSize(indexId,Registers.newDoubleLongRegister());
  assertDoubleLongEquals(0L,0L,actual);
}
