@Documented("Add an existing node to unique index (already indexed).\n" + "\n" + "In this case, the node already exists in the index, and thus we get a `HTTP 409` status response,\n"+ "as we have set the uniqueness to `create_or_fail`.") @Test public void addExistingNodeToUniqueIndexExisting(){
  final String indexName=indexes.newInstance();
  final String key="some-key";
  final String value="some value";
  try (Transaction tx=graphdb().beginTx()){
    Node peter=graphdb().createNode();
    peter.setProperty(key,value);
    graphdb().index().forNodes(indexName).add(peter,key,value);
    tx.success();
  }
   gen().expectedStatus(409).payload(JsonHelper.createJsonFrom(generateNodeIndexCreationPayload(key,value,functionalTestHelper.nodeUri(createNode())))).post(functionalTestHelper.indexNodeUri(indexName) + "?uniqueness=create_or_fail");
}
