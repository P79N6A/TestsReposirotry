@Test void getAddressOfDirectByteBuffer(){
  ByteBuffer buf=ByteBuffer.allocateDirect(8);
  long address=UnsafeUtil.getDirectByteBufferAddress(buf);
  long expected=ThreadLocalRandom.current().nextLong();
  boolean nativeAccessCheckEnabled=UnsafeUtil.exchangeNativeAccessCheckEnabled(false);
  try {
    UnsafeUtil.putLong(address,expected);
    long actual=buf.getLong();
    assertThat(actual,isOneOf(expected,Long.reverseBytes(expected)));
  }
  finally {
    UnsafeUtil.exchangeNativeAccessCheckEnabled(nativeAccessCheckEnabled);
  }
}
