@Test public void labelledNodesCypherRule() throws Throwable {
  String[] entityTokens={LABEL.name()};
  SchemaDescriptor descriptor=getExistingDescriptor(entityTokens);
  SchemaDescriptor newDescriptor=getNewDescriptor(entityTokens);
  IndexReference initialIndex=createInitialIndex(descriptor);
  Runnable aliceWork=work(nodesCreatedPerThread,() -> {
    db.execute("CYPHER planner=rule create (:LABEL {" + PROP + ": \"alice\"})").close();
    log.debug("cypher rule created an alice");
    aliceLatch.countDown();
  }
);
  Runnable bobWork=work(nodesCreatedPerThread,() -> {
    db.execute("CYPHER planner=rule create (:LABEL {otherProp: \"bob\"})").close();
    log.debug("cypher rule created a bob");
    bobLatch.countDown();
  }
);
  Runnable changeConfig=work(1,dropAndReCreateIndex(initialIndex,newDescriptor));
  raceContestantsAndVerifyResults(newDescriptor,aliceWork,changeConfig,bobWork);
}
