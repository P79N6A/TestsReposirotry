@Test void mustThrowIfMappingFileWouldOverflowReferenceCount(){
  assertTimeout(ofMillis(SEMI_LONG_TIMEOUT_MILLIS),() -> {
    File file=file("a");
    writeInitialDataTo(file);
    try (MuninnPageCache pageCache=createPageCache(fs,30,PageCacheTracer.NULL,DefaultPageCursorTracerSupplier.NULL)){
      PagedFile pf=null;
      int i=0;
      try {
        for (; i < Integer.MAX_VALUE; i++) {
          pf=map(pageCache,file,filePageSize);
        }
        fail("Failure was expected");
      }
 catch (      IllegalStateException ile) {
      }
 finally {
        for (int j=0; j < i; j++) {
          try {
            pf.close();
          }
 catch (          Exception e) {
            throw new AssertionError("Did not expect pf.close() to throw",e);
          }
        }
      }
    }
   }
);
}
