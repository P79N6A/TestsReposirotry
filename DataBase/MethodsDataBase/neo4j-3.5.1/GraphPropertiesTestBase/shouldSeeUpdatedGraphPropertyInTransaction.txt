@Test public void shouldSeeUpdatedGraphPropertyInTransaction() throws Exception {
  int prop;
  try (Transaction tx=beginTransaction()){
    prop=tx.tokenWrite().propertyKeyGetOrCreateForName("prop");
    assertThat(tx.dataWrite().graphSetProperty(prop,stringValue("hello")),equalTo(NO_VALUE));
    tx.success();
  }
   try (Transaction tx=beginTransaction();PropertyCursor cursor=tx.cursors().allocatePropertyCursor()){
    assertThat(tx.dataWrite().graphSetProperty(prop,stringValue("good bye")),equalTo(stringValue("hello")));
    tx.dataRead().graphProperties(cursor);
    assertTrue(cursor.next());
    assertThat(cursor.propertyKey(),equalTo(prop));
    assertThat(cursor.propertyValue(),equalTo(stringValue("good bye")));
    assertFalse(cursor.next());
  }
 }
