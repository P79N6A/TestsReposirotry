@Test public void detectInMemoryDirtyVersionRead(){
  int labelId=1;
  long lastClosedTransactionId=11L;
  long writeTransactionId=22L;
  TransactionVersionContextSupplier versionContextSupplier=new TransactionVersionContextSupplier();
  versionContextSupplier.init(() -> lastClosedTransactionId);
  VersionContext versionContext=versionContextSupplier.getVersionContext();
  try (Lifespan life=new Lifespan()){
    CountsTracker tracker=life.add(newTracker(versionContextSupplier));
    try (CountsAccessor.Updater updater=tracker.apply(writeTransactionId).get()){
      updater.incrementNodeCount(labelId,1);
    }
     versionContext.initRead();
    tracker.nodeCount(labelId,Registers.newDoubleLongRegister());
    assertTrue(versionContext.isDirty());
  }
 }
