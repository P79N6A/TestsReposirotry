@Test @Resources.Life(STARTED) public void shouldBeAbleToWriteDataToCountsTracker() throws Exception {
  CountsTracker tracker=resourceManager.managed(newTracker());
  long indexId=0;
  CountsOracle oracle=new CountsOracle();
{
    CountsOracle.Node a=oracle.node(1);
    CountsOracle.Node b=oracle.node(1);
    oracle.relationship(a,1,b);
    oracle.indexSampling(indexId,2,2);
    oracle.indexUpdatesAndSize(indexId,10,2);
  }
  oracle.update(tracker,2);
  oracle.verify(tracker);
  tracker.rotate(2);
  oracle.verify(tracker);
  try (CountsAccessor.IndexStatsUpdater updater=tracker.updateIndexCounts()){
    updater.incrementIndexUpdates(indexId,2);
  }
   oracle.indexUpdatesAndSize(indexId,12,2);
  oracle.verify(tracker);
  tracker.rotate(2);
  oracle.verify(tracker);
}
