@Test public void shouldRecoverTheCountsStoreEvenWhenIfNeoStoreDoesNotNeedRecovery() throws Exception {
  createNode("A");
  checkPoint();
  createNode("B");
  flushNeoStoreOnly();
  crashAndRestart();
  try (org.neo4j.internal.kernel.api.Transaction tx=((GraphDatabaseAPI)db).getDependencyResolver().resolveDependency(Kernel.class).beginTransaction(explicit,AUTH_DISABLED)){
    assertEquals(1,tx.dataRead().countsForNode(tx.tokenRead().nodeLabel("A")));
    assertEquals(1,tx.dataRead().countsForNode(tx.tokenRead().nodeLabel("B")));
    assertEquals(2,tx.dataRead().countsForNode(NO_TOKEN));
  }
 }
