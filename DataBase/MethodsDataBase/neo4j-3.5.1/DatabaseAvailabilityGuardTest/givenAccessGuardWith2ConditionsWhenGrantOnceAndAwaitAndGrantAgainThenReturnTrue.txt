@Test public void givenAccessGuardWith2ConditionsWhenGrantOnceAndAwaitAndGrantAgainThenReturnTrue(){
  Log log=mock(Log.class);
  final DatabaseAvailabilityGuard databaseAvailabilityGuard=getDatabaseAvailabilityGuard(clock,log);
  databaseAvailabilityGuard.require(REQUIREMENT_1);
  databaseAvailabilityGuard.require(REQUIREMENT_2);
  databaseAvailabilityGuard.fulfill(REQUIREMENT_2);
  assertFalse(databaseAvailabilityGuard.isAvailable(100));
  databaseAvailabilityGuard.fulfill(REQUIREMENT_1);
  assertTrue(databaseAvailabilityGuard.isAvailable(100));
}
