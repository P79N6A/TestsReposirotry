@Test public void shouldReturnLogPositionToRecoverFromIfNeeded(){
  LogPosition checkPointLogPosition=new LogPosition(1L,4242);
  when(tailScanner.getTailInformation()).thenReturn(new LogTailInformation(new CheckPoint(checkPointLogPosition),true,10L,logVersion,currentLogVersion,LogEntryVersion.CURRENT));
  RecoveryStartInformation recoveryStartInformation=new RecoveryStartInformationProvider(tailScanner,monitor).get();
  verify(monitor).commitsAfterLastCheckPoint(checkPointLogPosition,10L);
  assertEquals(checkPointLogPosition,recoveryStartInformation.getRecoveryPosition());
  assertEquals(10L,recoveryStartInformation.getFirstTxIdAfterLastCheckPoint());
  assertTrue(recoveryStartInformation.isRecoveryRequired());
}
