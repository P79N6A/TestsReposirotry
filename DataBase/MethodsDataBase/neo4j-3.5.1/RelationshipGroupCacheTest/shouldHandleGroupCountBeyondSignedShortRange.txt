@Test public void shouldHandleGroupCountBeyondSignedShortRange(){
  long nodeId=0;
  int limit=Short.MAX_VALUE + 10;
  RelationshipGroupCache cache=new RelationshipGroupCache(HEAP,ByteUnit.kibiBytes(100),nodeId + 1);
  for (int type=0; type < limit; type++) {
    cache.incrementGroupCount(nodeId);
  }
  RelationshipGroupRecord group=new RelationshipGroupRecord(-1);
  group.setOwningNode(nodeId);
  for (int type=0; type < limit; type++) {
    group.setId(type);
    group.setFirstOut(type);
    group.setType(type);
    cache.put(group);
  }
  long prepared=cache.prepare(nodeId);
  assertEquals(nodeId,prepared);
  assertEquals(limit,cache.groupCount(nodeId));
}
