@Test public void shouldRecoverIndexCountsBySamplingThemOnStartup(){
  createAliens();
  awaitIndexOnline(indexAliensBySpecimen());
  IndexDescriptor index=TestIndexDescriptorFactory.forLabel(labelId(ALIEN),pkId(SPECIMEN));
  SchemaStorage storage=new SchemaStorage(neoStores().getSchemaStore());
  long indexId=storage.indexGetForSchema(index).getId();
  resetIndexCounts(indexId);
  restart();
  CountsTracker tracker=neoStores().getCounts();
  assertEqualRegisters("Unexpected updates and size for the index",newDoubleLongRegister(0,32),tracker.indexUpdatesAndSize(indexId,newDoubleLongRegister()));
  assertEqualRegisters("Unexpected sampling result",newDoubleLongRegister(16,32),tracker.indexSample(indexId,newDoubleLongRegister()));
  assertLogExistsForRecoveryOn(":Alien(specimen)");
}
