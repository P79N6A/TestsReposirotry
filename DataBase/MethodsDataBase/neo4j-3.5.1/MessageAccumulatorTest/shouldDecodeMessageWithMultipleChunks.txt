@Test public void shouldDecodeMessageWithMultipleChunks(){
  assertFalse(channel.writeInbound(wrappedBuffer(new byte[]{1,2,3})));
  assertFalse(channel.writeInbound(wrappedBuffer(new byte[]{4,5})));
  assertFalse(channel.writeInbound(wrappedBuffer(new byte[]{6,7,8})));
  assertTrue(channel.writeInbound(wrappedBuffer(new byte[0])));
  assertTrue(channel.finish());
  assertEquals(1,channel.inboundMessages().size());
  assertByteBufEquals(wrappedBuffer(new byte[]{1,2,3,4,5,6,7,8}),channel.readInbound());
}
