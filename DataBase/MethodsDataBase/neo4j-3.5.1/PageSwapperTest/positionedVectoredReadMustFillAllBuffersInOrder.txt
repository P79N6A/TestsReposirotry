@Test void positionedVectoredReadMustFillAllBuffersInOrder() throws Exception {
  File file=file("file");
  PageSwapperFactory factory=createSwapperFactory();
  PageSwapper swapper=createSwapperAndFile(factory,file,4);
  long output=createPage();
  putInt(output,0,2);
  write(swapper,1,output);
  putInt(output,0,3);
  write(swapper,2,output);
  putInt(output,0,4);
  write(swapper,3,output);
  putInt(output,0,5);
  write(swapper,4,output);
  long pageA=createPage(4);
  long pageB=createPage(4);
  long pageC=createPage(4);
  long pageD=createPage(4);
  assertThat(read(swapper,1,new long[]{pageA,pageB,pageC,pageD},0,4),is(4 * 4L));
  assertThat(getInt(pageA,0),is(2));
  assertThat(getInt(pageB,0),is(3));
  assertThat(getInt(pageC,0),is(4));
  assertThat(getInt(pageD,0),is(5));
}
