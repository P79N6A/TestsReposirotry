@Test public void shouldReportProgressOfNodeImport() throws Exception {
  CapturingMonitor progress=new CapturingMonitor();
  HumanUnderstandableExecutionMonitor monitor=new HumanUnderstandableExecutionMonitor(progress,NO_EXTERNAL_MONITOR);
  IdType idType=INTEGER;
  Input input=new DataGeneratorInput(NODE_COUNT,RELATIONSHIP_COUNT,idType,Collector.EMPTY,random.seed(),0,bareboneNodeHeader(idType,new Extractors(';')),bareboneRelationshipHeader(idType,new Extractors(';')),1,1,0,0);
  try (JobScheduler jobScheduler=new ThreadPoolJobScheduler()){
    new ParallelBatchImporter(storage.directory().databaseLayout(),storage.fileSystem(),storage.pageCache(),DEFAULT,NullLogService.getInstance(),monitor,EMPTY,defaults(),LATEST_RECORD_FORMATS,NO_MONITOR,jobScheduler).doImport(input);
    progress.assertAllProgressReachedEnd();
  }
 }
