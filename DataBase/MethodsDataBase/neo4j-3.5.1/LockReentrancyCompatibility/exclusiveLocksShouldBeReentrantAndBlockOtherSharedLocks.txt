@Test public void exclusiveLocksShouldBeReentrantAndBlockOtherSharedLocks(){
  clientA.acquireExclusive(LockTracer.NONE,NODE,1L);
  clientA.acquireShared(LockTracer.NONE,NODE,1L);
  clientA.tryExclusiveLock(NODE,1L);
  Future<Object> clientBLock=acquireShared(clientB,LockTracer.NONE,NODE,1L).callAndAssertWaiting();
  clientA.releaseExclusive(NODE,1L);
  clientA.releaseShared(NODE,1L);
  assertWaiting(clientB,clientBLock);
  clientA.releaseExclusive(NODE,1L);
  assertNotWaiting(clientB,clientBLock);
}
