@Test public void shouldContinueThroughSporadicFailures(){
  ControlledCheckPointer checkPointer=new ControlledCheckPointer();
  CheckPointScheduler scheduler=new CheckPointScheduler(checkPointer,ioLimiter,jobScheduler,1,health);
  scheduler.start();
  for (int i=0; i < CheckPointScheduler.MAX_CONSECUTIVE_FAILURES_TOLERANCE * 2; i++) {
    checkPointer.fail=true;
    jobScheduler.runJob();
    verifyZeroInteractions(health);
    checkPointer.fail=false;
    jobScheduler.runJob();
    verifyZeroInteractions(health);
  }
}
