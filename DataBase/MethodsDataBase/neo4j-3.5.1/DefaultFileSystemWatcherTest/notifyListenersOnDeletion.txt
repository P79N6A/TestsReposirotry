@Test void notifyListenersOnDeletion() throws InterruptedException {
  TestFileSystemWatcher watcher=createWatcher();
  AssertableFileEventListener listener1=new AssertableFileEventListener();
  AssertableFileEventListener listener2=new AssertableFileEventListener();
  watcher.addFileWatchEventListener(listener1);
  watcher.addFileWatchEventListener(listener2);
  TestWatchEvent<Path> watchEvent=new TestWatchEvent<>(ENTRY_DELETE,Paths.get("file1"));
  TestWatchEvent<Path> watchEvent2=new TestWatchEvent<>(ENTRY_DELETE,Paths.get("file2"));
  TestWatchKey watchKey=new TestWatchKey(asList(watchEvent,watchEvent2));
  prepareWatcher(watchKey);
  watch(watcher);
  listener1.assertDeleted("file1");
  listener1.assertDeleted("file2");
  listener2.assertDeleted("file1");
  listener2.assertDeleted("file2");
}
