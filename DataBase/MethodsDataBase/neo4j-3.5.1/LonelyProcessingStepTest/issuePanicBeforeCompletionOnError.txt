@Test(timeout=10_000) public void issuePanicBeforeCompletionOnError() throws InterruptedException {
  List<Step<?>> stepsPipeline=new ArrayList<>();
  FaultyLonelyProcessingStepTest faultyStep=new FaultyLonelyProcessingStepTest(stepsPipeline);
  stepsPipeline.add(faultyStep);
  faultyStep.receive(1,null);
  faultyStep.awaitCompleted();
  assertTrue(faultyStep.endOfUpstreamCalled);
  assertTrue("On upstream end step should be already on panic in case of exception",faultyStep.isPanicOnEndUpstream());
  assertTrue(faultyStep.isPanic());
  assertFalse(faultyStep.stillWorking());
  assertTrue(faultyStep.isCompleted());
}
