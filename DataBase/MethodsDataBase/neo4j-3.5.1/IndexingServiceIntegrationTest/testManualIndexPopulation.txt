@Test public void testManualIndexPopulation() throws InterruptedException, IndexNotFoundKernelException {
  try (Transaction tx=database.beginTx()){
    database.schema().indexFor(Label.label(FOOD_LABEL)).on(PROPERTY_NAME).create();
    tx.success();
  }
   int labelId=getLabelId(FOOD_LABEL);
  int propertyKeyId=getPropertyKeyId(PROPERTY_NAME);
  IndexingService indexingService=getIndexingService(database);
  IndexProxy indexProxy=indexingService.getIndexProxy(forLabel(labelId,propertyKeyId));
  waitIndexOnline(indexProxy);
  assertEquals(InternalIndexState.ONLINE,indexProxy.getState());
  PopulationProgress progress=indexProxy.getIndexPopulationProgress();
  assertEquals(progress.getCompleted(),progress.getTotal());
}
