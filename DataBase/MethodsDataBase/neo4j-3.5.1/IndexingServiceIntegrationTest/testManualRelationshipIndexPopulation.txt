@Test public void testManualRelationshipIndexPopulation() throws Exception {
  RelationTypeSchemaDescriptor descriptor;
  try (org.neo4j.internal.kernel.api.Transaction tx=((GraphDatabaseAPI)database).getDependencyResolver().resolveDependency(Kernel.class).beginTransaction(explicit,AUTH_DISABLED)){
    int foodId=tx.tokenWrite().relationshipTypeGetOrCreateForName(FOOD_LABEL);
    int propertyId=tx.tokenWrite().propertyKeyGetOrCreateForName(PROPERTY_NAME);
    descriptor=forRelType(foodId,propertyId);
    tx.schemaWrite().indexCreate(descriptor);
    tx.success();
  }
   IndexingService indexingService=getIndexingService(database);
  IndexProxy indexProxy=indexingService.getIndexProxy(descriptor);
  waitIndexOnline(indexProxy);
  assertEquals(InternalIndexState.ONLINE,indexProxy.getState());
  PopulationProgress progress=indexProxy.getIndexPopulationProgress();
  assertEquals(progress.getCompleted(),progress.getTotal());
}
