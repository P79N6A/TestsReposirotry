@Test public void shouldThrowAnExceptionIfTheIndexDoesNotExist() throws SchemaRuleNotFoundException {
  when(tokenRead.propertyKey(anyString())).thenReturn(0);
  when(tokenRead.nodeLabel(anyString())).thenReturn(0);
  when(schemaRead.index(anyInt(),any())).thenReturn(IndexReference.NO_INDEX);
  try {
    procedure.awaitIndex(":Person(name)",TIMEOUT,TIME_UNIT);
    fail("Expected an exception");
  }
 catch (  ProcedureException e) {
    assertThat(e.status(),is(Status.Schema.IndexNotFound));
  }
}
