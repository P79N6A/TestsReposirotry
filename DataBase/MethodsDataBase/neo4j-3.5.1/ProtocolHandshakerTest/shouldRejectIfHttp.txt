@Test public void shouldRejectIfHttp(){
  BoltProtocol protocol=newBoltProtocol(1);
  BoltProtocolFactory handlerFactory=newProtocolFactory(1,protocol);
  EmbeddedChannel channel=new EmbeddedChannel(new ProtocolHandshaker(handlerFactory,boltChannel,logProvider,false,true));
  FullHttpRequest request=new DefaultFullHttpRequest(HttpVersion.HTTP_1_1,HttpMethod.POST,"http://hello_world:10000");
  request.headers().setInt(HttpHeaderNames.CONTENT_LENGTH,0);
  channel.writeInbound(request);
  assertEquals(0,channel.outboundMessages().size());
  assertFalse(channel.isActive());
  verify(protocol,never()).install();
  logProvider.assertExactly(AssertableLogProvider.inLog(ProtocolHandshaker.class).warn("Unsupported connection type: 'HTTP'. Bolt protocol only operates over a TCP connection or WebSocket."));
}
