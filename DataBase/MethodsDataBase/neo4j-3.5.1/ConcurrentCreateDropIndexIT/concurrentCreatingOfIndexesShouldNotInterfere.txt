@Test public void concurrentCreatingOfIndexesShouldNotInterfere() throws Throwable {
  Race race=new Race();
  for (int i=0; i < threads; i++) {
    race.addContestant(indexCreate(i),1);
  }
  race.go();
  try (Transaction tx=db.beginTx()){
    List<IndexDefinition> indexes=asList(db.schema().getIndexes());
    assertEquals(threads,indexes.size());
    Set<String> labels=new HashSet<>();
    for (    IndexDefinition index : indexes) {
      assertTrue(labels.add(single(index.getLabels()).name()));
    }
    tx.success();
  }
 }
