@Test public void concurrentCreatingUniquenessConstraint() throws Throwable {
  Race race=new Race().withMaxDuration(10,SECONDS);
  Label label=label(0);
  race.addContestants(10,() -> {
    try (Transaction tx=db.beginTx()){
      db.schema().constraintFor(label).assertPropertyIsUnique(KEY).create();
      tx.success();
    }
 catch (    TransientFailureException|ConstraintViolationException e) {
    }
  }
,300);
  race.go();
  try (Transaction tx=db.beginTx()){
    ConstraintDefinition constraint=single(db.schema().getConstraints(label));
    assertNotNull(constraint);
    IndexDefinition index=single(db.schema().getIndexes(label));
    assertNotNull(index);
    tx.success();
  }
 }
