@Test void shouldHandleStringPredicatesWithOffset(){
  byte[] bytes="abcdefghijklmnoprstuvxyzABCDEFGHIJKLMNOPRSTUVXYZ".getBytes(UTF_8);
  for (int offset=0; offset <= bytes.length; offset++) {
    for (int length=0; length < bytes.length - offset; length++) {
      TextValue value=utf8Value(bytes,offset,length);
      for (int otherOffset=0; otherOffset <= bytes.length; otherOffset++) {
        for (int otherLength=0; otherLength < bytes.length - otherOffset; otherLength++) {
          TextValue other=utf8Value(bytes,otherOffset,otherLength);
          assertThat(value.startsWith(other),equalTo(otherLength == 0 || otherOffset == offset && otherLength <= length));
          assertThat(value.endsWith(other),equalTo(otherLength == 0 || otherOffset >= offset && otherLength == length + offset - otherOffset));
          assertThat(value.contains(other),equalTo(otherLength == 0 || otherOffset >= offset && otherLength <= length + offset - otherOffset));
        }
      }
    }
  }
}
