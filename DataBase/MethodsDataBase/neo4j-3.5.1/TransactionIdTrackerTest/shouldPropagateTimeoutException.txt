@Test public void shouldPropagateTimeoutException() throws Exception {
  long version=5L;
  TimeoutException timeoutException=new TimeoutException();
  doThrow(timeoutException).when(transactionIdStore).awaitClosedTransactionId(anyLong(),anyLong());
  try {
    transactionIdTracker.awaitUpToDate(version + 1,ofMillis(50));
    fail("should have thrown");
  }
 catch (  TransactionFailureException ex) {
    assertEquals(Status.Transaction.InstanceStateChanged,ex.status());
    assertEquals(timeoutException,ex.getCause());
  }
}
