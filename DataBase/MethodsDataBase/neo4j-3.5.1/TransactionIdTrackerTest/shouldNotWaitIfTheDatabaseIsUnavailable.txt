@Test public void shouldNotWaitIfTheDatabaseIsUnavailable() throws Exception {
  when(databaseAvailabilityGuard.isAvailable()).thenReturn(false);
  try {
    transactionIdTracker.awaitUpToDate(1000,ofMillis(60_000));
    fail("should have thrown");
  }
 catch (  TransactionFailureException ex) {
    assertEquals(Status.General.DatabaseUnavailable,ex.status());
  }
  verify(transactionIdStore,never()).awaitClosedTransactionId(anyLong(),anyLong());
}
