@Test public void showsDeletedNodes() throws Exception {
  state.nodeDoDelete(1L);
  state.nodeDoDelete(2L);
  int labelId=15;
  when(tokenRead.nodeLabelName(labelId)).thenReturn("label");
  ops.withNode(1,new long[]{labelId},genericMap("key",Values.of("p")));
  ops.withNode(2,NO_LABELS);
  TxStateTransactionDataSnapshot snapshot=snapshot();
  assertThat(idList(snapshot.deletedNodes()),equalTo(asList(1L,2L)));
  assertThat(single(snapshot.removedLabels()).label().name(),equalTo("label"));
  assertThat(single(snapshot.removedNodeProperties()).key(),equalTo("key"));
}
