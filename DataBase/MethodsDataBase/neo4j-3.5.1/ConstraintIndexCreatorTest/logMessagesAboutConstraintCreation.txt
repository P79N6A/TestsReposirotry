@Test public void logMessagesAboutConstraintCreation() throws SchemaKernelException, UniquePropertyValueValidationException, TransactionFailureException, IndexNotFoundKernelException {
  StubKernel kernel=new StubKernel();
  IndexProxy indexProxy=mock(IndexProxy.class);
  IndexingService indexingService=mock(IndexingService.class);
  when(indexingService.getIndexProxy(INDEX_ID)).thenReturn(indexProxy);
  when(indexingService.getIndexProxy(descriptor)).thenReturn(indexProxy);
  when(indexProxy.getDescriptor()).thenReturn(index.withId(INDEX_ID).withoutCapabilities());
  NodePropertyAccessor propertyAccessor=mock(NodePropertyAccessor.class);
  ConstraintIndexCreator creator=new ConstraintIndexCreator(() -> kernel,indexingService,propertyAccessor,logProvider);
  KernelTransactionImplementation transaction=createTransaction();
  creator.createUniquenessConstraintIndex(transaction,descriptor,"indexProviderByName-1.0");
  logProvider.assertContainsLogCallContaining("Starting constraint creation: %s.");
  logProvider.assertContainsLogCallContaining("Constraint %s populated, starting verification.");
  logProvider.assertContainsLogCallContaining("Constraint %s verified.");
}
