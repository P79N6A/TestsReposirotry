@Test public void shouldCreateNodeKeyConstraint() throws Exception {
  ConstraintDescriptor constraint;
  try (Transaction transaction=beginTransaction()){
    constraint=transaction.schemaWrite().nodeKeyConstraintCreate(labelDescriptor(label,prop1));
    transaction.success();
  }
   try (Transaction transaction=beginTransaction()){
    SchemaRead schemaRead=transaction.schemaRead();
    assertTrue(schemaRead.constraintExists(constraint));
    Iterator<ConstraintDescriptor> constraints=schemaRead.constraintsGetForLabel(label);
    assertThat(asList(constraints),equalTo(singletonList(constraint)));
  }
 }
