@Test public void shouldNotSeeDroppedRelationshipPropertyExistenceConstraintFromTransaction() throws Exception {
  ConstraintDescriptor existing;
  try (Transaction transaction=beginTransaction()){
    existing=transaction.schemaWrite().relationshipPropertyExistenceConstraintCreate(typeDescriptor(type,prop1));
    transaction.success();
  }
   try (Transaction transaction=beginTransaction()){
    transaction.schemaWrite().constraintDrop(existing);
    SchemaRead schemaRead=transaction.schemaRead();
    assertFalse(schemaRead.constraintExists(existing));
    assertThat(schemaRead.index(type,prop2),equalTo(NO_INDEX));
    assertThat(asList(schemaRead.constraintsGetForLabel(label)),empty());
  }
 }
