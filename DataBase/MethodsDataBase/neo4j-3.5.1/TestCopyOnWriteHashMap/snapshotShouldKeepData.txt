@Test public void snapshotShouldKeepData(){
  CopyOnWriteHashMap<Integer,String> map=new CopyOnWriteHashMap<>();
  map.put(0,"0");
  Map<Integer,String> snapshot=map.snapshot();
  assertThat(snapshot.get(0),is("0"));
  assertThat(map.remove(0),is("0"));
  assertThat(snapshot.get(0),is("0"));
}
