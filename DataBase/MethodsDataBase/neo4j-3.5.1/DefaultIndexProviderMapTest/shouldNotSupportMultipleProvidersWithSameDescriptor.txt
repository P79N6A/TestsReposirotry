@Test void shouldNotSupportMultipleProvidersWithSameDescriptor(){
  IndexProviderDescriptor descriptor=new IndexProviderDescriptor("provider","1.2");
  IndexProvider provider1=mock(IndexProvider.class);
  when(provider1.getProviderDescriptor()).thenReturn(descriptor);
  IndexProvider provider2=mock(IndexProvider.class);
  when(provider2.getProviderDescriptor()).thenReturn(descriptor);
  Dependencies dependencies=new Dependencies();
  dependencies.satisfyDependency(provider1);
  dependencies.satisfyDependency(provider2);
  assertThrows(IllegalArgumentException.class,() -> createDefaultProviderMap(dependencies,descriptor).init());
}
