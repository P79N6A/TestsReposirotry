@Test public void buildDefaultContextWithDependencies() throws IOException {
  SimpleLogVersionRepository logVersionRepository=new SimpleLogVersionRepository(2);
  SimpleTransactionIdStore transactionIdStore=new SimpleTransactionIdStore();
  Dependencies dependencies=new Dependencies();
  dependencies.satisfyDependency(logVersionRepository);
  dependencies.satisfyDependency(transactionIdStore);
  TransactionLogFilesContext context=builder(testDirectory.databaseLayout(),fileSystem).withDependencies(dependencies).buildContext();
  assertEquals(fileSystem,context.getFileSystem());
  assertNotNull(context.getLogEntryReader());
  assertSame(LogFileCreationMonitor.NO_MONITOR,context.getLogFileCreationMonitor());
  assertEquals(ByteUnit.mebiBytes(250),context.getRotationThreshold().get());
  assertEquals(1,context.getLastCommittedTransactionId());
  assertEquals(2,context.getLogVersionRepository().getCurrentLogVersion());
}
