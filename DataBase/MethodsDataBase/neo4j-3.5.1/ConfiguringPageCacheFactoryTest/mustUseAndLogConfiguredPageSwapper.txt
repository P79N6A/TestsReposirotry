@Test public void mustUseAndLogConfiguredPageSwapper(){
  Config config=Config.defaults(stringMap(pagecache_memory.name(),"8m",pagecache_swapper.name(),TEST_PAGESWAPPER_NAME));
  AssertableLogProvider logProvider=new AssertableLogProvider();
  Log log=logProvider.getLog(PageCache.class);
  ConfiguringPageCacheFactory cacheFactory=new ConfiguringPageCacheFactory(fsRule.get(),config,PageCacheTracer.NULL,PageCursorTracerSupplier.NULL,log,EmptyVersionContextSupplier.EMPTY,jobScheduler);
  cacheFactory.getOrCreatePageCache().close();
  assertThat(PageSwapperFactoryForTesting.countCreatedPageSwapperFactories(),is(1));
  assertThat(PageSwapperFactoryForTesting.countConfiguredPageSwapperFactories(),is(1));
  logProvider.assertContainsMessageContaining(TEST_PAGESWAPPER_NAME);
}
