@Test public void shouldGenerateUpdateForAllChangedNonSchemaIndex(){
  Value newValue1=Values.of("Nio");
  Value newValue2=Values.of(10L);
  Value newValue3=Values.pointValue(CoordinateReferenceSystem.WGS84,32.3,15.6);
  EntityUpdates updates=EntityUpdates.forEntity(nodeId).withTokens(label).withTokensAfter(label).changed(property1.propertyKeyId(),property1.value(),newValue1).changed(property2.propertyKeyId(),property2.value(),newValue2).changed(property3.propertyKeyId(),property3.value(),newValue3).build();
  assertThat(updates.forIndexKeys(singleton(nonSchemaIndex),propertyLoader(property1,property2,property3),EntityType.NODE),containsInAnyOrder(IndexEntryUpdate.change(nodeId,nonSchemaIndex,values123,new Value[]{newValue1,newValue2,newValue3})));
}
