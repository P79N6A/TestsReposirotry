@Test void mustCombineWorkAsync() throws Exception {
  makeWorkStuckAtSemaphore(1);
  AsyncApply a=sync.applyAsync(new AddWork(1));
  AsyncApply b=sync.applyAsync(new AddWork(1));
  AsyncApply c=sync.applyAsync(new AddWork(1));
  semaphore.release(2);
  a.await();
  b.await();
  c.await();
  assertThat(sum.sum(),is(4L));
  assertThat(count.sum(),is(2L));
}
