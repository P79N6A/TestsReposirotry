@Test public void multipleIndexReadersFromDifferentPointsInTimeCanSeeDifferentResults() throws Exception {
  updateAndCommit(asList(add(nodeId,values)));
  IndexReader firstReader=accessor.newReader();
  updateAndCommit(asList(add(nodeId2,values2)));
  IndexReader secondReader=accessor.newReader();
  assertEquals(asSet(nodeId),PrimitiveLongCollections.toSet(firstReader.query(exact(PROP_ID1,values[0]),exact(PROP_ID2,values[1]))));
  assertEquals(asSet(),PrimitiveLongCollections.toSet(firstReader.query(exact(PROP_ID1,values2[0]),exact(PROP_ID2,values2[1]))));
  assertEquals(asSet(nodeId),PrimitiveLongCollections.toSet(secondReader.query(exact(PROP_ID1,values[0]),exact(PROP_ID2,values[1]))));
  assertEquals(asSet(nodeId2),PrimitiveLongCollections.toSet(secondReader.query(exact(PROP_ID1,values2[0]),exact(PROP_ID2,values2[1]))));
  firstReader.close();
  secondReader.close();
}
