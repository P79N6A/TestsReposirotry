@Test public void shouldBeAbleToPackAndUnpackMap() throws IOException {
  PackedOutputArray output=new PackedOutputArray();
  Neo4jPack.Packer packer=neo4jPack.newPacker(output);
  packer.packMapHeader(ALICE.properties().size());
  ALICE.properties().foreach((s,value) -> {
    try {
      packer.pack(s);
      packer.pack(value);
    }
 catch (    IOException e) {
      throw new UncheckedIOException(e);
    }
  }
);
  AnyValue unpacked=unpacked(output.bytes());
  assertThat(unpacked,instanceOf(MapValue.class));
  MapValue unpackedMap=(MapValue)unpacked;
  assertThat(unpackedMap,equalTo(ALICE.properties()));
}
