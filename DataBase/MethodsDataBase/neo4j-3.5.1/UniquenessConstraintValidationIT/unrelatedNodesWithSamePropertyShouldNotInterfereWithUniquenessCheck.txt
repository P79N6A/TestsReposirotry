@Test public void unrelatedNodesWithSamePropertyShouldNotInterfereWithUniquenessCheck() throws Exception {
  createConstraint("Person","id");
  long ourNode;
{
    Transaction transaction=newTransaction(AnonymousContext.writeToken());
    ourNode=createLabeledNode(transaction,"Person","id",1);
    createLabeledNode(transaction,"Item","id",2);
    commit();
  }
  Transaction transaction=newTransaction(AnonymousContext.writeToken());
  TokenRead tokenRead=transaction.tokenRead();
  int person=tokenRead.nodeLabel("Person");
  int propId=tokenRead.propertyKey("id");
  IndexReference idx=transaction.schemaRead().index(person,propId);
  createLabeledNode(transaction,"Item","id",2);
  assertThat(transaction.dataRead().lockingNodeUniqueIndexSeek(idx,exact(propId,Values.of(1))),equalTo(ourNode));
  commit();
}
