@Test public void shouldEnforceOnSetProperty() throws Exception {
  constrainedNode("Label1","key1","value1");
  Transaction transaction=newTransaction(AnonymousContext.writeToken());
  long node=createLabeledNode(transaction,"Label1");
  try {
    int propertyKeyId=transaction.tokenWrite().propertyKeyGetOrCreateForName("key1");
    transaction.dataWrite().nodeSetProperty(node,propertyKeyId,Values.of("value1"));
    fail("should have thrown exception");
  }
 catch (  UniquePropertyValueValidationException e) {
    assertThat(e.getUserMessage(tokenLookup(transaction)),containsString("`key1` = 'value1'"));
  }
  commit();
}
