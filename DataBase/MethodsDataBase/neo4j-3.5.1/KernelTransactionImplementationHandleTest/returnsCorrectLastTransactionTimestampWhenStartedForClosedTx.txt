@Test public void returnsCorrectLastTransactionTimestampWhenStartedForClosedTx(){
  long lastCommittedTxTimestamp=4242;
  KernelTransactionImplementation tx=mock(KernelTransactionImplementation.class);
  when(tx.lastTransactionTimestampWhenStarted()).thenReturn(lastCommittedTxTimestamp);
  when(tx.isOpen()).thenReturn(false);
  KernelTransactionImplementationHandle handle=new KernelTransactionImplementationHandle(tx,clock);
  assertEquals(lastCommittedTxTimestamp,handle.lastTransactionTimestampWhenStarted());
}
