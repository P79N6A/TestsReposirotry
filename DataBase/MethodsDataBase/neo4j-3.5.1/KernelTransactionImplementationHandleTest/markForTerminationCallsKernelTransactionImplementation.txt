@Test public void markForTerminationCallsKernelTransactionImplementation(){
  int reuseCount=42;
  Status.Transaction terminationReason=Status.Transaction.Terminated;
  KernelTransactionImplementation tx=mock(KernelTransactionImplementation.class);
  when(tx.getReuseCount()).thenReturn(reuseCount);
  KernelTransactionImplementationHandle handle=new KernelTransactionImplementationHandle(tx,clock);
  handle.markForTermination(terminationReason);
  verify(tx).markForTermination(reuseCount,terminationReason);
}
