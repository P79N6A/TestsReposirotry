@Test public void shouldAlwaysReturnToReadyAfterReset() throws Throwable {
  life.start();
  BoltConnection boltConnection=connectionFactory.newConnection(boltChannel,machine);
  boltConnection.enqueue(machine -> machine.process(new InitMessage("ResetFuzzTest/0.0",emptyMap()),nullResponseHandler()));
  long deadline=System.currentTimeMillis() + 2 * 1000;
  while (System.currentTimeMillis() < deadline) {
    dispatchRandomSequenceOfMessages(boltConnection);
    assertSchedulerWorks(boltConnection);
  }
}
