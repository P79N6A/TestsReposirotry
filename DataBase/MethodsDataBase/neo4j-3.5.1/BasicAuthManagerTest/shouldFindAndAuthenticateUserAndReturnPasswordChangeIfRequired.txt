@Test public void shouldFindAndAuthenticateUserAndReturnPasswordChangeIfRequired() throws Throwable {
  manager.start();
  User user1=newUser("jake","abc123",true);
  users.create(user1);
  final User user=user1;
  when(authStrategy.authenticate(user,password("abc123"))).thenReturn(SUCCESS);
  assertLoginGivesResult("jake","abc123",PASSWORD_CHANGE_REQUIRED);
}
