@Test public void shouldFindAndAuthenticateUserAndReturnAuthStrategyResult() throws Throwable {
  manager.start();
  User user1=newUser("jake","abc123",true);
  users.create(user1);
  final User user=user1;
  when(authStrategy.authenticate(user,password("abc123"))).thenReturn(TOO_MANY_ATTEMPTS);
  assertLoginGivesResult("jake","abc123",TOO_MANY_ATTEMPTS);
}
