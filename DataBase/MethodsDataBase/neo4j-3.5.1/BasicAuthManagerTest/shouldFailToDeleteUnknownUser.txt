@Test public void shouldFailToDeleteUnknownUser() throws Throwable {
  manager.start();
  manager.newUser("jake",password("abc123"),true);
  try {
    manager.deleteUser("nonExistentUser");
    fail("User 'nonExistentUser' should no longer exist, expected exception.");
  }
 catch (  InvalidArgumentsException e) {
    assertThat(e.getMessage(),containsString("User 'nonExistentUser' does not exist."));
  }
catch (  Throwable t) {
    assertThat(t.getClass(),IsEqual.equalTo(InvalidArgumentsException.class));
  }
  assertNotNull(users.getUserByName("jake"));
}
