@Test public void shouldStorePopulationFailedForRetrievalFromProviderLater() throws Exception {
  String failure="The contrived failure";
  IndexSamplingConfig indexSamplingConfig=new IndexSamplingConfig(Config.defaults());
  withPopulator(indexProvider.getPopulator(descriptor,indexSamplingConfig),p -> p.markAsFailed(failure),false);
  assertThat(indexProvider.getPopulationFailure(descriptor),containsString(failure));
}
