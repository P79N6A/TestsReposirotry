@Test public void testLogPruneThresholdsByType(){
  FileSystemAbstraction fsa=Mockito.mock(FileSystemAbstraction.class);
  Clock clock=Clocks.systemClock();
  assertThat(getThresholdByType(fsa,clock,new ThresholdConfigValue("files",25),""),instanceOf(FileCountThreshold.class));
  assertThat(getThresholdByType(fsa,clock,new ThresholdConfigValue("size",16000),""),instanceOf(FileSizeThreshold.class));
  assertThat(getThresholdByType(fsa,clock,new ThresholdConfigValue("txs",4000),""),instanceOf(EntryCountThreshold.class));
  assertThat(getThresholdByType(fsa,clock,new ThresholdConfigValue("entries",4000),""),instanceOf(EntryCountThreshold.class));
  assertThat(getThresholdByType(fsa,clock,new ThresholdConfigValue("hours",100),""),instanceOf(EntryTimespanThreshold.class));
  assertThat(getThresholdByType(fsa,clock,new ThresholdConfigValue("days",100_000),""),instanceOf(EntryTimespanThreshold.class));
}
