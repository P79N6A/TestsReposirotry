@Test void notifyWithNotification(){
  String message="foo";
  Listener listener1=new Listener();
  Listener listener2=new Listener();
  Listeners<Listener> listeners=newListeners(listener1,listener2);
  listeners.notify(listener -> listener.process(message));
  assertEquals(message,listener1.message);
  assertEquals(currentThread().getName(),listener1.threadName);
  assertEquals(message,listener2.message);
  assertEquals(currentThread().getName(),listener2.threadName);
}
