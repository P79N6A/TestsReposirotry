@Test public void shouldNotBeAbleToIndexANodePropertyThatsTooLarge(){
  Response response=service.createNode(null);
  URI nodeUri=(URI)response.getMetadata().getFirst("Location");
  Map<String,String> postBody=new HashMap<>();
  postBody.put("key","mykey");
  char[] alphabet="abcdefghijklmnopqrstuvwxyz".toCharArray();
  StringBuilder largePropertyValue=new StringBuilder();
  Random random=new Random();
  for (int i=0; i < 30_000; i++) {
    largePropertyValue.append(alphabet[random.nextInt(alphabet.length)]);
  }
  postBody.put("value",largePropertyValue.toString());
  postBody.put("uri",nodeUri.toString());
  response=service.addToNodeIndex("node",null,null,JsonHelper.createJsonFrom(postBody));
  assertEquals(413,response.getStatus());
}
