@Test public void multipleIndexReadersFromDifferentPointsInTimeCanSeeDifferentResults() throws Exception {
  updateAndCommit(asList(add(nodeId,value)));
  IndexReader firstReader=accessor.newReader();
  updateAndCommit(asList(add(nodeId2,value2)));
  IndexReader secondReader=accessor.newReader();
  assertEquals(asSet(nodeId),PrimitiveLongCollections.toSet(firstReader.query(exact(PROP_ID,value))));
  assertEquals(asSet(),PrimitiveLongCollections.toSet(firstReader.query(exact(PROP_ID,value2))));
  assertEquals(asSet(nodeId),PrimitiveLongCollections.toSet(secondReader.query(exact(PROP_ID,value))));
  assertEquals(asSet(nodeId2),PrimitiveLongCollections.toSet(secondReader.query(exact(PROP_ID,value2))));
  firstReader.close();
  secondReader.close();
}
