@Test public void shouldMaintainCorrectDataWhenDeletingFromDenseNodeWithOneType() throws Exception {
  NeoStores neoStores=neoStoresRule.builder().with(GraphDatabaseSettings.dense_node_threshold.name(),"13").build();
  TransactionRecordState tx=newTransactionRecordState(neoStores);
  int nodeId=(int)neoStores.getNodeStore().nextId();
  int typeA=0;
  tx.nodeCreate(nodeId);
  tx.createRelationshipTypeToken("A",typeA);
  long[] relationshipsCreated=createRelationships(neoStores,tx,nodeId,typeA,INCOMING,15);
  tx.relDelete(relationshipsCreated[0]);
  assertDenseRelationshipCounts(recordChangeSet,nodeId,typeA,0,14);
}
