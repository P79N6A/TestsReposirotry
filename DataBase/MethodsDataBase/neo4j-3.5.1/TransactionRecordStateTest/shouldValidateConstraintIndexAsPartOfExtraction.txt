@Test public void shouldValidateConstraintIndexAsPartOfExtraction() throws Throwable {
  NeoStores neoStores=neoStoresRule.builder().build();
  TransactionRecordState recordState=newTransactionRecordState(neoStores);
  final long indexId=neoStores.getSchemaStore().nextId();
  final long constraintId=neoStores.getSchemaStore().nextId();
  recordState.createSchemaRule(constraintRule(constraintId,uniqueForLabel(1,1),indexId));
  recordState.extractCommands(new ArrayList<>());
  verify(integrityValidator).validateSchemaRule(any());
}
