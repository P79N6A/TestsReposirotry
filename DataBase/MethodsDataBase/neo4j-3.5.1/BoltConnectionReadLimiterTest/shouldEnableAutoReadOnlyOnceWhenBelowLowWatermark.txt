@Test public void shouldEnableAutoReadOnlyOnceWhenBelowLowWatermark(){
  BoltConnectionReadLimiter limiter=newLimiter(1,2);
  assertTrue(channel.config().isAutoRead());
  limiter.enqueued(connection,job);
  limiter.enqueued(connection,job);
  limiter.enqueued(connection,job);
  limiter.drained(connection,Arrays.asList(job,job,job));
  assertTrue(channel.config().isAutoRead());
  verify(log,times(1)).warn(contains("disabled"),eq(channel.remoteAddress()),eq(3));
  verify(log,times(1)).warn(contains("enabled"),eq(channel.remoteAddress()),eq(1));
}
