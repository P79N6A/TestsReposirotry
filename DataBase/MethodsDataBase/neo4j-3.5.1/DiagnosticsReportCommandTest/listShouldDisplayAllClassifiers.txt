@Test void listShouldDisplayAllClassifiers() throws Exception {
  try (ByteArrayOutputStream baos=new ByteArrayOutputStream()){
    PrintStream ps=new PrintStream(baos);
    String[] args={"--list"};
    OutsideWorld outsideWorld=mock(OutsideWorld.class);
    when(outsideWorld.fileSystem()).thenReturn(fs);
    when(outsideWorld.outStream()).thenReturn(ps);
    DiagnosticsReportCommand diagnosticsReportCommand=new DiagnosticsReportCommand(homeDir,configDir,outsideWorld);
    diagnosticsReportCommand.execute(args);
    assertThat(baos.toString(),is(String.format("Finding running instance of neo4j%n" + "No running instance of neo4j was found. Online reports will be omitted.%n" + "If neo4j is running but not detected, you can supply the process id of the running instance with --pid%n"+ "All available classifiers:%n"+ "  config     include configuration file%n"+ "  logs       include log files%n"+ "  plugins    include a view of the plugin directory%n"+ "  ps         include a list of running processes%n"+ "  tree       include a view of the tree structure of the data directory%n"+ "  tx         include transaction logs%n")));
  }
 }
