@Test public void shouldSetAndReadLargeByteArrayPropertyToNode() throws Exception {
  int prop;
  long node=createNode();
  Value largeByteArray=Values.of(new byte[100_000]);
  try (Transaction tx=beginTransaction()){
    prop=tx.token().propertyKeyGetOrCreateForName(propertyKey);
    assertThat(tx.dataWrite().nodeSetProperty(node,prop,largeByteArray),equalTo(NO_VALUE));
    tx.success();
  }
   try (Transaction tx=beginTransaction();NodeCursor nodeCursor=tx.cursors().allocateNodeCursor();PropertyCursor propertyCursor=tx.cursors().allocatePropertyCursor()){
    tx.dataRead().singleNode(node,nodeCursor);
    assertTrue(nodeCursor.next());
    nodeCursor.properties(propertyCursor);
    assertTrue(propertyCursor.next());
    assertEquals(propertyCursor.propertyKey(),prop);
    assertThat(propertyCursor.propertyValue(),equalTo(largeByteArray));
  }
 }
