@Test public void shouldNotWriteWhenSettingPropertyToSameValue() throws Exception {
  Value theValue=stringValue("The Value");
  long nodeId=createNodeWithProperty(propertyKey,theValue.asObject());
  Transaction tx=beginTransaction();
  int property=tx.token().propertyKeyGetOrCreateForName(propertyKey);
  assertThat(tx.dataWrite().nodeSetProperty(nodeId,property,theValue),equalTo(theValue));
  tx.success();
  assertThat(tx.closeTransaction(),equalTo(Transaction.READ_ONLY));
}
