@Test public void shouldRollbackOnFailure() throws Exception {
  long node;
  try (Transaction tx=beginTransaction()){
    node=tx.dataWrite().nodeCreate();
    tx.failure();
  }
   try (org.neo4j.graphdb.Transaction ignore=graphDb.beginTx()){
    graphDb.getNodeById(node);
    fail("There should be no node");
  }
 catch (  NotFoundException e) {
  }
}
