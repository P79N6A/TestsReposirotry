@Test public void shouldOptimizeNullChecks(){
  ExpressionVisitor visitor=mock(ExpressionVisitor.class);
  Expression expression=invoke(methodReference(getClass(),Object.class,"value"));
  equal(expression,NULL).accept(visitor);
  verify(visitor).isNull(expression);
  reset(visitor);
  equal(NULL,expression).accept(visitor);
  verify(visitor).isNull(expression);
  reset(visitor);
  not(equal(expression,NULL)).accept(visitor);
  verify(visitor).notNull(expression);
  reset(visitor);
  not(equal(NULL,expression)).accept(visitor);
  verify(visitor).notNull(expression);
}
