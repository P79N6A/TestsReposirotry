@Test(timeout=TEST_TIMEOUT) public void indexCreationDoNotBlockQueryExecutions() throws Exception {
  Label nodeLabel=Label.label("nodeLabel");
  try (Transaction transaction=database.beginTx()){
    database.createNode(nodeLabel);
    transaction.success();
  }
   try (Transaction transaction=database.beginTx()){
    database.schema().indexFor(Label.label("testLabel")).on("testProperty").create();
    Future<Number> countFuture=executorService.submit(countNodes());
    assertEquals(1,countFuture.get().intValue());
    transaction.success();
  }
 }
