@Test(timeout=TEST_TIMEOUT) public void indexCreationDoNotBlockWritesOnOtherLabel() throws ExecutionException, InterruptedException {
  Label markerLabel=Label.label("testLabel3");
  Label nodesLabel=Label.label("testLabel4");
  try (Transaction transaction=database.beginTx()){
    database.schema().indexFor(markerLabel).on("testProperty").create();
    Future<?> creation=executorService.submit(createNodeWithLabel(nodesLabel));
    creation.get();
    transaction.success();
  }
   try (Transaction transaction=database.beginTx()){
    try (ResourceIterator<Node> nodes=database.findNodes(nodesLabel)){
      assertEquals(1,Iterators.count(nodes));
    }
   }
 }
