@Test void validateIndexedNodePropertiesInLucene(){
  setUp(default_schema_provider.name(),GraphDatabaseSettings.SchemaIndex.NATIVE10.providerName());
  Label label=Label.label("indexedNodePropertiesTestLabel");
  String propertyName="indexedNodePropertyName";
  createIndex(label,propertyName);
  try (Transaction ignored=database.beginTx()){
    database.schema().awaitIndexesOnline(5,TimeUnit.MINUTES);
  }
   IllegalArgumentException argumentException=assertThrows(IllegalArgumentException.class,() -> {
    try (Transaction transaction=database.beginTx()){
      Node node=database.createNode(label);
      node.setProperty(propertyName,StringUtils.repeat("a",IndexWriter.MAX_TERM_LENGTH + 1));
      transaction.success();
    }
   }
);
  assertThat(argumentException.getMessage(),equalTo("Property value size is too large for index. Please see index documentation for limitations."));
}
