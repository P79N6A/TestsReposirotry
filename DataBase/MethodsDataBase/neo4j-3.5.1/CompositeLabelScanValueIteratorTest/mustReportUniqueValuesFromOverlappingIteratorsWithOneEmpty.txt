@Test public void mustReportUniqueValuesFromOverlappingIteratorsWithOneEmpty(){
  AtomicInteger closeCounter=new AtomicInteger();
  long[] firstIter={0L,2L,Long.MAX_VALUE};
  long[] secondIter={1L,3L};
  long[] thirdIter={0L,3L};
  long[] fourthIter={};
  long[] expected={0L,1L,2L,3L,Long.MAX_VALUE};
  List<PrimitiveLongResourceIterator> iterators=asMutableList(iterator(closeCounter::incrementAndGet,firstIter),iterator(closeCounter::incrementAndGet,secondIter),iterator(closeCounter::incrementAndGet,thirdIter),iterator(closeCounter::incrementAndGet,fourthIter));
  CompositeLabelScanValueIterator iterator=new CompositeLabelScanValueIterator(iterators,false);
  assertArrayEquals(expected,PrimitiveLongCollections.asArray(iterator));
  iterator.close();
  assertEquals("expected close count",4,closeCounter.get());
}
