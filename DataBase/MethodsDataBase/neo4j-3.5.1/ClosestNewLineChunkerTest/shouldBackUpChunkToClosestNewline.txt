@Test void shouldBackUpChunkToClosestNewline() throws Exception {
  CharReadable reader=Readables.wrap("1234567\n8901234\n5678901234");
  try (ClosestNewLineChunker source=new ClosestNewLineChunker(reader,12)){
    Chunk chunk=source.newChunk();
    assertTrue(source.nextChunk(chunk));
    assertArrayEquals("1234567\n".toCharArray(),charactersOf(chunk));
    assertTrue(source.nextChunk(chunk));
    assertArrayEquals("8901234\n".toCharArray(),charactersOf(chunk));
    assertTrue(source.nextChunk(chunk));
    assertArrayEquals("5678901234".toCharArray(),charactersOf(chunk));
    assertFalse(source.nextChunk(chunk));
  }
 }
