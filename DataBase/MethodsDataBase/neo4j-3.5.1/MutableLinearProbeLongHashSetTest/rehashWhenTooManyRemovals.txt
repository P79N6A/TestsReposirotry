@Test void rehashWhenTooManyRemovals(){
  set=spy(set);
  final int numOfElements=DEFAULT_CAPACITY / 2;
  final int removalsToTriggerRehashing=DEFAULT_CAPACITY / REMOVALS_RATIO;
  for (int i=0; i < numOfElements; i++) {
    assertTrue(set.add(100 + i));
  }
  assertEquals(numOfElements,set.size());
  verify(set,never()).rehashWithoutGrow();
  verify(set,never()).growAndRehash();
  for (int i=0; i < removalsToTriggerRehashing; i++) {
    assertTrue(set.remove(100 + i));
  }
  assertEquals(numOfElements - removalsToTriggerRehashing,set.size());
  verify(set).rehashWithoutGrow();
  verify(set,never()).growAndRehash();
}
