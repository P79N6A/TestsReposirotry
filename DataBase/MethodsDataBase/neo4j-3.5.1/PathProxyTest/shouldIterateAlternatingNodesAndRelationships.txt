@Test public void shouldIterateAlternatingNodesAndRelationships(){
  Path path=new PathProxy(proxySPI,new long[]{1,2,3},new long[]{100,200},new int[]{0,~0});
  Iterator<PropertyContainer> iterator=path.iterator();
  PropertyContainer entity;
  assertTrue(iterator.hasNext());
  assertThat(entity=iterator.next(),instanceOf(Node.class));
  assertEquals(1,((Entity)entity).getId());
  assertTrue(iterator.hasNext());
  assertThat(entity=iterator.next(),instanceOf(Relationship.class));
  assertEquals(100,((Entity)entity).getId());
  assertTrue(iterator.hasNext());
  assertThat(entity=iterator.next(),instanceOf(Node.class));
  assertEquals(2,((Entity)entity).getId());
  assertTrue(iterator.hasNext());
  assertThat(entity=iterator.next(),instanceOf(Relationship.class));
  assertEquals(200,((Entity)entity).getId());
  assertTrue(iterator.hasNext());
  assertThat(entity=iterator.next(),instanceOf(Node.class));
  assertEquals(3,((Entity)entity).getId());
  assertFalse(iterator.hasNext());
}
