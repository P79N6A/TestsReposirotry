@Test public void doNotVisitNotModifiedPropertiesOnModifiedNodes() throws ConstraintValidationException, CreateConstraintFailureException {
  state.nodeDoAddLabel(5,1);
  MutableBoolean labelsChecked=new MutableBoolean();
  state.accept(new TxStateVisitor.Adapter(){
    @Override public void visitNodeLabelChanges(    long id,    LongSet added,    LongSet removed){
      labelsChecked.setTrue();
      assertEquals(1,id);
      assertEquals(1,added.size());
      assertTrue(added.contains(5));
      assertTrue(removed.isEmpty());
    }
    @Override public void visitNodePropertyChanges(    long id,    Iterator<StorageProperty> added,    Iterator<StorageProperty> changed,    IntIterable removed){
      fail("Properties were not changed.");
    }
  }
);
  assertTrue(labelsChecked.booleanValue());
}
