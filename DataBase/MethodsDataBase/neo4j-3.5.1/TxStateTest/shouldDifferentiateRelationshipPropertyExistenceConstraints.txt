@Test public void shouldDifferentiateRelationshipPropertyExistenceConstraints(){
  ConstraintDescriptor constraint1=ConstraintDescriptorFactory.existsForRelType(1,11);
  ConstraintDescriptor constraint2=ConstraintDescriptorFactory.existsForRelType(1,22);
  ConstraintDescriptor constraint3=ConstraintDescriptorFactory.existsForRelType(3,33);
  state.constraintDoAdd(constraint1);
  state.constraintDoAdd(constraint2);
  state.constraintDoAdd(constraint3);
  assertEquals(asSet(constraint1,constraint2),state.constraintsChangesForRelationshipType(1).getAdded());
  assertEquals(singleton(constraint1),state.constraintsChangesForSchema(constraint1.schema()).getAdded());
  assertEquals(singleton(constraint2),state.constraintsChangesForSchema(constraint2.schema()).getAdded());
  assertEquals(singleton(constraint3),state.constraintsChangesForRelationshipType(3).getAdded());
  assertEquals(singleton(constraint3),state.constraintsChangesForSchema(constraint3.schema()).getAdded());
}
