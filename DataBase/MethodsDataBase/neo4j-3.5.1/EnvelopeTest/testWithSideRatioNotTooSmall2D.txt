@Test void testWithSideRatioNotTooSmall2D(){
  double[] from=new double[]{0,0};
  double[] to=new double[]{1,1};
  Envelope envelope=new Envelope(from,to).withSideRatioNotTooSmall();
  double[] expectedFrom=new double[]{0,0};
  double[] expectedTo=new double[]{1,1};
  assertArrayEquals(expectedFrom,envelope.min,0.0001);
  assertArrayEquals(expectedTo,envelope.max,0.0001);
  final double bigValue=100;
  final double smallValue=0.000000000000000001;
  to=new double[]{bigValue,smallValue};
  Envelope envelope2=new Envelope(from,to).withSideRatioNotTooSmall();
  double[] expectedTo2=new double[]{bigValue,bigValue / Envelope.MAXIMAL_ENVELOPE_SIDE_RATIO};
  assertArrayEquals(expectedFrom,envelope2.min,0.0001);
  assertArrayEquals(expectedTo2,envelope2.max,0.00001);
}
