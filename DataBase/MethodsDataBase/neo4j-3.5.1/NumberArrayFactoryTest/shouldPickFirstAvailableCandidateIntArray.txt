@Test public void shouldPickFirstAvailableCandidateIntArray(){
  FailureMonitor monitor=new FailureMonitor();
  NumberArrayFactory factory=new NumberArrayFactory.Auto(monitor,NumberArrayFactory.HEAP);
  IntArray array=factory.newIntArray(KILO,-1);
  array.set(KILO - 10,12345);
  assertTrue(array instanceof HeapIntArray);
  assertEquals(12345,array.get(KILO - 10));
  assertEquals(NumberArrayFactory.HEAP,monitor.successfulFactory);
  assertFalse(monitor.attemptedAllocationFailures.iterator().hasNext());
}
