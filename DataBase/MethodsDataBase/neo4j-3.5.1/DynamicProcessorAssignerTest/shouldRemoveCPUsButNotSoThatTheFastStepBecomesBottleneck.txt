@Test public void shouldRemoveCPUsButNotSoThatTheFastStepBecomesBottleneck(){
  Configuration config=config(10,3);
  DynamicProcessorAssigner assigner=new DynamicProcessorAssigner(config);
  ControlledStep<?> slowStep=spy(stepWithStats("slow",1,avg_processing_time,10L,done_batches,10L));
  ControlledStep<?> fastStep=spy(stepWithStats("fast",0,avg_processing_time,7L,done_batches,10L).setProcessors(3));
  StageExecution execution=executionOf(config,slowStep,fastStep);
  assigner.start(execution);
  assigner.check(execution);
  verify(fastStep,never()).processors(1);
  verify(fastStep,never()).processors(-1);
}
