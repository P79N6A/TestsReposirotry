@Test public void markDirtyVersionLookupOnKeyReset() throws IOException {
  long updaterVersionTxId=25;
  long lastClosedTxId=20;
  when(store.version()).thenReturn(updaterVersionTxId);
  TransactionVersionContextSupplier versionContextSupplier=new TransactionVersionContextSupplier();
  versionContextSupplier.init(() -> lastClosedTxId);
  VersionContext versionContext=versionContextSupplier.getVersionContext();
  ConcurrentMapState<String> mapState=createMapState(versionContextSupplier);
  versionContext.initRead();
  mapState.resettingUpdater(lock,Runnables.EMPTY_RUNNABLE).apply("a",new SimpleValueUpdate(1));
  mapState.lookup("a",new EmptyValueSink());
  assertTrue(versionContext.isDirty());
}
