@Test public void markDirtyVersionLookupOnKeyUpdate() throws IOException {
  long updaterVersionTxId=25;
  long lastClosedTxId=20;
  TransactionVersionContextSupplier versionContextSupplier=new TransactionVersionContextSupplier();
  versionContextSupplier.init(() -> lastClosedTxId);
  ConcurrentMapState<String> mapState=createMapState(versionContextSupplier);
  VersionContext versionContext=versionContextSupplier.getVersionContext();
  try (EntryUpdater<String> updater=mapState.updater(updaterVersionTxId,lock)){
    updater.apply("a",new SimpleValueUpdate(1));
    updater.apply("b",new SimpleValueUpdate(2));
  }
   assertEquals(updaterVersionTxId,mapState.version());
  versionContext.initRead();
  mapState.lookup("a",new EmptyValueSink());
  assertTrue(versionContext.isDirty());
}
