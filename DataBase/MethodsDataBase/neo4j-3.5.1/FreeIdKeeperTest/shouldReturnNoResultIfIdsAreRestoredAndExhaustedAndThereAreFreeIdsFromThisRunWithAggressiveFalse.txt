@Test public void shouldReturnNoResultIfIdsAreRestoredAndExhaustedAndThereAreFreeIdsFromThisRunWithAggressiveFalse() throws Exception {
  StoreChannel channel=getStoreChannel();
  int batchSize=10;
  FreeIdKeeper keeper=getFreeIdKeeper(channel,batchSize);
  Set<Long> freeIds=new HashSet<>();
  for (long i=0; i < batchSize; i++) {
    keeper.freeId(i);
    freeIds.add(i);
  }
  keeper.close();
  channel.close();
  channel=fs.get().open(new File("id.file"),OpenMode.READ_WRITE);
  keeper=getFreeIdKeeper(channel,batchSize);
  for (int i=0; i < batchSize; i++) {
    assertTrue(freeIds.remove(keeper.getId()));
  }
  for (int i=0; i < batchSize; i++) {
    keeper.freeId(i);
  }
  assertEquals(NO_RESULT,keeper.getId());
}
