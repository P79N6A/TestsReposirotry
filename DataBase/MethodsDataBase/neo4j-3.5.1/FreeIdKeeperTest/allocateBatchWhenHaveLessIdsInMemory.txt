@Test public void allocateBatchWhenHaveLessIdsInMemory() throws IOException {
  FreeIdKeeper freeIdKeeper=getFreeIdKeeperAggressive();
  for (long id=1L; id < 4L; id++) {
    freeIdKeeper.freeId(id);
  }
  long[] ids=freeIdKeeper.getIds(5);
  assertArrayEquals(new long[]{1L,2L,3L},ids);
  assertEquals(0,freeIdKeeper.getCount());
}
