@Test public void canceledPopulatorDoNotFlipWhenPopulationCompleted() throws FlipFailedKernelException {
  IndexPopulator indexPopulator1=createIndexPopulator();
  IndexPopulator indexPopulator2=createIndexPopulator();
  IndexPopulation populationToCancel=addPopulator(indexPopulator1,1);
  addPopulator(indexPopulator2,2);
  multipleIndexPopulator.create();
  multipleIndexPopulator.cancelIndexPopulation(populationToCancel);
  multipleIndexPopulator.indexAllEntities();
  assertTrue(multipleIndexPopulator.hasPopulators());
  multipleIndexPopulator.flipAfterPopulation(false);
  verify(populationToCancel.flipper,never()).flip(any(Callable.class),any(FailedIndexProxyFactory.class));
}
