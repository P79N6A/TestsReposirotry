@Test public void shouldLogShortWarningOnClientDisconnectMidwayThroughQuery() throws Exception {
  PackOutputClosedException outputClosed=new PackOutputClosedException("Output closed","<client>");
  Neo4jError txTerminated=Neo4jError.from(new TransactionTerminatedException(Status.Transaction.Terminated));
  AssertableLogProvider logProvider=emulateFailureWritingError(txTerminated,outputClosed);
  logProvider.assertExactly(inLog("Test").warn(equalTo("Client %s disconnected while query was running. Session has been cleaned up. " + "This can be caused by temporary network problems, but if you see this often, ensure your " + "applications are properly waiting for operations to complete before exiting."),equalTo("<client>")));
}
