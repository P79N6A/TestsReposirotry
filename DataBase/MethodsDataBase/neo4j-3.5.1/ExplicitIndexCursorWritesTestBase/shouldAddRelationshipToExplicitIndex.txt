@Test public void shouldAddRelationshipToExplicitIndex() throws Exception {
  long relId;
  try (org.neo4j.graphdb.Transaction ctx=graphDb.beginTx()){
    relId=graphDb.createNode().createRelationshipTo(graphDb.createNode(),RelationshipType.withName("R")).getId();
    ctx.success();
  }
   try (Transaction tx=beginTransaction()){
    ExplicitIndexWrite indexWrite=tx.indexWrite();
    indexWrite.relationshipAddToExplicitIndex(INDEX_NAME,relId,KEY,VALUE);
    tx.success();
  }
   try (org.neo4j.graphdb.Transaction ctx=graphDb.beginTx()){
    IndexHits<Relationship> hits=graphDb.index().forRelationships(INDEX_NAME).get(KEY,VALUE);
    assertThat(hits.next().getId(),equalTo(relId));
    hits.close();
    ctx.success();
  }
 }
