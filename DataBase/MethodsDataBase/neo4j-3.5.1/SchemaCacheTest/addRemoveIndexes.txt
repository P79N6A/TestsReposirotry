@Test public void addRemoveIndexes(){
  Collection<SchemaRule> rules=asList(hans,witch,gretel,robot);
  SchemaCache cache=new SchemaCache(new ConstraintSemantics(),rules,IndexProviderMap.EMPTY);
  StoreIndexDescriptor rule1=newIndexRule(10,11,12);
  StoreIndexDescriptor rule2=newIndexRule(13,14,15);
  cache.addSchemaRule(rule1);
  cache.addSchemaRule(rule2);
  cache.removeSchemaRule(hans.getId());
  cache.removeSchemaRule(witch.getId());
  assertEquals(asSet(gretel,rule1,rule2),Iterables.asSet(cache.indexDescriptors()));
  assertEquals(asSet(robot),Iterables.asSet(cache.constraintRules()));
}
