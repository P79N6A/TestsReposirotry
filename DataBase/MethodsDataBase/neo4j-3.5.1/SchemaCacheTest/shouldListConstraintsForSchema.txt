@Test public void shouldListConstraintsForSchema(){
  ConstraintRule rule1=uniquenessConstraintRule(0,1,1,0);
  ConstraintRule rule2=uniquenessConstraintRule(1,2,1,0);
  ConstraintRule rule3=nodePropertyExistenceConstraintRule(2,1,2);
  SchemaCache cache=newSchemaCache();
  cache.addSchemaRule(rule1);
  cache.addSchemaRule(rule2);
  cache.addSchemaRule(rule3);
  Set<ConstraintDescriptor> listed=asSet(cache.constraintsForSchema(rule3.schema()));
  assertEquals(singleton(rule3.getConstraintDescriptor()),listed);
}
