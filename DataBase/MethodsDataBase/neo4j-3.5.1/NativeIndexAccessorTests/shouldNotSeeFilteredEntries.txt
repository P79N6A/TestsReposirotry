@Test public void shouldNotSeeFilteredEntries() throws Exception {
  IndexEntryUpdate<IndexDescriptor>[] updates=someUpdatesSingleTypeNoDuplicates(supportedTypesExcludingNonOrderable());
  processAll(updates);
  valueCreatorUtil.sort(updates);
  IndexReader reader=accessor.newReader();
  NodeValueIterator iter=new NodeValueIterator();
  IndexQuery.ExactPredicate filter=IndexQuery.exact(0,valueOf(updates[1]));
  IndexQuery rangeQuery=valueCreatorUtil.rangeQuery(valueOf(updates[0]),true,valueOf(updates[2]),true);
  IndexProgressor.NodeValueClient filterClient=filterClient(iter,filter);
  reader.query(filterClient,IndexOrder.NONE,false,rangeQuery);
  assertTrue(iter.hasNext());
  assertEquals(entityIdOf(updates[1]),iter.next());
  assertFalse(iter.hasNext());
}
