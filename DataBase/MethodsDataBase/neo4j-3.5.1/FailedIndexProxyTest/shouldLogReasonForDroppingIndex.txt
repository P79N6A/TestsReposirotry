@Test public void shouldLogReasonForDroppingIndex() throws IOException {
  AssertableLogProvider logProvider=new AssertableLogProvider();
  new FailedIndexProxy(forSchema(forLabel(0,0),IndexProviderDescriptor.UNDECIDED).withId(1).withoutCapabilities(),"foo",mock(IndexPopulator.class),IndexPopulationFailure.failure("it broke"),indexCountsRemover,logProvider).drop();
  logProvider.assertAtLeastOnce(inLog(FailedIndexProxy.class).info("FailedIndexProxy#drop index on foo dropped due to:\nit broke"));
}
