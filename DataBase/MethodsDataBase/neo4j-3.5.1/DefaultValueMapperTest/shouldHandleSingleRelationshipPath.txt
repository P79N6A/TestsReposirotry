@Test public void shouldHandleSingleRelationshipPath(){
  Node start, end;
  Relationship relationship;
  try (Transaction tx=db.beginTx()){
    start=db.createNode();
    end=db.createNode();
    relationship=start.createRelationshipTo(end,RelationshipType.withName("R"));
    tx.success();
  }
   Path mapped=mapper.mapPath(path(asNodeValues(start,end),asRelationshipsValues(relationship)));
  try (Transaction ignore=db.beginTx()){
    assertThat(mapped.length(),equalTo(1));
    assertThat(mapped.startNode(),equalTo(start));
    assertThat(mapped.endNode(),equalTo(end));
    assertThat(Iterables.asList(mapped.relationships()),equalTo(singletonList(relationship)));
    assertThat(Iterables.asList(mapped.reverseRelationships()),equalTo(singletonList(relationship)));
    assertThat(Iterables.asList(mapped.nodes()),equalTo(Arrays.asList(start,end)));
    assertThat(Iterables.asList(mapped.reverseNodes()),equalTo(Arrays.asList(end,start)));
    assertThat(mapped.lastRelationship(),equalTo(relationship));
    assertThat(Iterators.asList(mapped.iterator()),equalTo(Arrays.asList(start,relationship,end)));
  }
 }
