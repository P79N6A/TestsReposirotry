@Test public void shouldHandleSingleNodePath(){
  Node node;
  try (Transaction tx=db.beginTx()){
    node=db.createNode();
    tx.success();
  }
   Path mapped=mapper.mapPath(path(asNodeValues(node),asRelationshipsValues()));
  try (Transaction ignore=db.beginTx()){
    assertThat(mapped.length(),equalTo(0));
    assertThat(mapped.startNode(),equalTo(node));
    assertThat(mapped.endNode(),equalTo(node));
    assertThat(Iterables.asList(mapped.relationships()),hasSize(0));
    assertThat(Iterables.asList(mapped.reverseRelationships()),hasSize(0));
    assertThat(Iterables.asList(mapped.nodes()),equalTo(singletonList(node)));
    assertThat(Iterables.asList(mapped.reverseNodes()),equalTo(singletonList(node)));
    assertThat(mapped.lastRelationship(),nullValue());
    assertThat(Iterators.asList(mapped.iterator()),equalTo(singletonList(node)));
  }
 }
