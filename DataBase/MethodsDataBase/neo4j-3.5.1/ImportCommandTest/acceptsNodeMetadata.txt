@Test void acceptsNodeMetadata() throws Exception {
  File homeDir=testDir.directory("home");
  ImporterFactory mockImporterFactory=mock(ImporterFactory.class);
  Importer importer=mock(Importer.class);
  when(mockImporterFactory.getImporterForMode(eq("csv"),any(Args.class),any(Config.class),any(OutsideWorld.class))).thenReturn(importer);
  ImportCommand importCommand=new ImportCommand(homeDir.toPath(),testDir.directory("conf").toPath(),new RealOutsideWorld(System.out,System.err,new ByteArrayInputStream(new byte[0])),mockImporterFactory);
  String[] arguments={"--database=foo","--from=bar","--nodes:PERSON:FRIEND=mock.csv"};
  importCommand.execute(arguments);
  verify(mockImporterFactory).getImporterForMode(eq("csv"),any(Args.class),any(Config.class),any(OutsideWorld.class));
}
