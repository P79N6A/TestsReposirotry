@Test public void shouldReportFailedIfAnyIsFailed(){
  IndexProvider provider=fusionIndexProvider;
  for (  InternalIndexState state : InternalIndexState.values()) {
    for (    IndexProvider failedProvider : aliveProviders) {
      for (      IndexProvider aliveProvider : aliveProviders) {
        setInitialState(aliveProvider,failedProvider == aliveProvider ? InternalIndexState.FAILED : state);
      }
      InternalIndexState initialState=provider.getInitialState(AN_INDEX);
      assertEquals(InternalIndexState.FAILED,initialState);
    }
  }
}
