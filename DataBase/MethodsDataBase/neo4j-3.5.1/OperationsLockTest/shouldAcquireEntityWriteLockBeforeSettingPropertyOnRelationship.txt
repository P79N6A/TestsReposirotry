@Test public void shouldAcquireEntityWriteLockBeforeSettingPropertyOnRelationship() throws Exception {
  when(relationshipCursor.next()).thenReturn(true);
  int propertyKeyId=8;
  Value value=Values.of(9);
  when(propertyCursor.next()).thenReturn(true);
  when(propertyCursor.propertyKey()).thenReturn(propertyKeyId);
  when(propertyCursor.propertyValue()).thenReturn(NO_VALUE);
  operations.relationshipSetProperty(123,propertyKeyId,value);
  order.verify(locks).acquireExclusive(LockTracer.NONE,ResourceTypes.RELATIONSHIP,123);
  order.verify(txState).relationshipDoReplaceProperty(123,propertyKeyId,NO_VALUE,value);
}
