@Test public void shouldPropagateExceptionFromFailingDecorator() throws Exception {
  RuntimeException failure=new RuntimeException("FAILURE");
  Iterable<DataFactory> data=DataFactories.datas(CsvInputTest.data(":ID,name\n1,Mattias",new FailingNodeDecorator(failure)));
  Input input=new CsvInput(data,defaultFormatNodeFileHeader(),datas(),defaultFormatNodeFileHeader(),IdType.INTEGER,config(COMMAS),silentBadCollector(0));
  try (InputIterator nodes=input.nodes().iterator()){
    readNext(nodes);
  }
 catch (  InputException e) {
    assertSame(e.getCause(),failure);
  }
}
