@Test public void unlockWriteAndTryTakeFlushLockMustInvalidateReadersOverlappingWithWriteLock(){
  pageList.unlockExclusiveAndTakeWriteLock(pageRef);
  long readStamp=pageList.tryOptimisticReadLock(pageRef);
  long flushStamp=pageList.unlockWriteAndTryTakeFlushLock(pageRef);
  assertFalse(pageList.validateReadLock(pageRef,readStamp));
  pageList.unlockFlush(pageRef,flushStamp,true);
  assertFalse(pageList.validateReadLock(pageRef,readStamp));
}
