@Test public void optimisticReadLockMustNotGetInterferenceFromAdjacentExclusiveAndWriteLocks(){
  pageList.unlockExclusive(prevPageRef);
  pageList.unlockExclusive(pageRef);
  pageList.unlockExclusive(nextPageRef);
  assertTrue(pageList.tryExclusiveLock(prevPageRef));
  assertTrue(pageList.tryExclusiveLock(nextPageRef));
  long r=pageList.tryOptimisticReadLock(pageRef);
  assertTrue(pageList.validateReadLock(pageRef,r));
  pageList.unlockExclusiveAndTakeWriteLock(prevPageRef);
  pageList.unlockExclusiveAndTakeWriteLock(nextPageRef);
  assertTrue(pageList.validateReadLock(pageRef,r));
  pageList.unlockWrite(prevPageRef);
  pageList.unlockWrite(nextPageRef);
  assertTrue(pageList.validateReadLock(pageRef,r));
}
