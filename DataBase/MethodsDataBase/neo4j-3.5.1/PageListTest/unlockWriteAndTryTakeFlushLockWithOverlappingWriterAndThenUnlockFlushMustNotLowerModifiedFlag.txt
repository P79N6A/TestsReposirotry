@Test public void unlockWriteAndTryTakeFlushLockWithOverlappingWriterAndThenUnlockFlushMustNotLowerModifiedFlag(){
  pageList.unlockExclusiveAndTakeWriteLock(pageRef);
  assertTrue(pageList.tryWriteLock(pageRef));
  long stamp=pageList.unlockWriteAndTryTakeFlushLock(pageRef);
  assertThat(stamp,is(not(0L)));
  pageList.unlockWrite(pageRef);
  assertTrue(pageList.isModified(pageRef));
  pageList.unlockFlush(pageRef,stamp,true);
  assertTrue(pageList.isModified(pageRef));
}
