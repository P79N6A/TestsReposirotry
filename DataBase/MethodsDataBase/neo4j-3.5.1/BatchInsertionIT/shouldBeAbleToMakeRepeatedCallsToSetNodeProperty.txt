@Test public void shouldBeAbleToMakeRepeatedCallsToSetNodeProperty() throws Exception {
  File file=dbRule.databaseLayout().databaseDirectory();
  BatchInserter inserter=BatchInserters.inserter(file,fileSystemRule.get());
  long nodeId=inserter.createNode(Collections.emptyMap());
  final Object finalValue=87;
  inserter.setNodeProperty(nodeId,"a","some property value");
  inserter.setNodeProperty(nodeId,"a",42);
  inserter.setNodeProperty(nodeId,"a",3.14);
  inserter.setNodeProperty(nodeId,"a",true);
  inserter.setNodeProperty(nodeId,"a",finalValue);
  inserter.shutdown();
  GraphDatabaseService db=dbRule.getGraphDatabaseAPI();
  try (Transaction ignored=db.beginTx()){
    assertThat(db.getNodeById(nodeId).getProperty("a"),equalTo(finalValue));
  }
  finally {
    db.shutdown();
  }
}
