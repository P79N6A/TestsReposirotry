@Test public void scanOverPartitions() throws Exception {
  PartitionedIndexReader indexReader=createPartitionedReaderFromReaders();
  IndexQuery.ExistsPredicate query=IndexQuery.exists(1);
  when(indexReader1.query(query)).thenReturn(PrimitiveLongResourceCollections.iterator(null,1));
  when(indexReader2.query(query)).thenReturn(PrimitiveLongResourceCollections.iterator(null,2));
  when(indexReader3.query(query)).thenReturn(PrimitiveLongResourceCollections.iterator(null,3));
  LongSet results=PrimitiveLongCollections.asSet(indexReader.query(query));
  verifyResult(results);
}
