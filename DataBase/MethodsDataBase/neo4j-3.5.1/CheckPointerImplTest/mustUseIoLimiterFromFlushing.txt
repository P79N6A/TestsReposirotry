@Test public void mustUseIoLimiterFromFlushing() throws Throwable {
  limiter=new IOLimiter(){
    @Override public long maybeLimitIO(    long previousStamp,    int recentlyCompletedIOs,    Flushable flushable){
      return 42;
    }
    @Override public boolean isLimited(){
      return true;
    }
  }
;
  when(threshold.isCheckPointingNeeded(anyLong(),eq(INFO))).thenReturn(true,false);
  mockTxIdStore();
  CheckPointerImpl checkPointing=checkPointer();
  checkPointing.start();
  checkPointing.checkPointIfNeeded(INFO);
  verify(storageEngine).flushAndForce(limiter);
}
