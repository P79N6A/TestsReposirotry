@Test public void mustFlushAsFastAsPossibleDuringTryCheckPoint() throws Exception {
  AtomicBoolean doneDisablingLimits=new AtomicBoolean();
  limiter=new IOLimiter(){
    @Override public long maybeLimitIO(    long previousStamp,    int recentlyCompletedIOs,    Flushable flushable){
      return 0;
    }
    @Override public void enableLimit(){
      doneDisablingLimits.set(true);
    }
    @Override public boolean isLimited(){
      return doneDisablingLimits.get();
    }
  }
;
  mockTxIdStore();
  CheckPointerImpl checkPointer=checkPointer();
  checkPointer.tryCheckPoint(INFO);
  assertTrue(doneDisablingLimits.get());
}
