@Test void writesFlushedFromPageFileMustBeExternallyObservable(){
  assertTimeout(ofMillis(SEMI_LONG_TIMEOUT_MILLIS),() -> {
    configureStandardPageCache();
    PagedFile pagedFile=map(file("a"),filePageSize);
    long startPageId=0;
    long endPageId=recordCount / recordsPerFilePage;
    try (PageCursor cursor=pagedFile.io(startPageId,PF_SHARED_WRITE_LOCK)){
      while (cursor.getCurrentPageId() < endPageId && cursor.next()) {
        writeRecords(cursor);
      }
    }
     pagedFile.flushAndForce();
    verifyRecordsInFile(file("a"),recordCount);
    pagedFile.close();
  }
);
}
