@Test void closingOfPageCacheMustBeConsideredSuccessfulEvenIfPageSwapperFactoryCloseThrows(){
  AtomicInteger closed=new AtomicInteger();
  PageSwapperFactory swapperFactory=new SingleFilePageSwapperFactory(){
    @Override public void close(){
      closed.getAndIncrement();
      throw new RuntimeException("boo");
    }
  }
;
  PageCache cache=createPageCache(swapperFactory,maxPages,PageCacheTracer.NULL,PageCursorTracerSupplier.NULL,EmptyVersionContextSupplier.EMPTY);
  Exception exception=assertThrows(Exception.class,cache::close);
  assertThat(exception.getMessage(),is("boo"));
  cache.close();
}
