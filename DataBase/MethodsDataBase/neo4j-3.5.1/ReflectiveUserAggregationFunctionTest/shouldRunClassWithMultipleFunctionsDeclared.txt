@Test public void shouldRunClassWithMultipleFunctionsDeclared() throws Throwable {
  List<CallableUserAggregationFunction> compiled=compile(MultiFunction.class);
  CallableUserAggregationFunction f1=compiled.get(0);
  CallableUserAggregationFunction f2=compiled.get(1);
  UserAggregator f1Aggregator=f1.create(new BasicContext());
  f1Aggregator.update(new Object[]{"Bonnie"});
  f1Aggregator.update(new Object[]{"Clyde"});
  UserAggregator f2Aggregator=f2.create(new BasicContext());
  f2Aggregator.update(new Object[]{"Bonnie",1337L});
  f2Aggregator.update(new Object[]{"Bonnie",42L});
  assertThat(f1Aggregator.result(),equalTo(Arrays.asList("Bonnie","Clyde")));
  assertThat(((Map)f2Aggregator.result()).get("Bonnie"),equalTo(1337L));
}
