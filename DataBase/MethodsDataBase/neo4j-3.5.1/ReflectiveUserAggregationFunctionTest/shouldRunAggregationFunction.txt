@Test public void shouldRunAggregationFunction() throws Throwable {
  CallableUserAggregationFunction func=compile(SingleAggregationFunction.class).get(0);
  UserAggregator aggregator=func.create(new BasicContext());
  aggregator.update(new Object[]{"Harry"});
  aggregator.update(new Object[]{"Bonnie"});
  aggregator.update(new Object[]{"Sally"});
  aggregator.update(new Object[]{"Clyde"});
  assertThat(aggregator.result(),equalTo(Arrays.asList("Bonnie","Clyde")));
}
