@Test void shouldHandleHelloMessage() throws Throwable {
  BoltStateMachineV3 machine=newStateMachine();
  BoltResponseRecorder recorder=new BoltResponseRecorder();
  machine.process(newHelloMessage(),recorder);
  RecordedBoltResponse response=recorder.nextResponse();
  assertThat(response,succeededWithMetadata("server",BOLT_SERVER_VERSION_PREFIX + Version.getNeo4jVersion()));
  assertThat(response,succeededWithMetadata("connection_id","conn-v3-test-boltchannel-id"));
  assertThat(machine.state(),instanceOf(ReadyState.class));
}
