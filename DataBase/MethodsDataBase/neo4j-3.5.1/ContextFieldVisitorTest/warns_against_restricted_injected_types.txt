@Test public void warns_against_restricted_injected_types(){
  Stream<VariableElement> fields=elementTestUtils.getFields(RestrictedContextTypes.class);
  Stream<CompilationMessage> result=fields.flatMap(contextFieldVisitor::visit);
  assertThat(result).extracting(CompilationMessage::getCategory,CompilationMessage::getContents).containsExactlyInAnyOrder(tuple(Diagnostic.Kind.WARNING,warning("org.neo4j.kernel.internal.GraphDatabaseAPI","RestrictedContextTypes#graphDatabaseAPI")),tuple(Diagnostic.Kind.WARNING,warning("org.neo4j.kernel.api.KernelTransaction","RestrictedContextTypes#kernelTransaction")),tuple(Diagnostic.Kind.WARNING,warning("org.neo4j.graphdb.DependencyResolver","RestrictedContextTypes#dependencyResolver")),tuple(Diagnostic.Kind.WARNING,warning("org.neo4j.kernel.api.security.UserManager","RestrictedContextTypes#userManager")));
}
