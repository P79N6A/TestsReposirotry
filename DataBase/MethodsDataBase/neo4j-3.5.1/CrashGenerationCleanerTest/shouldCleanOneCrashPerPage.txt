@Test public void shouldCleanOneCrashPerPage() throws Exception {
  Page[] pages=with(leafWith(crashed(leftSibling())),internalWith(crashed(leftSibling())),leafWith(crashed(rightSibling())),internalWith(crashed(rightSibling())),leafWith(crashed(successor())),internalWith(crashed(successor())),internalWith(crashed(firstChild())),internalWith(crashed(middleChild())),internalWith(crashed(lastChild())));
  initializeFile(pagedFile,pages);
  SimpleCleanupMonitor monitor=new SimpleCleanupMonitor();
  crashGenerationCleaner(pagedFile,0,pages.length,monitor).clean(executor);
  assertPagesVisited(monitor,pages.length);
  assertCleanedCrashPointers(monitor,9);
}
