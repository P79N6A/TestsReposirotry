@Test void shouldGiveAClearErrorMessageIfTheDestinationsParentDirectoryIsAFile() throws IOException {
  Path archive=testDirectory.file("the-archive.dump").toPath();
  Path destination=Paths.get(testDirectory.absolutePath().getAbsolutePath(),"subdir","the-destination");
  Files.write(destination.getParent(),new byte[0]);
  FileSystemException exception=assertThrows(FileSystemException.class,() -> new Loader().load(archive,destination,destination));
  assertEquals(destination.getParent().toString() + ": Not a directory",exception.getMessage());
}
