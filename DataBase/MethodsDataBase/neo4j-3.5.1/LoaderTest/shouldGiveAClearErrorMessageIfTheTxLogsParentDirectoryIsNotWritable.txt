@Test @DisabledOnOs(OS.WINDOWS) void shouldGiveAClearErrorMessageIfTheTxLogsParentDirectoryIsNotWritable() throws IOException {
  Path archive=testDirectory.file("the-archive.dump").toPath();
  Path destination=testDirectory.file("destination").toPath();
  Path txLogsDirectory=testDirectory.directory("subdir/txLogs").toPath();
  Files.createDirectories(txLogsDirectory.getParent());
  try (Closeable ignored=withPermissions(txLogsDirectory.getParent(),emptySet())){
    AccessDeniedException exception=assertThrows(AccessDeniedException.class,() -> new Loader().load(archive,destination,txLogsDirectory));
    assertEquals(txLogsDirectory.getParent().toString(),exception.getMessage());
  }
 }
