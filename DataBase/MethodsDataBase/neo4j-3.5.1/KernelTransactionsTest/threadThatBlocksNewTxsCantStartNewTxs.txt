@Test public void threadThatBlocksNewTxsCantStartNewTxs() throws Throwable {
  KernelTransactions kernelTransactions=newKernelTransactions();
  kernelTransactions.blockNewTransactions();
  try {
    kernelTransactions.newInstance(KernelTransaction.Type.implicit,AnonymousContext.write(),0L);
    fail("Exception expected");
  }
 catch (  Exception e) {
    assertThat(e,instanceOf(IllegalStateException.class));
  }
}
