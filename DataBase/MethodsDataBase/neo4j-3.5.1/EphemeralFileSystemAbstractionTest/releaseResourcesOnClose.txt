@Test void releaseResourcesOnClose() throws IOException {
  try (EphemeralFileSystemAbstraction fileSystemAbstraction=new EphemeralFileSystemAbstraction()){
    File testDir=new File("testDir");
    File testFile=new File("testFile");
    fileSystemAbstraction.mkdir(testDir);
    fileSystemAbstraction.create(testFile);
    assertTrue(fileSystemAbstraction.fileExists(testFile));
    assertTrue(fileSystemAbstraction.fileExists(testFile));
    fileSystemAbstraction.close();
    assertTrue(fileSystemAbstraction.isClosed());
    assertFalse(fileSystemAbstraction.fileExists(testFile));
    assertFalse(fileSystemAbstraction.fileExists(testFile));
  }
 }
