@Test @Ignore("javac fails to publish the deferred diagnostic of the second error to com.google.testing.compile.Compiler") public void fails_if_aggregation_function_exposes_return_type_without_aggregation_methods(){
  JavaFileObject function=JavaFileObjectUtils.INSTANCE.procedureSource("invalid/aggregation/FunctionWithoutAggregationMethods.java");
  CompileTester.UnsuccessfulCompilationClause unsuccessfulCompilationClause=assert_().about(javaSource()).that(function).processedWith(processor()).failsToCompile().withErrorCount(2);
  unsuccessfulCompilationClause.withErrorContaining("@UserAggregationUpdate usage error: expected aggregation type " + "<org.neo4j.tooling.procedure.procedures.invalid.aggregation.FunctionWithoutAggregationMethods.MyAggregation> " + "to define exactly 1 method with this annotation. Found none.").in(function).onLine(31);
  unsuccessfulCompilationClause.withErrorContaining("@UserAggregationResult usage error: expected aggregation type " + "<org.neo4j.tooling.procedure.procedures.invalid.aggregation.FunctionWithoutAggregationMethods.MyAggregation> " + "to define exactly 1 method with this annotation. Found none.").in(function).onLine(31);
}
