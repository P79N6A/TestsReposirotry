@Test void shouldMakeFromCanonical() throws IOException, CommandFailed, IncorrectUsage, IncorrectFormat {
  Path dataDir=testDirectory.directory("some-other-path").toPath();
  Path databaseDir=dataDir.resolve("databases/foo.db");
  Files.createDirectories(databaseDir);
  Files.write(configDir.resolve(Config.DEFAULT_CONFIG_FILE_NAME),singletonList(formatProperty(data_directory,dataDir)));
  new LoadCommand(homeDir,configDir,loader).execute(ArrayUtil.concat(new String[]{"--database=foo.db","--from=foo.dump"}));
  verify(loader).load(eq(Paths.get(new File("foo.dump").getCanonicalPath())),any(),any());
}
