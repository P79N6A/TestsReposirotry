@Test public void shouldLoadWhiteListedProcedure() throws Throwable {
  ProcedureConfig config=new ProcedureConfig(Config.defaults(procedure_whitelist,"org.neo4j.kernel.impl.proc.listCoolPeople"));
  Log log=mock(Log.class);
  ReflectiveProcedureCompiler procedureCompiler=new ReflectiveProcedureCompiler(new TypeMappers(),components,components,log,config);
  CallableProcedure proc=procedureCompiler.compileProcedure(SingleReadOnlyProcedure.class,null,false).get(0);
  RawIterator<Object[],ProcedureException> result=proc.apply(new BasicContext(),new Object[0],resourceTracker);
  assertEquals(result.next()[0],"Bonnie");
}
