@Test public void shouldNotLoadNoneWhiteListedProcedure() throws Throwable {
  ProcedureConfig config=new ProcedureConfig(Config.defaults(procedure_whitelist,"org.neo4j.kernel.impl.proc.NOTlistCoolPeople"));
  Log log=mock(Log.class);
  ReflectiveProcedureCompiler procedureCompiler=new ReflectiveProcedureCompiler(new TypeMappers(),components,components,log,config);
  List<CallableProcedure> proc=procedureCompiler.compileProcedure(SingleReadOnlyProcedure.class,null,false);
  verify(log).warn("The procedure 'org.neo4j.kernel.impl.proc.listCoolPeople' is not on the whitelist and won't be loaded.");
  assertThat(proc.isEmpty(),is(true));
}
