@Test public void closeIteratorMustCloseAll() throws Exception {
  PrimitiveLongResourceIterator[] iterators=new PrimitiveLongResourceIterator[aliveReaders.length];
  for (int i=0; i < aliveReaders.length; i++) {
    PrimitiveLongResourceIterator iterator=mock(PrimitiveLongResourceIterator.class);
    when(aliveReaders[i].query(any(IndexQuery.class))).thenReturn(iterator);
    iterators[i]=iterator;
  }
  fusionIndexReader.query(IndexQuery.exists(PROP_KEY)).close();
  for (  PrimitiveLongResourceIterator iterator : iterators) {
    verify(iterator,times(1)).close();
  }
}
