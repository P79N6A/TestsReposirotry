@Test public void alternativeHeaderNameIsSupported() throws Exception {
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.addHeader("myUsernameHeader","wolfman");
  MockHttpServletResponse response=new MockHttpServletResponse();
  MockFilterChain chain=new MockFilterChain();
  RequestHeaderAuthenticationFilter filter=new RequestHeaderAuthenticationFilter();
  filter.setAuthenticationManager(createAuthenticationManager());
  filter.setPrincipalRequestHeader("myUsernameHeader");
  filter.doFilter(request,response,chain);
  assertThat(SecurityContextHolder.getContext().getAuthentication()).isNotNull();
  assertThat(SecurityContextHolder.getContext().getAuthentication().getName()).isEqualTo("wolfman");
}
