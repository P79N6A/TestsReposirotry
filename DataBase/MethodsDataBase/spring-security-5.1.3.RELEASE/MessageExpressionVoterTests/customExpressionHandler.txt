@Test public void customExpressionHandler(){
  voter.setExpressionHandler(expressionHandler);
  when(expressionHandler.createEvaluationContext(authentication,message)).thenReturn(evaluationContext);
  when(expression.getValue(evaluationContext,Boolean.class)).thenReturn(true);
  assertThat(voter.vote(authentication,message,attributes)).isEqualTo(ACCESS_GRANTED);
  verify(expressionHandler).createEvaluationContext(authentication,message);
}
