@Test public void searchForNameWithCommaSucceeds() throws Exception {
  FilterBasedLdapUserSearch locator=new FilterBasedLdapUserSearch("ou=people","(uid={0})",getContextSource());
  locator.setSearchSubtree(false);
  DirContextOperations jerry=locator.searchForUser("jerry");
  assertThat(jerry.getStringAttribute("uid")).isEqualTo("jerry");
  assertThat(jerry.getDn()).isEqualTo(new LdapName("cn=mouse\\, jerry,ou=people"));
}
