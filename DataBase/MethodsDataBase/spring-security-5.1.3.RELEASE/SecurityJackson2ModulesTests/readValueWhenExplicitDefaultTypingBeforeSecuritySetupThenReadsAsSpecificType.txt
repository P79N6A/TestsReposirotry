@Test public void readValueWhenExplicitDefaultTypingBeforeSecuritySetupThenReadsAsSpecificType() throws Exception {
  mapper=new ObjectMapper();
  mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL,JsonTypeInfo.As.PROPERTY);
  SecurityJackson2Modules.enableDefaultTyping(mapper);
  String content="{\"@class\":\"org.springframework.security.jackson2.SecurityJackson2ModulesTests$NotWhitelisted\",\"property\":\"bar\"}";
  assertThat(mapper.readValue(content,Object.class)).isInstanceOf(NotWhitelisted.class);
}
