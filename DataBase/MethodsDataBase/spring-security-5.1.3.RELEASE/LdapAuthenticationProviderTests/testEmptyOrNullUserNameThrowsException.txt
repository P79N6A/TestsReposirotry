@Test public void testEmptyOrNullUserNameThrowsException(){
  LdapAuthenticationProvider ldapProvider=new LdapAuthenticationProvider(new MockAuthenticator(),new MockAuthoritiesPopulator());
  try {
    ldapProvider.authenticate(new UsernamePasswordAuthenticationToken(null,"password"));
    fail("Expected BadCredentialsException for empty username");
  }
 catch (  BadCredentialsException expected) {
  }
  try {
    ldapProvider.authenticate(new UsernamePasswordAuthenticationToken("","bobspassword"));
    fail("Expected BadCredentialsException for null username");
  }
 catch (  BadCredentialsException expected) {
  }
}
