@Test public void getConfigurersWhenMultipleConfigurersThenConfigurersReturned() throws Exception {
  DelegateSecurityConfigurer configurer1=new DelegateSecurityConfigurer();
  DelegateSecurityConfigurer configurer2=new DelegateSecurityConfigurer();
  TestConfiguredSecurityBuilder builder=new TestConfiguredSecurityBuilder(mock(ObjectPostProcessor.class),true);
  builder.apply(configurer1);
  builder.apply(configurer2);
  List<DelegateSecurityConfigurer> configurers=builder.getConfigurers(DelegateSecurityConfigurer.class);
  assertThat(configurers).hasSize(2);
  assertThat(configurers).containsExactly(configurer1,configurer2);
  assertThat(builder.getConfigurers(DelegateSecurityConfigurer.class)).hasSize(2);
}
