@Test public void removeConfigurersWhenMultipleConfigurersThenConfigurersRemoved() throws Exception {
  DelegateSecurityConfigurer configurer1=new DelegateSecurityConfigurer();
  DelegateSecurityConfigurer configurer2=new DelegateSecurityConfigurer();
  TestConfiguredSecurityBuilder builder=new TestConfiguredSecurityBuilder(mock(ObjectPostProcessor.class),true);
  builder.apply(configurer1);
  builder.apply(configurer2);
  List<DelegateSecurityConfigurer> removedConfigurers=builder.removeConfigurers(DelegateSecurityConfigurer.class);
  assertThat(removedConfigurers).hasSize(2);
  assertThat(removedConfigurers).containsExactly(configurer1,configurer2);
  assertThat(builder.getConfigurers(DelegateSecurityConfigurer.class)).isEmpty();
}
