@Test public void testLogout() throws Exception {
  MockLoginContext loginContext=new MockLoginContext(jaasProvider.getLoginContextName());
  JaasAuthenticationToken token=new JaasAuthenticationToken(null,null,loginContext);
  SecurityContext context=SecurityContextHolder.createEmptyContext();
  context.setAuthentication(token);
  SessionDestroyedEvent event=mock(SessionDestroyedEvent.class);
  when(event.getSecurityContexts()).thenReturn(Arrays.asList(context));
  jaasProvider.handleLogout(event);
  assertThat(loginContext.loggedOut).isTrue();
}
