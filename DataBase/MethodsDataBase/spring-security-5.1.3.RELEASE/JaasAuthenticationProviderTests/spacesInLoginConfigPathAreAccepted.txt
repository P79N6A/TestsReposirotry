@Test public void spacesInLoginConfigPathAreAccepted() throws Exception {
  File configFile;
  File configDir=new File(System.getProperty("java.io.tmpdir") + File.separator + "jaas test");
  configDir.deleteOnExit();
  if (configDir.exists()) {
    configDir.delete();
  }
  configDir.mkdir();
  configFile=File.createTempFile("login","conf",configDir);
  configFile.deleteOnExit();
  FileOutputStream fos=new FileOutputStream(configFile);
  PrintWriter pw=new PrintWriter(fos);
  pw.append("JAASTestBlah {" + "org.springframework.security.authentication.jaas.TestLoginModule required;" + "};");
  pw.flush();
  pw.close();
  JaasAuthenticationProvider myJaasProvider=new JaasAuthenticationProvider();
  myJaasProvider.setApplicationEventPublisher(context);
  myJaasProvider.setLoginConfig(new FileSystemResource(configFile));
  myJaasProvider.setAuthorityGranters(jaasProvider.getAuthorityGranters());
  myJaasProvider.setCallbackHandlers(jaasProvider.getCallbackHandlers());
  myJaasProvider.setLoginContextName(jaasProvider.getLoginContextName());
  myJaasProvider.afterPropertiesSet();
}
