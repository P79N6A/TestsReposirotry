@Test public void loginNullAuthenticationManagerFail() throws Exception {
  this.filter.setAuthenticationManager(null);
  this.filter.afterPropertiesSet();
  String username="username";
  String password="password";
  ServletException authException=new ServletException("Failed Login");
  doThrow(authException).when(this.request).login(username,password);
  try {
    wrappedRequest().login(username,password);
    fail("Expected Exception");
  }
 catch (  ServletException success) {
    assertThat(success).isEqualTo(authException);
  }
  verifyZeroInteractions(this.authenticationEntryPoint,this.authenticationManager,this.logoutHandler);
}
