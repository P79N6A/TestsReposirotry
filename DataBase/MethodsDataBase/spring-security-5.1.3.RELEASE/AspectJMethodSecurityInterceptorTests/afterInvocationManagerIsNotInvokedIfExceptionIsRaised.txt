@Test public void afterInvocationManagerIsNotInvokedIfExceptionIsRaised() throws Throwable {
  token.setAuthenticated(true);
  SecurityContextHolder.getContext().setAuthentication(token);
  AfterInvocationManager aim=mock(AfterInvocationManager.class);
  interceptor.setAfterInvocationManager(aim);
  when(aspectJCallback.proceedWithObject()).thenThrow(new RuntimeException());
  try {
    interceptor.invoke(joinPoint,aspectJCallback);
    fail("Expected exception");
  }
 catch (  RuntimeException expected) {
  }
  verifyZeroInteractions(aim);
}
