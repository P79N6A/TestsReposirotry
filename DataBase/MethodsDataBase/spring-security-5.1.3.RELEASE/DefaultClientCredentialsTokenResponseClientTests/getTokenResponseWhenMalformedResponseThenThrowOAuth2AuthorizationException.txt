@Test public void getTokenResponseWhenMalformedResponseThenThrowOAuth2AuthorizationException(){
  String accessTokenSuccessResponse="{\n" + "	\"access_token\": \"access-token-1234\",\n" + "   \"token_type\": \"bearer\",\n"+ "   \"expires_in\": \"3600\",\n"+ "   \"scope\": \"read write\",\n"+ "   \"custom_parameter_1\": \"custom-value-1\",\n"+ "   \"custom_parameter_2\": \"custom-value-2\"\n";
  this.server.enqueue(jsonResponse(accessTokenSuccessResponse));
  OAuth2ClientCredentialsGrantRequest clientCredentialsGrantRequest=new OAuth2ClientCredentialsGrantRequest(this.clientRegistration);
  assertThatThrownBy(() -> this.tokenResponseClient.getTokenResponse(clientCredentialsGrantRequest)).isInstanceOf(OAuth2AuthorizationException.class).hasMessageContaining("[invalid_token_response] An error occurred while attempting to retrieve the OAuth 2.0 Access Token Response");
}
