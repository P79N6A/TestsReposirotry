@Test public void loadUserWhenAuthenticationMethodHeaderSuccessResponseThenHttpMethodGet() throws Exception {
  this.clientRegistration.userInfoAuthenticationMethod(AuthenticationMethod.HEADER);
  String userInfoResponse="{\n" + "	\"id\": \"user1\",\n" + "   \"first-name\": \"first\",\n"+ "   \"last-name\": \"last\",\n"+ "   \"middle-name\": \"middle\",\n"+ "   \"address\": \"address\",\n"+ "   \"email\": \"user1@example.com\"\n"+ "}\n";
  enqueueApplicationJsonBody(userInfoResponse);
  this.userService.loadUser(oauth2UserRequest()).block();
  RecordedRequest request=this.server.takeRequest();
  assertThat(request.getMethod()).isEqualTo(HttpMethod.GET.name());
  assertThat(request.getHeader(HttpHeaders.ACCEPT)).isEqualTo(MediaType.APPLICATION_JSON_VALUE);
  assertThat(request.getHeader(HttpHeaders.AUTHORIZATION)).isEqualTo("Bearer " + this.accessToken.getTokenValue());
}
