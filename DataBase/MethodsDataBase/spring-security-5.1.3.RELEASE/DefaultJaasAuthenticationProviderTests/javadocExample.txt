@Test public void javadocExample(){
  String resName="/" + getClass().getName().replace('.','/') + ".xml";
  ClassPathXmlApplicationContext context=new ClassPathXmlApplicationContext(resName);
  context.registerShutdownHook();
  try {
    provider=context.getBean(DefaultJaasAuthenticationProvider.class);
    Authentication auth=provider.authenticate(token);
    assertThat(auth.isAuthenticated()).isEqualTo(true);
    assertThat(auth.getPrincipal()).isEqualTo(token.getPrincipal());
  }
  finally {
    context.close();
  }
}
