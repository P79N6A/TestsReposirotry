@Test public void ruleDefinedInAClassMethodIsApplied() throws Exception {
  MethodInvocation mi=new SimpleMethodInvocation(new TargetImpl(),methodTakingAString(),"joe");
  assertThat(am.vote(joe,mi,createAttributes(new PreInvocationExpressionAttribute(null,null,"T(org.springframework.security.access.expression.method.SecurityRules).isJoe(#argument)")))).isEqualTo(AccessDecisionVoter.ACCESS_GRANTED);
}
