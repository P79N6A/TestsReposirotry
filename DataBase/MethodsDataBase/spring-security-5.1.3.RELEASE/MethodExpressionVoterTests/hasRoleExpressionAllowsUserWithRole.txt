@Test public void hasRoleExpressionAllowsUserWithRole() throws Exception {
  MethodInvocation mi=new SimpleMethodInvocation(new TargetImpl(),methodTakingAnArray());
  assertThat(am.vote(joe,mi,createAttributes(new PreInvocationExpressionAttribute(null,null,"hasRole('blah')")))).isEqualTo(AccessDecisionVoter.ACCESS_GRANTED);
}
