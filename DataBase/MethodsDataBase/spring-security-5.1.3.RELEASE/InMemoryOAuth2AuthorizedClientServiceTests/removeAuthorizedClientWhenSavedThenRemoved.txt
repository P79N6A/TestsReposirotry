@Test public void removeAuthorizedClientWhenSavedThenRemoved(){
  Authentication authentication=mock(Authentication.class);
  when(authentication.getName()).thenReturn(this.principalName2);
  OAuth2AuthorizedClient authorizedClient=new OAuth2AuthorizedClient(this.registration2,this.principalName2,mock(OAuth2AccessToken.class));
  this.authorizedClientService.saveAuthorizedClient(authorizedClient,authentication);
  OAuth2AuthorizedClient loadedAuthorizedClient=this.authorizedClientService.loadAuthorizedClient(this.registration2.getRegistrationId(),this.principalName2);
  assertThat(loadedAuthorizedClient).isNotNull();
  this.authorizedClientService.removeAuthorizedClient(this.registration2.getRegistrationId(),this.principalName2);
  loadedAuthorizedClient=this.authorizedClientService.loadAuthorizedClient(this.registration2.getRegistrationId(),this.principalName2);
  assertThat(loadedAuthorizedClient).isNull();
}
