@Test public void saveAuthorizedClientWhenSavedThenCanLoad(){
  Authentication authentication=mock(Authentication.class);
  when(authentication.getName()).thenReturn(this.principalName2);
  OAuth2AuthorizedClient authorizedClient=new OAuth2AuthorizedClient(this.registration3,this.principalName2,mock(OAuth2AccessToken.class));
  this.authorizedClientService.saveAuthorizedClient(authorizedClient,authentication);
  OAuth2AuthorizedClient loadedAuthorizedClient=this.authorizedClientService.loadAuthorizedClient(this.registration3.getRegistrationId(),this.principalName2);
  assertThat(loadedAuthorizedClient).isEqualTo(authorizedClient);
}
