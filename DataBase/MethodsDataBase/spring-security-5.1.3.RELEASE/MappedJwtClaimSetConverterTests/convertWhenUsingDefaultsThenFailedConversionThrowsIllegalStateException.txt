@Test public void convertWhenUsingDefaultsThenFailedConversionThrowsIllegalStateException(){
  MappedJwtClaimSetConverter converter=MappedJwtClaimSetConverter.withDefaults(Collections.emptyMap());
  Map<String,Object> badIssuer=Collections.singletonMap(JwtClaimNames.ISS,"https://badly formed iss");
  assertThatCode(() -> converter.convert(badIssuer)).isInstanceOf(IllegalStateException.class);
  Map<String,Object> badIssuedAt=Collections.singletonMap(JwtClaimNames.IAT,"badly-formed-iat");
  assertThatCode(() -> converter.convert(badIssuedAt)).isInstanceOf(IllegalStateException.class);
  Map<String,Object> badExpiresAt=Collections.singletonMap(JwtClaimNames.EXP,"badly-formed-exp");
  assertThatCode(() -> converter.convert(badExpiresAt)).isInstanceOf(IllegalStateException.class);
  Map<String,Object> badNotBefore=Collections.singletonMap(JwtClaimNames.NBF,"badly-formed-nbf");
  assertThatCode(() -> converter.convert(badNotBefore)).isInstanceOf(IllegalStateException.class);
}
