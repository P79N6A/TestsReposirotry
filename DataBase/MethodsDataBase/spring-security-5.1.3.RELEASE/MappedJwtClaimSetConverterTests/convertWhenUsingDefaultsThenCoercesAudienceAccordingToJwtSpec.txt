@Test public void convertWhenUsingDefaultsThenCoercesAudienceAccordingToJwtSpec(){
  MappedJwtClaimSetConverter converter=MappedJwtClaimSetConverter.withDefaults(Collections.emptyMap());
  Map<String,Object> source=Collections.singletonMap(JwtClaimNames.AUD,"audience");
  Map<String,Object> target=converter.convert(source);
  assertThat(target.get(JwtClaimNames.AUD)).isInstanceOf(Collection.class);
  assertThat(target.get(JwtClaimNames.AUD)).isEqualTo(Arrays.asList("audience"));
  source=Collections.singletonMap(JwtClaimNames.AUD,Arrays.asList("one","two"));
  target=converter.convert(source);
  assertThat(target.get(JwtClaimNames.AUD)).isInstanceOf(Collection.class);
  assertThat(target.get(JwtClaimNames.AUD)).isEqualTo(Arrays.asList("one","two"));
}
