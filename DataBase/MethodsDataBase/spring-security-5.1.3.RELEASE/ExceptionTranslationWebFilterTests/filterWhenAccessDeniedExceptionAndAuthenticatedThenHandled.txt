@Test public void filterWhenAccessDeniedExceptionAndAuthenticatedThenHandled(){
  when(this.exchange.getPrincipal()).thenReturn(Mono.just(this.principal));
  when(this.chain.filter(this.exchange)).thenReturn(Mono.error(new AccessDeniedException("Not Authorized")));
  StepVerifier.create(this.filter.filter(this.exchange,this.chain)).expectComplete().verify();
  this.deniedPublisher.assertWasSubscribed();
  this.entryPointPublisher.assertWasNotSubscribed();
}
