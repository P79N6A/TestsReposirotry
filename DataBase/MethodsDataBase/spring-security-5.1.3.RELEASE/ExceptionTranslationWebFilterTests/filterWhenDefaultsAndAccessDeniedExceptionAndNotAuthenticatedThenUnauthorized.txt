@Test public void filterWhenDefaultsAndAccessDeniedExceptionAndNotAuthenticatedThenUnauthorized(){
  this.filter=new ExceptionTranslationWebFilter();
  when(this.exchange.getPrincipal()).thenReturn(Mono.empty());
  when(this.chain.filter(this.exchange)).thenReturn(Mono.error(new AccessDeniedException("Not Authorized")));
  StepVerifier.create(this.filter.filter(this.exchange,this.chain)).expectComplete().verify();
  assertThat(this.exchange.getResponse().getStatusCode()).isEqualTo(HttpStatus.UNAUTHORIZED);
}
