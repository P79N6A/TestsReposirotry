@Test @WithMockUser(username="bob",password="bobspassword",authorities="ROLE_USER") public void changePasswordWhenOldPasswordIsIncorrectThenThrowsException(){
  assertThatCode(() -> this.userDetailsManager.changePassword("wrongoldpassword","bobsnewpassword")).isInstanceOf(BadCredentialsException.class);
}
