@Test public void valueDefaultsUsername(){
  when(withUser.value()).thenReturn("valueUser");
  when(withUser.password()).thenReturn("password");
  when(withUser.roles()).thenReturn(new String[]{"USER"});
  when(withUser.authorities()).thenReturn(new String[]{});
  assertThat(factory.createSecurityContext(withUser).getAuthentication().getName()).isEqualTo(withUser.value());
}
