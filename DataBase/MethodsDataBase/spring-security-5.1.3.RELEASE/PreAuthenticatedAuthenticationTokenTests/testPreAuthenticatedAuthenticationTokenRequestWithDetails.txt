@Test public void testPreAuthenticatedAuthenticationTokenRequestWithDetails(){
  Object principal="dummyUser";
  Object credentials="dummyCredentials";
  Object details="dummyDetails";
  PreAuthenticatedAuthenticationToken token=new PreAuthenticatedAuthenticationToken(principal,credentials);
  token.setDetails(details);
  assertThat(token.getPrincipal()).isEqualTo(principal);
  assertThat(token.getCredentials()).isEqualTo(credentials);
  assertThat(token.getDetails()).isEqualTo(details);
  assertThat(token.getAuthorities().isEmpty()).isTrue();
}
