@Test public void validateWhenConfiguredWithFixedClockThenValidatesUsingFixedTime(){
  Jwt jwt=new Jwt(MOCK_TOKEN_VALUE,MOCK_ISSUED_AT,Instant.now(MOCK_NOW),MOCK_HEADER,Collections.singletonMap("some","claim"));
  JwtTimestampValidator jwtValidator=new JwtTimestampValidator(Duration.ofNanos(0));
  jwtValidator.setClock(MOCK_NOW);
  assertThat(jwtValidator.validate(jwt).hasErrors()).isFalse();
  jwt=new Jwt(MOCK_TOKEN_VALUE,MOCK_ISSUED_AT,null,MOCK_HEADER,Collections.singletonMap(JwtClaimNames.NBF,Instant.now(MOCK_NOW)));
  assertThat(jwtValidator.validate(jwt).hasErrors()).isFalse();
}
