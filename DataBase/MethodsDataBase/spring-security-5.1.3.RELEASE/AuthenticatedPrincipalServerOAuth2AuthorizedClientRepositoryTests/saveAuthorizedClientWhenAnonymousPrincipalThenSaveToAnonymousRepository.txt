@Test public void saveAuthorizedClientWhenAnonymousPrincipalThenSaveToAnonymousRepository(){
  when(this.anonymousAuthorizedClientRepository.saveAuthorizedClient(any(),any(),any())).thenReturn(Mono.empty());
  Authentication authentication=this.createAnonymousPrincipal();
  OAuth2AuthorizedClient authorizedClient=mock(OAuth2AuthorizedClient.class);
  this.authorizedClientRepository.saveAuthorizedClient(authorizedClient,authentication,this.exchange).block();
  verify(this.anonymousAuthorizedClientRepository).saveAuthorizedClient(authorizedClient,authentication,this.exchange);
}
