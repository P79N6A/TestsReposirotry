@Test public void saveAuthorizedClientWhenAuthenticatedPrincipalThenSaveToService(){
  when(this.authorizedClientService.saveAuthorizedClient(any(),any())).thenReturn(Mono.empty());
  Authentication authentication=this.createAuthenticatedPrincipal();
  OAuth2AuthorizedClient authorizedClient=mock(OAuth2AuthorizedClient.class);
  this.authorizedClientRepository.saveAuthorizedClient(authorizedClient,authentication,this.exchange).block();
  verify(this.authorizedClientService).saveAuthorizedClient(authorizedClient,authentication);
}
