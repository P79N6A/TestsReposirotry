@Test public void defaultTargetUrlIsUsedIfNoMappingExists() throws Exception {
  ExceptionMappingAuthenticationFailureHandler fh=new ExceptionMappingAuthenticationFailureHandler();
  fh.setDefaultFailureUrl("/failed");
  MockHttpServletResponse response=new MockHttpServletResponse();
  fh.onAuthenticationFailure(new MockHttpServletRequest(),response,new BadCredentialsException(""));
  assertThat(response.getRedirectedUrl()).isEqualTo("/failed");
}
