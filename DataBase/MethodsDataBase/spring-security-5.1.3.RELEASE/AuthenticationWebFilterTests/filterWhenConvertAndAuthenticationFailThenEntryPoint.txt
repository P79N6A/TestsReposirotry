@Test public void filterWhenConvertAndAuthenticationFailThenEntryPoint(){
  Mono<Authentication> authentication=Mono.just(new TestingAuthenticationToken("test","this","ROLE_USER"));
  when(this.authenticationConverter.convert(any())).thenReturn(authentication);
  when(this.authenticationManager.authenticate(any())).thenReturn(Mono.error(new BadCredentialsException("Failed")));
  when(this.failureHandler.onAuthenticationFailure(any(),any())).thenReturn(Mono.empty());
  WebTestClient client=WebTestClientBuilder.bindToWebFilters(this.filter).build();
  client.get().uri("/").exchange().expectStatus().isOk().expectBody().isEmpty();
  verify(this.failureHandler).onAuthenticationFailure(any(),any());
  verify(this.securityContextRepository,never()).save(any(),any());
  verifyZeroInteractions(this.successHandler);
}
