@Test public void filterWhenConvertAndAuthenticationExceptionThenServerError(){
  Mono<Authentication> authentication=Mono.just(new TestingAuthenticationToken("test","this","ROLE_USER"));
  when(this.authenticationConverter.convert(any())).thenReturn(authentication);
  when(this.authenticationManager.authenticate(any())).thenReturn(Mono.error(new RuntimeException("Failed")));
  WebTestClient client=WebTestClientBuilder.bindToWebFilters(this.filter).build();
  client.get().uri("/").exchange().expectStatus().is5xxServerError().expectBody().isEmpty();
  verify(this.securityContextRepository,never()).save(any(),any());
  verifyZeroInteractions(this.successHandler,this.failureHandler);
}
