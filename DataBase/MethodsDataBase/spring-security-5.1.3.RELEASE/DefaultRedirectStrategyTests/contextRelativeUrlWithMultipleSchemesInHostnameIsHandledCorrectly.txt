@Test public void contextRelativeUrlWithMultipleSchemesInHostnameIsHandledCorrectly() throws Exception {
  DefaultRedirectStrategy rds=new DefaultRedirectStrategy();
  rds.setContextRelative(true);
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setContextPath("/context");
  MockHttpServletResponse response=new MockHttpServletResponse();
  rds.sendRedirect(request,response,"http://http://context.blah.com/context/remainder");
  assertThat(response.getRedirectedUrl()).isEqualTo("remainder");
}
