@Test(expected=UsernameNotFoundException.class) public void attemptSwitchToUnknownUserFails() throws Exception {
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.addParameter(SwitchUserFilter.SPRING_SECURITY_SWITCH_USERNAME_KEY,"user-that-doesnt-exist");
  SwitchUserFilter filter=new SwitchUserFilter();
  filter.setUserDetailsService(new MockUserDetailsService());
  filter.attemptSwitchUser(request);
}
