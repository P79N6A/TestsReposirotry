@Test public void sessionDestroyedEventRemovesSessionFromRegistry(){
  Object principal="Some principal object";
  final String sessionId="zzzz";
  sessionRegistry.registerNewSession(sessionId,principal);
  sessionRegistry.onApplicationEvent(new SessionDestroyedEvent(""){
    @Override public String getId(){
      return sessionId;
    }
    @Override public List<SecurityContext> getSecurityContexts(){
      return null;
    }
  }
);
  assertThat(sessionRegistry.getSessionInformation(sessionId)).isNull();
}
