@Test public void verificationExceptionsRaiseOpenIDException() throws Exception {
  ConsumerManager mgr=mock(ConsumerManager.class);
  OpenID4JavaConsumer consumer=new OpenID4JavaConsumer(mgr,new NullAxFetchListFactory());
  when(mgr.verify(any(),any(ParameterList.class),any(DiscoveryInformation.class))).thenThrow(new MessageException("")).thenThrow(new AssociationException("")).thenThrow(new DiscoveryException(""));
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setQueryString("x=5");
  try {
    consumer.endConsumption(request);
    fail("OpenIDConsumerException was not thrown");
  }
 catch (  OpenIDConsumerException expected) {
  }
  try {
    consumer.endConsumption(request);
    fail("OpenIDConsumerException was not thrown");
  }
 catch (  OpenIDConsumerException expected) {
  }
  try {
    consumer.endConsumption(request);
    fail("OpenIDConsumerException was not thrown");
  }
 catch (  OpenIDConsumerException expected) {
  }
}
