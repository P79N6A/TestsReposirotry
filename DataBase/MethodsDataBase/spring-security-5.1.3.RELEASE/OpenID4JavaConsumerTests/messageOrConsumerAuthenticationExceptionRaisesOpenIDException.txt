@Test public void messageOrConsumerAuthenticationExceptionRaisesOpenIDException() throws Exception {
  ConsumerManager mgr=mock(ConsumerManager.class);
  OpenID4JavaConsumer consumer=new OpenID4JavaConsumer(mgr,new NullAxFetchListFactory());
  when(mgr.authenticate(ArgumentMatchers.<DiscoveryInformation>any(),any(),any())).thenThrow(new MessageException("msg"),new ConsumerException("msg"));
  try {
    consumer.beginConsumption(new MockHttpServletRequest(),"","","");
    fail("OpenIDConsumerException was not thrown");
  }
 catch (  OpenIDConsumerException expected) {
  }
  try {
    consumer.beginConsumption(new MockHttpServletRequest(),"","","");
    fail("OpenIDConsumerException was not thrown");
  }
 catch (  OpenIDConsumerException expected) {
  }
}
