@Test public void invalidBase64IsIgnored() throws Exception {
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.addHeader("Authorization","Basic NOT_VALID_BASE64");
  request.setServletPath("/some_file.html");
  request.setSession(new MockHttpSession());
  final MockHttpServletResponse response=new MockHttpServletResponse();
  FilterChain chain=mock(FilterChain.class);
  filter.doFilter(request,response,chain);
  verify(chain,never()).doFilter(any(ServletRequest.class),any(ServletResponse.class));
  assertThat(SecurityContextHolder.getContext().getAuthentication()).isNull();
  assertThat(response.getStatus()).isEqualTo(401);
}
