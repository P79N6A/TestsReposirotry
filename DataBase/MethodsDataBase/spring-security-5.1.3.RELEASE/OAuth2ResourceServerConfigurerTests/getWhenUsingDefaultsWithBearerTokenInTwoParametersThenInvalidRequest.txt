@Test public void getWhenUsingDefaultsWithBearerTokenInTwoParametersThenInvalidRequest() throws Exception {
  this.spring.register(DefaultConfig.class).autowire();
  MultiValueMap<String,String> params=new LinkedMultiValueMap<>();
  params.add("access_token","token1");
  params.add("access_token","token2");
  this.mvc.perform(get("/").params(params)).andExpect(status().isBadRequest()).andExpect(invalidRequestHeader("Found multiple bearer tokens in the request"));
}
