@Test public void requestWhenCustomJwtDecoderWiredOnDslThenUsed() throws Exception {
  this.spring.register(CustomJwtDecoderOnDsl.class,BasicController.class).autowire();
  CustomJwtDecoderOnDsl config=this.spring.getContext().getBean(CustomJwtDecoderOnDsl.class);
  JwtDecoder decoder=config.decoder();
  when(decoder.decode(anyString())).thenReturn(JWT);
  this.mvc.perform(get("/authenticated").with(bearerToken(JWT_TOKEN))).andExpect(status().isOk()).andExpect(content().string(JWT_SUBJECT));
}
