@Test public void getWhenAlsoUsingHttpBasicThenCorrectProviderEngages() throws Exception {
  this.spring.register(WebServerConfig.class,BasicAndResourceServerConfig.class,BasicController.class).autowire();
  this.authz.enqueue(this.jwks("Default"));
  String token=this.token("ValidNoScopes");
  this.mvc.perform(get("/authenticated").with(bearerToken(token))).andExpect(status().isOk()).andExpect(content().string("test-subject"));
  this.mvc.perform(get("/authenticated").with(httpBasic("basic-user","basic-password"))).andExpect(status().isOk()).andExpect(content().string("basic-user"));
}
