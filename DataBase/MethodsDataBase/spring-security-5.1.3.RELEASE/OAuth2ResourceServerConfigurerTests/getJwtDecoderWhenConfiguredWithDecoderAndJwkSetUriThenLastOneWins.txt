@Test public void getJwtDecoderWhenConfiguredWithDecoderAndJwkSetUriThenLastOneWins(){
  ApplicationContext context=mock(ApplicationContext.class);
  OAuth2ResourceServerConfigurer.JwtConfigurer jwtConfigurer=new OAuth2ResourceServerConfigurer(context).jwt();
  JwtDecoder decoder=mock(JwtDecoder.class);
  jwtConfigurer.jwkSetUri(JWK_SET_URI);
  jwtConfigurer.decoder(decoder);
  assertThat(jwtConfigurer.getJwtDecoder()).isEqualTo(decoder);
  jwtConfigurer=new OAuth2ResourceServerConfigurer(context).jwt();
  jwtConfigurer.decoder(decoder);
  jwtConfigurer.jwkSetUri(JWK_SET_URI);
  assertThat(jwtConfigurer.getJwtDecoder()).isInstanceOf(NimbusJwtDecoderJwkSupport.class);
}
