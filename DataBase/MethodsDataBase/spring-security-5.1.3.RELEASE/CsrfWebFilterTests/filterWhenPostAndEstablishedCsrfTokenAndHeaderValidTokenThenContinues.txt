@Test public void filterWhenPostAndEstablishedCsrfTokenAndHeaderValidTokenThenContinues(){
  PublisherProbe<Void> chainResult=PublisherProbe.empty();
  when(this.chain.filter(any())).thenReturn(chainResult.mono());
  this.csrfFilter.setCsrfTokenRepository(this.repository);
  when(this.repository.loadToken(any())).thenReturn(Mono.just(this.token));
  when(this.repository.generateToken(any())).thenReturn(Mono.just(this.token));
  this.post=MockServerWebExchange.from(MockServerHttpRequest.post("/").header(this.token.getHeaderName(),this.token.getToken()));
  Mono<Void> result=this.csrfFilter.filter(this.post,this.chain);
  StepVerifier.create(result).verifyComplete();
  chainResult.assertWasSubscribed();
}
