@Test public void commaSeparatedStringIsParsedCorrectly(){
  List<GrantedAuthority> authorityArray=AuthorityUtils.commaSeparatedStringToAuthorityList(" ROLE_A, B, C, ROLE_D\n,\n E ");
  Set<String> authorities=AuthorityUtils.authorityListToSet(authorityArray);
  assertThat(authorities.contains("B")).isTrue();
  assertThat(authorities.contains("C")).isTrue();
  assertThat(authorities.contains("E")).isTrue();
  assertThat(authorities.contains("ROLE_A")).isTrue();
  assertThat(authorities.contains("ROLE_D")).isTrue();
}
