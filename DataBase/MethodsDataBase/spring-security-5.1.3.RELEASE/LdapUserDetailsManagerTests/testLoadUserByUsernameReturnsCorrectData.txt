@Test public void testLoadUserByUsernameReturnsCorrectData(){
  mgr.setUsernameMapper(new DefaultLdapUsernameToDnMapper("ou=people","uid"));
  mgr.setGroupSearchBase("ou=groups");
  LdapUserDetails bob=(LdapUserDetails)mgr.loadUserByUsername("bob");
  assertThat(bob.getUsername()).isEqualTo("bob");
  assertThat(bob.getDn()).isEqualTo("uid=bob,ou=people,dc=springframework,dc=org");
  assertThat(bob.getPassword()).isEqualTo("bobspassword");
  assertThat(bob.getAuthorities()).hasSize(1);
}
