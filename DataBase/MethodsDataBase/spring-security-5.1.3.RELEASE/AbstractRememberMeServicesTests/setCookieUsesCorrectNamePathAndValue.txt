@Test public void setCookieUsesCorrectNamePathAndValue(){
  MockHttpServletRequest request=new MockHttpServletRequest();
  MockHttpServletResponse response=new MockHttpServletResponse();
  request.setContextPath("contextpath");
  MockRememberMeServices services=new MockRememberMeServices(uds){
    protected String encodeCookie(    String[] cookieTokens){
      return cookieTokens[0];
    }
  }
;
  services.setCookieName("mycookiename");
  services.setCookie(new String[]{"mycookie"},1000,request,response);
  Cookie cookie=response.getCookie("mycookiename");
  assertThat(cookie).isNotNull();
  assertThat(cookie.getValue()).isEqualTo("mycookie");
  assertThat(cookie.getName()).isEqualTo("mycookiename");
  assertThat(cookie.getPath()).isEqualTo("contextpath");
  assertThat(cookie.getSecure()).isFalse();
}
