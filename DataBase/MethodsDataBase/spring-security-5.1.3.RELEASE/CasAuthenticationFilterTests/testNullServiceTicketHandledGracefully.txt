@Test(expected=AuthenticationException.class) public void testNullServiceTicketHandledGracefully() throws Exception {
  CasAuthenticationFilter filter=new CasAuthenticationFilter();
  filter.setAuthenticationManager(new AuthenticationManager(){
    public Authentication authenticate(    Authentication a){
      throw new BadCredentialsException("Rejected");
    }
  }
);
  filter.attemptAuthentication(new MockHttpServletRequest(),new MockHttpServletResponse());
}
