@Test public void saveToken(){
  CsrfToken token=this.repository.generateToken(this.request);
  this.repository.saveToken(token,this.request,this.response);
  Cookie tokenCookie=this.response.getCookie(CookieCsrfTokenRepository.DEFAULT_CSRF_COOKIE_NAME);
  assertThat(tokenCookie.getMaxAge()).isEqualTo(-1);
  assertThat(tokenCookie.getName()).isEqualTo(CookieCsrfTokenRepository.DEFAULT_CSRF_COOKIE_NAME);
  assertThat(tokenCookie.getPath()).isEqualTo(this.request.getContextPath());
  assertThat(tokenCookie.getSecure()).isEqualTo(this.request.isSecure());
  assertThat(tokenCookie.getValue()).isEqualTo(token.getToken());
  assertThat(tokenCookie.isHttpOnly()).isEqualTo(true);
}
