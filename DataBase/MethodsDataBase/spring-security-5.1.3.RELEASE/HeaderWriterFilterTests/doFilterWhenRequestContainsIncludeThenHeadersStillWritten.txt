@Test public void doFilterWhenRequestContainsIncludeThenHeadersStillWritten() throws Exception {
  HeaderWriterFilter filter=new HeaderWriterFilter(Collections.singletonList(this.writer1));
  MockHttpServletRequest mockRequest=new MockHttpServletRequest();
  MockHttpServletResponse mockResponse=new MockHttpServletResponse();
  filter.doFilter(mockRequest,mockResponse,(request,response) -> {
    verifyZeroInteractions(HeaderWriterFilterTests.this.writer1);
    request.getRequestDispatcher("/").include(request,response);
    verify(HeaderWriterFilterTests.this.writer1).writeHeaders(any(HttpServletRequest.class),any(HttpServletResponse.class));
  }
);
  verifyNoMoreInteractions(this.writer1);
}
