@Test(expected=IllegalArgumentException.class) public void testGetUserDetailsInvalidType(){
  PreAuthenticatedGrantedAuthoritiesUserDetailsService svc=new PreAuthenticatedGrantedAuthoritiesUserDetailsService();
  PreAuthenticatedAuthenticationToken token=new PreAuthenticatedAuthenticationToken("dummy","dummy");
  token.setDetails(new Object());
  svc.loadUserDetails(token);
}
