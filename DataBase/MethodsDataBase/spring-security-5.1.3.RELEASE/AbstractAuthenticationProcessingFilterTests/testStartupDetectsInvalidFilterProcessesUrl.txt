@Test public void testStartupDetectsInvalidFilterProcessesUrl() throws Exception {
  AbstractAuthenticationProcessingFilter filter=new MockAuthenticationFilter();
  filter.setAuthenticationFailureHandler(failureHandler);
  filter.setAuthenticationManager(mock(AuthenticationManager.class));
  filter.setAuthenticationSuccessHandler(successHandler);
  try {
    filter.setFilterProcessesUrl(null);
    fail("Should have thrown IllegalArgumentException");
  }
 catch (  IllegalArgumentException expected) {
    assertThat(expected.getMessage()).isEqualTo("Pattern cannot be null or empty");
  }
}
