@Test public void authenticateWhenPasswordNotEqualThenBadCredentials(){
  UserDetails user=PasswordEncodedUser.withUsername(this.username).password(this.password).roles("USER").build();
  when(repository.findByUsername(user.getUsername())).thenReturn(Mono.just(user));
  UsernamePasswordAuthenticationToken token=new UsernamePasswordAuthenticationToken(username,this.password + "INVALID");
  Mono<Authentication> authentication=manager.authenticate(token);
  StepVerifier.create(authentication).expectError(BadCredentialsException.class).verify();
}
