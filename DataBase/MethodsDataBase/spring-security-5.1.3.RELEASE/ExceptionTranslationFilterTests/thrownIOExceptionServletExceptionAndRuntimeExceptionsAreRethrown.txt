@Test public void thrownIOExceptionServletExceptionAndRuntimeExceptionsAreRethrown() throws Exception {
  ExceptionTranslationFilter filter=new ExceptionTranslationFilter(mockEntryPoint);
  filter.afterPropertiesSet();
  Exception[] exceptions={new IOException(),new ServletException(),new RuntimeException()};
  for (  Exception e : exceptions) {
    FilterChain fc=mock(FilterChain.class);
    doThrow(e).when(fc).doFilter(any(HttpServletRequest.class),any(HttpServletResponse.class));
    try {
      filter.doFilter(new MockHttpServletRequest(),new MockHttpServletResponse(),fc);
      fail("Should have thrown Exception");
    }
 catch (    Exception expected) {
      assertThat(expected).isSameAs(e);
    }
  }
}
