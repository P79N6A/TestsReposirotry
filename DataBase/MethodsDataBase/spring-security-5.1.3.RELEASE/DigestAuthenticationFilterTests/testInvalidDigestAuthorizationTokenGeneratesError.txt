@Test public void testInvalidDigestAuthorizationTokenGeneratesError() throws Exception {
  String token="NOT_A_VALID_TOKEN_AS_MISSING_COLON";
  request.addHeader("Authorization","Digest " + new String(Base64.encodeBase64(token.getBytes())));
  MockHttpServletResponse response=executeFilterInContainerSimulator(filter,request,false);
  assertThat(response.getStatus()).isEqualTo(401);
  assertThat(SecurityContextHolder.getContext().getAuthentication()).isNull();
}
