@Test(expected=IllegalArgumentException.class) public void startupDetectsMissingAuthenticationEntryPoint() throws Exception {
  DigestAuthenticationFilter filter=new DigestAuthenticationFilter();
  filter.setUserDetailsService(mock(UserDetailsService.class));
  filter.afterPropertiesSet();
}
