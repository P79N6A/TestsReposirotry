@Test public void testAllParentsAreRetrievedWhenChildIsLoaded() throws Exception {
  String query="INSERT INTO acl_object_identity(ID,OBJECT_ID_CLASS,OBJECT_ID_IDENTITY,PARENT_OBJECT,OWNER_SID,ENTRIES_INHERITING) VALUES (6,2,103,1,1,1);";
  getJdbcTemplate().execute(query);
  ObjectIdentity topParentOid=new ObjectIdentityImpl(TARGET_CLASS,Long.valueOf(100));
  ObjectIdentity middleParentOid=new ObjectIdentityImpl(TARGET_CLASS,Long.valueOf(101));
  ObjectIdentity childOid=new ObjectIdentityImpl(TARGET_CLASS,Long.valueOf(102));
  ObjectIdentity middleParent2Oid=new ObjectIdentityImpl(TARGET_CLASS,Long.valueOf(103));
  Map<ObjectIdentity,Acl> map=this.strategy.readAclsById(Arrays.asList(childOid),null);
  assertThat(map.get(childOid)).isNotNull();
  assertThat(map.get(childOid).getObjectIdentity()).isEqualTo(childOid);
  assertThat(map.get(middleParentOid)).isNotNull();
  assertThat(map.get(middleParentOid).getObjectIdentity()).isEqualTo(middleParentOid);
  assertThat(map.get(topParentOid)).isNotNull();
  assertThat(map.get(topParentOid).getObjectIdentity()).isEqualTo(topParentOid);
  assertThat(map.get(middleParent2Oid)).isNull();
}
