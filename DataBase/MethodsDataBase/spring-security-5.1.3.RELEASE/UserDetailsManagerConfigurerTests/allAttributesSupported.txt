@Test public void allAttributesSupported(){
  UserDetails userDetails=new UserDetailsManagerConfigurer<AuthenticationManagerBuilder,InMemoryUserDetailsManagerConfigurer<AuthenticationManagerBuilder>>(userDetailsManager).withUser("user").password("password").roles("USER").disabled(true).accountExpired(true).accountLocked(true).credentialsExpired(true).build();
  assertThat(userDetails.getUsername()).isEqualTo("user");
  assertThat(userDetails.getPassword()).isEqualTo("password");
  assertThat(userDetails.getAuthorities().stream().findFirst().get().getAuthority()).isEqualTo("ROLE_USER");
  assertThat(userDetails.isAccountNonExpired()).isFalse();
  assertThat(userDetails.isAccountNonLocked()).isFalse();
  assertThat(userDetails.isCredentialsNonExpired()).isFalse();
  assertThat(userDetails.isEnabled()).isFalse();
}
