@Test public final void authenticateIgnoreCredentials() throws Exception {
  UserDetails ud=new User("dummyUser1","dummyPwd1",true,true,true,true,AuthorityUtils.NO_AUTHORITIES);
  PreAuthenticatedAuthenticationProvider provider=getProvider(ud);
  Authentication request=new PreAuthenticatedAuthenticationToken("dummyUser1","dummyPwd2");
  Authentication result=provider.authenticate(request);
  assertThat(result).isNotNull();
  assertThat(ud).isEqualTo(result.getPrincipal());
}
