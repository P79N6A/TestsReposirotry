@Test(expected=UsernameNotFoundException.class) public final void authenticateUnknownUserThrowsException() throws Exception {
  UserDetails ud=new User("dummyUser1","dummyPwd",true,true,true,true,AuthorityUtils.NO_AUTHORITIES);
  PreAuthenticatedAuthenticationProvider provider=getProvider(ud);
  Authentication request=new PreAuthenticatedAuthenticationToken("dummyUser2","dummyPwd");
  provider.authenticate(request);
}
