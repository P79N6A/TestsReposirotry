@Test public void correctSidsAreRetrieved() throws Exception {
  SidRetrievalStrategy retrStrategy=new SidRetrievalStrategyImpl();
  List<Sid> sids=retrStrategy.getSids(authentication);
  assertThat(sids).isNotNull();
  assertThat(sids).hasSize(4);
  assertThat(sids.get(0)).isNotNull();
  assertThat(sids.get(0) instanceof PrincipalSid).isTrue();
  for (int i=1; i < sids.size(); i++) {
    assertThat(sids.get(i) instanceof GrantedAuthoritySid).isTrue();
  }
  assertThat(((PrincipalSid)sids.get(0)).getPrincipal()).isEqualTo("scott");
  assertThat(((GrantedAuthoritySid)sids.get(1)).getGrantedAuthority()).isEqualTo("A");
  assertThat(((GrantedAuthoritySid)sids.get(2)).getGrantedAuthority()).isEqualTo("B");
  assertThat(((GrantedAuthoritySid)sids.get(3)).getGrantedAuthority()).isEqualTo("C");
}
