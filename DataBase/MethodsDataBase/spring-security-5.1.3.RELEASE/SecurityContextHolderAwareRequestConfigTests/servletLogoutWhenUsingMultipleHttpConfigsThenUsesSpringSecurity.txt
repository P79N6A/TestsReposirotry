@Test public void servletLogoutWhenUsingMultipleHttpConfigsThenUsesSpringSecurity() throws Exception {
  this.spring.configLocations(this.xml("MultiHttp")).autowire();
  MvcResult result=this.mvc.perform(get("/good-login")).andReturn();
  MockHttpSession session=(MockHttpSession)result.getRequest().getSession(false);
  assertThat(session).isNotNull();
  result=this.mvc.perform(get("/do-logout").session(session)).andExpect(status().isOk()).andExpect(content().string("")).andReturn();
  session=(MockHttpSession)result.getRequest().getSession(false);
  assertThat(session).isNotNull();
  result=this.mvc.perform(get("/v2/good-login")).andReturn();
  session=(MockHttpSession)result.getRequest().getSession(false);
  assertThat(session).isNotNull();
  result=this.mvc.perform(get("/v2/do-logout").session(session)).andExpect(status().isOk()).andExpect(content().string("")).andReturn();
  session=(MockHttpSession)result.getRequest().getSession(false);
  assertThat(session).isNull();
}
