@Test public void defaultRequestAuthenticationWhenAuthenticationSetThenAuthenticationSet(){
  this.function=new ServletOAuth2AuthorizedClientExchangeFilterFunction(this.clientRegistrationRepository,this.authorizedClientRepository);
  SecurityContextHolder.getContext().setAuthentication(this.authentication);
  Map<String,Object> attrs=getDefaultRequestAttributes();
  assertThat(getAuthentication(attrs)).isEqualTo(this.authentication);
  verifyZeroInteractions(this.authorizedClientRepository);
}
