@Test public void defaultRequestOAuth2AuthorizedClientWhenAuthenticationNullAndClientRegistrationIdThenOAuth2AuthorizedClient(){
  this.function=new ServletOAuth2AuthorizedClientExchangeFilterFunction(this.clientRegistrationRepository,this.authorizedClientRepository);
  OAuth2AuthorizedClient authorizedClient=new OAuth2AuthorizedClient(this.registration,"principalName",this.accessToken);
  when(this.authorizedClientRepository.loadAuthorizedClient(any(),any(),any())).thenReturn(authorizedClient);
  clientRegistrationId("id").accept(this.result);
  Map<String,Object> attrs=getDefaultRequestAttributes();
  assertThat(getOAuth2AuthorizedClient(attrs)).isEqualTo(authorizedClient);
  verify(this.authorizedClientRepository).loadAuthorizedClient(eq("id"),any(),any());
}
