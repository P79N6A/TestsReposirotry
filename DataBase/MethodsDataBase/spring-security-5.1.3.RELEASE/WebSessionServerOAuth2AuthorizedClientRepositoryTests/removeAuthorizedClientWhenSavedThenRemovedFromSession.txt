@Test public void removeAuthorizedClientWhenSavedThenRemovedFromSession(){
  OAuth2AuthorizedClient authorizedClient=new OAuth2AuthorizedClient(this.registration1,this.principalName1,mock(OAuth2AccessToken.class));
  this.authorizedClientRepository.saveAuthorizedClient(authorizedClient,null,this.exchange).block();
  OAuth2AuthorizedClient loadedAuthorizedClient=this.authorizedClientRepository.loadAuthorizedClient(this.registrationId1,null,this.exchange).block();
  assertThat(loadedAuthorizedClient).isSameAs(authorizedClient);
  this.authorizedClientRepository.removeAuthorizedClient(this.registrationId1,null,this.exchange).block();
  WebSession session=this.exchange.getSession().block();
  assertThat(session).isNotNull();
  assertThat(session.getAttributes()).isEmpty();
}
