/** 
 * We just test invocation works in a success event. There is no need to test access denied events as the abstract parent enforces that logic, which is extensively tested separately.
 */
@Test public void testSuccessfulInvocation() throws Throwable {
  Authentication token=new TestingAuthenticationToken("Test","Password","NOT_USED");
  SecurityContextHolder.getContext().setAuthentication(token);
  FilterInvocation fi=createinvocation();
  when(ods.getAttributes(fi)).thenReturn(SecurityConfig.createList("MOCK_OK"));
  interceptor.invoke(fi);
  verify(publisher,never()).publishEvent(any(AuthorizedEvent.class));
}
