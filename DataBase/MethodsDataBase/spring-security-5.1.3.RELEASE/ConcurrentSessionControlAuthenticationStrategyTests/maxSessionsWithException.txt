@Test(expected=SessionAuthenticationException.class) public void maxSessionsWithException(){
  when(sessionRegistry.getAllSessions(any(),anyBoolean())).thenReturn(Collections.<SessionInformation>singletonList(sessionInformation));
  strategy.setMaximumSessions(1);
  strategy.setExceptionIfMaximumExceeded(true);
  strategy.onAuthentication(authentication,request,response);
}
