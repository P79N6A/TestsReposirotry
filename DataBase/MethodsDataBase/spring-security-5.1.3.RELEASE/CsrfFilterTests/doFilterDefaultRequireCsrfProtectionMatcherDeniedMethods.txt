@Test public void doFilterDefaultRequireCsrfProtectionMatcherDeniedMethods() throws ServletException, IOException {
  this.filter=new CsrfFilter(this.tokenRepository);
  this.filter.setAccessDeniedHandler(this.deniedHandler);
  for (  String method : Arrays.asList("POST","PUT","PATCH","DELETE","INVALID")) {
    resetRequestResponse();
    when(this.tokenRepository.loadToken(this.request)).thenReturn(this.token);
    this.request.setMethod(method);
    this.filter.doFilter(this.request,this.response,this.filterChain);
    verify(this.deniedHandler).handle(eq(this.request),eq(this.response),any(InvalidCsrfTokenException.class));
    verifyZeroInteractions(this.filterChain);
  }
}
