@Test(expected=RemoteAuthenticationException.class) public void testFailedAuthenticationReturnsRemoteAuthenticationException(){
  RemoteAuthenticationManagerImpl manager=new RemoteAuthenticationManagerImpl();
  AuthenticationManager am=mock(AuthenticationManager.class);
  when(am.authenticate(any(Authentication.class))).thenThrow(new BadCredentialsException(""));
  manager.setAuthenticationManager(am);
  manager.attemptAuthentication("rod","password");
}
