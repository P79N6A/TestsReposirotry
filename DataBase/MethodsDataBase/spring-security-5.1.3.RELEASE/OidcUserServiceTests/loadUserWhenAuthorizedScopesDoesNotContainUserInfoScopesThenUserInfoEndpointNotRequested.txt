@Test public void loadUserWhenAuthorizedScopesDoesNotContainUserInfoScopesThenUserInfoEndpointNotRequested(){
  Set<String> authorizedScopes=new LinkedHashSet<>(Arrays.asList("scope1","scope2"));
  when(this.accessToken.getScopes()).thenReturn(authorizedScopes);
  when(this.userInfoEndpoint.getUri()).thenReturn("http://provider.com/user");
  OidcUser user=this.userService.loadUser(new OidcUserRequest(this.clientRegistration,this.accessToken,this.idToken));
  assertThat(user.getUserInfo()).isNull();
}
