@Test public void hasPermissionOnDomainObjectReturnsFalseIfPermissionEvaluatorDoes() throws Exception {
  final Object dummyDomainObject=new Object();
  final PermissionEvaluator pe=mock(PermissionEvaluator.class);
  ctx.setVariable("domainObject",dummyDomainObject);
  root.setPermissionEvaluator(pe);
  when(pe.hasPermission(user,dummyDomainObject,"ignored")).thenReturn(false);
  assertThat(root.hasPermission(dummyDomainObject,"ignored")).isFalse();
}
