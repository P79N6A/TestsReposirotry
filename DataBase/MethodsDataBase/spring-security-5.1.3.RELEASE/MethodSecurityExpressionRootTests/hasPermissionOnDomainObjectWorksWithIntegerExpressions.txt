@Test public void hasPermissionOnDomainObjectWorksWithIntegerExpressions() throws Exception {
  final Object dummyDomainObject=new Object();
  ctx.setVariable("domainObject",dummyDomainObject);
  final PermissionEvaluator pe=mock(PermissionEvaluator.class);
  root.setPermissionEvaluator(pe);
  when(pe.hasPermission(eq(user),eq(dummyDomainObject),any(Integer.class))).thenReturn(true).thenReturn(true).thenReturn(false);
  Expression e=parser.parseExpression("hasPermission(#domainObject, 0xA)");
  assertThat(ExpressionUtils.evaluateAsBoolean(e,ctx)).isTrue();
  e=parser.parseExpression("hasPermission(#domainObject, 10)");
  assertThat(ExpressionUtils.evaluateAsBoolean(e,ctx)).isTrue();
  e=parser.parseExpression("hasPermission(#domainObject, 0xFF)");
  assertThat(ExpressionUtils.evaluateAsBoolean(e,ctx)).isFalse();
}
