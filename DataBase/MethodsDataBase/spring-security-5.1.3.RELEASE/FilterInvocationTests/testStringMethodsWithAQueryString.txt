@Test public void testStringMethodsWithAQueryString(){
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setQueryString("foo=bar");
  request.setServletPath("/HelloWorld");
  request.setServerName("www.example.com");
  request.setScheme("http");
  request.setServerPort(80);
  request.setContextPath("/mycontext");
  request.setRequestURI("/mycontext/HelloWorld");
  MockHttpServletResponse response=new MockHttpServletResponse();
  FilterInvocation fi=new FilterInvocation(request,response,mock(FilterChain.class));
  assertThat(fi.getRequestUrl()).isEqualTo("/HelloWorld?foo=bar");
  assertThat(fi.toString()).isEqualTo("FilterInvocation: URL: /HelloWorld?foo=bar");
  assertThat(fi.getFullRequestUrl()).isEqualTo("http://www.example.com/mycontext/HelloWorld?foo=bar");
}
