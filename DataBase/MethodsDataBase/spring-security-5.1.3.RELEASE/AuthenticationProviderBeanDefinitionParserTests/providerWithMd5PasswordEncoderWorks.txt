@Test public void providerWithMd5PasswordEncoderWorks() throws Exception {
  appContext=new InMemoryXmlApplicationContext(" <authentication-manager>" + " <authentication-provider>" + "        <password-encoder ref='passwordEncoder'/>"+ "        <user-service>"+ "            <user name='bob' password='12b141f35d58b8b3a46eea65e6ac179e' authorities='ROLE_A' />"+ "        </user-service>"+ "    </authentication-provider>"+ " </authentication-manager>"+ " <b:bean id='passwordEncoder'  class='" + MessageDigestPasswordEncoder.class.getName() + "'>"+ "     <b:constructor-arg value='MD5'/>"+ " </b:bean>");
  getProvider().authenticate(bob);
}
