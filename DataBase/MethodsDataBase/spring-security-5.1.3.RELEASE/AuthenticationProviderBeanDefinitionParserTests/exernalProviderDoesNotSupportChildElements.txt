@Test(expected=BeanDefinitionParsingException.class) public void exernalProviderDoesNotSupportChildElements() throws Exception {
  appContext=new InMemoryXmlApplicationContext("    <authentication-manager>" + "      <authentication-provider ref='aProvider'> " + "        <password-encoder ref='customPasswordEncoder'/>"+ "      </authentication-provider>"+ "    </authentication-manager>"+ "    <b:bean id='aProvider' class='org.springframework.security.authentication.TestingAuthenticationProvider'/>"+ "    <b:bean id='customPasswordEncoder' "+ "        class='org.springframework.security.authentication.encoding.Md5PasswordEncoder'/>");
}
