@Test public void resolveWhenClientRegistrationNotFoundMatchThenBadRequest(){
  when(this.clientRegistrationRepository.findByRegistrationId(any())).thenReturn(Mono.empty());
  ResponseStatusException expected=catchThrowableOfType(() -> resolve("/oauth2/authorization/not-found-id"),ResponseStatusException.class);
  assertThat(expected.getStatus()).isEqualTo(HttpStatus.BAD_REQUEST);
}
