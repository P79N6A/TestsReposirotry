@Test public void authenticateWhenBadCredentialsThenDelegate2NotInvokedAndError(){
  when(this.delegate1.authenticate(any())).thenReturn(Mono.error(new BadCredentialsException("Test")));
  DelegatingReactiveAuthenticationManager manager=new DelegatingReactiveAuthenticationManager(this.delegate1,this.delegate2);
  StepVerifier.create(manager.authenticate(this.authentication)).expectError(BadCredentialsException.class).verify();
}
