@Test(expected=AccessDeniedException.class) public void preAuthorizeRoleAIsDeniedIfRoleMissing(){
  SecurityContextHolder.getContext().setAuthentication(joe_b);
  service.preAuthorizeHasRoleAMethod();
}
