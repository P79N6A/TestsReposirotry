@Test public void getTokenResponseWhenPostThenSuccess() throws Exception {
  ClientRegistration registration=this.clientRegistration.clientAuthenticationMethod(ClientAuthenticationMethod.POST).build();
  enqueueJson("{\n" + "  \"access_token\":\"MTQ0NjJkZmQ5OTM2NDE1ZTZjNGZmZjI3\",\n" + "  \"token_type\":\"bearer\",\n"+ "  \"expires_in\":3600,\n"+ "  \"refresh_token\":\"IwOGYzYTlmM2YxOTQ5MGE3YmNmMDFkNTVk\",\n"+ "  \"scope\":\"create\"\n"+ "}");
  OAuth2ClientCredentialsGrantRequest request=new OAuth2ClientCredentialsGrantRequest(registration);
  OAuth2AccessTokenResponse response=this.client.getTokenResponse(request).block();
  String body=this.server.takeRequest().getUtf8Body();
  assertThat(response.getAccessToken()).isNotNull();
  assertThat(body).isEqualTo("grant_type=client_credentials&scope=read%3Auser&client_id=client-id&client_secret=client-secret");
}
