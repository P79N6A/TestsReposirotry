@Test public void hashLookupOnlyDependsOnUsername() throws Exception {
  User user1=new User("rod","koala",true,true,true,true,ROLE_12);
  Set<UserDetails> users=new HashSet<>();
  users.add(user1);
  assertThat(users).contains(new User("rod","koala",true,true,true,true,ROLE_12));
  assertThat(users).contains(new User("rod","anotherpass",false,false,false,false,AuthorityUtils.createAuthorityList("ROLE_X")));
  assertThat(users).doesNotContain(new User("bod","koala",true,true,true,true,ROLE_12));
}
