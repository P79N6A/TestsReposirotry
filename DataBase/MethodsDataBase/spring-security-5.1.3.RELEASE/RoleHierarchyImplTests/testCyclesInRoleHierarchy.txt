@Test public void testCyclesInRoleHierarchy(){
  RoleHierarchyImpl roleHierarchyImpl=new RoleHierarchyImpl();
  try {
    roleHierarchyImpl.setHierarchy("ROLE_A > ROLE_A");
    fail("Cycle in role hierarchy was not detected!");
  }
 catch (  CycleInRoleHierarchyException e) {
  }
  try {
    roleHierarchyImpl.setHierarchy("ROLE_A > ROLE_B\nROLE_B > ROLE_A");
    fail("Cycle in role hierarchy was not detected!");
  }
 catch (  CycleInRoleHierarchyException e) {
  }
  try {
    roleHierarchyImpl.setHierarchy("ROLE_A > ROLE_B\nROLE_B > ROLE_C\nROLE_C > ROLE_A");
    fail("Cycle in role hierarchy was not detected!");
  }
 catch (  CycleInRoleHierarchyException e) {
  }
  try {
    roleHierarchyImpl.setHierarchy("ROLE_A > ROLE_B\nROLE_B > ROLE_C\nROLE_C > ROLE_E\nROLE_E > ROLE_D\nROLE_D > ROLE_B");
    fail("Cycle in role hierarchy was not detected!");
  }
 catch (  CycleInRoleHierarchyException e) {
  }
}
