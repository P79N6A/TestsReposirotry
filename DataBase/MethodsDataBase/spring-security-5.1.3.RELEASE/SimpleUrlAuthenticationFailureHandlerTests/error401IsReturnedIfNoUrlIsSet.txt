@Test public void error401IsReturnedIfNoUrlIsSet() throws Exception {
  SimpleUrlAuthenticationFailureHandler afh=new SimpleUrlAuthenticationFailureHandler();
  RedirectStrategy rs=mock(RedirectStrategy.class);
  afh.setRedirectStrategy(rs);
  assertThat(afh.getRedirectStrategy()).isSameAs(rs);
  MockHttpServletRequest request=new MockHttpServletRequest();
  MockHttpServletResponse response=new MockHttpServletResponse();
  afh.onAuthenticationFailure(request,response,mock(AuthenticationException.class));
  assertThat(response.getStatus()).isEqualTo(401);
}
