@Test public void resolveArgumentWhenRegistrationIdEmptyAndOAuth2AuthenticationThenResolves() throws Exception {
  OAuth2AuthenticationToken authentication=mock(OAuth2AuthenticationToken.class);
  when(authentication.getAuthorizedClientRegistrationId()).thenReturn("client1");
  SecurityContext securityContext=SecurityContextHolder.createEmptyContext();
  securityContext.setAuthentication(authentication);
  SecurityContextHolder.setContext(securityContext);
  MethodParameter methodParameter=this.getMethodParameter("registrationIdEmpty",OAuth2AuthorizedClient.class);
  assertThat(this.argumentResolver.resolveArgument(methodParameter,null,new ServletWebRequest(this.request),null)).isSameAs(this.authorizedClient1);
}
