@Test public void resolveArgumentWhenOAuth2AuthorizedClientNotFoundThenThrowClientAuthorizationRequiredException(){
  when(this.clientRegistrationRepository.findByRegistrationId(any())).thenReturn(Mono.just(TestClientRegistrations.clientRegistration().build()));
  when(this.authorizedClientRepository.loadAuthorizedClient(anyString(),any(),any())).thenReturn(Mono.empty());
  MethodParameter methodParameter=this.getMethodParameter("paramTypeAuthorizedClient",OAuth2AuthorizedClient.class);
  assertThatThrownBy(() -> resolveArgument(methodParameter)).isInstanceOf(ClientAuthorizationRequiredException.class);
}
