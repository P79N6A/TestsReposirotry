@Test public void writeInternalWhenOAuth2ErrorThenWriteErrorResponse() throws Exception {
  OAuth2Error oauth2Error=new OAuth2Error("unauthorized_client","The client is not authorized","https://tools.ietf.org/html/rfc6749#section-5.2");
  MockHttpOutputMessage outputMessage=new MockHttpOutputMessage();
  this.messageConverter.writeInternal(oauth2Error,outputMessage);
  String errorResponse=outputMessage.getBodyAsString();
  assertThat(errorResponse).contains("\"error\":\"unauthorized_client\"");
  assertThat(errorResponse).contains("\"error_description\":\"The client is not authorized\"");
  assertThat(errorResponse).contains("\"error_uri\":\"https://tools.ietf.org/html/rfc6749#section-5.2\"");
}
