@Test public void usernameAndAuthorityQueriesAreParsedCorrectly() throws Exception {
  String userQuery="select username, password, true from users where username = ?";
  String authoritiesQuery="select username, authority from authorities where username = ? and 1 = 1";
  setContext("<jdbc-user-service id='myUserService' " + "data-source-ref='dataSource' " + "users-by-username-query='" + userQuery + "' "+ "authorities-by-username-query='"+ authoritiesQuery+ "'/>"+ DATA_SOURCE);
  JdbcUserDetailsManager mgr=(JdbcUserDetailsManager)appContext.getBean("myUserService");
  assertThat(FieldUtils.getFieldValue(mgr,"usersByUsernameQuery")).isEqualTo(userQuery);
  assertThat(FieldUtils.getFieldValue(mgr,"authoritiesByUsernameQuery")).isEqualTo(authoritiesQuery);
  assertThat(mgr.loadUserByUsername("rod") != null).isTrue();
}
