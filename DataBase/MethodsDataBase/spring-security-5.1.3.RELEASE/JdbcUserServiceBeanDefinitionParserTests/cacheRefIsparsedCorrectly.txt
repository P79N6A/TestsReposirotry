@Test public void cacheRefIsparsedCorrectly(){
  setContext("<jdbc-user-service id='myUserService' cache-ref='userCache' data-source-ref='dataSource'/>" + DATA_SOURCE + USER_CACHE_XML);
  CachingUserDetailsService cachingUserService=(CachingUserDetailsService)appContext.getBean("myUserService" + AbstractUserDetailsServiceBeanDefinitionParser.CACHING_SUFFIX);
  assertThat(appContext.getBean("userCache")).isSameAs(cachingUserService.getUserCache());
  assertThat(cachingUserService.loadUserByUsername("rod")).isNotNull();
  assertThat(cachingUserService.loadUserByUsername("rod")).isNotNull();
}
