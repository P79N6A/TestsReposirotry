@Test public void loadUserWhenOAuth2UserSubjectNullThenOAuth2AuthenticationException(){
  OAuth2User oauth2User=new DefaultOAuth2User(AuthorityUtils.createAuthorityList("ROLE_USER"),Collections.singletonMap("user","rob"),"user");
  when(this.oauth2UserService.loadUser(any())).thenReturn(Mono.just(oauth2User));
  assertThatCode(() -> this.userService.loadUser(userRequest()).block()).isInstanceOf(OAuth2AuthenticationException.class);
}
