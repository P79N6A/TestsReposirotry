@Test public void mixingPatternsWithAndWithoutHttpMethodsIsSupported() throws Exception {
  LinkedHashMap<RequestMatcher,Collection<ConfigAttribute>> requestMap=new LinkedHashMap<RequestMatcher,Collection<ConfigAttribute>>();
  Collection<ConfigAttribute> userAttrs=SecurityConfig.createList("A");
  requestMap.put(new AntPathRequestMatcher("/user/**",null),userAttrs);
  requestMap.put(new AntPathRequestMatcher("/teller/**","GET"),SecurityConfig.createList("B"));
  this.fids=new DefaultFilterInvocationSecurityMetadataSource(requestMap);
  FilterInvocation fi=createFilterInvocation("/user",null,null,"GET");
  Collection<ConfigAttribute> attrs=this.fids.getAttributes(fi);
  assertThat(attrs).isEqualTo(userAttrs);
}
