@Test public void newSessionShouldNotBeCreatedIfSessionExistsAndUserIsNotAuthenticated() throws Exception {
  SecurityContextRepository repo=mock(SecurityContextRepository.class);
  SessionManagementFilter filter=new SessionManagementFilter(repo);
  HttpServletRequest request=new MockHttpServletRequest();
  String sessionId=request.getSession().getId();
  filter.doFilter(request,new MockHttpServletResponse(),new MockFilterChain());
  assertThat(request.getSession().getId()).isEqualTo(sessionId);
}
