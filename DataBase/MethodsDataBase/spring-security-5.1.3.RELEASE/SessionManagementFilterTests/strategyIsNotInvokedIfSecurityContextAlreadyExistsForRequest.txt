@Test public void strategyIsNotInvokedIfSecurityContextAlreadyExistsForRequest() throws Exception {
  SecurityContextRepository repo=mock(SecurityContextRepository.class);
  SessionAuthenticationStrategy strategy=mock(SessionAuthenticationStrategy.class);
  when(repo.containsContext(any(HttpServletRequest.class))).thenReturn(true);
  SessionManagementFilter filter=new SessionManagementFilter(repo,strategy);
  HttpServletRequest request=new MockHttpServletRequest();
  authenticateUser();
  filter.doFilter(request,new MockHttpServletResponse(),new MockFilterChain());
  verifyZeroInteractions(strategy);
}
