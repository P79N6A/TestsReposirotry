@Test public void writeHeadersTerminateConnectionWithURI() throws URISyntaxException {
  writer.setReportOnly(false);
  writer.setReportUri(new URI("http://example.com/pkp-report"));
  writer.writeHeaders(request,response);
  assertThat(response.getHeaderNames()).hasSize(1);
  assertThat(response.getHeader("Public-Key-Pins")).isEqualTo("max-age=5184000 ; pin-sha256=\"d6qzRu9zOECb90Uez27xWltNsj0e1Md7GkYYkVoZWmM=\" ; report-uri=\"http://example.com/pkp-report\"");
}
