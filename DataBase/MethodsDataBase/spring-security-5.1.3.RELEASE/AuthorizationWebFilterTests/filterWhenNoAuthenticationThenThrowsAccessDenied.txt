@Test public void filterWhenNoAuthenticationThenThrowsAccessDenied(){
  when(this.chain.filter(this.exchange)).thenReturn(this.chainResult.mono());
  AuthorizationWebFilter filter=new AuthorizationWebFilter((a,e) -> a.flatMap(auth -> Mono.error(new AccessDeniedException("Denied"))));
  Mono<Void> result=filter.filter(this.exchange,this.chain).subscriberContext(ReactiveSecurityContextHolder.withSecurityContext(Mono.just(new SecurityContextImpl())));
  StepVerifier.create(result).expectError(AccessDeniedException.class).verify();
  this.chainResult.assertWasNotSubscribed();
}
