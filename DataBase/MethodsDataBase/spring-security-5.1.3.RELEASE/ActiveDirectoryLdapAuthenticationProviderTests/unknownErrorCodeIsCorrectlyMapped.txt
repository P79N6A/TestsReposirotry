@Test(expected=BadCredentialsException.class) public void unknownErrorCodeIsCorrectlyMapped(){
  provider.contextFactory=createContextFactoryThrowing(new AuthenticationException(msg + "999, xxxx]"));
  provider.setConvertSubErrorCodesToExceptions(true);
  provider.authenticate(joe);
}
