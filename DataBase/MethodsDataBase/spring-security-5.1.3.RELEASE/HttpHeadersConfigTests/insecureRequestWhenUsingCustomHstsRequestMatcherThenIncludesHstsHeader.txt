@Test public void insecureRequestWhenUsingCustomHstsRequestMatcherThenIncludesHstsHeader() throws Exception {
  Set<String> excludedHeaders=new HashSet<>(defaultHeaders.keySet());
  excludedHeaders.remove("Strict-Transport-Security");
  this.spring.configLocations(this.xml("DefaultsDisabledWithCustomHstsRequestMatcher")).autowire();
  this.mvc.perform(get("/")).andExpect(status().isOk()).andExpect(header().string("Strict-Transport-Security","max-age=1")).andExpect(excludes(excludedHeaders));
}
