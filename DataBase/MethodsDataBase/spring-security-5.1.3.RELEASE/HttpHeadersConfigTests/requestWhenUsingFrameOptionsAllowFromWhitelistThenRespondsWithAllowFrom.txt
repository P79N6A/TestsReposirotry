@Test public void requestWhenUsingFrameOptionsAllowFromWhitelistThenRespondsWithAllowFrom() throws Exception {
  Set<String> excludedHeaders=new HashSet<>(defaultHeaders.keySet());
  excludedHeaders.remove("X-Frame-Options");
  this.spring.configLocations(this.xml("DefaultsDisabledWithFrameOptionsAllowFromWhitelist")).autowire();
  this.mvc.perform(get("/").param("from","https://example.org")).andExpect(status().isOk()).andExpect(header().string("X-Frame-Options","ALLOW-FROM https://example.org")).andExpect(excludes(excludedHeaders));
  this.mvc.perform(get("/")).andExpect(status().isOk()).andExpect(header().string("X-Frame-Options","DENY")).andExpect(excludes(excludedHeaders));
}
