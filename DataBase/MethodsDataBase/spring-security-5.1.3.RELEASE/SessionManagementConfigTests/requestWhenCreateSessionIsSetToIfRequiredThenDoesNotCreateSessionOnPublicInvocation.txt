@Test public void requestWhenCreateSessionIsSetToIfRequiredThenDoesNotCreateSessionOnPublicInvocation() throws Exception {
  this.spring.configLocations(this.xml("CreateSessionIfRequired")).autowire();
  ServletContext servletContext=this.mvc.getDispatcherServlet().getServletContext();
  MockHttpServletRequest request=get("/").buildRequest(servletContext);
  MockHttpServletResponse response=request(request,this.spring.getContext());
  assertThat(response.getStatus()).isEqualTo(HttpStatus.SC_OK);
  assertThat(request.getSession(false)).isNull();
}
