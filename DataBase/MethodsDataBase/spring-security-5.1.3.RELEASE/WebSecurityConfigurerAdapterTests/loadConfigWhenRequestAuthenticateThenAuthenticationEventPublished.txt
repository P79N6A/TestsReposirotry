@Test public void loadConfigWhenRequestAuthenticateThenAuthenticationEventPublished() throws Exception {
  this.spring.register(InMemoryAuthWithWebSecurityConfigurerAdapter.class).autowire();
  this.mockMvc.perform(formLogin()).andExpect(status().is3xxRedirection());
  assertThat(InMemoryAuthWithWebSecurityConfigurerAdapter.EVENTS).isNotEmpty();
  assertThat(InMemoryAuthWithWebSecurityConfigurerAdapter.EVENTS).hasSize(1);
}
