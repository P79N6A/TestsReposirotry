@Test public void doFilterWhenAuthorizationRequestOAuth2LoginThenAuthorizationRequestSaved() throws Exception {
  String requestUri=OAuth2AuthorizationRequestRedirectFilter.DEFAULT_AUTHORIZATION_REQUEST_BASE_URI + "/" + this.registration2.getRegistrationId();
  MockHttpServletRequest request=new MockHttpServletRequest("GET",requestUri);
  request.setServletPath(requestUri);
  MockHttpServletResponse response=new MockHttpServletResponse();
  FilterChain filterChain=mock(FilterChain.class);
  AuthorizationRequestRepository<OAuth2AuthorizationRequest> authorizationRequestRepository=mock(AuthorizationRequestRepository.class);
  this.filter.setAuthorizationRequestRepository(authorizationRequestRepository);
  this.filter.doFilter(request,response,filterChain);
  verifyZeroInteractions(filterChain);
  verify(authorizationRequestRepository).saveAuthorizationRequest(any(OAuth2AuthorizationRequest.class),any(HttpServletRequest.class),any(HttpServletResponse.class));
}
