@Test public void loadConfigWhenWebSecurityConfigurersHaveOrderThenFilterChainsOrdered() throws Exception {
  this.spring.register(SortedWebSecurityConfigurerAdaptersConfig.class).autowire();
  FilterChainProxy filterChainProxy=this.spring.getContext().getBean(FilterChainProxy.class);
  List<SecurityFilterChain> filterChains=filterChainProxy.getFilterChains();
  assertThat(filterChains).hasSize(6);
  MockHttpServletRequest request=new MockHttpServletRequest("GET","");
  request.setServletPath("/ignore1");
  assertThat(filterChains.get(0).matches(request)).isTrue();
  assertThat(filterChains.get(0).getFilters()).isEmpty();
  request.setServletPath("/ignore2");
  assertThat(filterChains.get(1).matches(request)).isTrue();
  assertThat(filterChains.get(1).getFilters()).isEmpty();
  request.setServletPath("/role1/**");
  assertThat(filterChains.get(2).matches(request)).isTrue();
  request.setServletPath("/role2/**");
  assertThat(filterChains.get(3).matches(request)).isTrue();
  request.setServletPath("/role3/**");
  assertThat(filterChains.get(4).matches(request)).isTrue();
  request.setServletPath("/**");
  assertThat(filterChains.get(5).matches(request)).isTrue();
}
