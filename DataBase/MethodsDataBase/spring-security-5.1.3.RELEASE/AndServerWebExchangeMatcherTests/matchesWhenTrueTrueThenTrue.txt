@Test public void matchesWhenTrueTrueThenTrue() throws Exception {
  Map<String,Object> params1=Collections.singletonMap("foo","bar");
  Map<String,Object> params2=Collections.singletonMap("x","y");
  when(matcher1.matches(exchange)).thenReturn(ServerWebExchangeMatcher.MatchResult.match(params1));
  when(matcher2.matches(exchange)).thenReturn(ServerWebExchangeMatcher.MatchResult.match(params2));
  ServerWebExchangeMatcher.MatchResult matches=matcher.matches(exchange).block();
  assertThat(matches.isMatch()).isTrue();
  assertThat(matches.getVariables()).hasSize(2);
  assertThat(matches.getVariables()).containsAllEntriesOf(params1);
  assertThat(matches.getVariables()).containsAllEntriesOf(params2);
  verify(matcher1).matches(exchange);
  verify(matcher2).matches(exchange);
}
