@Test public void configureWhenRequestMatcherProvidedThenRequestMatcherUsed() throws Exception {
  this.spring.register(RequestMatcherRefConfig.class).autowire();
  FilterChainProxy filterChainProxy=this.spring.getContext().getBean(FilterChainProxy.class);
  assertThat(filterChainProxy.getFilterChains().get(0)).isInstanceOf(DefaultSecurityFilterChain.class);
  DefaultSecurityFilterChain securityFilterChain=(DefaultSecurityFilterChain)filterChainProxy.getFilterChains().get(0);
  assertThat(securityFilterChain.getRequestMatcher()).isInstanceOf(RequestMatcherRefConfig.MyRequestMatcher.class);
}
