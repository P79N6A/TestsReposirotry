@Test public void configureWhenRegexPatternMatchingThenRegexRequestMatcherUsed() throws Exception {
  this.spring.register(RequestMatcherRegexConfig.class).autowire();
  FilterChainProxy filterChainProxy=this.spring.getContext().getBean(FilterChainProxy.class);
  assertThat(filterChainProxy.getFilterChains().get(0)).isInstanceOf(DefaultSecurityFilterChain.class);
  DefaultSecurityFilterChain securityFilterChain=(DefaultSecurityFilterChain)filterChainProxy.getFilterChains().get(0);
  assertThat(securityFilterChain.getRequestMatcher()).isInstanceOf(RegexRequestMatcher.class);
}
