@Test public void testNullContextHolderWhenAnonymous() throws Exception {
  AnonymousAuthenticationToken anonymous=new AnonymousAuthenticationToken("key","principal",AuthorityUtils.createAuthorityList("ROLE_ANONYMOUS"));
  SecurityContextHolder.getContext().setAuthentication(anonymous);
  AuthenticationSimpleHttpInvokerRequestExecutor executor=new AuthenticationSimpleHttpInvokerRequestExecutor();
  HttpURLConnection conn=new MockHttpURLConnection(new URL("http://localhost/"));
  executor.prepareConnection(conn,10);
  assertThat(conn.getRequestProperty("Authorization")).isNull();
}
