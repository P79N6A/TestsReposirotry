@Test public void testNormalOperation() throws Exception {
  Authentication clientSideAuthentication=new UsernamePasswordAuthenticationToken("Aladdin","open sesame");
  SecurityContextHolder.getContext().setAuthentication(clientSideAuthentication);
  AuthenticationSimpleHttpInvokerRequestExecutor executor=new AuthenticationSimpleHttpInvokerRequestExecutor();
  HttpURLConnection conn=new MockHttpURLConnection(new URL("http://localhost/"));
  executor.prepareConnection(conn,10);
  assertThat(conn.getRequestProperty("Authorization")).isEqualTo("Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==");
}
