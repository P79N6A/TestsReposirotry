@Test public void authenticateWhenCustomUsernameAndPasswordParametersThenSucceeds() throws Exception {
  this.spring.configLocations(this.xml("WithUsernameAndPasswordParameters")).autowire();
  this.mvc.perform(post("/login").param("xname","user").param("xpass","password").with(csrf())).andExpect(redirectedUrl("/"));
}
