/** 
 * SEC-3147: authentication-failure-url should be contained "error" parameter if login-page="/login"
 */
@Test public void authenticateWhenLoginPageIsSlashLoginAndAuthenticationFailsThenRedirectContainsErrorParameter() throws Exception {
  this.spring.configLocations(this.xml("ForSec3147")).autowire();
  this.mvc.perform(post("/login").param("username","user").param("password","wrong").with(csrf())).andExpect(redirectedUrl("/login?error"));
}
