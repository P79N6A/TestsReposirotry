@Test public void authenticateWhenCustomHandlerBeansConfiguredThenInvokesAccordingly() throws Exception {
  this.spring.configLocations(this.xml("WithSuccessAndFailureHandlers")).autowire();
  this.mvc.perform(post("/login").param("username","user").param("password","password").with(csrf())).andExpect(status().isIAmATeapot());
  this.mvc.perform(post("/login").param("username","user").param("password","wrong").with(csrf())).andExpect(status().isIAmATeapot());
}
