@Test(expected=AccessDeniedException.class) public void worksWithoutTargetOrClass(){
  setContext("<global-method-security secured-annotations='enabled'/>" + "<b:bean id='businessService' class='org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean'>" + "    <b:property name='serviceUrl' value='http://localhost:8080/SomeService'/>"+ "    <b:property name='serviceInterface' value='org.springframework.security.access.annotation.BusinessService'/>"+ "</b:bean>"+ AUTH_PROVIDER_XML);
  UsernamePasswordAuthenticationToken token=new UsernamePasswordAuthenticationToken("Test","Password",AuthorityUtils.createAuthorityList("ROLE_SOMEOTHERROLE"));
  SecurityContextHolder.getContext().setAuthentication(token);
  target=(BusinessService)appContext.getBean("businessService");
  target.someUserMethod1();
}
