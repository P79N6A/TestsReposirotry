@Test public void prePostFilterAnnotationWorksWithArrays(){
  setContext("<global-method-security pre-post-annotations='enabled'/>" + "<b:bean id='target' class='org.springframework.security.access.annotation.ExpressionProtectedBusinessServiceImpl'/>" + AUTH_PROVIDER_XML);
  SecurityContextHolder.getContext().setAuthentication(bob);
  target=(BusinessService)appContext.getBean("target");
  Object[] arg=new String[]{"joe","bob","sam"};
  Object[] result=target.methodReturningAnArray(arg);
  assertThat(result).hasSize(1);
  assertThat(result[0]).isEqualTo("bob");
}
