@Test(expected=AccessDeniedException.class) public void accessIsDeniedForHasRoleExpression(){
  setContext("<global-method-security pre-post-annotations='enabled'/>" + "<b:bean id='target' class='org.springframework.security.access.annotation.ExpressionProtectedBusinessServiceImpl'/>" + AUTH_PROVIDER_XML);
  SecurityContextHolder.getContext().setAuthentication(bob);
  target=(BusinessService)appContext.getBean("target");
  target.someAdminMethod();
}
