@Test public void targetShouldAllowProtectedMethodInvocationWithCorrectRole(){
  loadContext();
  UsernamePasswordAuthenticationToken token=new UsernamePasswordAuthenticationToken("user","password");
  SecurityContextHolder.getContext().setAuthentication(token);
  target.someUserMethod1();
  Advisor[] advisors=((Advised)target).getAdvisors();
  assertThat(advisors).hasSize(1);
  assertThat(((MethodSecurityMetadataSourceAdvisor)advisors[0]).getOrder()).isEqualTo(1001);
}
