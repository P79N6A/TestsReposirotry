@Test public void worksWithOpenIDUrlsAsNames(){
  setContext("<user-service id='service'>" + "    <user name='http://joe.myopenid.com/' authorities='ROLE_A'/>" + "    <user name='https://www.google.com/accounts/o8/id?id=MPtOaenBIk5yzW9n7n9' authorities='ROLE_A'/>"+ "</user-service>");
  UserDetailsService userService=(UserDetailsService)appContext.getBean("service");
  assertThat(userService.loadUserByUsername("http://joe.myopenid.com/").getUsername()).isEqualTo("http://joe.myopenid.com/");
  assertThat(userService.loadUserByUsername("https://www.google.com/accounts/o8/id?id=MPtOaenBIk5yzW9n7n9").getUsername()).isEqualTo("https://www.google.com/accounts/o8/id?id=MPtOaenBIk5yzW9n7n9");
}
