@Test public void serializingThenDeserializingWithNoCredentialsOrDetailsShouldWork() throws IOException {
  UsernamePasswordAuthenticationToken original=new UsernamePasswordAuthenticationToken("Frodo",null);
  String serialized=this.mapper.writeValueAsString(original);
  UsernamePasswordAuthenticationToken deserialized=this.mapper.readValue(serialized,UsernamePasswordAuthenticationToken.class);
  assertThat(deserialized).isEqualTo(original);
}
