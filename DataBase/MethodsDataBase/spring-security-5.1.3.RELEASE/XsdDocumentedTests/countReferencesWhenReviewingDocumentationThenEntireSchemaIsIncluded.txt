/** 
 * This uses a naming convention for the ids of the appendix to ensure that the entire appendix is documented. The naming convention for the ids is documented in  {@link Element#getIds()}.
 * @return
 */
@Test public void countReferencesWhenReviewingDocumentationThenEntireSchemaIsIncluded() throws IOException {
  Map<String,Element> elementsByElementName=this.xml.elementsByElementName(this.schemaDocumentLocation);
  List<String> documentIds=Files.lines(Paths.get(this.referenceLocation)).filter(line -> line.matches("\\[\\[(nsa-.*)\\]\\]")).map(line -> line.substring(2,line.length() - 2)).collect(Collectors.toList());
  Set<String> expectedIds=elementsByElementName.values().stream().flatMap(element -> element.getIds().stream()).collect(Collectors.toSet());
  documentIds.removeAll(this.ignoredIds);
  expectedIds.removeAll(this.ignoredIds);
  assertThat(documentIds).containsAll(expectedIds);
  assertThat(expectedIds).containsAll(documentIds);
}
