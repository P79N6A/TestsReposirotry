@Test(expected=BadCredentialsException.class) public void authenticateWhenInvalidPasswordThenBadCredentialsException(){
  this.userRepo.save(User.withUsernameAndPassword("test","password"));
  this.authenticationManager.authenticate(new UsernamePasswordAuthenticationToken("test","invalid"));
}
