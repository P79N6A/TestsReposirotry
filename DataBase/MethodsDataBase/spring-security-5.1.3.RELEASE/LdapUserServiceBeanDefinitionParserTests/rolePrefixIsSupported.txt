@Test public void rolePrefixIsSupported() throws Exception {
  setContext("<ldap-user-service id='ldapUDS' " + "     user-search-filter='(uid={0})' " + "     group-search-filter='member={0}' role-prefix='PREFIX_'/>"+ "<ldap-user-service id='ldapUDSNoPrefix' "+ "     user-search-filter='(uid={0})' "+ "     group-search-filter='member={0}' role-prefix='none'/><ldap-server ldif='classpath:test-server.ldif'/>");
  UserDetailsService uds=(UserDetailsService)appCtx.getBean("ldapUDS");
  UserDetails ben=uds.loadUserByUsername("ben");
  assertThat(AuthorityUtils.authorityListToSet(ben.getAuthorities())).contains("PREFIX_DEVELOPERS");
  uds=(UserDetailsService)appCtx.getBean("ldapUDSNoPrefix");
  ben=uds.loadUserByUsername("ben");
  assertThat(AuthorityUtils.authorityListToSet(ben.getAuthorities())).contains("DEVELOPERS");
}
