@Test public void writeHttpHeadersWhenErrorNoErrorThenError(){
  when(writer1.writeHttpHeaders(exchange)).thenReturn(Mono.error(new RuntimeException()));
  when(writer2.writeHttpHeaders(exchange)).thenReturn(Mono.empty());
  Mono<Void> result=writer.writeHttpHeaders(exchange);
  StepVerifier.create(result).expectError().verify();
  verify(writer1).writeHttpHeaders(exchange);
  verify(writer2).writeHttpHeaders(exchange);
}
