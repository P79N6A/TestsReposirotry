@Test public void servlet25Compatability() throws Exception {
  spy(ClassUtils.class);
  when(ClassUtils.class,"hasMethod",ServletRequest.class,"startAsync",new Class[]{}).thenReturn(false);
  HttpSessionSecurityContextRepository repo=new HttpSessionSecurityContextRepository();
  MockHttpServletRequest request=new MockHttpServletRequest();
  MockHttpServletResponse response=new MockHttpServletResponse();
  HttpRequestResponseHolder holder=new HttpRequestResponseHolder(request,response);
  repo.loadContext(holder);
  assertThat(holder.getRequest()).isSameAs(request);
}
