@Test public void securedUrlAccessIsRejectedWithoutRequiredRole() throws Exception {
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setMethod("GET");
  request.setServletPath("/secure/somefile.html");
  request.setSession(createAuthenticatedSession("ROLE_0"));
  MockHttpServletResponse response=new MockHttpServletResponse();
  fcp.doFilter(request,response,new MockFilterChain());
  assertThat(response.getStatus()).isEqualTo(403);
}
