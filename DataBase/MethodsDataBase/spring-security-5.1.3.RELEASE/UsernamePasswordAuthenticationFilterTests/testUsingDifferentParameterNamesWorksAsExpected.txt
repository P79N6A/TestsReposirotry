@Test public void testUsingDifferentParameterNamesWorksAsExpected() throws ServletException {
  UsernamePasswordAuthenticationFilter filter=new UsernamePasswordAuthenticationFilter();
  filter.setAuthenticationManager(createAuthenticationManager());
  filter.setUsernameParameter("x");
  filter.setPasswordParameter("y");
  MockHttpServletRequest request=new MockHttpServletRequest("POST","/");
  request.addParameter("x","rod");
  request.addParameter("y","koala");
  Authentication result=filter.attemptAuthentication(request,new MockHttpServletResponse());
  assertThat(result).isNotNull();
  assertThat(((WebAuthenticationDetails)result.getDetails()).getRemoteAddress()).isEqualTo("127.0.0.1");
}
