@Test public void applyWhenAdditionalParametersMissingThenOAuth2AuthorizationException(){
  this.authorizationRequest.additionalParameters(Collections.emptyMap());
  when(this.authorizationRequestRepository.removeAuthorizationRequest(any())).thenReturn(Mono.just(this.authorizationRequest.build()));
  assertThatThrownBy(() -> applyConverter()).isInstanceOf(OAuth2AuthorizationException.class).hasMessageContaining(ServerOAuth2AuthorizationCodeAuthenticationTokenConverter.CLIENT_REGISTRATION_NOT_FOUND_ERROR_CODE);
}
