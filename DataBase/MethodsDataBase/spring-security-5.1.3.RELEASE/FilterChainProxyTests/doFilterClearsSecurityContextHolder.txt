@Test public void doFilterClearsSecurityContextHolder() throws Exception {
  when(matcher.matches(any(HttpServletRequest.class))).thenReturn(true);
  doAnswer(new Answer<Object>(){
    public Object answer(    InvocationOnMock inv) throws Throwable {
      SecurityContextHolder.getContext().setAuthentication(new TestingAuthenticationToken("username","password"));
      return null;
    }
  }
).when(filter).doFilter(any(HttpServletRequest.class),any(HttpServletResponse.class),any(FilterChain.class));
  fcp.doFilter(request,response,chain);
  assertThat(SecurityContextHolder.getContext().getAuthentication()).isNull();
}
