@Test public void wrapperIsResetWhenNoMatchingFilters() throws Exception {
  HttpFirewall fw=mock(HttpFirewall.class);
  FirewalledRequest fwr=mock(FirewalledRequest.class);
  when(fwr.getRequestURI()).thenReturn("/");
  when(fwr.getContextPath()).thenReturn("");
  fcp.setFirewall(fw);
  when(fw.getFirewalledRequest(request)).thenReturn(fwr);
  when(matcher.matches(any(HttpServletRequest.class))).thenReturn(false);
  fcp.doFilter(request,response,chain);
  verify(fwr).reset();
}
