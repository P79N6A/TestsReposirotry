@SuppressWarnings("unchecked") @Test public void validateCheckLoginPageIsntProtectedThrowsIllegalArgumentException(){
  IllegalArgumentException toBeThrown=new IllegalArgumentException("failed to eval expression");
  doThrow(toBeThrown).when(accessDecisionManager).decide(any(Authentication.class),anyObject(),any(Collection.class));
  validator.validate(fcp);
  verify(logger).info("Unable to check access to the login page to determine if anonymous access is allowed. This might be an error, but can happen under normal circumstances.",toBeThrown);
}
