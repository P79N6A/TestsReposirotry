@Test public void authentiateWhenCustomSchedulerThenUsed(){
  when(this.userDetailsService.findByUsername(any())).thenReturn(Mono.just(this.user));
  when(this.encoder.matches(any(),any())).thenReturn(true);
  this.manager.setScheduler(this.scheduler);
  this.manager.setPasswordEncoder(this.encoder);
  UsernamePasswordAuthenticationToken token=new UsernamePasswordAuthenticationToken(this.user,this.user.getPassword());
  Authentication result=this.manager.authenticate(token).block();
  verify(this.scheduler).schedule(any());
}
