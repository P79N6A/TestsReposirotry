@Test public void getWhenUsingMinimalConfigurationThenPreventsSessionAsUrlParameter() throws Exception {
  this.spring.configLocations(this.xml("Minimal")).autowire();
  MockHttpServletRequest request=new MockHttpServletRequest("GET","/");
  MockHttpServletResponse response=new MockHttpServletResponse();
  FilterChainProxy proxy=this.spring.getContext().getBean(FilterChainProxy.class);
  proxy.doFilter(request,new EncodeUrlDenyingHttpServletResponseWrapper(response),(req,resp) -> {
  }
);
  assertThat(response.getStatus()).isEqualTo(HttpStatus.SC_MOVED_TEMPORARILY);
  assertThat(response.getRedirectedUrl()).isEqualTo("http://localhost/login");
}
