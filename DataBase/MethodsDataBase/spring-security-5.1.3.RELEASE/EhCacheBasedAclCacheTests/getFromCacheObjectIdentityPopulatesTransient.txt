@Test public void getFromCacheObjectIdentityPopulatesTransient() throws Exception {
  when(cache.get(acl.getObjectIdentity())).thenReturn(new Element(acl.getId(),acl));
  myCache.putInCache(acl);
  ReflectionTestUtils.setField(acl,"permissionGrantingStrategy",null);
  ReflectionTestUtils.setField(acl,"aclAuthorizationStrategy",null);
  MutableAcl fromCache=myCache.getFromCache(acl.getObjectIdentity());
  assertThat(ReflectionTestUtils.getField(fromCache,"aclAuthorizationStrategy")).isNotNull();
  assertThat(ReflectionTestUtils.getField(fromCache,"permissionGrantingStrategy")).isNotNull();
}
