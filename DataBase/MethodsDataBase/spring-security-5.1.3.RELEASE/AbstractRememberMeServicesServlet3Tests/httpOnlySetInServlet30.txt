@Test public void httpOnlySetInServlet30() throws Exception {
  HttpServletRequest request=mock(HttpServletRequest.class);
  when(request.getContextPath()).thenReturn("/contextpath");
  HttpServletResponse response=mock(HttpServletResponse.class);
  ArgumentCaptor<Cookie> cookie=ArgumentCaptor.forClass(Cookie.class);
  MockRememberMeServices services=new MockRememberMeServices("key",mock(UserDetailsService.class));
  services.setCookie(new String[]{"mycookie"},1000,request,response);
  verify(response).addCookie(cookie.capture());
  verifyStatic(ReflectionUtils.class);
  ReflectionUtils.invokeMethod(same(method),eq(cookie.getValue()),eq(true));
}
