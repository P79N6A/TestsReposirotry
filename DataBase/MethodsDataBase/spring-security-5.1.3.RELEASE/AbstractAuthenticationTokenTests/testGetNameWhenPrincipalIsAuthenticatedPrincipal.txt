@Test public void testGetNameWhenPrincipalIsAuthenticatedPrincipal(){
  String principalName="test";
  AuthenticatedPrincipal principal=mock(AuthenticatedPrincipal.class);
  when(principal.getName()).thenReturn(principalName);
  MockAuthenticationImpl token=new MockAuthenticationImpl(principal,"Password",authorities);
  assertThat(token.getName()).isEqualTo(principalName);
  verify(principal,times(1)).getName();
}
