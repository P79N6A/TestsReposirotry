@Test public void testHashCode() throws Exception {
  MockAuthenticationImpl token1=new MockAuthenticationImpl("Test","Password",authorities);
  MockAuthenticationImpl token2=new MockAuthenticationImpl("Test","Password",authorities);
  MockAuthenticationImpl token3=new MockAuthenticationImpl(null,null,AuthorityUtils.NO_AUTHORITIES);
  assertThat(token2.hashCode()).isEqualTo(token1.hashCode());
  assertThat(token1.hashCode() != token3.hashCode()).isTrue();
  token2.setAuthenticated(true);
  assertThat(token1.hashCode() != token2.hashCode()).isTrue();
}
