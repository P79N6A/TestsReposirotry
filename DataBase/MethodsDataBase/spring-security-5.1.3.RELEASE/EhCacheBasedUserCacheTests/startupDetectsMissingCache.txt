@Test(expected=IllegalArgumentException.class) public void startupDetectsMissingCache() throws Exception {
  EhCacheBasedUserCache cache=new EhCacheBasedUserCache();
  cache.afterPropertiesSet();
  fail("Should have thrown IllegalArgumentException");
  Ehcache myCache=getCache();
  cache.setCache(myCache);
  assertThat(cache.getCache()).isEqualTo(myCache);
}
