@Test public void cacheOperationsAreSuccessful() throws Exception {
  EhCacheBasedUserCache cache=new EhCacheBasedUserCache();
  cache.setCache(getCache());
  cache.afterPropertiesSet();
  cache.putUserInCache(getUser());
  assertThat(getUser().getPassword()).isEqualTo(cache.getUserFromCache(getUser().getUsername()).getPassword());
  cache.removeUserFromCache(getUser());
  assertThat(cache.getUserFromCache(getUser().getUsername())).isNull();
  assertThat(cache.getUserFromCache(null)).isNull();
  assertThat(cache.getUserFromCache("UNKNOWN_USER")).isNull();
}
