@Test public void getBuilderWhenGoogleShouldHaveGoogleSettings() throws Exception {
  ClientRegistration registration=build(CommonOAuth2Provider.GOOGLE);
  ProviderDetails providerDetails=registration.getProviderDetails();
  assertThat(providerDetails.getAuthorizationUri()).isEqualTo("https://accounts.google.com/o/oauth2/v2/auth");
  assertThat(providerDetails.getTokenUri()).isEqualTo("https://www.googleapis.com/oauth2/v4/token");
  assertThat(providerDetails.getUserInfoEndpoint().getUri()).isEqualTo("https://www.googleapis.com/oauth2/v3/userinfo");
  assertThat(providerDetails.getUserInfoEndpoint().getUserNameAttributeName()).isEqualTo(IdTokenClaimNames.SUB);
  assertThat(providerDetails.getJwkSetUri()).isEqualTo("https://www.googleapis.com/oauth2/v3/certs");
  assertThat(registration.getClientAuthenticationMethod()).isEqualTo(ClientAuthenticationMethod.BASIC);
  assertThat(registration.getAuthorizationGrantType()).isEqualTo(AuthorizationGrantType.AUTHORIZATION_CODE);
  assertThat(registration.getRedirectUriTemplate()).isEqualTo(DEFAULT_REDIRECT_URL);
  assertThat(registration.getScopes()).containsOnly("openid","profile","email");
  assertThat(registration.getClientName()).isEqualTo("Google");
  assertThat(registration.getRegistrationId()).isEqualTo("123");
}
