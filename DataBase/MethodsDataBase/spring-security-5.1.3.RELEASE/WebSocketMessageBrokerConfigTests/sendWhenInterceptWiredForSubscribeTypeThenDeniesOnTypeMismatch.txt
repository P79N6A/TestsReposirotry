@Test public void sendWhenInterceptWiredForSubscribeTypeThenDeniesOnTypeMismatch(){
  this.spring.configLocations(xml("SubscribeInterceptTypeConfig")).autowire();
  Message<?> message=message("/permitAll",SimpMessageType.SUBSCRIBE);
  assertThatCode(send(message)).doesNotThrowAnyException();
  message=message("/permitAll",SimpMessageType.UNSUBSCRIBE);
  assertThatThrownBy(send(message)).hasCauseInstanceOf(AccessDeniedException.class);
  message=message("/anyOther",SimpMessageType.SUBSCRIBE);
  assertThatThrownBy(send(message)).hasCauseInstanceOf(AccessDeniedException.class);
}
