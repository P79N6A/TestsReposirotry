@Test public void testCacheOperation() throws Exception {
  EhCacheBasedTicketCache cache=new EhCacheBasedTicketCache();
  cache.setCache(cacheManager.getCache("castickets"));
  cache.afterPropertiesSet();
  final CasAuthenticationToken token=getToken();
  cache.putTicketInCache(token);
  assertThat(cache.getByTicketId("ST-0-ER94xMJmn6pha35CQRoZ")).isEqualTo(token);
  cache.removeTicketFromCache(getToken());
  assertThat(cache.getByTicketId("ST-0-ER94xMJmn6pha35CQRoZ")).isNull();
  assertThat(cache.getByTicketId(null)).isNull();
  assertThat(cache.getByTicketId("UNKNOWN_SERVICE_TICKET")).isNull();
}
