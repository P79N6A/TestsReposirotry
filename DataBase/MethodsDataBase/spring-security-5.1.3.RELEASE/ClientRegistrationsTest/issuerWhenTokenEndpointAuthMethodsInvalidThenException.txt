/** 
 * We currently only support client_secret_basic, so verify we have a meaningful error until we add support.
 * @throws Exception
 */
@Test public void issuerWhenTokenEndpointAuthMethodsInvalidThenException() throws Exception {
  this.response.put("token_endpoint_auth_methods_supported",Arrays.asList("tls_client_auth"));
  assertThatThrownBy(() -> registration("")).isInstanceOf(IllegalArgumentException.class).hasMessageContaining("Only ClientAuthenticationMethod.BASIC and ClientAuthenticationMethod.POST are supported. The issuer \"" + this.issuer + "\" returned a configuration of [tls_client_auth]");
}
