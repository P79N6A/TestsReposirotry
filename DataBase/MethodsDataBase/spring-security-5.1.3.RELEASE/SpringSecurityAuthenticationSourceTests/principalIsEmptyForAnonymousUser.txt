@Test public void principalIsEmptyForAnonymousUser(){
  AuthenticationSource source=new SpringSecurityAuthenticationSource();
  SecurityContextHolder.getContext().setAuthentication(new AnonymousAuthenticationToken("key","anonUser",AuthorityUtils.createAuthorityList("ignored")));
  assertThat(source.getPrincipal()).isEqualTo("");
}
