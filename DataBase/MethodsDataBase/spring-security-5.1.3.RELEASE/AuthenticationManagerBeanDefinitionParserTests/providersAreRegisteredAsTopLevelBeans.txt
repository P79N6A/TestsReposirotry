@Test public void providersAreRegisteredAsTopLevelBeans() throws Exception {
  ConfigurableApplicationContext context=this.spring.context(CONTEXT).getContext();
  assertThat(context.getBeansOfType(AuthenticationProvider.class)).hasSize(1);
}
