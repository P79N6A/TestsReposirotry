@Test public void decodeWhenUsingCustomValidatorThenValidatorIsInvoked(){
  OAuth2TokenValidator jwtValidator=mock(OAuth2TokenValidator.class);
  this.decoder.setJwtValidator(jwtValidator);
  OAuth2Error error=new OAuth2Error("mock-error","mock-description","mock-uri");
  OAuth2TokenValidatorResult result=OAuth2TokenValidatorResult.failure(error);
  when(jwtValidator.validate(any(Jwt.class))).thenReturn(result);
  assertThatCode(() -> this.decoder.decode(messageReadToken).block()).isInstanceOf(JwtException.class).hasMessageContaining("mock-description");
}
