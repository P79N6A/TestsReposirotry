@Test public void authenticationExceptionIsIgnoredIfLaterProviderAuthenticates() throws Exception {
  final Authentication authReq=mock(Authentication.class);
  ProviderManager mgr=new ProviderManager(Arrays.asList(createProviderWhichThrows(new BadCredentialsException("",new Throwable())),createProviderWhichReturns(authReq)));
  assertThat(mgr.authenticate(mock(Authentication.class))).isSameAs(authReq);
}
