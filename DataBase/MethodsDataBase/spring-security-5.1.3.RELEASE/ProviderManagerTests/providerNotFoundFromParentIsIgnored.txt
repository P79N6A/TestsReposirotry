@Test public void providerNotFoundFromParentIsIgnored() throws Exception {
  final Authentication authReq=mock(Authentication.class);
  AuthenticationEventPublisher publisher=mock(AuthenticationEventPublisher.class);
  AuthenticationManager parent=mock(AuthenticationManager.class);
  when(parent.authenticate(authReq)).thenThrow(new ProviderNotFoundException(""));
  ProviderManager mgr=new ProviderManager(Arrays.asList(createProviderWhichThrows(new BadCredentialsException(""))),parent);
  mgr.setAuthenticationEventPublisher(publisher);
  try {
    mgr.authenticate(authReq);
    fail("Expected exception");
  }
 catch (  BadCredentialsException expected) {
    verify(publisher).publishAuthenticationFailure(expected,authReq);
  }
}
