@Test public void accountStatusExceptionPreventsCallsToSubsequentProviders() throws Exception {
  AuthenticationProvider iThrowAccountStatusException=createProviderWhichThrows(new AccountStatusException(""){
  }
);
  AuthenticationProvider otherProvider=mock(AuthenticationProvider.class);
  ProviderManager authMgr=new ProviderManager(Arrays.asList(iThrowAccountStatusException,otherProvider));
  try {
    authMgr.authenticate(mock(Authentication.class));
    fail("Expected AccountStatusException");
  }
 catch (  AccountStatusException expected) {
  }
  verifyZeroInteractions(otherProvider);
}
