@Test public void parentAuthenticationIsUsedIfProvidersDontAuthenticate() throws Exception {
  AuthenticationManager parent=mock(AuthenticationManager.class);
  Authentication authReq=mock(Authentication.class);
  when(parent.authenticate(authReq)).thenReturn(authReq);
  ProviderManager mgr=new ProviderManager(Arrays.asList(mock(AuthenticationProvider.class)),parent);
  assertThat(mgr.authenticate(authReq)).isSameAs(authReq);
}
