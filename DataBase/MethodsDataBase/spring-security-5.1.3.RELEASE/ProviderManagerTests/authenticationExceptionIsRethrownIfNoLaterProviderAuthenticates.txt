@Test public void authenticationExceptionIsRethrownIfNoLaterProviderAuthenticates() throws Exception {
  ProviderManager mgr=new ProviderManager(Arrays.asList(createProviderWhichThrows(new BadCredentialsException("")),createProviderWhichReturns(null)));
  try {
    mgr.authenticate(mock(Authentication.class));
    fail("Expected BadCredentialsException");
  }
 catch (  BadCredentialsException expected) {
  }
}
