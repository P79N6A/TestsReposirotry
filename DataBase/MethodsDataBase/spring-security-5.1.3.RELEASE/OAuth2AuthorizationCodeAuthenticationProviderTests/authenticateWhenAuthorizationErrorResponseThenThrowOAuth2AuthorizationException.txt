@Test public void authenticateWhenAuthorizationErrorResponseThenThrowOAuth2AuthorizationException(){
  when(this.authorizationResponse.statusError()).thenReturn(true);
  when(this.authorizationResponse.getError()).thenReturn(new OAuth2Error(OAuth2ErrorCodes.INVALID_REQUEST));
  assertThatThrownBy(() -> {
    this.authenticationProvider.authenticate(new OAuth2AuthorizationCodeAuthenticationToken(this.clientRegistration,this.authorizationExchange));
  }
).isInstanceOf(OAuth2AuthorizationException.class).hasMessageContaining(OAuth2ErrorCodes.INVALID_REQUEST);
}
