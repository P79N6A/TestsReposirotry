@Test public void removeAuthorizedClientWhenSavedThenRemovedFromSession(){
  OAuth2AuthorizedClient authorizedClient=new OAuth2AuthorizedClient(this.registration1,this.principalName1,mock(OAuth2AccessToken.class));
  this.authorizedClientRepository.saveAuthorizedClient(authorizedClient,null,this.request,this.response);
  OAuth2AuthorizedClient loadedAuthorizedClient=this.authorizedClientRepository.loadAuthorizedClient(this.registrationId1,null,this.request);
  assertThat(loadedAuthorizedClient).isSameAs(authorizedClient);
  this.authorizedClientRepository.removeAuthorizedClient(this.registrationId1,null,this.request,this.response);
  HttpSession session=this.request.getSession(false);
  assertThat(session).isNotNull();
  assertThat(session.getAttribute(HttpSessionOAuth2AuthorizedClientRepository.class.getName() + ".AUTHORIZED_CLIENTS")).isNull();
}
