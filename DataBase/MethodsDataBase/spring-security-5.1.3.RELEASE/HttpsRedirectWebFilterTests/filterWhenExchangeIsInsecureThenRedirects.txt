@Test public void filterWhenExchangeIsInsecureThenRedirects(){
  ServerWebExchange exchange=get("http://localhost");
  this.filter.filter(exchange,this.chain).block();
  assertThat(statusCode(exchange)).isEqualTo(302);
  assertThat(redirectedUrl(exchange)).isEqualTo("https://localhost");
}
