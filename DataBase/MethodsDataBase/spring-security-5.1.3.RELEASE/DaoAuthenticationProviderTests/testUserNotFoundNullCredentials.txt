@Test public void testUserNotFoundNullCredentials(){
  UsernamePasswordAuthenticationToken token=new UsernamePasswordAuthenticationToken("missing",null);
  PasswordEncoder encoder=mock(PasswordEncoder.class);
  DaoAuthenticationProvider provider=new DaoAuthenticationProvider();
  provider.setHideUserNotFoundExceptions(false);
  provider.setPasswordEncoder(encoder);
  provider.setUserDetailsService(new MockUserDetailsServiceUserRod());
  try {
    provider.authenticate(token);
    fail("Expected Exception");
  }
 catch (  UsernameNotFoundException success) {
  }
  verify(encoder,times(0)).matches(anyString(),anyString());
}
