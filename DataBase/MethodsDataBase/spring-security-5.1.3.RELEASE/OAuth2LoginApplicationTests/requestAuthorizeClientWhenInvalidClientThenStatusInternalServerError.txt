@Test public void requestAuthorizeClientWhenInvalidClientThenStatusInternalServerError() throws Exception {
  HtmlPage page=this.webClient.getPage("/");
  ClientRegistration clientRegistration=this.clientRegistrationRepository.findByRegistrationId("google");
  HtmlAnchor clientAnchorElement=this.getClientAnchorElement(page,clientRegistration);
  assertThat(clientAnchorElement).isNotNull();
  clientAnchorElement.setAttribute("href",clientAnchorElement.getHrefAttribute() + "-invalid");
  WebResponse response=null;
  try {
    clientAnchorElement.click();
  }
 catch (  FailingHttpStatusCodeException ex) {
    response=ex.getResponse();
  }
  assertThat(response.getStatusCode()).isEqualTo(HttpStatus.INTERNAL_SERVER_ERROR.value());
}
