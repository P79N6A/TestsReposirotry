@Test public void afterInvocationManagerIsNotInvokedIfExceptionIsRaised() throws Throwable {
  MethodInvocation mi=mock(MethodInvocation.class);
  token.setAuthenticated(true);
  SecurityContextHolder.getContext().setAuthentication(token);
  mdsReturnsUserRole();
  AfterInvocationManager aim=mock(AfterInvocationManager.class);
  interceptor.setAfterInvocationManager(aim);
  when(mi.proceed()).thenThrow(new Throwable());
  try {
    interceptor.invoke(mi);
    fail("Expected exception");
  }
 catch (  Throwable expected) {
  }
  verifyZeroInteractions(aim);
}
