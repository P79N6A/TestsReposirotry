@Test public void saveContextWhenTransientAuthenticationSubclassThenSkipped(){
  HttpSessionSecurityContextRepository repo=new HttpSessionSecurityContextRepository();
  MockHttpServletRequest request=new MockHttpServletRequest();
  MockHttpServletResponse response=new MockHttpServletResponse();
  HttpRequestResponseHolder holder=new HttpRequestResponseHolder(request,response);
  SecurityContext context=repo.loadContext(holder);
  SomeTransientAuthenticationSubclass authentication=new SomeTransientAuthenticationSubclass();
  context.setAuthentication(authentication);
  repo.saveContext(context,holder.getRequest(),holder.getResponse());
  MockHttpSession session=(MockHttpSession)request.getSession(false);
  assertThat(session).isNull();
}
