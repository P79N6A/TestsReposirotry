@Test public void publisherPreAuthorizeHasRoleWhenGrantedThenSuccess(){
  when(this.delegate.publisherPreAuthorizeHasRoleFindById(1L)).thenReturn(publisherJust("result"));
  Publisher<String> findById=Flux.from(this.messageService.publisherPreAuthorizeHasRoleFindById(1L)).subscriberContext(withAdmin);
  StepVerifier.create(findById).consumeNextWith(s -> AssertionsForClassTypes.assertThat(s).isEqualTo("result")).verifyComplete();
}
