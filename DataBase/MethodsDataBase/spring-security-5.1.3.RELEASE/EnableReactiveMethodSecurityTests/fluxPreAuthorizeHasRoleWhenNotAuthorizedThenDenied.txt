@Test public void fluxPreAuthorizeHasRoleWhenNotAuthorizedThenDenied(){
  when(this.delegate.fluxPreAuthorizeHasRoleFindById(1L)).thenReturn(Flux.from(result));
  Flux<String> findById=this.messageService.fluxPreAuthorizeHasRoleFindById(1L).subscriberContext(withUser);
  StepVerifier.create(findById).expectError(AccessDeniedException.class).verify();
  result.assertNoSubscribers();
}
