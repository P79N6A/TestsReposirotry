@Test public void authenticationFailed() throws Exception {
  mvc.perform(formLogin().user("user").password("invalid")).andExpect(status().isFound()).andExpect(redirectedUrl("/login?error")).andExpect(unauthenticated());
}
