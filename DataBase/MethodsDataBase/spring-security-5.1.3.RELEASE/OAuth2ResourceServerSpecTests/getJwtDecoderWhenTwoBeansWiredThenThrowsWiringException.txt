@Test public void getJwtDecoderWhenTwoBeansWiredThenThrowsWiringException(){
  GenericWebApplicationContext context=autowireWebServerGenericWebApplicationContext();
  ServerHttpSecurity http=new ServerHttpSecurity();
  http.setApplicationContext(context);
  ReactiveJwtDecoder beanWiredJwtDecoder=mock(ReactiveJwtDecoder.class);
  context.registerBean("firstJwtDecoder",ReactiveJwtDecoder.class,() -> beanWiredJwtDecoder);
  context.registerBean("secondJwtDecoder",ReactiveJwtDecoder.class,() -> beanWiredJwtDecoder);
  ServerHttpSecurity.OAuth2ResourceServerSpec.JwtSpec jwt=http.oauth2ResourceServer().jwt();
  assertThatCode(() -> jwt.getJwtDecoder()).isInstanceOf(NoUniqueBeanDefinitionException.class);
}
