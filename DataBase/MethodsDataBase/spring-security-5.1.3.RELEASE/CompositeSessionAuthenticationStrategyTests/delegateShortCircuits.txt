@Test public void delegateShortCircuits(){
  doThrow(new SessionAuthenticationException("oops")).when(strategy1).onAuthentication(authentication,request,response);
  CompositeSessionAuthenticationStrategy strategy=new CompositeSessionAuthenticationStrategy(Arrays.asList(strategy1,strategy2));
  try {
    strategy.onAuthentication(authentication,request,response);
    fail("Expected Exception");
  }
 catch (  SessionAuthenticationException success) {
  }
  verify(strategy1).onAuthentication(authentication,request,response);
  verify(strategy2,times(0)).onAuthentication(authentication,request,response);
}
