@Test @WithMockUser public void withMockUserWhenGlobalMockPrincipalThenOverridesAnnotation(){
  TestingAuthenticationToken authentication=new TestingAuthenticationToken("authentication","secret","ROLE_USER");
  client=WebTestClient.bindToController(controller).webFilter(new SecurityContextServerWebExchangeWebFilter()).apply(springSecurity()).apply(mockAuthentication(authentication)).configureClient().defaultHeader(HttpHeaders.ACCEPT,MediaType.APPLICATION_JSON_VALUE).build();
  client.get().exchange().expectStatus().isOk();
  controller.assertPrincipalIsEqualTo(authentication);
}
