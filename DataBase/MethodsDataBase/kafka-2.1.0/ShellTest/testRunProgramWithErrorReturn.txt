@Test public void testRunProgramWithErrorReturn() throws Exception {
  assumeTrue(!OperatingSystem.IS_WINDOWS);
  try {
    Shell.execCommand("head","-c","0",NONEXISTENT_PATH);
    fail("Expected to get an exception when trying to head a nonexistent file");
  }
 catch (  Shell.ExitCodeException e) {
    String message=e.getMessage();
    assertTrue("Unexpected error message '" + message + "'",message.contains("No such file") || message.contains("illegal byte count"));
  }
}
