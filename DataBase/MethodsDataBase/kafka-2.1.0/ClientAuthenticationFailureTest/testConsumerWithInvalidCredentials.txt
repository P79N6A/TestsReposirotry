@Test public void testConsumerWithInvalidCredentials(){
  Map<String,Object> props=new HashMap<>(saslClientConfigs);
  props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,"localhost:" + server.port());
  StringDeserializer deserializer=new StringDeserializer();
  try (KafkaConsumer<String,String> consumer=new KafkaConsumer<>(props,deserializer,deserializer)){
    consumer.subscribe(Arrays.asList(topic));
    consumer.poll(Duration.ofSeconds(10));
    fail("Expected an authentication error!");
  }
 catch (  SaslAuthenticationException e) {
  }
catch (  Exception e) {
    throw new AssertionError("Expected only an authentication error, but another error occurred.",e);
  }
}
