@Test public void testTransactionalProducerWithInvalidCredentials(){
  Map<String,Object> props=new HashMap<>(saslClientConfigs);
  props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,"localhost:" + server.port());
  props.put(ProducerConfig.TRANSACTIONAL_ID_CONFIG,"txclient-1");
  props.put(ProducerConfig.ENABLE_IDEMPOTENCE_CONFIG,"true");
  StringSerializer serializer=new StringSerializer();
  try (KafkaProducer<String,String> producer=new KafkaProducer<>(props,serializer,serializer)){
    producer.initTransactions();
    fail("Expected an authentication error!");
  }
 catch (  SaslAuthenticationException e) {
  }
}
