@Test public void shouldNotWriteCheckpointWhenNoOffsets() throws IOException {
  final File f=new File(TestUtils.tempDirectory().getAbsolutePath(),"kafka.tmp");
  final OffsetCheckpoint checkpoint=new OffsetCheckpoint(f);
  checkpoint.write(Collections.<TopicPartition,Long>emptyMap());
  assertFalse(f.exists());
  assertEquals(Collections.<TopicPartition,Long>emptyMap(),checkpoint.read());
  checkpoint.delete();
}
