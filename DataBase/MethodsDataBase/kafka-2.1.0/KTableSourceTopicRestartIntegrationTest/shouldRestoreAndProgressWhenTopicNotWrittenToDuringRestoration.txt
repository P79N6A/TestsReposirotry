@Test public void shouldRestoreAndProgressWhenTopicNotWrittenToDuringRestoration() throws Exception {
  try {
    streamsOne=new KafkaStreams(streamsBuilder.build(),STREAMS_CONFIG);
    streamsOne.start();
    produceKeyValues("a","b","c");
    assertNumberValuesRead(readKeyValues,expectedInitialResultsMap,"Table did not read all values");
    streamsOne.close();
    streamsOne=new KafkaStreams(streamsBuilder.build(),STREAMS_CONFIG);
    streamsOne.start();
    produceKeyValues("f","g","h");
    final Map<String,String> expectedValues=createExpectedResultsMap("a","b","c","f","g","h");
    assertNumberValuesRead(readKeyValues,expectedValues,"Table did not get all values after restart");
  }
  finally {
    streamsOne.close(Duration.ofSeconds(5));
  }
}
