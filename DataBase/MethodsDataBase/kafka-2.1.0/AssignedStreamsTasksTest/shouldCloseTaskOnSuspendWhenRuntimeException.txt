@Test public void shouldCloseTaskOnSuspendWhenRuntimeException(){
  mockTaskInitialization();
  t1.suspend();
  EasyMock.expectLastCall().andThrow(new RuntimeException("KABOOM!"));
  t1.close(false,false);
  EasyMock.expectLastCall();
  EasyMock.replay(t1);
  assertThat(suspendTask(),not(nullValue()));
  assertThat(assignedTasks.previousTaskIds(),equalTo(Collections.singleton(taskId1)));
  EasyMock.verify(t1);
}
