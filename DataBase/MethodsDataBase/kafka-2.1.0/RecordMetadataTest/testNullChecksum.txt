@Test @SuppressWarnings("deprecation") public void testNullChecksum(){
  long timestamp=2340234L;
  int keySize=3;
  int valueSize=5;
  RecordMetadata metadata=new RecordMetadata(new TopicPartition("foo",0),15L,3L,timestamp,null,keySize,valueSize);
  assertEquals(DefaultRecord.computePartialChecksum(timestamp,keySize,valueSize),metadata.checksum());
}
