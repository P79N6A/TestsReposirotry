@Test public void testRequestProcessingOrder() throws Exception {
  final DistributedHerder.DistributedHerderRequest req1=herder.addRequest(100,null,null);
  final DistributedHerder.DistributedHerderRequest req2=herder.addRequest(10,null,null);
  final DistributedHerder.DistributedHerderRequest req3=herder.addRequest(200,null,null);
  final DistributedHerder.DistributedHerderRequest req4=herder.addRequest(200,null,null);
  assertEquals(req2,herder.requests.pollFirst());
  assertEquals(req1,herder.requests.pollFirst());
  assertEquals(req3,herder.requests.pollFirst());
  assertEquals(req4,herder.requests.pollFirst());
}
