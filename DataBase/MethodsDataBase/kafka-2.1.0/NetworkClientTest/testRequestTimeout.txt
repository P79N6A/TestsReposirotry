@Test public void testRequestTimeout(){
  awaitReady(client,node);
  ProduceRequest.Builder builder=ProduceRequest.Builder.forCurrentMagic((short)1,1000,Collections.emptyMap());
  TestCallbackHandler handler=new TestCallbackHandler();
  int requestTimeoutMs=defaultRequestTimeoutMs + 5000;
  ClientRequest request=client.newClientRequest(node.idString(),builder,time.milliseconds(),true,requestTimeoutMs,handler);
  assertEquals(requestTimeoutMs,request.requestTimeoutMs());
  testRequestTimeout(request);
}
