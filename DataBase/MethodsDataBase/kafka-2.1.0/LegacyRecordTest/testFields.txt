@Test public void testFields(){
  assertEquals(compression,record.compressionType());
  assertEquals(key != null,record.hasKey());
  assertEquals(key,record.key());
  if (key != null)   assertEquals(key.limit(),record.keySize());
  assertEquals(magic,record.magic());
  assertEquals(value,record.value());
  if (value != null)   assertEquals(value.limit(),record.valueSize());
  if (magic > 0) {
    assertEquals(timestamp,record.timestamp());
    assertEquals(timestampType,record.timestampType());
  }
 else {
    assertEquals(RecordBatch.NO_TIMESTAMP,record.timestamp());
    assertEquals(TimestampType.NO_TIMESTAMP_TYPE,record.timestampType());
  }
}
