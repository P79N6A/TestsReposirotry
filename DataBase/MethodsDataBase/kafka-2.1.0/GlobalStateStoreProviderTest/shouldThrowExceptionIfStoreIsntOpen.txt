@Test(expected=InvalidStateStoreException.class) public void shouldThrowExceptionIfStoreIsntOpen(){
  final NoOpReadOnlyStore<Object,Object> store=new NoOpReadOnlyStore<>();
  store.close();
  final GlobalStateStoreProvider provider=new GlobalStateStoreProvider(Collections.<String,StateStore>singletonMap("global",store));
  provider.stores("global",QueryableStoreTypes.keyValueStore());
}
