@Test public void shouldGetInstanceWithKey(){
  final TopicPartition tp4=new TopicPartition("topic-three",1);
  hostToPartitions.put(hostTwo,Utils.mkSet(topic2P0,tp4));
  metadataState.onChange(hostToPartitions,cluster.withPartitions(Collections.singletonMap(tp4,new PartitionInfo("topic-three",1,null,null,null))));
  final StreamsMetadata expected=new StreamsMetadata(hostThree,Utils.mkSet(globalTable,"table-three"),Collections.singleton(topic3P0));
  final StreamsMetadata actual=metadataState.getMetadataWithKey("table-three","the-key",Serdes.String().serializer());
  assertEquals(expected,actual);
}
