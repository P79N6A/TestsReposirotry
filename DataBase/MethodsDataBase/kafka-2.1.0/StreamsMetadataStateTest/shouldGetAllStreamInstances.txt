@Test public void shouldGetAllStreamInstances(){
  final StreamsMetadata one=new StreamsMetadata(hostOne,Utils.mkSet(globalTable,"table-one","table-two","merged-table"),Utils.mkSet(topic1P0,topic2P1,topic4P0));
  final StreamsMetadata two=new StreamsMetadata(hostTwo,Utils.mkSet(globalTable,"table-two","table-one","merged-table"),Utils.mkSet(topic2P0,topic1P1));
  final StreamsMetadata three=new StreamsMetadata(hostThree,Utils.mkSet(globalTable,"table-three"),Collections.singleton(topic3P0));
  final Collection<StreamsMetadata> actual=metadataState.getAllMetadata();
  assertEquals(3,actual.size());
  assertTrue("expected " + actual + " to contain "+ one,actual.contains(one));
  assertTrue("expected " + actual + " to contain "+ two,actual.contains(two));
  assertTrue("expected " + actual + " to contain "+ three,actual.contains(three));
}
