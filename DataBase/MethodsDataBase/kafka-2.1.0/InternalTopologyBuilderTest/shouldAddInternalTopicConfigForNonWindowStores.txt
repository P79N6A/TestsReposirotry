@Test public void shouldAddInternalTopicConfigForNonWindowStores(){
  builder.setApplicationId("appId");
  builder.addSource(null,"source",null,null,null,"topic");
  builder.addProcessor("processor",new MockProcessorSupplier(),"source");
  builder.addStateStore(storeBuilder,"processor");
  final Map<Integer,InternalTopologyBuilder.TopicsInfo> topicGroups=builder.topicGroups();
  final InternalTopologyBuilder.TopicsInfo topicsInfo=topicGroups.values().iterator().next();
  final InternalTopicConfig topicConfig=topicsInfo.stateChangelogTopics.get("appId-store-changelog");
  final Map<String,String> properties=topicConfig.getProperties(Collections.<String,String>emptyMap(),10000);
  assertEquals(1,properties.size());
  assertEquals(TopicConfig.CLEANUP_POLICY_COMPACT,properties.get(TopicConfig.CLEANUP_POLICY_CONFIG));
  assertEquals("appId-store-changelog",topicConfig.name());
  assertTrue(topicConfig instanceof UnwindowedChangelogTopicConfig);
}
