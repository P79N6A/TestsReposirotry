@Test public void shouldAddInternalTopicConfigForRepartitionTopics(){
  builder.setApplicationId("appId");
  builder.addInternalTopic("foo");
  builder.addSource(null,"source",null,null,null,"foo");
  final InternalTopologyBuilder.TopicsInfo topicsInfo=builder.topicGroups().values().iterator().next();
  final InternalTopicConfig topicConfig=topicsInfo.repartitionSourceTopics.get("appId-foo");
  final Map<String,String> properties=topicConfig.getProperties(Collections.<String,String>emptyMap(),10000);
  assertEquals(5,properties.size());
  assertEquals(String.valueOf(Long.MAX_VALUE),properties.get(TopicConfig.RETENTION_MS_CONFIG));
  assertEquals(TopicConfig.CLEANUP_POLICY_DELETE,properties.get(TopicConfig.CLEANUP_POLICY_CONFIG));
  assertEquals("appId-foo",topicConfig.name());
  assertTrue(topicConfig instanceof RepartitionTopicConfig);
}
