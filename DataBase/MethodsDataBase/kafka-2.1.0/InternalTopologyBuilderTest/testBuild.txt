@Test public void testBuild(){
  builder.addSource(null,"source-1",null,null,null,"topic-1","topic-1x");
  builder.addSource(null,"source-2",null,null,null,"topic-2");
  builder.addSource(null,"source-3",null,null,null,"topic-3");
  builder.addSource(null,"source-4",null,null,null,"topic-4");
  builder.addSource(null,"source-5",null,null,null,"topic-5");
  builder.addProcessor("processor-1",new MockProcessorSupplier(),"source-1");
  builder.addProcessor("processor-2",new MockProcessorSupplier(),"source-2","processor-1");
  builder.addProcessor("processor-3",new MockProcessorSupplier(),"source-3","source-4");
  builder.setApplicationId("X");
  final ProcessorTopology topology0=builder.build(0);
  final ProcessorTopology topology1=builder.build(1);
  final ProcessorTopology topology2=builder.build(2);
  assertEquals(mkSet("source-1","source-2","processor-1","processor-2"),nodeNames(topology0.processors()));
  assertEquals(mkSet("source-3","source-4","processor-3"),nodeNames(topology1.processors()));
  assertEquals(mkSet("source-5"),nodeNames(topology2.processors()));
}
