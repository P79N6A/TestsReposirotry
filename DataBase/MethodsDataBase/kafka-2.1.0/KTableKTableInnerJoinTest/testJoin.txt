@Test public void testJoin(){
  final StreamsBuilder builder=new StreamsBuilder();
  final int[] expectedKeys=new int[]{0,1,2,3};
  final KTable<Integer,String> table1;
  final KTable<Integer,String> table2;
  final KTable<Integer,String> joined;
  final MockProcessorSupplier<Integer,String> supplier=new MockProcessorSupplier<>();
  table1=builder.table(topic1,consumed);
  table2=builder.table(topic2,consumed);
  joined=table1.join(table2,MockValueJoiner.TOSTRING_JOINER);
  joined.toStream().process(supplier);
  doTestJoin(builder,expectedKeys,supplier,joined);
}
