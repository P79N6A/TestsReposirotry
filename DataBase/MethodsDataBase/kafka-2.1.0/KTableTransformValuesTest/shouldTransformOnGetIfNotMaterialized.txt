@SuppressWarnings("unchecked") @Test public void shouldTransformOnGetIfNotMaterialized(){
  final KTableTransformValues<String,String,String> transformValues=new KTableTransformValues<>(parent,new ExclamationValueTransformerSupplier(),null);
  expect(parent.valueGetterSupplier()).andReturn(parentGetterSupplier);
  expect(parentGetterSupplier.get()).andReturn(parentGetter);
  expect(parentGetter.get("Key")).andReturn("Value");
  replay(parent,parentGetterSupplier,parentGetter);
  final KTableValueGetter<String,String> getter=transformValues.view().get();
  getter.init(context);
  final String result=getter.get("Key");
  assertThat(result,is("Key->Value!"));
}
