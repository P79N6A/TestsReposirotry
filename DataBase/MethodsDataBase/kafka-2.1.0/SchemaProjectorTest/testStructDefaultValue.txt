@Test public void testStructDefaultValue() throws Exception {
  Schema source=SchemaBuilder.struct().optional().field("field",Schema.INT32_SCHEMA).field("field2",Schema.INT32_SCHEMA).build();
  SchemaBuilder builder=SchemaBuilder.struct().field("field",Schema.INT32_SCHEMA).field("field2",Schema.INT32_SCHEMA);
  Struct defaultStruct=new Struct(builder).put("field",12).put("field2",345);
  builder.defaultValue(defaultStruct);
  Schema target=builder.build();
  Object projected=SchemaProjector.project(source,null,target);
  assertEquals(defaultStruct,projected);
  Struct sourceStruct=new Struct(source).put("field",45).put("field2",678);
  Struct targetStruct=(Struct)SchemaProjector.project(source,sourceStruct,target);
  assertEquals(sourceStruct.get("field"),targetStruct.get("field"));
  assertEquals(sourceStruct.get("field2"),targetStruct.get("field2"));
}
