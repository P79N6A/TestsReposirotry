@Test public void shouldRecordPutLatency(){
  final byte[] bytes="a".getBytes();
  innerStoreMock.put(EasyMock.eq(Bytes.wrap(bytes)),EasyMock.<byte[]>anyObject(),EasyMock.eq(context.timestamp()));
  EasyMock.expectLastCall();
  EasyMock.replay(innerStoreMock);
  store.init(context,store);
  store.put("a","a");
  final Map<MetricName,? extends Metric> metrics=context.metrics().metrics();
  assertEquals(1.0,getMetricByNameFilterByTags(metrics,"put-total","stream-scope-metrics",singletonMap("scope-id","all")).metricValue());
  assertEquals(1.0,getMetricByNameFilterByTags(metrics,"put-total","stream-scope-metrics",singletonMap("scope-id","mocked-store")).metricValue());
  EasyMock.verify(innerStoreMock);
}
