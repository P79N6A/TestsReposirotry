@Test public void shouldThrowOnAbortForNonAutoCompleteIfTransactionsAreEnabled() throws Exception {
  buildMockProducer(false);
  producer.initTransactions();
  producer.beginTransaction();
  Future<RecordMetadata> md1=producer.send(record1);
  assertFalse(md1.isDone());
  producer.abortTransaction();
  assertTrue(md1.isDone());
}
