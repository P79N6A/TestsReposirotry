@Test public void shouldFlushEvictedItemsIntoUnderlyingStore(){
  final int added=addItemsToCache();
  final KeyValueIterator<Bytes,byte[]> iter=underlying.fetch(Bytes.wrap("0".getBytes()),DEFAULT_TIMESTAMP,DEFAULT_TIMESTAMP);
  final KeyValue<Bytes,byte[]> next=iter.next();
  assertEquals(DEFAULT_TIMESTAMP,keySchema.segmentTimestamp(next.key));
  assertArrayEquals("0".getBytes(),next.value);
  assertFalse(iter.hasNext());
  assertEquals(added - 1,cache.size());
}
