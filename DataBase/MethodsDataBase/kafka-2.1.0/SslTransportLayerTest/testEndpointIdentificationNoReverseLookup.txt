/** 
 * Tests that hostname verification is performed on the host name or address specified by the client without using reverse DNS lookup. Certificate is created with hostname, client connection uses IP address. Endpoint validation must fail.
 */
@Test public void testEndpointIdentificationNoReverseLookup() throws Exception {
  String node="0";
  server=createEchoServer(SecurityProtocol.SSL);
  sslClientConfigs.put(SslConfigs.SSL_ENDPOINT_IDENTIFICATION_ALGORITHM_CONFIG,"HTTPS");
  createSelector(sslClientConfigs);
  InetSocketAddress addr=new InetSocketAddress("127.0.0.1",server.port());
  selector.connect(node,addr,BUFFER_SIZE,BUFFER_SIZE);
  NetworkTestUtils.waitForChannelClose(selector,node,ChannelState.State.AUTHENTICATION_FAILED);
}
