@Test public void shouldGetRangeFromInnerStoreAndRecordRangeMetric(){
  EasyMock.expect(inner.range(keyBytes,keyBytes)).andReturn(new KeyValueIteratorStub<>(Collections.singletonList(KeyValue.pair(keyBytes,valueBytes)).iterator()));
  init();
  final KeyValueIterator<String,String> iterator=metered.range(key,key);
  assertThat(iterator.next().value,equalTo(value));
  assertFalse(iterator.hasNext());
  iterator.close();
  final KafkaMetric metric=metric("range-rate");
  assertTrue((Double)metric.metricValue() > 0);
  EasyMock.verify(inner);
}
