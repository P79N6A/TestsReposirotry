@Test public void testWithSchemaFieldConversion(){
  Map<String,String> config=new HashMap<>();
  config.put(TimestampConverter.TARGET_TYPE_CONFIG,"Timestamp");
  config.put(TimestampConverter.FIELD_CONFIG,"ts");
  xformValue.configure(config);
  Schema structWithTimestampFieldSchema=SchemaBuilder.struct().field("ts",Schema.INT64_SCHEMA).field("other",Schema.STRING_SCHEMA).build();
  Struct original=new Struct(structWithTimestampFieldSchema);
  original.put("ts",DATE_PLUS_TIME_UNIX);
  original.put("other","test");
  SourceRecord transformed=xformValue.apply(new SourceRecord(null,null,"topic",0,structWithTimestampFieldSchema,original));
  Schema expectedSchema=SchemaBuilder.struct().field("ts",Timestamp.SCHEMA).field("other",Schema.STRING_SCHEMA).build();
  assertEquals(expectedSchema,transformed.valueSchema());
  assertEquals(DATE_PLUS_TIME.getTime(),((Struct)transformed.value()).get("ts"));
  assertEquals("test",((Struct)transformed.value()).get("other"));
}
