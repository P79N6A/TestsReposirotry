@Test public void testMissingTimestampPropagation() throws Exception {
  createTask(initialState);
  expectInitializeTask();
  expectPollInitialAssignment();
  expectConsumerPoll(1,RecordBatch.NO_TIMESTAMP,TimestampType.CREATE_TIME);
  expectConversionAndTransformation(1);
  Capture<Collection<SinkRecord>> records=EasyMock.newCapture(CaptureType.ALL);
  sinkTask.put(EasyMock.capture(records));
  PowerMock.replayAll();
  workerTask.initialize(TASK_CONFIG);
  workerTask.initializeAndStart();
  workerTask.iteration();
  workerTask.iteration();
  SinkRecord record=records.getValue().iterator().next();
  assertEquals(null,record.timestamp());
  assertEquals(TimestampType.CREATE_TIME,record.timestampType());
  PowerMock.verifyAll();
}
