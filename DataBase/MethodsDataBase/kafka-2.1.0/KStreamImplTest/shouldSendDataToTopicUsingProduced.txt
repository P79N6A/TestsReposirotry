@Test public void shouldSendDataToTopicUsingProduced(){
  final StreamsBuilder builder=new StreamsBuilder();
  final String input="topic";
  final KStream<String,String> stream=builder.stream(input,stringConsumed);
  stream.to("to-topic",Produced.with(Serdes.String(),Serdes.String()));
  builder.stream("to-topic",stringConsumed).process(processorSupplier);
  try (final TopologyTestDriver driver=new TopologyTestDriver(builder.build(),props)){
    driver.pipeInput(recordFactory.create(input,"e","f"));
  }
   assertThat(processorSupplier.theCapturedProcessor().processed,equalTo(Collections.singletonList("e:f")));
}
