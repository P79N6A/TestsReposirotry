@Test public void testJoinGroupRequestTimeout(){
  setupCoordinator(RETRY_BACKOFF_MS,REBALANCE_TIMEOUT_MS);
  mockClient.prepareResponse(groupCoordinatorResponse(node,Errors.NONE));
  coordinator.ensureCoordinatorReady(mockTime.timer(0));
  RequestFuture<ByteBuffer> future=coordinator.sendJoinGroupRequest();
  mockTime.sleep(REQUEST_TIMEOUT_MS + 1);
  assertFalse(consumerClient.poll(future,mockTime.timer(0)));
  mockTime.sleep(REBALANCE_TIMEOUT_MS - REQUEST_TIMEOUT_MS + 5000);
  assertTrue(consumerClient.poll(future,mockTime.timer(0)));
}
