@Test public void shouldGenerateStoreNameWithPrefixIfProvidedNameIsNull(){
  final String generatedName=prefix + "-store";
  EasyMock.expect(nameProvider.newStoreName(prefix)).andReturn(generatedName);
  EasyMock.replay(nameProvider);
  final MaterializedInternal<Object,Object,StateStore> materialized=new MaterializedInternal<>(Materialized.with(null,null));
  materialized.generateStoreNameIfNeeded(nameProvider,prefix);
  assertThat(materialized.storeName(),equalTo(generatedName));
  EasyMock.verify(nameProvider);
}
