/** 
 * A  {@link ProducerBatch} configured using a timestamp preceding its create time is interpreted correctly* as not expired by  {@link ProducerBatch#hasReachedDeliveryTimeout(long,long)}.
 */
@Test public void testBatchExpirationAfterReenqueue(){
  ProducerBatch batch=new ProducerBatch(new TopicPartition("topic",1),memoryRecordsBuilder,now);
  batch.reenqueued(now);
  assertFalse(batch.hasReachedDeliveryTimeout(10240,now - 2L));
}
