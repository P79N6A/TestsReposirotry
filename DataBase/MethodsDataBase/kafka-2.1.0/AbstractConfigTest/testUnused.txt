@Test public void testUnused(){
  Properties props=new Properties();
  String configValue="org.apache.kafka.common.config.AbstractConfigTest$ConfiguredFakeMetricsReporter";
  props.put(TestConfig.METRIC_REPORTER_CLASSES_CONFIG,configValue);
  props.put(FakeMetricsReporterConfig.EXTRA_CONFIG,"my_value");
  TestConfig config=new TestConfig(props);
  assertTrue("metric.extra_config should be marked unused before getConfiguredInstances is called",config.unused().contains(FakeMetricsReporterConfig.EXTRA_CONFIG));
  config.getConfiguredInstances(TestConfig.METRIC_REPORTER_CLASSES_CONFIG,MetricsReporter.class);
  assertTrue("All defined configurations should be marked as used",config.unused().isEmpty());
}
