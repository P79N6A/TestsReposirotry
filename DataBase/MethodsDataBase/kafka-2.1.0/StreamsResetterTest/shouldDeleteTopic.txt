@Test public void shouldDeleteTopic() throws InterruptedException, ExecutionException {
  final Cluster cluster=createCluster(1);
  try (final MockAdminClient adminClient=new MockAdminClient(cluster.nodes(),cluster.nodeById(0))){
    final TopicPartitionInfo topicPartitionInfo=new TopicPartitionInfo(0,cluster.nodeById(0),cluster.nodes(),Collections.<Node>emptyList());
    adminClient.addTopic(false,TOPIC,Collections.singletonList(topicPartitionInfo),null);
    streamsResetter.doDelete(Collections.singletonList(TOPIC),adminClient);
    assertEquals(Collections.emptySet(),adminClient.listTopics().names().get());
  }
 }
