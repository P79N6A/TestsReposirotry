@Test public void testSkip() throws Exception {
  if (!close || (useBrokenFlagDescriptorChecksum && !ignoreFlagDescriptorChecksum))   return;
  final KafkaLZ4BlockInputStream in=makeInputStream(ByteBuffer.wrap(compressedBytes()));
  int n=100;
  int remaining=payload.length;
  long skipped=in.skip(n);
  assertEquals(Math.min(n,remaining),skipped);
  n=10000;
  remaining-=skipped;
  skipped=in.skip(n);
  assertEquals(Math.min(n,remaining),skipped);
}
