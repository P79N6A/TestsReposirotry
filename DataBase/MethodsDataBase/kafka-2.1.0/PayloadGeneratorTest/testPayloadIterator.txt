@Test public void testPayloadIterator(){
  final int expectedSize=50;
  PayloadIterator iter=new PayloadIterator(new ConstantPayloadGenerator(expectedSize,new byte[0]));
  final byte[] expected=new byte[expectedSize];
  assertEquals(0,iter.position());
  assertArrayEquals(expected,iter.next());
  assertEquals(1,iter.position());
  assertArrayEquals(expected,iter.next());
  assertArrayEquals(expected,iter.next());
  assertEquals(3,iter.position());
  iter.seek(0);
  assertEquals(0,iter.position());
}
