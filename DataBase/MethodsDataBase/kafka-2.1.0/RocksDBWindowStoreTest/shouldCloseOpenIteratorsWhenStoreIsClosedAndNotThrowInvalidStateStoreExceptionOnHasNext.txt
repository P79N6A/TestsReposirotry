@Test public void shouldCloseOpenIteratorsWhenStoreIsClosedAndNotThrowInvalidStateStoreExceptionOnHasNext(){
  windowStore=createWindowStore(context,false);
  setCurrentTime(0);
  windowStore.put(1,"one",1L);
  windowStore.put(1,"two",2L);
  windowStore.put(1,"three",3L);
  final WindowStoreIterator<String> iterator=windowStore.fetch(1,ofEpochMilli(1L),ofEpochMilli(3L));
  assertTrue(iterator.hasNext());
  windowStore.close();
  assertFalse(iterator.hasNext());
}
