@Test public void minimalToken() throws IOException, UnsupportedCallbackException {
  Map<String,String> options=new HashMap<>();
  String user="user";
  options.put("unsecuredLoginStringClaim_sub",user);
  MockTime mockTime=new MockTime();
  OAuthBearerUnsecuredLoginCallbackHandler callbackHandler=createCallbackHandler(options,mockTime);
  OAuthBearerTokenCallback callback=new OAuthBearerTokenCallback();
  callbackHandler.handle(new Callback[]{callback});
  OAuthBearerUnsecuredJws jws=(OAuthBearerUnsecuredJws)callback.token();
  assertNotNull("create token failed",jws);
  long startMs=mockTime.milliseconds();
  confirmCorrectValues(jws,user,startMs,1000 * 60 * 60);
  assertEquals(new HashSet<>(Arrays.asList("sub","iat","exp")),jws.claims().keySet());
}
