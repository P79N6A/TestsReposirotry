@Test public void shouldUpdateClusterMetadataAndHostInfoOnAssignment(){
  final TopicPartition partitionOne=new TopicPartition("topic",1);
  final TopicPartition partitionTwo=new TopicPartition("topic",2);
  final Map<HostInfo,Set<TopicPartition>> hostState=Collections.singletonMap(new HostInfo("localhost",9090),Utils.mkSet(partitionOne,partitionTwo));
  configurePartitionAssignor(Collections.<String,Object>emptyMap());
  taskManager.setPartitionsByHostState(hostState);
  EasyMock.expectLastCall();
  EasyMock.replay(taskManager);
  partitionAssignor.onAssignment(createAssignment(hostState));
  EasyMock.verify(taskManager);
}
