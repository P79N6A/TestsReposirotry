@Test public void shouldThrowInvalidStateStoreExceptionIfFetchThrows(){
  underlyingWindowStore.setOpen(false);
  final CompositeReadOnlyWindowStore<Object,Object> store=new CompositeReadOnlyWindowStore<>(stubProviderOne,QueryableStoreTypes.windowStore(),"window-store");
  try {
    store.fetch("key",ofEpochMilli(1),ofEpochMilli(10));
    Assert.fail("InvalidStateStoreException was expected");
  }
 catch (  final InvalidStateStoreException e) {
    Assert.assertEquals("State store is not available anymore and may have been migrated to another instance; " + "please re-discover its location from the state metadata.",e.getMessage());
  }
}
