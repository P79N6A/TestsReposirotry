@Test public void shouldUseMaxIfMultiParentsDoNotAgreeOnGrace(){
  final StatefulProcessorNode<String,Long> leftParent=new StatefulProcessorNode<>("asdf",new ProcessorParameters<>(new KStreamSessionWindowAggregate<String,Long,Integer>(SessionWindows.with(ofMillis(10L)).grace(ofMillis(1234L)),"asdf",null,null,null),"asdf"),(StoreBuilder<? extends StateStore>)null,false);
  final StatefulProcessorNode<String,Long> rightParent=new StatefulProcessorNode<>("asdf",new ProcessorParameters<>(new KStreamWindowAggregate<String,Long,Integer,TimeWindow>(TimeWindows.of(ofMillis(10L)).grace(ofMillis(4321L)),"asdf",null,null),"asdf"),(StoreBuilder<? extends StateStore>)null,false);
  final ProcessorGraphNode<String,Long> node=new ProcessorGraphNode<>("stateless",null);
  leftParent.addChild(node);
  rightParent.addChild(node);
  final long extracted=GraphGraceSearchUtil.findAndVerifyWindowGrace(node);
  assertThat(extracted,is(4321L));
}
