@Test public void shouldExtractGraceFromAncestorThroughStatelessParent(){
  final SessionWindows windows=SessionWindows.with(ofMillis(10L)).grace(ofMillis(1234L));
  final StatefulProcessorNode<String,Long> graceGrandparent=new StatefulProcessorNode<>("asdf",new ProcessorParameters<>(new KStreamSessionWindowAggregate<String,Long,Integer>(windows,"asdf",null,null,null),"asdf"),(StoreBuilder<? extends StateStore>)null,false);
  final ProcessorGraphNode<String,Long> statelessParent=new ProcessorGraphNode<>("stateless",null);
  graceGrandparent.addChild(statelessParent);
  final ProcessorGraphNode<String,Long> node=new ProcessorGraphNode<>("stateless",null);
  statelessParent.addChild(node);
  final long extracted=GraphGraceSearchUtil.findAndVerifyWindowGrace(node);
  assertThat(extracted,is(windows.gracePeriodMs()));
}
