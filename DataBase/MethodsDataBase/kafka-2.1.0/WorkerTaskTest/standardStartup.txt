@Test public void standardStartup(){
  ConnectorTaskId taskId=new ConnectorTaskId("foo",0);
  WorkerTask workerTask=partialMockBuilder(WorkerTask.class).withConstructor(ConnectorTaskId.class,TaskStatus.Listener.class,TargetState.class,ClassLoader.class,ConnectMetrics.class,RetryWithToleranceOperator.class).withArgs(taskId,statusListener,TargetState.STARTED,loader,metrics,retryWithToleranceOperator).addMockedMethod("initialize").addMockedMethod("execute").addMockedMethod("close").createStrictMock();
  workerTask.initialize(TASK_CONFIG);
  expectLastCall();
  workerTask.execute();
  expectLastCall();
  statusListener.onStartup(taskId);
  expectLastCall();
  workerTask.close();
  expectLastCall();
  workerTask.releaseResources();
  EasyMock.expectLastCall();
  statusListener.onShutdown(taskId);
  expectLastCall();
  replay(workerTask);
  workerTask.initialize(TASK_CONFIG);
  workerTask.run();
  workerTask.stop();
  workerTask.awaitStop(1000L);
  verify(workerTask);
}
