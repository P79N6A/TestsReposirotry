@Test(expected=TopicExistsException.class) public void testCreateTopicsFailsIfAtLeastOneTopicExists() throws Throwable {
  adminClient.addTopic(false,TEST_TOPIC,Collections.singletonList(new TopicPartitionInfo(0,broker1,singleReplica,Collections.<Node>emptyList())),null);
  Map<String,NewTopic> newTopics=new HashMap<>();
  newTopics.put(TEST_TOPIC,NEW_TEST_TOPIC);
  newTopics.put("another-topic",new NewTopic("another-topic",TEST_PARTITIONS,TEST_REPLICATION_FACTOR));
  newTopics.put("one-more-topic",new NewTopic("one-more-topic",TEST_PARTITIONS,TEST_REPLICATION_FACTOR));
  WorkerUtils.createTopics(log,adminClient,newTopics,true);
}
