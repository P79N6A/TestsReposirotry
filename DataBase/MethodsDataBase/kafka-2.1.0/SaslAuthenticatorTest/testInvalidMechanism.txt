/** 
 * Tests that clients using invalid SASL mechanisms fail authentication.
 */
@Test public void testInvalidMechanism() throws Exception {
  String node="0";
  SecurityProtocol securityProtocol=SecurityProtocol.SASL_SSL;
  configureMechanisms("PLAIN",Arrays.asList("PLAIN"));
  saslClientConfigs.put(SaslConfigs.SASL_MECHANISM,"INVALID");
  server=createEchoServer(securityProtocol);
  createAndCheckClientConnectionFailure(securityProtocol,node);
  server.verifyAuthenticationMetrics(0,1);
}
