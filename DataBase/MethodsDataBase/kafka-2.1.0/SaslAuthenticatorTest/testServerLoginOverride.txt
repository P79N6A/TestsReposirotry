/** 
 * Tests SASL server login class override.
 */
@Test public void testServerLoginOverride() throws Exception {
  SecurityProtocol securityProtocol=SecurityProtocol.SASL_PLAINTEXT;
  configureMechanisms("PLAIN",Collections.singletonList("PLAIN"));
  String prefix=ListenerName.forSecurityProtocol(securityProtocol).saslMechanismConfigPrefix("PLAIN");
  saslServerConfigs.put(prefix + SaslConfigs.SASL_LOGIN_CLASS,TestLogin.class.getName());
  server=createEchoServer(securityProtocol);
  assertEquals(1,TestLogin.loginCount.get());
  createAndCheckClientConnection(securityProtocol,"1");
  assertEquals(1,TestLogin.loginCount.get());
}
