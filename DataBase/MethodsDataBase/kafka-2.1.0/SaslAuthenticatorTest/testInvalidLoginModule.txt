/** 
 * Tests that connections cannot be created if the login module class is unavailable.
 */
@Test public void testInvalidLoginModule() throws Exception {
  TestJaasConfig jaasConfig=configureMechanisms("PLAIN",Arrays.asList("PLAIN"));
  jaasConfig.createOrUpdateEntry(TestJaasConfig.LOGIN_CONTEXT_CLIENT,"InvalidLoginModule",TestJaasConfig.defaultClientOptions());
  SecurityProtocol securityProtocol=SecurityProtocol.SASL_SSL;
  server=createEchoServer(securityProtocol);
  try {
    createSelector(securityProtocol,saslClientConfigs);
    fail("SASL/PLAIN channel created without valid login module");
  }
 catch (  KafkaException e) {
  }
}
