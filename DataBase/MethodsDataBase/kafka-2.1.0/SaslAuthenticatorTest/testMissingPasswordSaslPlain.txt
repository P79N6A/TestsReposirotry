/** 
 * Tests that SASL/PLAIN clients with missing password in JAAS configuration fail authentication.
 */
@Test public void testMissingPasswordSaslPlain() throws Exception {
  String node="0";
  TestJaasConfig jaasConfig=configureMechanisms("PLAIN",Arrays.asList("PLAIN"));
  jaasConfig.setClientOptions("PLAIN","myuser",null);
  SecurityProtocol securityProtocol=SecurityProtocol.SASL_SSL;
  server=createEchoServer(securityProtocol);
  createSelector(securityProtocol,saslClientConfigs);
  InetSocketAddress addr=new InetSocketAddress("127.0.0.1",server.port());
  try {
    selector.connect(node,addr,BUFFER_SIZE,BUFFER_SIZE);
    fail("SASL/PLAIN channel created without password");
  }
 catch (  IOException e) {
  }
}
