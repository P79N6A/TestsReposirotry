@Test public void shouldGetSegmentsWithinTimeRangeOutOfOrder(){
  updateStreamTimeAndCreateSegment(4);
  updateStreamTimeAndCreateSegment(2);
  updateStreamTimeAndCreateSegment(0);
  updateStreamTimeAndCreateSegment(1);
  updateStreamTimeAndCreateSegment(3);
  final List<Segment> segments=this.segments.segments(0,2 * SEGMENT_INTERVAL);
  assertEquals(3,segments.size());
  assertEquals(0,segments.get(0).id);
  assertEquals(1,segments.get(1).id);
  assertEquals(2,segments.get(2).id);
}
