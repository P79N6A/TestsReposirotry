@Test public void shouldUpdateSegmentFileNameFromOldColonFormatToNewFormat() throws Exception {
  final String storeDirectoryPath=stateDirectory.getAbsolutePath() + File.separator + storeName;
  final File storeDirectory=new File(storeDirectoryPath);
  storeDirectory.mkdirs();
  for (int segmentId=0; segmentId < NUM_SEGMENTS; ++segmentId) {
    final File oldSegment=new File(storeDirectoryPath + File.separator + storeName+ ":"+ segmentId * (RETENTION_PERIOD / (NUM_SEGMENTS - 1)));
    oldSegment.createNewFile();
  }
  segments.openExisting(context);
  for (int segmentId=0; segmentId < NUM_SEGMENTS; ++segmentId) {
    final File newSegment=new File(storeDirectoryPath + File.separator + storeName+ "."+ segmentId * (RETENTION_PERIOD / (NUM_SEGMENTS - 1)));
    assertTrue(newSegment.exists());
  }
}
