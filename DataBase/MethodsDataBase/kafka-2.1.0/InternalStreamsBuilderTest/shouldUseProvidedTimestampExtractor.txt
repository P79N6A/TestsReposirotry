@Test public void shouldUseProvidedTimestampExtractor(){
  final ConsumedInternal consumed=new ConsumedInternal<>(Consumed.with(new MockTimestampExtractor()));
  builder.stream(Collections.singleton("topic"),consumed);
  builder.buildAndOptimizeTopology();
  final ProcessorTopology processorTopology=builder.internalTopologyBuilder.rewriteTopology(new StreamsConfig(StreamsTestUtils.getStreamsConfig(APP_ID))).build(null);
  assertThat(processorTopology.source("topic").getTimestampExtractor(),instanceOf(MockTimestampExtractor.class));
}
