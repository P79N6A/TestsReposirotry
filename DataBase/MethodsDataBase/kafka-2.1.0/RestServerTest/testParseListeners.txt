@Test public void testParseListeners(){
  Map<String,String> configMap=new HashMap<>(baseWorkerProps());
  configMap.put(WorkerConfig.LISTENERS_CONFIG,"http://localhost:8080,https://localhost:8443");
  DistributedConfig config=new DistributedConfig(configMap);
  server=new RestServer(config);
  Assert.assertArrayEquals(new String[]{"http://localhost:8080","https://localhost:8443"},server.parseListeners().toArray());
  configMap=new HashMap<>(baseWorkerProps());
  configMap.put(WorkerConfig.REST_HOST_NAME_CONFIG,"my-hostname");
  configMap.put(WorkerConfig.REST_PORT_CONFIG,"8080");
  config=new DistributedConfig(configMap);
  server=new RestServer(config);
  Assert.assertArrayEquals(new String[]{"http://my-hostname:8080"},server.parseListeners().toArray());
}
