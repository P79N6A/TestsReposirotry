@Test public void shouldUpdateSubscriptionFromAssignment(){
  mockTopologyBuilder();
  expect(subscriptionUpdates.getUpdates()).andReturn(Utils.mkSet(topic1));
  topologyBuilder.updateSubscribedTopics(EasyMock.eq(Utils.mkSet(topic1,topic2)),EasyMock.anyString());
  expectLastCall().once();
  EasyMock.replay(activeTaskCreator,topologyBuilder,subscriptionUpdates);
  taskManager.updateSubscriptionsFromAssignment(Utils.mkList(t1p1,t2p1));
  EasyMock.verify(activeTaskCreator,topologyBuilder,subscriptionUpdates);
}
