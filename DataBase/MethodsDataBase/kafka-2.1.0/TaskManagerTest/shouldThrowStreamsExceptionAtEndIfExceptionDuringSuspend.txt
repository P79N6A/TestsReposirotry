@Test public void shouldThrowStreamsExceptionAtEndIfExceptionDuringSuspend(){
  EasyMock.expect(active.suspend()).andReturn(new RuntimeException(""));
  EasyMock.expect(standby.suspend()).andReturn(new RuntimeException(""));
  EasyMock.expectLastCall();
  restoreConsumer.unsubscribe();
  replay();
  try {
    taskManager.suspendTasksAndState();
    fail("Should have thrown streams exception");
  }
 catch (  final StreamsException e) {
  }
  verify(restoreConsumer,active,standby);
}
