@Test public void shouldNotRemoveOffsetsOfUnUpdatedTablesDuringCheckpoint(){
  stateManager.initialize();
  initializeConsumer(10,1,t1);
  stateManager.register(store1,stateRestoreCallback);
  initializeConsumer(20,1,t2);
  stateManager.register(store2,stateRestoreCallback);
  final Map<TopicPartition,Long> initialCheckpoint=stateManager.checkpointed();
  stateManager.checkpoint(Collections.singletonMap(t1,101L));
  final Map<TopicPartition,Long> updatedCheckpoint=stateManager.checkpointed();
  assertThat(updatedCheckpoint.get(t2),equalTo(initialCheckpoint.get(t2)));
  assertThat(updatedCheckpoint.get(t1),equalTo(101L));
}
