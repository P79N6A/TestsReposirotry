@Test public void shouldThrowIllegalArgumentIfTryingToRegisterStoreThatIsNotGlobal(){
  stateManager.initialize();
  try {
    stateManager.register(new NoOpReadOnlyStore<>("not-in-topology"),stateRestoreCallback);
    fail("should have raised an illegal argument exception as store is not in the topology");
  }
 catch (  final IllegalArgumentException e) {
  }
}
