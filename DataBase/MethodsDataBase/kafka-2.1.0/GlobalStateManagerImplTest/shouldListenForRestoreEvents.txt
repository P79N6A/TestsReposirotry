@Test public void shouldListenForRestoreEvents(){
  initializeConsumer(5,1,t1);
  stateManager.initialize();
  stateManager.register(store1,stateRestoreCallback);
  assertThat(stateRestoreListener.restoreStartOffset,equalTo(1L));
  assertThat(stateRestoreListener.restoreEndOffset,equalTo(5L));
  assertThat(stateRestoreListener.totalNumRestored,equalTo(5L));
  assertThat(stateRestoreListener.storeNameCalledStates.get(RESTORE_START),equalTo(store1.name()));
  assertThat(stateRestoreListener.storeNameCalledStates.get(RESTORE_BATCH),equalTo(store1.name()));
  assertThat(stateRestoreListener.storeNameCalledStates.get(RESTORE_END),equalTo(store1.name()));
}
