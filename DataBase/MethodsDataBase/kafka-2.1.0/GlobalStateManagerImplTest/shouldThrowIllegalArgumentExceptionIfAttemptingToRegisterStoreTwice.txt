@Test public void shouldThrowIllegalArgumentExceptionIfAttemptingToRegisterStoreTwice(){
  stateManager.initialize();
  initializeConsumer(2,1,t1);
  stateManager.register(store1,stateRestoreCallback);
  try {
    stateManager.register(store1,stateRestoreCallback);
    fail("should have raised an illegal argument exception as store has already been registered");
  }
 catch (  final IllegalArgumentException e) {
  }
}
