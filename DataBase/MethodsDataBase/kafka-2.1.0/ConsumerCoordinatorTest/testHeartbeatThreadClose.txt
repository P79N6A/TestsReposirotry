@Test public void testHeartbeatThreadClose() throws Exception {
  ConsumerCoordinator coordinator=prepareCoordinatorForCloseTest(true,true,true);
  coordinator.ensureActiveGroup();
  time.sleep(heartbeatIntervalMs + 100);
  Thread.yield();
  closeVerifyTimeout(coordinator,Long.MAX_VALUE,requestTimeoutMs,requestTimeoutMs);
  Thread[] threads=new Thread[Thread.activeCount()];
  int threadCount=Thread.enumerate(threads);
  for (int i=0; i < threadCount; i++)   assertFalse("Heartbeat thread active after close",threads[i].getName().contains(groupId));
}
