/** 
 * Test that an asynchronous request will eventually return the right offset
 */
@Test public void testBlocking() throws Exception {
  FutureRecordMetadata future=new FutureRecordMetadata(asyncRequest(baseOffset,null,50L),relOffset,RecordBatch.NO_TIMESTAMP,0L,0,0);
  assertEquals(baseOffset + relOffset,future.get().offset());
}
