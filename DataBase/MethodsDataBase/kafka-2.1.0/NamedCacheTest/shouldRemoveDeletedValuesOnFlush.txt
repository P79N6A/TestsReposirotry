@Test public void shouldRemoveDeletedValuesOnFlush(){
  cache.setListener(new ThreadCache.DirtyEntryFlushListener(){
    @Override public void apply(    final List<ThreadCache.DirtyEntry> dirty){
    }
  }
);
  cache.put(Bytes.wrap(new byte[]{0}),new LRUCacheEntry(null,headers,true,0,0,0,""));
  cache.put(Bytes.wrap(new byte[]{1}),new LRUCacheEntry(new byte[]{20},null,true,0,0,0,""));
  cache.flush();
  assertEquals(1,cache.size());
  assertNotNull(cache.get(Bytes.wrap(new byte[]{1})));
}
