@Test public void shouldNotCreateTopicWhenItAlreadyExists(){
  NewTopic newTopic=TopicAdmin.defineTopic("myTopic").partitions(1).compacted().build();
  Cluster cluster=createCluster(1);
  try (MockAdminClient mockAdminClient=new MockAdminClient(cluster.nodes(),cluster.nodeById(0))){
    TopicPartitionInfo topicPartitionInfo=new TopicPartitionInfo(0,cluster.nodeById(0),cluster.nodes(),Collections.<Node>emptyList());
    mockAdminClient.addTopic(false,"myTopic",Collections.singletonList(topicPartitionInfo),null);
    TopicAdmin admin=new TopicAdmin(null,mockAdminClient);
    assertFalse(admin.createTopic(newTopic));
  }
 }
