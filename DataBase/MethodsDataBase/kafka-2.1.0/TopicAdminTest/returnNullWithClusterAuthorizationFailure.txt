@Test public void returnNullWithClusterAuthorizationFailure(){
  final NewTopic newTopic=TopicAdmin.defineTopic("myTopic").partitions(1).compacted().build();
  Cluster cluster=createCluster(1);
  try (AdminClientUnitTestEnv env=new AdminClientUnitTestEnv(cluster)){
    env.kafkaClient().setNode(cluster.nodes().iterator().next());
    env.kafkaClient().prepareResponse(createTopicResponseWithClusterAuthorizationException(newTopic));
    TopicAdmin admin=new TopicAdmin(null,env.adminClient());
    boolean created=admin.createTopic(newTopic);
    assertFalse(created);
  }
 }
