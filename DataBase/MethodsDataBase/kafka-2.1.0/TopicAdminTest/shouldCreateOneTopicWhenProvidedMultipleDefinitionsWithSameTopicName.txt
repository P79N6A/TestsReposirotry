@Test public void shouldCreateOneTopicWhenProvidedMultipleDefinitionsWithSameTopicName(){
  NewTopic newTopic1=TopicAdmin.defineTopic("myTopic").partitions(1).compacted().build();
  NewTopic newTopic2=TopicAdmin.defineTopic("myTopic").partitions(1).compacted().build();
  Cluster cluster=createCluster(1);
  try (MockAdminClient mockAdminClient=new MockAdminClient(cluster.nodes(),cluster.nodeById(0))){
    TopicAdmin admin=new TopicAdmin(null,mockAdminClient);
    Set<String> newTopicNames=admin.createTopics(newTopic1,newTopic2);
    assertEquals(1,newTopicNames.size());
    assertEquals(newTopic2.name(),newTopicNames.iterator().next());
  }
 }
