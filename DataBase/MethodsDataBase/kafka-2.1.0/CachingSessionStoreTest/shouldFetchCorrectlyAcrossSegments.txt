@Test public void shouldFetchCorrectlyAcrossSegments(){
  final Windowed<Bytes> a1=new Windowed<>(keyA,new SessionWindow(SEGMENT_INTERVAL * 0,SEGMENT_INTERVAL * 0));
  final Windowed<Bytes> a2=new Windowed<>(keyA,new SessionWindow(SEGMENT_INTERVAL * 1,SEGMENT_INTERVAL * 1));
  final Windowed<Bytes> a3=new Windowed<>(keyA,new SessionWindow(SEGMENT_INTERVAL * 2,SEGMENT_INTERVAL * 2));
  cachingStore.put(a1,"1".getBytes());
  cachingStore.put(a2,"2".getBytes());
  cachingStore.put(a3,"3".getBytes());
  cachingStore.flush();
  final KeyValueIterator<Windowed<Bytes>,byte[]> results=cachingStore.findSessions(keyA,0,SEGMENT_INTERVAL * 2);
  assertEquals(a1,results.next().key);
  assertEquals(a2,results.next().key);
  assertEquals(a3,results.next().key);
  assertFalse(results.hasNext());
}
