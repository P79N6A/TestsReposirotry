@Test public void listenersInvokedIfAddedBeforeAndAfterCompletion(){
  RequestFuture<Void> future=new RequestFuture<>();
  MockRequestFutureListener<Void> beforeListener=new MockRequestFutureListener<>();
  future.addListener(beforeListener);
  future.complete(null);
  MockRequestFutureListener<Void> afterListener=new MockRequestFutureListener<>();
  future.addListener(afterListener);
  assertOnSuccessInvoked(beforeListener);
  assertOnSuccessInvoked(afterListener);
}
