@Test public void testOnCommitChain(){
  List<ConsumerInterceptor<Integer,Integer>> interceptorList=new ArrayList<>();
  FilterConsumerInterceptor<Integer,Integer> interceptor1=new FilterConsumerInterceptor<>(filterPartition1);
  FilterConsumerInterceptor<Integer,Integer> interceptor2=new FilterConsumerInterceptor<>(filterPartition2);
  interceptorList.add(interceptor1);
  interceptorList.add(interceptor2);
  ConsumerInterceptors<Integer,Integer> interceptors=new ConsumerInterceptors<>(interceptorList);
  Map<TopicPartition,OffsetAndMetadata> offsets=new HashMap<>();
  offsets.put(tp,new OffsetAndMetadata(0));
  interceptors.onCommit(offsets);
  assertEquals(2,onCommitCount);
  interceptor1.injectOnCommitError(true);
  interceptors.onCommit(offsets);
  assertEquals(4,onCommitCount);
  interceptors.close();
}
