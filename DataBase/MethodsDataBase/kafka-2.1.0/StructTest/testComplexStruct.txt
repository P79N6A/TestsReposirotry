@Test public void testComplexStruct(){
  List<Byte> array=Arrays.asList((byte)1,(byte)2);
  Map<Integer,String> map=Collections.singletonMap(1,"string");
  Struct struct=new Struct(NESTED_SCHEMA).put("array",array).put("map",map).put("nested",new Struct(NESTED_CHILD_SCHEMA).put("int8",(byte)12));
  List<Byte> arrayExtracted=struct.getArray("array");
  assertEquals(array,arrayExtracted);
  Map<Byte,Byte> mapExtracted=struct.getMap("map");
  assertEquals(map,mapExtracted);
  assertEquals((byte)12,struct.getStruct("nested").get("int8"));
  struct.validate();
}
