@Test public void blockWhenPollConditionNotSatisfied(){
  long timeout=4000L;
  NetworkClient mockNetworkClient=mock(NetworkClient.class);
  ConsumerNetworkClient consumerClient=new ConsumerNetworkClient(new LogContext(),mockNetworkClient,metadata,time,100,1000,Integer.MAX_VALUE);
  when(mockNetworkClient.inFlightRequestCount()).thenReturn(1);
  consumerClient.poll(time.timer(timeout),() -> true);
  verify(mockNetworkClient).poll(eq(timeout),anyLong());
}
