@Test public void wakeup(){
  RequestFuture<ClientResponse> future=consumerClient.send(node,heartbeat());
  consumerClient.wakeup();
  try {
    consumerClient.poll(time.timer(0));
    fail();
  }
 catch (  WakeupException e) {
  }
  client.respond(heartbeatResponse(Errors.NONE));
  consumerClient.poll(future);
  assertTrue(future.isDone());
}
