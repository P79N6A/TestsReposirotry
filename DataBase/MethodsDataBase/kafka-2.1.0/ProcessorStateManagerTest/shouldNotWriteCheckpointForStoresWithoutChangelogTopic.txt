@Test public void shouldNotWriteCheckpointForStoresWithoutChangelogTopic() throws IOException {
  final ProcessorStateManager stateMgr=new ProcessorStateManager(taskId,noPartitions,true,stateDirectory,Collections.emptyMap(),changelogReader,false,logContext);
  stateMgr.register(persistentStore,persistentStore.stateRestoreCallback);
  stateMgr.checkpoint(Collections.singletonMap(persistentStorePartition,987L));
  final Map<TopicPartition,Long> read=checkpoint.read();
  assertThat(read,equalTo(Collections.emptyMap()));
}
