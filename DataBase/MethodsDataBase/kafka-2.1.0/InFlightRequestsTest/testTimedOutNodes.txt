@Test public void testTimedOutNodes(){
  Time time=new MockTime();
  addRequest("A",time.milliseconds(),50);
  addRequest("B",time.milliseconds(),200);
  addRequest("B",time.milliseconds(),100);
  time.sleep(50);
  assertEquals(Collections.emptyList(),inFlightRequests.nodesWithTimedOutRequests(time.milliseconds()));
  time.sleep(25);
  assertEquals(Collections.singletonList("A"),inFlightRequests.nodesWithTimedOutRequests(time.milliseconds()));
  time.sleep(50);
  assertEquals(Arrays.asList("A","B"),inFlightRequests.nodesWithTimedOutRequests(time.milliseconds()));
}
