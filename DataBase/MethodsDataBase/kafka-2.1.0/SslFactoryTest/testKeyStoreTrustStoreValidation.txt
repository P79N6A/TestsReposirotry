@Test public void testKeyStoreTrustStoreValidation() throws Exception {
  File trustStoreFile=File.createTempFile("truststore",".jks");
  Map<String,Object> serverSslConfig=TestSslUtils.createSslConfig(false,true,Mode.SERVER,trustStoreFile,"server");
  SslFactory sslFactory=new SslFactory(Mode.SERVER);
  sslFactory.configure(serverSslConfig);
  SSLContext sslContext=sslFactory.createSSLContext(sslKeyStore(serverSslConfig),null);
  assertNotNull("SSL context not created",sslContext);
  SSLContext sslContext2=sslFactory.createSSLContext(null,sslTrustStore(serverSslConfig));
  assertNotNull("SSL context not created",sslContext2);
  SSLContext sslContext3=sslFactory.createSSLContext(sslKeyStore(serverSslConfig),sslTrustStore(serverSslConfig));
  assertNotNull("SSL context not created",sslContext3);
}
