@Test public void testClientMode() throws Exception {
  File trustStoreFile=File.createTempFile("truststore",".jks");
  Map<String,Object> clientSslConfig=TestSslUtils.createSslConfig(false,true,Mode.CLIENT,trustStoreFile,"client");
  SslFactory sslFactory=new SslFactory(Mode.CLIENT);
  sslFactory.configure(clientSslConfig);
  SSLEngine engine=sslFactory.createSslEngine("localhost",0);
  assertTrue(engine.getUseClientMode());
}
