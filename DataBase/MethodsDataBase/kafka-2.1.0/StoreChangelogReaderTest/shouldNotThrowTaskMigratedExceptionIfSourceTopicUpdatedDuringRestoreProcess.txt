@Test public void shouldNotThrowTaskMigratedExceptionIfSourceTopicUpdatedDuringRestoreProcess(){
  final int messages=10;
  setupConsumer(messages,topicPartition);
  consumer.addEndOffsets(Collections.singletonMap(topicPartition,15L));
  changelogReader.register(new StateRestorer(topicPartition,restoreListener,null,9L,true,"storeName"));
  expect(active.restoringTaskFor(topicPartition)).andReturn(task);
  replay(active);
  changelogReader.restore(active);
}
