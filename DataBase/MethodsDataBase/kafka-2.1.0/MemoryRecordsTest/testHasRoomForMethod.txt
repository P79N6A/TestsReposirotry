@Test public void testHasRoomForMethod(){
  expectExceptionWithZStd(compression,magic);
  MemoryRecordsBuilder builder=MemoryRecords.builder(ByteBuffer.allocate(1024),magic,compression,TimestampType.CREATE_TIME,0L);
  builder.append(0L,"a".getBytes(),"1".getBytes());
  assertTrue(builder.hasRoomFor(1L,"b".getBytes(),"2".getBytes(),Record.EMPTY_HEADERS));
  builder.close();
  assertFalse(builder.hasRoomFor(1L,"b".getBytes(),"2".getBytes(),Record.EMPTY_HEADERS));
}
