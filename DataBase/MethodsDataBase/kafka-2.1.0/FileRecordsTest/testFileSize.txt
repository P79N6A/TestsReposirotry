/** 
 * Test that the cached size variable matches the actual file size as we append messages
 */
@Test public void testFileSize() throws IOException {
  assertEquals(fileRecords.channel().size(),fileRecords.sizeInBytes());
  for (int i=0; i < 20; i++) {
    fileRecords.append(MemoryRecords.withRecords(CompressionType.NONE,new SimpleRecord("abcd".getBytes())));
    assertEquals(fileRecords.channel().size(),fileRecords.sizeInBytes());
  }
}
