@Test public void testBackoffLimit(){
  MockTime time=new MockTime(0,0,0);
  RetryWithToleranceOperator retryWithToleranceOperator=new RetryWithToleranceOperator(5,5000,NONE,time);
  long prevTs=time.hiResClockMs();
  retryWithToleranceOperator.backoff(1,5000);
  assertEquals(300,time.hiResClockMs() - prevTs);
  prevTs=time.hiResClockMs();
  retryWithToleranceOperator.backoff(2,5000);
  assertEquals(600,time.hiResClockMs() - prevTs);
  prevTs=time.hiResClockMs();
  retryWithToleranceOperator.backoff(3,5000);
  assertEquals(1200,time.hiResClockMs() - prevTs);
  prevTs=time.hiResClockMs();
  retryWithToleranceOperator.backoff(4,5000);
  assertEquals(2400,time.hiResClockMs() - prevTs);
  prevTs=time.hiResClockMs();
  retryWithToleranceOperator.backoff(5,5000);
  assertEquals(500,time.hiResClockMs() - prevTs);
  prevTs=time.hiResClockMs();
  retryWithToleranceOperator.backoff(6,5000);
  assertEquals(0,time.hiResClockMs() - prevTs);
  PowerMock.verifyAll();
}
