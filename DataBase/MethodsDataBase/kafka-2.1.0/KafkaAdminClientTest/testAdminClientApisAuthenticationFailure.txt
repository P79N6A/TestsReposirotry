@Test public void testAdminClientApisAuthenticationFailure() throws Exception {
  Cluster cluster=mockCluster(0);
  MockClient mockClient=new MockClient(Time.SYSTEM);
  mockClient.createPendingAuthenticationError(cluster.nodeById(0),TimeUnit.DAYS.toMillis(1));
  try (final AdminClientUnitTestEnv env=new AdminClientUnitTestEnv(mockClient,Time.SYSTEM,cluster,newStrMap(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG,"localhost:8121",AdminClientConfig.REQUEST_TIMEOUT_MS_CONFIG,"1000"))){
    env.kafkaClient().setNodeApiVersions(NodeApiVersions.create());
    env.kafkaClient().setNode(env.cluster().controller());
    callAdminClientApisAndExpectAnAuthenticationError(env);
  }
 }
