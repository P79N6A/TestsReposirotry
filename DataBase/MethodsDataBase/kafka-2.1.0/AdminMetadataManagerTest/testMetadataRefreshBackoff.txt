@Test public void testMetadataRefreshBackoff(){
  mgr.transitionToUpdatePending(time.milliseconds());
  assertEquals(Long.MAX_VALUE,mgr.metadataFetchDelayMs(time.milliseconds()));
  mgr.updateFailed(new RuntimeException());
  assertEquals(refreshBackoffMs,mgr.metadataFetchDelayMs(time.milliseconds()));
  mgr.requestUpdate();
  assertEquals(refreshBackoffMs,mgr.metadataFetchDelayMs(time.milliseconds()));
  time.sleep(refreshBackoffMs);
  assertEquals(0,mgr.metadataFetchDelayMs(time.milliseconds()));
}
