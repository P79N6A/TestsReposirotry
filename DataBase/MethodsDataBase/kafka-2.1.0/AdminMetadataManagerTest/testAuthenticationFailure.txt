@Test public void testAuthenticationFailure(){
  mgr.transitionToUpdatePending(time.milliseconds());
  mgr.updateFailed(new AuthenticationException("Authentication failed"));
  assertEquals(refreshBackoffMs,mgr.metadataFetchDelayMs(time.milliseconds()));
  try {
    mgr.isReady();
    fail("Expected AuthenticationException to be thrown");
  }
 catch (  AuthenticationException e) {
  }
  mgr.update(mockCluster(),time.milliseconds());
  assertTrue(mgr.isReady());
}
