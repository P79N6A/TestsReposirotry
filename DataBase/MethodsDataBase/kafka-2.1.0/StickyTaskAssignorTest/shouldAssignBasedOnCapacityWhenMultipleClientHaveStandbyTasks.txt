@Test public void shouldAssignBasedOnCapacityWhenMultipleClientHaveStandbyTasks(){
  final ClientState c1=createClientWithPreviousActiveTasks(p1,1,task00);
  c1.addPreviousStandbyTasks(Utils.mkSet(task01));
  final ClientState c2=createClientWithPreviousActiveTasks(p2,2,task02);
  c2.addPreviousStandbyTasks(Utils.mkSet(task01));
  final StickyTaskAssignor taskAssignor=createTaskAssignor(task00,task01,task02);
  taskAssignor.assign(0);
  assertThat(clients.get(p1).activeTasks(),equalTo(Collections.singleton(task00)));
  assertThat(clients.get(p2).activeTasks(),equalTo(Utils.mkSet(task02,task01)));
}
