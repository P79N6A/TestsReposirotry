@Test public void shouldReBalanceTasksAcrossClientsWhenCapacityLessThanTaskCount(){
  createClientWithPreviousActiveTasks(p3,1,task00,task01,task02,task03);
  createClient(p1,1);
  createClient(p2,1);
  final StickyTaskAssignor<Integer> taskAssignor=createTaskAssignor(task00,task02,task01,task03);
  taskAssignor.assign(0);
  assertThat(clients.get(p3).assignedTaskCount(),equalTo(2));
  assertThat(clients.get(p1).assignedTaskCount(),equalTo(1));
  assertThat(clients.get(p2).assignedTaskCount(),equalTo(1));
}
