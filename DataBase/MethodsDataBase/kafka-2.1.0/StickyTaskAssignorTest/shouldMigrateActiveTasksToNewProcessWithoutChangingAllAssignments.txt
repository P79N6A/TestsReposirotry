@Test public void shouldMigrateActiveTasksToNewProcessWithoutChangingAllAssignments(){
  createClientWithPreviousActiveTasks(p1,1,task00,task02);
  createClientWithPreviousActiveTasks(p2,1,task01);
  createClient(p3,1);
  final StickyTaskAssignor taskAssignor=createTaskAssignor(task00,task01,task02);
  taskAssignor.assign(0);
  assertThat(clients.get(p2).activeTasks(),equalTo(Collections.singleton(task01)));
  assertThat(clients.get(p1).activeTasks().size(),equalTo(1));
  assertThat(clients.get(p3).activeTasks().size(),equalTo(1));
  assertThat(allActiveTasks(),equalTo(Arrays.asList(task00,task01,task02)));
}
