@Test public void shouldFindSessionRangeFromStoreAndRecordFetchMetric(){
  EasyMock.expect(inner.findSessions(Bytes.wrap(keyBytes),Bytes.wrap(keyBytes),0,0)).andReturn(new KeyValueIteratorStub<>(Collections.singleton(KeyValue.pair(windowedKeyBytes,keyBytes)).iterator()));
  init();
  final KeyValueIterator<Windowed<String>,String> iterator=metered.findSessions(key,key,0,0);
  assertThat(iterator.next().value,equalTo(key));
  assertFalse(iterator.hasNext());
  iterator.close();
  final KafkaMetric metric=metric("fetch-rate");
  assertTrue((Double)metric.metricValue() > 0);
  EasyMock.verify(inner);
}
