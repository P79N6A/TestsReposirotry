@Test public void testValidateCannotParse(){
  Map<String,ConfigValue> expected=new HashMap<>();
  String errorMessageB="Invalid value non_integer for configuration a: Not a number of type INT";
  ConfigValue configA=new ConfigValue("a",null,Collections.emptyList(),Arrays.asList(errorMessageB));
  expected.put("a",configA);
  ConfigDef def=new ConfigDef().define("a",Type.INT,Importance.HIGH,"docs");
  Map<String,String> props=new HashMap<>();
  props.put("a","non_integer");
  List<ConfigValue> configs=def.validate(props);
  for (  ConfigValue config : configs) {
    String name=config.name();
    ConfigValue expectedConfig=expected.get(name);
    assertEquals(expectedConfig,config);
  }
}
