@Test public void testValidateConfigWithSingleErrorDueToMissingConnectorClassname() throws Throwable {
  herder.validateConnectorConfig(EasyMock.eq(partialProps));
  PowerMock.expectLastCall().andAnswer(new IAnswer<ConfigInfos>(){
    @Override public ConfigInfos answer(){
      ConfigDef connectorConfigDef=ConnectorConfig.configDef();
      List<ConfigValue> connectorConfigValues=connectorConfigDef.validate(partialProps);
      Connector connector=new ConnectorPluginsResourceTestConnector();
      Config config=connector.validate(partialProps);
      ConfigDef configDef=connector.config();
      Map<String,ConfigDef.ConfigKey> configKeys=configDef.configKeys();
      List<ConfigValue> configValues=config.configValues();
      Map<String,ConfigDef.ConfigKey> resultConfigKeys=new HashMap<>(configKeys);
      resultConfigKeys.putAll(connectorConfigDef.configKeys());
      configValues.addAll(connectorConfigValues);
      return AbstractHerder.generateResult(ConnectorPluginsResourceTestConnector.class.getName(),resultConfigKeys,configValues,Collections.singletonList("Test"));
    }
  }
);
  PowerMock.replayAll();
  ConfigInfos configInfos=connectorPluginsResource.validateConfigs(ConnectorPluginsResourceTestConnector.class.getSimpleName(),partialProps);
  assertEquals(PARTIAL_CONFIG_INFOS.name(),configInfos.name());
  assertEquals(PARTIAL_CONFIG_INFOS.errorCount(),configInfos.errorCount());
  assertEquals(PARTIAL_CONFIG_INFOS.groups(),configInfos.groups());
  assertEquals(new HashSet<>(PARTIAL_CONFIG_INFOS.values()),new HashSet<>(configInfos.values()));
  PowerMock.verifyAll();
}
