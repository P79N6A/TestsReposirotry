@Test public void shouldCreateProcessorThatPrintsToFile() throws IOException {
  final File file=TestUtils.tempFile();
  final ProcessorSupplier<String,Integer> processorSupplier=new PrintedInternal<>(Printed.<String,Integer>toFile(file.getPath())).build("processor");
  final Processor<String,Integer> processor=processorSupplier.get();
  processor.process("hi",1);
  processor.close();
  try (final InputStream stream=Files.newInputStream(file.toPath())){
    final byte[] data=new byte[stream.available()];
    stream.read(data);
    assertThat(new String(data,StandardCharsets.UTF_8.name()),equalTo("[processor]: hi, 1\n"));
  }
 }
