@Test(expected=IllegalStateException.class) public void testPollWithEmptySubscription(){
  try (KafkaConsumer<byte[],byte[]> consumer=newConsumer()){
    consumer.subscribe(Collections.<String>emptyList());
    consumer.poll(Duration.ZERO);
  }
 }
