@Test(expected=IllegalStateException.class) public void testPollWithEmptyUserAssignment(){
  try (KafkaConsumer<byte[],byte[]> consumer=newConsumer()){
    consumer.assign(Collections.<TopicPartition>emptySet());
    consumer.poll(Duration.ZERO);
  }
 }
