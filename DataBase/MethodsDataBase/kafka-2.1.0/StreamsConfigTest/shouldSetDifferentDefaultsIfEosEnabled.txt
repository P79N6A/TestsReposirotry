@Test public void shouldSetDifferentDefaultsIfEosEnabled(){
  props.put(StreamsConfig.PROCESSING_GUARANTEE_CONFIG,EXACTLY_ONCE);
  final StreamsConfig streamsConfig=new StreamsConfig(props);
  final Map<String,Object> consumerConfigs=streamsConfig.getMainConsumerConfigs("groupId","clientId");
  final Map<String,Object> producerConfigs=streamsConfig.getProducerConfigs("clientId");
  assertThat(consumerConfigs.get(ConsumerConfig.ISOLATION_LEVEL_CONFIG),equalTo(READ_COMMITTED.name().toLowerCase(Locale.ROOT)));
  assertTrue((Boolean)producerConfigs.get(ProducerConfig.ENABLE_IDEMPOTENCE_CONFIG));
  assertThat(producerConfigs.get(ProducerConfig.DELIVERY_TIMEOUT_MS_CONFIG),equalTo(Integer.MAX_VALUE));
  assertThat(streamsConfig.getLong(StreamsConfig.COMMIT_INTERVAL_MS_CONFIG),equalTo(100L));
}
