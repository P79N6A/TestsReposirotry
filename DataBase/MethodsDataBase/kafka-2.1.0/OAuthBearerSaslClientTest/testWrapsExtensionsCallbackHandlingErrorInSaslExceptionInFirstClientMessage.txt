@Test public void testWrapsExtensionsCallbackHandlingErrorInSaslExceptionInFirstClientMessage(){
  OAuthBearerSaslClient client=new OAuthBearerSaslClient(new ExtensionsCallbackHandler(true));
  try {
    client.evaluateChallenge("".getBytes());
    fail("Should have failed with " + SaslException.class.getName());
  }
 catch (  SaslException e) {
    assertEquals(ConfigException.class,e.getCause().getClass());
    assertEquals(errorMessage,e.getCause().getMessage());
  }
}
