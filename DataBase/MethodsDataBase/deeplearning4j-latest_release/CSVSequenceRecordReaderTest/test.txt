@Test public void test() throws Exception {
  CSVSequenceRecordReader seqReader=new CSVSequenceRecordReader(1,",");
  seqReader.initialize(new TestInputSplit());
  int sequenceCount=0;
  while (seqReader.hasNext()) {
    List<List<Writable>> sequence=seqReader.sequenceRecord();
    assertEquals(4,sequence.size());
    Iterator<List<Writable>> timeStepIter=sequence.iterator();
    int lineCount=0;
    while (timeStepIter.hasNext()) {
      List<Writable> timeStep=timeStepIter.next();
      assertEquals(3,timeStep.size());
      Iterator<Writable> lineIter=timeStep.iterator();
      int countInLine=0;
      while (lineIter.hasNext()) {
        Writable entry=lineIter.next();
        int expValue=100 * sequenceCount + 10 * lineCount + countInLine;
        assertEquals(String.valueOf(expValue),entry.toString());
        countInLine++;
      }
      lineCount++;
    }
    sequenceCount++;
  }
}
