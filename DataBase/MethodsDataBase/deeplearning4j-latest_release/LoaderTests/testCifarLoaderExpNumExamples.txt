@Test public void testCifarLoaderExpNumExamples() throws Exception {
  boolean train=true;
  boolean preProcessCifar=false;
  int numExamples=10;
  int row=28;
  int col=28;
  int channels=1;
  CifarLoader loader=new CifarLoader(row,col,channels,train,preProcessCifar);
  int minibatch=100;
  int nMinibatches=50000 / minibatch;
  for (int i=0; i < nMinibatches; i++) {
    DataSet ds=loader.next(minibatch);
    String s=String.valueOf(i);
    assertNotNull(s,ds.getFeatures());
    assertNotNull(s,ds.getLabels());
    assertEquals(s,minibatch,ds.getFeatures().size(0));
    assertEquals(s,minibatch,ds.getLabels().size(0));
    assertEquals(s,10,ds.getLabels().size(1));
  }
}
