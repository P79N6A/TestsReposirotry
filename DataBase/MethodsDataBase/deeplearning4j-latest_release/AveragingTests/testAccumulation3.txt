@Test public void testAccumulation3(){
  Nd4j.getAffinityManager().allowCrossDeviceAccess(false);
  INDArray array1=Nd4j.create(100).assign(1.0);
  INDArray array2=Nd4j.create(100).assign(2.0);
  INDArray array3=Nd4j.create(100).assign(3.0);
  INDArray target=Nd4j.create(100);
  INDArray exp=Nd4j.create(100).assign(6.0);
  INDArray accum=Nd4j.accumulate(target,new INDArray[]{array1,array2,array3});
  assertEquals(exp,accum);
  assertTrue(accum == target);
  Nd4j.getAffinityManager().allowCrossDeviceAccess(true);
}
