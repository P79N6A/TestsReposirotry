@Test public void testSmallMessageSplit_1() throws Exception {
  val array=Nd4j.linspace(1,15,15).reshape(-1,5);
  val splitter=new MessageSplitter();
  val message=new GradientsUpdateMessage("123",array);
  val messages=splitter.split(message,16384);
  assertNotNull(messages);
  assertEquals(1,messages.size());
  for (  val m : messages)   assertEquals("123",m.getOriginalId());
  Optional<GradientsUpdateMessage> dec=splitter.merge(new ArrayList<>(messages).get(0));
  assertNotNull(dec);
  assertTrue(dec.isPresent());
}
