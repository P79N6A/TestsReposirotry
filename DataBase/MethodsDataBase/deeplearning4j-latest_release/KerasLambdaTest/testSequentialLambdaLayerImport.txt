@Test public void testSequentialLambdaLayerImport() throws Exception {
  KerasLayer.registerLambdaLayer("lambda_1",new ExponentialLambda());
  KerasLayer.registerLambdaLayer("lambda_2",new TimesThreeLambda());
  String modelPath="modelimport/keras/examples/lambda/sequential_lambda.h5";
  ClassPathResource modelResource=new ClassPathResource(modelPath,KerasModelEndToEndTest.class.getClassLoader());
  File modelFile=testDir.newFile("tempModel" + System.currentTimeMillis() + ".h5");
  Files.copy(modelResource.getInputStream(),modelFile.toPath(),StandardCopyOption.REPLACE_EXISTING);
  MultiLayerNetwork model=new KerasSequentialModel().modelBuilder().modelHdf5Filename(modelFile.getAbsolutePath()).enforceTrainingConfig(false).buildSequential().getMultiLayerNetwork();
  System.out.println(model.summary());
  INDArray input=Nd4j.create(new int[]{10,100});
  model.output(input);
  KerasLayer.clearLambdaLayers();
}
