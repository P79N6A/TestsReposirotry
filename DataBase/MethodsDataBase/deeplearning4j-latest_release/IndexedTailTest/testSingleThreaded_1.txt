@Test public void testSingleThreaded_1() throws Exception {
  val tail=new IndexedTail(1);
  for (int e=0; e < 100; e++) {
    val orig=Nd4j.create(5,5).assign(e);
    tail.put(orig);
    Nd4j.getExecutioner().commit();
    assertTrue(tail.hasAnything());
    val temp=Nd4j.create(5,5);
    val status=tail.drainTo(temp);
    assertTrue(status);
    assertArrayEquals(orig.shape(),temp.shape());
    assertEquals(orig,temp);
  }
  assertEquals(0,tail.updatesSize());
}
