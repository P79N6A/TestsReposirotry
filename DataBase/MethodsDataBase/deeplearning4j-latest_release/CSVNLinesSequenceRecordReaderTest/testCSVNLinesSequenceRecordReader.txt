@Test public void testCSVNLinesSequenceRecordReader() throws Exception {
  int nLinesPerSequence=10;
  SequenceRecordReader seqRR=new CSVNLinesSequenceRecordReader(nLinesPerSequence);
  seqRR.initialize(new FileSplit(new ClassPathResource("datavec-api/iris.dat").getFile()));
  CSVRecordReader rr=new CSVRecordReader();
  rr.initialize(new FileSplit(new ClassPathResource("datavec-api/iris.dat").getFile()));
  int count=0;
  while (seqRR.hasNext()) {
    List<List<Writable>> next=seqRR.sequenceRecord();
    List<List<Writable>> expected=new ArrayList<>();
    for (int i=0; i < nLinesPerSequence; i++) {
      expected.add(rr.next());
    }
    assertEquals(10,next.size());
    assertEquals(expected,next);
    count++;
  }
  assertEquals(150 / nLinesPerSequence,count);
}
