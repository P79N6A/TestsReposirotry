@Test public void testDifferentBatchSizes(){
  INDArray values=Nd4j.linspace(1,6,6).transpose();
  DataSet dataSet=new DataSet(values,values);
  NormalizerStandardize norm1=new NormalizerStandardize();
  norm1.fit(dataSet);
  assertEquals(3.5f,norm1.getMean().getFloat(0),1e-6);
  assertEquals(1.70783f,norm1.getStd().getFloat(0),1e-4);
  DataSetIterator testIter1=new TestDataSetIterator(dataSet,3);
  NormalizerStandardize norm2=new NormalizerStandardize();
  norm2.fit(testIter1);
  assertEquals(3.5f,norm2.getMean().getFloat(0),1e-6);
  assertEquals(1.70783f,norm2.getStd().getFloat(0),1e-4);
  DataSetIterator testIter2=new TestDataSetIterator(dataSet,4);
  NormalizerStandardize norm3=new NormalizerStandardize();
  norm3.fit(testIter2);
  assertEquals(3.5f,norm3.getMean().getFloat(0),1e-6);
  assertEquals(1.70783f,norm3.getStd().getFloat(0),1e-4);
  DataSetIterator testIter3=new TestDataSetIterator(dataSet,1);
  NormalizerStandardize norm4=new NormalizerStandardize();
  norm4.fit(testIter3);
  assertEquals(3.5f,norm4.getMean().getFloat(0),1e-6);
  assertEquals(1.70783f,norm4.getStd().getFloat(0),1e-4);
}
