@Test public void toRecords_PassInRegressionDataSet_ExpectNDArrayAndDoubleWritables(){
  INDArray feature=Nd4j.create(new double[]{4,-5.7,10,-0.1});
  INDArray label=Nd4j.create(new double[]{.5,2,3,.5});
  DataSet dataSet=new DataSet(feature,label);
  List<List<Writable>> writableList=RecordConverter.toRecords(dataSet);
  List<Writable> results=writableList.get(0);
  NDArrayWritable ndArrayWritable=(NDArrayWritable)results.get(0);
  assertEquals(1,writableList.size());
  assertEquals(5,results.size());
  assertEquals(feature,ndArrayWritable.get());
  for (int i=0; i < label.shape()[1]; i++) {
    DoubleWritable doubleWritable=(DoubleWritable)results.get(i + 1);
    assertEquals(label.getDouble(i),doubleWritable.get(),0);
  }
}
