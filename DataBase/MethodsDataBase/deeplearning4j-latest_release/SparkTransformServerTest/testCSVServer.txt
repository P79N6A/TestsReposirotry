@Test public void testCSVServer() throws Exception {
  serverChooser.runMain(new String[]{"--jsonPath",csvTransformFile.getAbsolutePath(),"-dp","9050","-dt",TransformDataType.CSV.toString()});
  String[] values=new String[]{"1.0","2.0"};
  SingleCSVRecord record=new SingleCSVRecord(values);
  JsonNode jsonNode=Unirest.post("http://localhost:9050/transformincremental").header("accept","application/json").header("Content-Type","application/json").body(record).asJson().getBody();
  SingleCSVRecord singleCsvRecord=Unirest.post("http://localhost:9050/transformincremental").header("accept","application/json").header("Content-Type","application/json").body(record).asObject(SingleCSVRecord.class).getBody();
  BatchCSVRecord batchCSVRecord=new BatchCSVRecord();
  for (int i=0; i < 3; i++)   batchCSVRecord.add(singleCsvRecord);
  BatchCSVRecord batchCSVRecord1=Unirest.post("http://localhost:9050/transform").header("accept","application/json").header("Content-Type","application/json").body(batchCSVRecord).asObject(BatchCSVRecord.class).getBody();
  Base64NDArrayBody array=Unirest.post("http://localhost:9050/transformincrementalarray").header("accept","application/json").header("Content-Type","application/json").body(record).asObject(Base64NDArrayBody.class).getBody();
  Base64NDArrayBody batchArray1=Unirest.post("http://localhost:9050/transformarray").header("accept","application/json").header("Content-Type","application/json").body(batchCSVRecord).asObject(Base64NDArrayBody.class).getBody();
  serverChooser.getSparkTransformServer().stop();
}
