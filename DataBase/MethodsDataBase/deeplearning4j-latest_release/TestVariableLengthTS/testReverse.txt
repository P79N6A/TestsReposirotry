@Test public void testReverse(){
  for (  char c : new char[]{'f','c'}) {
    INDArray in=Nd4j.linspace(1,3 * 5 * 10,3 * 5 * 10).reshape('f',3,5,10).dup(c);
    INDArray inMask=Nd4j.linspace(1,30,30).reshape('f',3,10).dup(c);
    INDArray inReverseExp=reverseTimeSeries(in);
    INDArray inMaskReverseExp=Nd4j.create(inMask.shape());
    for (int i=0; i < inMask.size(1); i++) {
      inMaskReverseExp.putColumn(i,inMask.getColumn(inMask.size(1) - i - 1));
    }
    INDArray inReverse=TimeSeriesUtils.reverseTimeSeries(in,LayerWorkspaceMgr.noWorkspaces(),ArrayType.INPUT);
    INDArray inMaskReverse=TimeSeriesUtils.reverseTimeSeriesMask(inMask,LayerWorkspaceMgr.noWorkspaces(),ArrayType.INPUT);
    assertEquals(inReverseExp,inReverse);
    assertEquals(inMaskReverseExp,inMaskReverse);
  }
}
