/** 
 * This is the MOST crucial test, basically it's test for dup() + following linear op
 * @throws Exception
 */
@Test public void testPredicateScalarPairwise3() throws Exception {
  CudaGridExecutioner executioner=new CudaGridExecutioner();
  INDArray arrayX=Nd4j.create(new float[]{0f,0f,0f,0f,0f,0f});
  INDArray arrayY=Nd4j.create(new float[]{1f,2f,3f,4f,5f,6f});
  INDArray exp=Nd4j.create(new float[]{2f,4f,6f,8f,10f,12f});
  Set opA=new Set(arrayX,arrayY,arrayX,arrayX.length());
  ScalarMultiplication opB=new ScalarMultiplication(arrayX,2.0f);
  PredicateMetaOp metaOp=new PredicateMetaOp(opA,opB);
  executioner.prepareGrid(metaOp);
  long time1=System.nanoTime();
  executioner.exec(metaOp);
  long time2=System.nanoTime();
  System.out.println("Execution time Meta: " + ((time2 - time1) / 1));
  assertEquals(exp,arrayX);
}
