@Test public void testDataVec() throws Exception {
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMessageCount(1);
  RecordReader reader=new CSVRecordReader();
  reader.initialize(new FileSplit(new ClassPathResource("iris.dat").getFile()));
  Collection<Collection<Writable>> recordAssertion=new ArrayList<>();
  while (reader.hasNext())   recordAssertion.add(reader.next());
  mock.expectedBodiesReceived(recordAssertion);
  assertMockEndpointsSatisfied();
}
