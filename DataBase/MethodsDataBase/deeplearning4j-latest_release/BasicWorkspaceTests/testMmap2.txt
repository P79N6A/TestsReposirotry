@Test public void testMmap2() throws Exception {
  if (Nd4j.getExecutioner().getClass().getName().toLowerCase().contains("cuda"))   return;
  File tmp=File.createTempFile("tmp","fdsfdf");
  tmp.deleteOnExit();
  Nd4jWorkspace.fillFile(tmp,100000);
  WorkspaceConfiguration mmap=WorkspaceConfiguration.builder().policyLocation(LocationPolicy.MMAP).tempFilePath(tmp.getAbsolutePath()).build();
  MemoryWorkspace ws=Nd4j.getWorkspaceManager().getAndActivateWorkspace(mmap,"M3");
  INDArray mArray=Nd4j.create(100);
  mArray.assign(10f);
  assertEquals(1000f,mArray.sumNumber().floatValue(),1e-5);
  ws.notifyScopeLeft();
}
