@Test public void testOverallocation2() throws Exception {
  WorkspaceConfiguration overallocationConfig=WorkspaceConfiguration.builder().initialSize(0).maxSize(10 * 1024 * 1024).overallocationLimit(1.0).policyAllocation(AllocationPolicy.OVERALLOCATE).policyLearning(LearningPolicy.FIRST_LOOP).policyMirroring(MirroringPolicy.FULL).policySpill(SpillPolicy.EXTERNAL).build();
  Nd4jWorkspace workspace=(Nd4jWorkspace)Nd4j.getWorkspaceManager().createNewWorkspace(overallocationConfig);
  assertEquals(0,workspace.getCurrentSize());
  try (MemoryWorkspace cW=workspace.notifyScopeEntered()){
    INDArray array=Nd4j.create(100);
  }
   assertEquals(200 * Nd4j.sizeOfDataType(),workspace.getCurrentSize());
}
