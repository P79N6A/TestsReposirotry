@Test public void testLeverageTo2() throws Exception {
  try (Nd4jWorkspace wsOne=(Nd4jWorkspace)Nd4j.getWorkspaceManager().getAndActivateWorkspace(loopOverTimeConfig,"EXT")){
    INDArray array1=Nd4j.create(new float[]{1f,2f,3f,4f,5f});
    INDArray array3=null;
    try (Nd4jWorkspace wsTwo=(Nd4jWorkspace)Nd4j.getWorkspaceManager().getAndActivateWorkspace(basicConfig,"INT")){
      INDArray array2=Nd4j.create(new float[]{1f,2f,3f,4f,5f});
      long reqMemory=5 * Nd4j.sizeOfDataType();
      array3=array2.leverageTo("EXT");
      assertEquals(0,wsOne.getCurrentSize());
      assertEquals(15f,array3.sumNumber().floatValue(),0.01f);
    }
     try (Nd4jWorkspace wsTwo=(Nd4jWorkspace)Nd4j.getWorkspaceManager().getAndActivateWorkspace(basicConfig,"INT")){
      INDArray array2=Nd4j.create(100);
    }
     assertEquals(15f,array3.sumNumber().floatValue(),0.01f);
  }
 }
