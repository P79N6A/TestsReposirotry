@Test public void testLoops3() throws Exception {
  Nd4jWorkspace workspace=(Nd4jWorkspace)Nd4j.getWorkspaceManager().createNewWorkspace(loopFirstConfig);
  Nd4j.getMemoryManager().setCurrentWorkspace(workspace);
  assertNotEquals(null,Nd4j.getMemoryManager().getCurrentWorkspace());
  assertEquals(0,workspace.getHostOffset());
  workspace.notifyScopeEntered();
  INDArray arrayCold1=Nd4j.create(100);
  INDArray arrayCold2=Nd4j.create(10);
  assertEquals(0,workspace.getHostOffset());
  assertEquals(0,workspace.getCurrentSize());
  workspace.notifyScopeLeft();
  assertEquals(0,workspace.getHostOffset());
  long reqMem=110 * Nd4j.sizeOfDataType();
  assertEquals(reqMem + reqMem % 8,workspace.getCurrentSize());
}
