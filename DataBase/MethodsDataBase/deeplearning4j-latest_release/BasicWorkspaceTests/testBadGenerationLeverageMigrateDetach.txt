@Test public void testBadGenerationLeverageMigrateDetach(){
  INDArray gen2=null;
  for (int i=0; i < 4; i++) {
    MemoryWorkspace wsOuter=Nd4j.getWorkspaceManager().getWorkspaceForCurrentThread(basicConfig,"testBadGeneration");
    try (MemoryWorkspace wsOuter2=wsOuter.notifyScopeEntered()){
      INDArray arr=Nd4j.linspace(1,10,10);
      if (i == 2) {
        gen2=arr;
      }
      if (i == 3) {
        MemoryWorkspace wsInner=Nd4j.getWorkspaceManager().getWorkspaceForCurrentThread(basicConfig,"testBadGeneration2");
        try (MemoryWorkspace wsInner2=wsInner.notifyScopeEntered()){
          try {
            gen2.leverage();
            fail("Exception should be thrown");
          }
 catch (          ND4JWorkspaceException e) {
            e.printStackTrace();
          }
          try {
            gen2.leverageTo("testBadGeneration2");
            fail("Exception should be thrown");
          }
 catch (          ND4JWorkspaceException e) {
            e.printStackTrace();
          }
          try {
            gen2.leverageOrDetach("testBadGeneration2");
            fail("Exception should be thrown");
          }
 catch (          ND4JWorkspaceException e) {
            e.printStackTrace();
          }
          try {
            gen2.leverageTo("testBadGeneration2");
            fail("Exception should be thrown");
          }
 catch (          ND4JWorkspaceException e) {
            e.printStackTrace();
          }
          try {
            gen2.detach();
            fail("Exception should be thrown");
          }
 catch (          ND4JWorkspaceException e) {
            e.printStackTrace();
          }
          try {
            gen2.migrate();
            fail("Exception should be thrown");
          }
 catch (          ND4JWorkspaceException e) {
            e.printStackTrace();
          }
          try {
            gen2.migrate(true);
            fail("Exception should be thrown");
          }
 catch (          ND4JWorkspaceException e) {
            e.printStackTrace();
          }
          try {
            gen2.dup();
            fail("Exception should be thrown");
          }
 catch (          ND4JWorkspaceException e) {
            e.printStackTrace();
          }
          try {
            gen2.unsafeDuplication();
            fail("Exception should be thrown");
          }
 catch (          ND4JWorkspaceException e) {
            e.printStackTrace();
          }
          try {
            gen2.unsafeDuplication(true);
            fail("Exception should be thrown");
          }
 catch (          ND4JWorkspaceException e) {
            e.printStackTrace();
          }
        }
       }
    }
   }
}
