@Test public void testMmap1() throws Exception {
  if (Nd4j.getExecutioner().getClass().getName().toLowerCase().contains("cuda"))   return;
  WorkspaceConfiguration mmap=WorkspaceConfiguration.builder().initialSize(1000000).policyLocation(LocationPolicy.MMAP).build();
  MemoryWorkspace ws=Nd4j.getWorkspaceManager().getAndActivateWorkspace(mmap,"M2");
  INDArray mArray=Nd4j.create(100);
  mArray.assign(10f);
  assertEquals(1000f,mArray.sumNumber().floatValue(),1e-5);
  ws.close();
  ws.notifyScopeEntered();
  INDArray mArrayR=Nd4j.createUninitialized(100);
  assertEquals(1000f,mArrayR.sumNumber().floatValue(),1e-5);
  ws.close();
}
