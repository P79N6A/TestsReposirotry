@Test @Ignore public void testUI_VAE() throws Exception {
  StatsStorage ss=new InMemoryStatsStorage();
  UIServer uiServer=UIServer.getInstance();
  uiServer.attach(ss);
  MultiLayerConfiguration conf=new NeuralNetConfiguration.Builder().optimizationAlgo(OptimizationAlgorithm.STOCHASTIC_GRADIENT_DESCENT).updater(new Sgd(1e-5)).list().layer(0,new VariationalAutoencoder.Builder().nIn(4).nOut(3).encoderLayerSizes(10,11).decoderLayerSizes(12,13).weightInit(WeightInit.XAVIER).pzxActivationFunction(Activation.IDENTITY).reconstructionDistribution(new GaussianReconstructionDistribution()).activation(Activation.LEAKYRELU).build()).layer(1,new VariationalAutoencoder.Builder().nIn(3).nOut(3).encoderLayerSizes(7).decoderLayerSizes(8).weightInit(WeightInit.XAVIER).pzxActivationFunction(Activation.IDENTITY).reconstructionDistribution(new GaussianReconstructionDistribution()).activation(Activation.LEAKYRELU).build()).layer(2,new OutputLayer.Builder().nIn(3).nOut(3).build()).pretrain(true).build();
  MultiLayerNetwork net=new MultiLayerNetwork(conf);
  net.init();
  net.setListeners(new StatsListener(ss),new ScoreIterationListener(1));
  DataSetIterator iter=new IrisDataSetIterator(150,150);
  for (int i=0; i < 50; i++) {
    net.fit(iter);
    Thread.sleep(100);
  }
  Thread.sleep(100000);
}
