/** 
 * This is special test that checks for memory alignment
 * @throws Exception
 */
@Test @Ignore public void testDTypeSpam() throws Exception {
  Random rnd=new Random();
  for (int i=0; i < 100; i++) {
    DataTypeUtil.setDTypeForContext(DataBuffer.Type.FLOAT);
    float rand[]=new float[rnd.nextInt(10) + 1];
    for (int x=0; x < rand.length; x++) {
      rand[x]=rnd.nextFloat();
    }
    Nd4j.getConstantHandler().getConstantBuffer(rand);
    int shape[]=new int[rnd.nextInt(3) + 2];
    for (int x=0; x < shape.length; x++) {
      shape[x]=rnd.nextInt(100) + 2;
    }
    DataTypeUtil.setDTypeForContext(DataBuffer.Type.DOUBLE);
    INDArray array=Nd4j.rand(shape);
    BooleanIndexing.applyWhere(array,Conditions.lessThan(rnd.nextDouble()),rnd.nextDouble());
  }
}
