@Test @Ignore public void testMultithreadedFree1() throws Exception {
  final DataBuffer buffer=Nd4j.createBuffer(500000000,0);
  Thread.sleep(5000);
  Thread thread=new Thread(new Runnable(){
    @Override public void run(){
      System.out.println("Current device: " + AtomicAllocator.getInstance().getDeviceId());
      AllocationPoint point=AtomicAllocator.getInstance().getAllocationPoint(buffer);
      AtomicAllocator.getInstance().getMemoryHandler().getMemoryProvider().free(point);
      System.out.println("Pointer released");
      try {
        Thread.sleep(100000);
      }
 catch (      Exception e) {
      }
    }
  }
);
  thread.start();
  thread.join();
}
