@Test public void testScalarPassing2() throws Exception {
  INDArray array=Nd4j.create(5);
  INDArray exp=Nd4j.create(new float[]{6f,6f,6f,6f,6f});
  CudaGridExecutioner executioner=(CudaGridExecutioner)Nd4j.getExecutioner();
  ScalarAdd opA=new ScalarAdd(array,1f);
  ScalarAdd opB=new ScalarAdd(array,2f);
  ScalarAdd opC=new ScalarAdd(array,3f);
  INDArray res1=Nd4j.getExecutioner().execAndReturn(opA);
  assertEquals(1,executioner.getQueueLength());
  INDArray res2=Nd4j.getExecutioner().execAndReturn(opB);
  assertEquals(1,executioner.getQueueLength());
  INDArray res3=Nd4j.getExecutioner().execAndReturn(opC);
  assertEquals(1,executioner.getQueueLength());
  assertEquals(exp,array);
  assertEquals(0,executioner.getQueueLength());
  assertTrue(res1 == res2);
  assertTrue(res3 == res2);
}
