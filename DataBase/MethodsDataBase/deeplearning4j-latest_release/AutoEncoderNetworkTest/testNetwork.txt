@Test public void testNetwork(){
  DatasetFacade df=DatasetFacade.dataRows(sqlContext.read().json("src/test/resources/autoencoders"));
  Pipeline p=new Pipeline().setStages(new PipelineStage[]{getAssembler(new String[]{"a","b","c","d","e","f","g","h","i","j"},"features")});
  DatasetFacade part2=DatasetFacade.dataRows(p.fit(df.get()).transform(df.get()).select("features"));
  AutoEncoder sparkDl4jNetwork=new AutoEncoder().setInputCol("features").setOutputCol("auto_encoded").setCompressedLayer(2).setTrainingMaster(new ParamHelper()).setMultiLayerConfiguration(getNNConfiguration());
  AutoEncoderModel sm=sparkDl4jNetwork.fit(part2.get());
  MultiLayerNetwork mln=sm.getNetwork();
  Assert.assertNotNull(mln);
}
