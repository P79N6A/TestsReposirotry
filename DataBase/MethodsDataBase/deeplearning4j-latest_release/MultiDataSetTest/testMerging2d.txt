@Test public void testMerging2d(){
  int nCols=3;
  int nRows=5;
  INDArray expIn=Nd4j.linspace(0,nCols * nRows - 1,nCols * nRows).reshape(nRows,nCols);
  INDArray expOut=Nd4j.linspace(100,100 + nCols * nRows - 1,nCols * nRows).reshape(nRows,nCols);
  INDArray[] in=new INDArray[nRows];
  INDArray[] out=new INDArray[nRows];
  for (int i=0; i < nRows; i++)   in[i]=expIn.getRow(i).dup();
  for (int i=0; i < nRows; i++)   out[i]=expOut.getRow(i).dup();
  List<MultiDataSet> list=new ArrayList<>(nRows);
  for (int i=0; i < nRows; i++) {
    list.add(new MultiDataSet(in[i],out[i]));
  }
  MultiDataSet merged=MultiDataSet.merge(list);
  assertEquals(1,merged.getFeatures().length);
  assertEquals(1,merged.getLabels().length);
  assertEquals(expIn,merged.getFeatures(0));
  assertEquals(expOut,merged.getLabels(0));
}
