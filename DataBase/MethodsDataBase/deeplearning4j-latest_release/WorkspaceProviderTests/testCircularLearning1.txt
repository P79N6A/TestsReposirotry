@Test public void testCircularLearning1() throws Exception {
  INDArray array1;
  INDArray array2;
  for (int i=0; i < 2; i++) {
    try (MemoryWorkspace workspace=Nd4j.getWorkspaceManager().getAndActivateWorkspace(circularConfiguration,"WSX")){
      array1=Nd4j.create(10).assign(1);
    }
     Nd4jWorkspace workspace=(Nd4jWorkspace)Nd4j.getWorkspaceManager().getWorkspaceForCurrentThread(circularConfiguration,"WSX");
    assertEquals(10 * 1024 * 1024L,workspace.getCurrentSize());
    log.info("Current step number: {}",workspace.getStepNumber());
    if (i == 0)     assertEquals(0,workspace.getHostOffset());
 else     if (i == 1)     assertEquals(workspace.getInitialBlockSize(),workspace.getHostOffset());
  }
}
