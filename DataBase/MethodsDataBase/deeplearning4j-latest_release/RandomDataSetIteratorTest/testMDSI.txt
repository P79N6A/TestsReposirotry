@Test public void testMDSI(){
  Nd4j.getRandom().setSeed(12345);
  MultiDataSetIterator iter=new RandomMultiDataSetIterator.Builder(5).addFeatures(new long[]{3,4},RandomMultiDataSetIterator.Values.INTEGER_0_100).addFeatures(new long[]{3,5},RandomMultiDataSetIterator.Values.BINARY).addLabels(new long[]{3,6},RandomMultiDataSetIterator.Values.ZEROS).build();
  int count=0;
  while (iter.hasNext()) {
    count++;
    MultiDataSet mds=iter.next();
    assertEquals(2,mds.numFeatureArrays());
    assertEquals(1,mds.numLabelsArrays());
    assertArrayEquals(new long[]{3,4},mds.getFeatures(0).shape());
    assertArrayEquals(new long[]{3,5},mds.getFeatures(1).shape());
    assertArrayEquals(new long[]{3,6},mds.getLabels(0).shape());
    assertTrue(mds.getFeatures(0).minNumber().doubleValue() >= 0 && mds.getFeatures(0).maxNumber().doubleValue() <= 100.0 && mds.getFeatures(0).maxNumber().doubleValue() > 2.0);
    assertTrue(mds.getFeatures(1).minNumber().doubleValue() == 0.0 && mds.getFeatures(1).maxNumber().doubleValue() == 1.0);
    assertEquals(0.0,mds.getLabels(0).sumNumber().doubleValue(),0.0);
  }
  assertEquals(5,count);
}
