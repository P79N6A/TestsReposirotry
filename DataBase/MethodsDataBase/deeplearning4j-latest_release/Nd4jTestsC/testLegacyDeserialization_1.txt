@Test public void testLegacyDeserialization_1() throws Exception {
  val f=new ClassPathResource("legacy/NDArray.bin").getFile();
  val array=Nd4j.read(new FileInputStream(f));
  val exp=Nd4j.linspace(1,120,120).reshape(2,3,4,5);
  assertEquals(120,array.length());
  assertArrayEquals(new long[]{2,3,4,5},array.shape());
  assertEquals(exp,array);
  val bos=new ByteArrayOutputStream();
  Nd4j.write(bos,array);
  val bis=new ByteArrayInputStream(bos.toByteArray());
  val array2=Nd4j.read(bis);
  assertEquals(exp,array2);
}
