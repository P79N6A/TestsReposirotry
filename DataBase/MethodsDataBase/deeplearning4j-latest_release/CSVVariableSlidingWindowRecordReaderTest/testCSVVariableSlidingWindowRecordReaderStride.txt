@Test public void testCSVVariableSlidingWindowRecordReaderStride() throws Exception {
  int maxLinesPerSequence=3;
  int stride=2;
  SequenceRecordReader seqRR=new CSVVariableSlidingWindowRecordReader(maxLinesPerSequence,stride);
  seqRR.initialize(new FileSplit(new ClassPathResource("datavec-api/iris.dat").getFile()));
  CSVRecordReader rr=new CSVRecordReader();
  rr.initialize(new FileSplit(new ClassPathResource("datavec-api/iris.dat").getFile()));
  int count=0;
  while (seqRR.hasNext()) {
    List<List<Writable>> next=seqRR.sequenceRecord();
    if (count == maxLinesPerSequence - 1) {
      LinkedList<List<Writable>> expected=new LinkedList<>();
      for (int s=0; s < stride; s++) {
        expected=new LinkedList<>();
        for (int i=0; i < maxLinesPerSequence; i++) {
          expected.addFirst(rr.next());
        }
      }
      assertEquals(expected,next);
    }
    if (count == maxLinesPerSequence) {
      assertEquals(maxLinesPerSequence,next.size());
    }
    if (count == 0) {
      assertEquals(2,next.size());
    }
    if (count > 151) {
      assertEquals(1,next.size());
    }
    count++;
  }
  assertEquals(76,count);
}
