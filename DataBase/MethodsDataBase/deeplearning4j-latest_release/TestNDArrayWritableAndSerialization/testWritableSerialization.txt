@Test public void testWritableSerialization() throws Exception {
  INDArray arrC=Nd4j.rand(new int[]{10,20},'c');
  INDArray arrF=Nd4j.rand(new int[]{10,20},'f');
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  DataOutput da=new DataOutputStream(baos);
  NDArrayWritable wC=new NDArrayWritable(arrC);
  NDArrayWritable wF=new NDArrayWritable(arrF);
  wC.write(da);
  wF.write(da);
  byte[] b=baos.toByteArray();
  NDArrayWritable w2C=new NDArrayWritable();
  NDArrayWritable w2F=new NDArrayWritable();
  ByteArrayInputStream bais=new ByteArrayInputStream(b);
  DataInput din=new DataInputStream(bais);
  w2C.readFields(din);
  w2F.readFields(din);
  assertEquals(arrC,w2C.get());
  assertEquals(arrF,w2F.get());
}
