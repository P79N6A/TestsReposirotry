@Test public void testPolling() throws Exception {
  File tmpDir=tempDir.newFolder();
  SystemPolling systemPolling=new SystemPolling.Builder().outputDirectory(tmpDir).pollEveryMillis(1000).build();
  systemPolling.run();
  Thread.sleep(8000);
  systemPolling.stopPolling();
  File[] files=tmpDir.listFiles();
  assertTrue(files != null && files.length > 0);
  String yaml=FileUtils.readFileToString(files[0]);
  HardwareMetric fromYaml=HardwareMetric.fromYaml(yaml);
  System.out.println(fromYaml);
}
