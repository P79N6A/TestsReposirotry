@Test public void getDeviceForAnotherThread() throws Exception {
  CudaAffinityManager manager=new CudaAffinityManager();
  Integer deviceId=manager.getDeviceForCurrentThread();
  assertEquals(0,deviceId.intValue());
  manager.attachThreadToDevice(1731L,0);
  assertEquals(0,manager.getDeviceForThread(1731L).intValue());
}
