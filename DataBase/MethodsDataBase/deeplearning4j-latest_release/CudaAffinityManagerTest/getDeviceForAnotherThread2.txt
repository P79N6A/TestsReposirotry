@Test public void getDeviceForAnotherThread2() throws Exception {
  CudaAffinityManager manager=new CudaAffinityManager();
  Integer deviceId=manager.getDeviceForCurrentThread();
  assertEquals(0,deviceId.intValue());
  System.out.println("Current threadId: " + Thread.currentThread().getId());
  Thread thread=new Thread();
  long threadIdPrior=thread.getId();
  System.out.println("Next threadId: " + thread.getId());
  assertNotEquals(Thread.currentThread().getId(),thread.getId());
  thread.start();
  System.out.println("Current threadId: " + thread.getId());
  assertEquals(threadIdPrior,thread.getId());
}
