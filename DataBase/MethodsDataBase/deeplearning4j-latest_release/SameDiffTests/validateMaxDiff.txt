@Test public void validateMaxDiff(){
  Nd4j.getRandom().setSeed(12345);
  INDArray arr=Nd4j.rand(3,4);
  SameDiff sd=SameDiff.create();
  SDVariable v=sd.var("in",arr);
  SDVariable min=sd.max("max",v);
  INDArray out=sd.execAndEndResult();
  assertEquals(out,arr.max(Integer.MAX_VALUE));
  sd.execBackwards();
  INDArray dLdIn=sd.grad("in").getArr();
  INDArray exp=Nd4j.getExecutioner().execAndReturn(new IsMax(arr.dup()));
  assertEquals(exp,dLdIn);
}
