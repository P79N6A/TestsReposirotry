@Test public void testMseBackwards(){
  SameDiff sd=SameDiff.create();
  int nOut=4;
  int minibatch=3;
  SDVariable input=sd.var("in",new long[]{-1,nOut});
  SDVariable label=sd.var("label",new long[]{-1,nOut});
  SDVariable diff=input.sub(label);
  SDVariable sqDiff=diff.mul(diff);
  SDVariable msePerEx=sd.mean("msePerEx",sqDiff,1);
  SDVariable avgMSE=sd.mean("loss",msePerEx,0);
  INDArray inputArr=Nd4j.rand(minibatch,nOut);
  INDArray labelArr=Nd4j.rand(minibatch,nOut);
  sd.associateArrayWithVariable(inputArr,input);
  sd.associateArrayWithVariable(labelArr,label);
  INDArray result=sd.execAndEndResult();
  assertEquals(1,result.length());
  Pair<Map<SDVariable,DifferentialFunction>,List<DifferentialFunction>> p=sd.execBackwards();
}
