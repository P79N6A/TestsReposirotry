@Test public void testUpdateVariableName() throws Exception {
  INDArray inArr=Nd4j.create(1,4);
  SameDiff sd=SameDiff.create();
  SDVariable in=sd.var("in",inArr);
  SDVariable s=sd.tanh("s",in);
  List<SDVariable> l=sd.variables();
  assertEquals(2,l.size());
  for (  SDVariable sdv : l) {
    String n=sdv.getVarName();
    assertTrue(n.equals("in") || n.equals("s"));
  }
  Field f=SameDiff.class.getDeclaredField("incomingArgsReverse");
  f.setAccessible(true);
  Map<String,String[]> incomingArgsReverse=(Map<String,String[]>)f.get(sd);
  for (  Map.Entry<String,String[]> e : incomingArgsReverse.entrySet()) {
    for (    String str : e.getValue()) {
      assertTrue(str,str.equals("in") || str.equals("s"));
    }
  }
  f=SameDiff.class.getDeclaredField("outgoingArgsReverse");
  f.setAccessible(true);
  Map<String,String[]> outgoingArgsReverse=(Map<String,String[]>)f.get(sd);
  for (  Map.Entry<String,String[]> e : outgoingArgsReverse.entrySet()) {
    for (    String str : e.getValue()) {
      assertTrue(str,str.equals("in") || str.equals("s"));
    }
  }
}
