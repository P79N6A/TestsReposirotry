@Test public void testSumOp(){
  SameDiff sameDiff=SameDiff.create();
  INDArray sumInput=Nd4j.linspace(1,4,4).reshape(2,2);
  Map<String,INDArray> inputs=new HashMap<>();
  inputs.put("x",sumInput);
  sameDiff.defineFunction("sum",new SameDiffFunctionDefinition(){
    @Override public SDVariable[] define(    SameDiff sameDiff,    Map<String,INDArray> inputs,    SDVariable[] variableInputs){
      SDVariable input=sameDiff.var("x",inputs.get("x"));
      SDVariable sum=sameDiff.sum(input,1);
      return new SDVariable[]{sum};
    }
  }
,inputs);
  INDArray assertion=sumInput.sum(1);
  INDArray executions=sameDiff.execAndEndResult("sum");
  assertEquals(assertion,executions);
}
