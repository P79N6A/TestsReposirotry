@Test public void test() throws Exception {
  IrisDataSetIterator iter=new IrisDataSetIterator(30,150);
  MultiLayerConfiguration conf=new NeuralNetConfiguration.Builder().optimizationAlgo(OptimizationAlgorithm.STOCHASTIC_GRADIENT_DESCENT).updater(new Sgd(1e-5)).list().layer(0,new DenseLayer.Builder().nIn(4).nOut(20).build()).layer(1,new DenseLayer.Builder().nIn(20).nOut(30).build()).layer(2,new OutputLayer.Builder(LossFunctions.LossFunction.MCXENT).activation(Activation.SOFTMAX).nIn(30).nOut(3).build()).build();
  MultiLayerNetwork net=new MultiLayerNetwork(conf);
  net.init();
  File f=testDir.newFile("paramAndGradTest.txt");
  TrainingListener listener=ParamAndGradientIterationListener.builder().outputToFile(true).file(f).outputToConsole(true).outputToLogger(false).iterations(2).printHeader(true).printMean(false).printMinMax(false).printMeanAbsValue(true).delimiter("\t").build();
  net.setListeners(listener);
  for (int i=0; i < 2; i++) {
    net.fit(iter);
  }
}
