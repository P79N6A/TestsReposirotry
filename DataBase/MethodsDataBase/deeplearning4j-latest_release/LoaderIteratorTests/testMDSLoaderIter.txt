@Test public void testMDSLoaderIter(){
  for (  boolean r : new boolean[]{false,true}) {
    List<String> l=Arrays.asList("3","0","1");
    Random rng=r ? new Random(12345) : null;
    MultiDataSetIterator iter=new MultiDataSetLoaderIterator(l,null,new Loader<MultiDataSet>(){
      @Override public MultiDataSet load(      Source source) throws IOException {
        INDArray i=Nd4j.scalar(Integer.valueOf(source.getPath()));
        return new org.nd4j.linalg.dataset.MultiDataSet(i,i);
      }
    }
,new LocalFileSourceFactory());
    int count=0;
    int[] exp={3,0,1};
    while (iter.hasNext()) {
      MultiDataSet ds=iter.next();
      if (!r) {
        assertEquals(exp[count],ds.getFeatures()[0].getInt(0));
      }
      count++;
    }
    assertEquals(3,count);
    iter.reset();
    assertTrue(iter.hasNext());
  }
}
