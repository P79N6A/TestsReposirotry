@Test @Ignore public void testBasicMnistCompGraph() throws Exception {
  ComputationGraphSpace cgs=new ComputationGraphSpace.Builder().updater(new SgdSpace(new ContinuousParameterSpace(0.0001,0.2))).l2(new ContinuousParameterSpace(0.0001,0.05)).addInputs("in").addLayer("0",new ConvolutionLayerSpace.Builder().nIn(1).nOut(new IntegerParameterSpace(5,30)).kernelSize(new DiscreteParameterSpace<>(new int[]{3,3},new int[]{4,4},new int[]{5,5})).stride(new DiscreteParameterSpace<>(new int[]{1,1},new int[]{2,2})).activation(new DiscreteParameterSpace<>(Activation.RELU,Activation.SOFTPLUS,Activation.LEAKYRELU)).build(),"in").addLayer("1",new DenseLayerSpace.Builder().nOut(new IntegerParameterSpace(32,128)).activation(new DiscreteParameterSpace<>(Activation.RELU,Activation.TANH)).build(),"0").addLayer("out",new OutputLayerSpace.Builder().nOut(10).activation(Activation.SOFTMAX).lossFunction(LossFunctions.LossFunction.MCXENT).build(),"1").setOutputs("out").setInputTypes(InputType.convolutionalFlat(28,28,1)).build();
  CandidateGenerator candidateGenerator=new RandomSearchGenerator(cgs,Collections.EMPTY_MAP);
  DataProvider dataProvider=new MnistDataSetProvider();
  String modelSavePath=new File(System.getProperty("java.io.tmpdir"),"ArbiterUiTestBasicMnistCG\\").getAbsolutePath();
  File f=new File(modelSavePath);
  if (f.exists())   f.delete();
  f.mkdir();
  if (!f.exists())   throw new RuntimeException();
  OptimizationConfiguration configuration=new OptimizationConfiguration.Builder().candidateGenerator(candidateGenerator).dataProvider(dataProvider).modelSaver(new FileModelSaver(modelSavePath)).scoreFunction(new TestSetLossScoreFunction(true)).terminationConditions(new MaxTimeCondition(120,TimeUnit.MINUTES),new MaxCandidatesCondition(100)).build();
  IOptimizationRunner runner=new LocalOptimizationRunner(configuration,new ComputationGraphTaskCreator());
  StatsStorage ss=new InMemoryStatsStorage();
  StatusListener sl=new ArbiterStatusListener(ss);
  runner.addListeners(sl);
  UIServer.getInstance().attach(ss);
  runner.execute();
  Thread.sleep(100000);
}
