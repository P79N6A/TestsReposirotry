@Test public void testFloatsToDoubles1(){
  val dtype=Nd4j.dataType();
  Nd4j.setDataType(DataBuffer.Type.FLOAT);
  val arrayX=Nd4j.create(10).assign(1.0);
  Nd4j.setDataType(DataBuffer.Type.DOUBLE);
  val arrayY=Nd4j.create(10).assign(1.0);
  val converted=arrayX.convertToDoubles();
  val exp=Nd4j.create(10).assign(2.0);
  converted.addi(arrayY);
  assertEquals(exp,converted);
  Nd4j.setDataType(dtype);
}
