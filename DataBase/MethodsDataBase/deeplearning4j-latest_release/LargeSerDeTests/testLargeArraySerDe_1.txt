@Test public void testLargeArraySerDe_1() throws Exception {
  val arrayA=Nd4j.rand(new long[]{1,135079944});
  val tmpFile=File.createTempFile("sdsds","sdsd");
  tmpFile.deleteOnExit();
  try (val fos=new FileOutputStream(tmpFile);val bos=new BufferedOutputStream(fos);val dos=new DataOutputStream(bos)){
    Nd4j.write(arrayA,dos);
  }
   try (val fis=new FileInputStream(tmpFile);val bis=new BufferedInputStream(fis);val dis=new DataInputStream(bis)){
    val arrayB=Nd4j.read(dis);
    assertArrayEquals(arrayA.shape(),arrayB.shape());
    assertEquals(arrayA.length(),arrayB.length());
    assertEquals(arrayA,arrayB);
  }
 }
