@Test public void testWorkspaceSetting(){
  for (  WorkspaceMode wsm : WorkspaceMode.values()) {
    MultiLayerConfiguration conf=new NeuralNetConfiguration.Builder().weightInit(WeightInit.XAVIER).seed(12345).trainingWorkspaceMode(wsm).inferenceWorkspaceMode(wsm).list().layer(new OutputLayer.Builder().nIn(3).nOut(1).lossFunction(LossFunctions.LossFunction.MSE).activation(Activation.SIGMOID).build()).build();
    assertEquals(wsm,conf.getTrainingWorkspaceMode());
    assertEquals(wsm,conf.getInferenceWorkspaceMode());
    MultiLayerConfiguration conf2=new NeuralNetConfiguration.Builder().weightInit(WeightInit.XAVIER).seed(12345).trainingWorkspaceMode(wsm).inferenceWorkspaceMode(wsm).list().layer(new OutputLayer.Builder().nIn(3).nOut(1).activation(Activation.SIGMOID).lossFunction(LossFunctions.LossFunction.MSE).build()).build();
    assertEquals(wsm,conf2.getTrainingWorkspaceMode());
    assertEquals(wsm,conf2.getInferenceWorkspaceMode());
  }
}
