@Test public void testImageRecordReaderLabelsOrder() throws Exception {
  File f=testDir.newFolder();
  new ClassPathResource("datavec-data-image/testimages/").copyDirectory(f);
  File f0=new File(f,"/class0/0.jpg");
  File f1=new File(f,"/class1/A.jpg");
  List<URI> order0=Arrays.asList(f0.toURI(),f1.toURI());
  List<URI> order1=Arrays.asList(f1.toURI(),f0.toURI());
  ParentPathLabelGenerator labelMaker0=new ParentPathLabelGenerator();
  ImageRecordReader rr0=new ImageRecordReader(32,32,3,labelMaker0);
  rr0.initialize(new CollectionInputSplit(order0));
  ParentPathLabelGenerator labelMaker1=new ParentPathLabelGenerator();
  ImageRecordReader rr1=new ImageRecordReader(32,32,3,labelMaker1);
  rr1.initialize(new CollectionInputSplit(order1));
  List<String> labels0=rr0.getLabels();
  List<String> labels1=rr1.getLabels();
  assertEquals(labels0,labels1);
}
