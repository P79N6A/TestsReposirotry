@Test public void testMultiLayerSpaceJson(){
  MultiLayerSpace mls=new MultiLayerSpace.Builder().optimizationAlgo(OptimizationAlgorithm.STOCHASTIC_GRADIENT_DESCENT).updater(new SgdSpace(new ContinuousParameterSpace(0.0001,0.2))).l2(new ContinuousParameterSpace(0.0001,0.05)).addLayer(new DenseLayerSpace.Builder().nIn(1).nOut(new IntegerParameterSpace(5,30)).activation(new DiscreteParameterSpace<>(Activation.RELU,Activation.SOFTPLUS,Activation.LEAKYRELU)).build(),new IntegerParameterSpace(1,2),true).addLayer(new DenseLayerSpace.Builder().nIn(4).nOut(new IntegerParameterSpace(2,10)).activation(new DiscreteParameterSpace<>(Activation.RELU,Activation.TANH)).build(),new IntegerParameterSpace(0,1),true).addLayer(new OutputLayerSpace.Builder().nOut(10).activation(Activation.SOFTMAX).iLossFunction(LossFunctions.LossFunction.MCXENT.getILossFunction()).build()).setInputType(InputType.convolutional(28,28,1)).pretrain(false).backprop(true).build();
  String asJson=mls.toJson();
  MultiLayerSpace fromJson=MultiLayerSpace.fromJson(asJson);
  assertEquals(mls,fromJson);
}
