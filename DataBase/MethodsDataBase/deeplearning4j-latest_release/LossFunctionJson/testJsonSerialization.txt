@Test public void testJsonSerialization() throws Exception {
  INDArray w=Nd4j.create(new double[]{1.0,2.0,3.0});
  ILossFunction[] lossFns=new ILossFunction[]{new LossBinaryXENT(),new LossBinaryXENT(w),new LossCosineProximity(),new LossHinge(),new LossKLD(),new LossL1(),new LossL1(w),new LossL2(),new LossL2(w),new LossMAE(),new LossMAE(w),new LossMAPE(),new LossMAPE(w),new LossMCXENT(),new LossMCXENT(w),new LossMSE(),new LossMSE(w),new LossMSLE(),new LossMSLE(w),new LossNegativeLogLikelihood(),new LossNegativeLogLikelihood(w),new LossPoisson(),new LossSquaredHinge(),new LossMultiLabel()};
  ObjectMapper mapper=new ObjectMapper();
  mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES,false);
  mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS,false);
  mapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY,true);
  mapper.enable(SerializationFeature.INDENT_OUTPUT);
  for (  ILossFunction lf : lossFns) {
    String asJson=mapper.writeValueAsString(lf);
    ILossFunction fromJson=mapper.readValue(asJson,ILossFunction.class);
    assertEquals(lf,fromJson);
  }
}
