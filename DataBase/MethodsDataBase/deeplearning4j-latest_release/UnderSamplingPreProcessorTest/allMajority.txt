@Test public void allMajority(){
  float[] someTargets=new float[]{0.01f,0.1f,0.5f};
  DataSet d=allMajorityDataSet(false);
  DataSet dToPreProcess;
  for (int i=0; i < someTargets.length; i++) {
    UnderSamplingByMaskingPreProcessor preProcessor=new UnderSamplingByMaskingPreProcessor(someTargets[i],shortSeq / 2);
    dToPreProcess=d.copy();
    preProcessor.preProcess(dToPreProcess);
    assertEquals(Nd4j.zeros(dToPreProcess.getLabelsMaskArray().shape()),dToPreProcess.getLabelsMaskArray());
    preProcessor.donotMaskAllMajorityWindows();
    dToPreProcess=d.copy();
    preProcessor.preProcess(dToPreProcess);
    INDArray percentagesNow=dToPreProcess.getLabelsMaskArray().sum(1).div(shortSeq);
    assertTrue(Nd4j.valueArrayOf(percentagesNow.shape(),1 - someTargets[i]).equalsWithEps(percentagesNow,tolerancePerc));
  }
}
