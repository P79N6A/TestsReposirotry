@Test public void testUpsampling1D() throws Exception {
  double[] outArray=new double[]{1.,1.,2.,2.,3.,3.,4.,4.};
  INDArray containedExpectedOut=Nd4j.create(outArray,new int[]{1,1,8});
  INDArray containedInput=getContainedData();
  INDArray input=getData();
  Layer layer=getUpsampling1DLayer();
  INDArray containedOutput=layer.activate(containedInput,false,LayerWorkspaceMgr.noWorkspaces());
  assertTrue(Arrays.equals(containedExpectedOut.shape(),containedOutput.shape()));
  assertEquals(containedExpectedOut,containedOutput);
  INDArray output=layer.activate(input,false,LayerWorkspaceMgr.noWorkspaces());
  assertTrue(Arrays.equals(new long[]{nExamples,nChannelsIn,outputLength},output.shape()));
  assertEquals(nChannelsIn,output.size(1),1e-4);
}
