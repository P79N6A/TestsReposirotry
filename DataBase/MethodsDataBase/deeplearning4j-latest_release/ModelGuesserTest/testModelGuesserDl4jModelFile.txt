@Test public void testModelGuesserDl4jModelFile() throws Exception {
  MultiLayerNetwork net=getNetwork();
  File tempFile=testDir.newFile("testModelGuesserDl4jModelFile.bin");
  ModelSerializer.writeModel(net,tempFile,true);
  MultiLayerNetwork network=(MultiLayerNetwork)ModelGuesser.loadModelGuess(tempFile.getAbsolutePath());
  assertEquals(network.getLayerWiseConfigurations().toJson(),net.getLayerWiseConfigurations().toJson());
  assertEquals(net.params(),network.params());
  assertEquals(net.getUpdater().getStateViewArray(),network.getUpdater().getStateViewArray());
}
