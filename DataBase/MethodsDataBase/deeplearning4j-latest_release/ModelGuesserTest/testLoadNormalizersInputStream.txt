@Test public void testLoadNormalizersInputStream() throws Exception {
  MultiLayerNetwork net=getNetwork();
  File tempFile=testDir.newFile("testLoadNormalizersInputStream.bin");
  ModelSerializer.writeModel(net,tempFile,true);
  NormalizerMinMaxScaler normalizer=new NormalizerMinMaxScaler(0,1);
  normalizer.fit(new DataSet(Nd4j.rand(new int[]{2,2}),Nd4j.rand(new int[]{2,2})));
  ModelSerializer.addNormalizerToModel(tempFile,normalizer);
  Model model=ModelGuesser.loadModelGuess(tempFile.getAbsolutePath());
  try (InputStream inputStream=new FileInputStream(tempFile)){
    Normalizer<?> normalizer1=ModelGuesser.loadNormalizer(inputStream);
    assertEquals(model,net);
    assertEquals(normalizer,normalizer1);
  }
 }
