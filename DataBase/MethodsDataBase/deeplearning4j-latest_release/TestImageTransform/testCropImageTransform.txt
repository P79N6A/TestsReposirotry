@Test public void testCropImageTransform() throws Exception {
  ImageWritable writable=makeRandomImage(0,0,1);
  Frame frame=writable.getFrame();
  ImageTransform transform=new CropImageTransform(rng,frame.imageHeight / 2,frame.imageWidth / 2,frame.imageHeight / 2,frame.imageWidth / 2);
  for (int i=0; i < 100; i++) {
    ImageWritable w=transform.transform(writable);
    Frame f=w.getFrame();
    assertTrue(f.imageHeight <= frame.imageHeight);
    assertTrue(f.imageWidth <= frame.imageWidth);
    assertEquals(f.imageChannels,frame.imageChannels);
  }
  assertEquals(null,transform.transform(null));
  transform=new CropImageTransform(1,2,3,4);
  writable=transform.transform(writable);
  float[] coordinates={1,2,3,4};
  float[] transformed=transform.query(coordinates);
  assertEquals(1 - 2,transformed[0],0);
  assertEquals(2 - 1,transformed[1],0);
  assertEquals(3 - 2,transformed[2],0);
  assertEquals(4 - 1,transformed[3],0);
}
