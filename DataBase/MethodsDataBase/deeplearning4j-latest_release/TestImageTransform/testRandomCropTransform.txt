@Test public void testRandomCropTransform() throws Exception {
  ImageWritable writable=makeRandomImage(0,0,1);
  Frame frame=writable.getFrame();
  ImageTransform transform=new RandomCropTransform(frame.imageHeight / 2,frame.imageWidth / 2);
  for (int i=0; i < 100; i++) {
    ImageWritable w=transform.transform(writable);
    Frame f=w.getFrame();
    assertTrue(f.imageHeight == frame.imageHeight / 2);
    assertTrue(f.imageWidth == frame.imageWidth / 2);
  }
  assertEquals(null,transform.transform(null));
  transform=new RandomCropTransform(frame.imageHeight,frame.imageWidth);
  writable=transform.transform(writable);
  float[] coordinates={2,4,6,8};
  float[] transformed=transform.query(coordinates);
  assertEquals(2,transformed[0],0);
  assertEquals(4,transformed[1],0);
  assertEquals(6,transformed[2],0);
  assertEquals(8,transformed[3],0);
}
