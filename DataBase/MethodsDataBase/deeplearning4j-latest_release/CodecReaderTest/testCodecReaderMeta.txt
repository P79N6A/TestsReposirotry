@Test public void testCodecReaderMeta() throws Exception {
  File file=new ClassPathResource("datavec-data-codec/fire_lowres.mp4").getFile();
  SequenceRecordReader reader=new CodecRecordReader();
  Configuration conf=new Configuration();
  conf.set(CodecRecordReader.RAVEL,"true");
  conf.set(CodecRecordReader.START_FRAME,"160");
  conf.set(CodecRecordReader.TOTAL_FRAMES,"500");
  conf.set(CodecRecordReader.ROWS,"80");
  conf.set(CodecRecordReader.COLUMNS,"46");
  reader.initialize(new FileSplit(file));
  reader.setConf(conf);
  assertTrue(reader.hasNext());
  List<List<Writable>> record=reader.sequenceRecord();
  assertEquals(500,record.size());
  reader.reset();
  SequenceRecord seqR=reader.nextSequence();
  assertEquals(record,seqR.getSequenceRecord());
  RecordMetaData meta=seqR.getMetaData();
  assertTrue(meta.getURI().toString().endsWith(file.getName()));
  SequenceRecord fromMeta=reader.loadSequenceFromMetaData(meta);
  assertEquals(seqR,fromMeta);
}
