@Test public void testSerialization2() throws Exception {
  INDArray array=Nd4j.linspace(1,5,10);
  File tempFile=File.createTempFile("alpha","11");
  tempFile.deleteOnExit();
  try (DataOutputStream dos=new DataOutputStream(Files.newOutputStream(Paths.get(tempFile.getAbsolutePath())))){
    Nd4j.write(array,dos);
  }
   DataInputStream dis=new DataInputStream(new FileInputStream(tempFile.getAbsoluteFile()));
  DataTypeUtil.setDTypeForContext(DataBuffer.Type.FLOAT);
  INDArray exp=Nd4j.linspace(1,5,10);
  INDArray restored=Nd4j.read(dis);
  assertArrayEquals(exp.data().asFloat(),restored.data().asFloat(),0.1f);
  assertEquals(DataBuffer.Type.FLOAT,exp.data().dataType());
}
