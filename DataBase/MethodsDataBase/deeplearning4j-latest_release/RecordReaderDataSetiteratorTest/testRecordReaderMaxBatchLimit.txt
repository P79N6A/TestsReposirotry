@Test public void testRecordReaderMaxBatchLimit() throws Exception {
  RecordReader recordReader=new CSVRecordReader();
  FileSplit csv=new FileSplit(new ClassPathResource("csv-example.csv").getTempFileFromArchive());
  recordReader.initialize(csv);
  DataSetIterator iter=new RecordReaderDataSetIterator(recordReader,10,-1,-1,2);
  DataSet ds=iter.next();
  assertFalse(ds == null);
  assertEquals(10,ds.numExamples());
  iter.hasNext();
  iter.next();
  assertEquals(false,iter.hasNext());
}
