@Test public void testTbpttMasking(){
  ComputationGraphConfiguration conf=new NeuralNetConfiguration.Builder().seed(12345).graphBuilder().addInputs("in").addLayer("out",new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE).activation(Activation.IDENTITY).nIn(1).nOut(1).build(),"in").setOutputs("out").backpropType(BackpropType.TruncatedBPTT).tBPTTForwardLength(8).tBPTTBackwardLength(8).build();
  ComputationGraph net=new ComputationGraph(conf);
  net.init();
  MultiDataSet data=new MultiDataSet(new INDArray[]{Nd4j.linspace(1,10,10).reshape(1,1,10)},new INDArray[]{Nd4j.linspace(2,20,10).reshape(1,1,10)},null,new INDArray[]{Nd4j.ones(10)});
  net.fit(data);
}
