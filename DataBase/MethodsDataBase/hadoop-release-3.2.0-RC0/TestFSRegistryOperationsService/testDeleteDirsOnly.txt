@Test public void testDeleteDirsOnly() throws IOException {
  System.out.println("pre-create test path with children");
  fs.mkdirs(new Path("test/registryTestNode"));
  fs.mkdirs(new Path("test/registryTestNode/child1"));
  fs.mkdirs(new Path("test/registryTestNode/child2"));
  try {
    registry.delete("test/registryTestNode",false);
    Assert.fail("Deleted dir wich children, nonrecursive flag set");
  }
 catch (  IOException e) {
  }
  Assert.assertTrue(fs.exists(new Path("test/registryTestNode")));
  Assert.assertTrue(fs.exists(new Path("test/registryTestNode/child1")));
  Assert.assertTrue(fs.exists(new Path("test/registryTestNode/child2")));
  System.out.println("Delete leaf path 'test/registryTestNode/child2'");
  registry.delete("test/registryTestNode/child2",false);
  Assert.assertTrue(fs.exists(new Path("test/registryTestNode")));
  Assert.assertTrue(fs.exists(new Path("test/registryTestNode/child1")));
  Assert.assertFalse(fs.exists(new Path("test/registryTestNode/child2")));
  System.out.println("Recursively delete non-leaf path 'test/registryTestNode'");
  registry.delete("test/registryTestNode",true);
  Assert.assertFalse(fs.exists(new Path("test/registryTestNode")));
}
