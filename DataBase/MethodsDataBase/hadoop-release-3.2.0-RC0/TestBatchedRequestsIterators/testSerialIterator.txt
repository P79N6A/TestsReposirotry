@Test public void testSerialIterator() throws Exception {
  List<SchedulingRequest> schedulingRequestList=Arrays.asList(schedulingRequest(1,1,1,512,"foo"),schedulingRequest(1,2,1,512,"foo"),schedulingRequest(1,3,1,512,"foo"),schedulingRequest(1,4,1,512,"foo"));
  BatchedRequests batchedRequests=new BatchedRequests(BatchedRequests.IteratorType.SERIAL,null,schedulingRequestList,1);
  Iterator<SchedulingRequest> requestIterator=batchedRequests.iterator();
  long prevAllocId=0;
  while (requestIterator.hasNext()) {
    SchedulingRequest request=requestIterator.next();
    Assert.assertTrue(request.getAllocationRequestId() > prevAllocId);
    prevAllocId=request.getAllocationRequestId();
  }
}
