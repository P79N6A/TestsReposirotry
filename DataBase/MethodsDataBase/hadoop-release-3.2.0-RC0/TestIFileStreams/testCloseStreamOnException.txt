@Test public void testCloseStreamOnException() throws Exception {
  OutputStream outputStream=Mockito.mock(OutputStream.class);
  IFileOutputStream ifos=new IFileOutputStream(outputStream);
  Mockito.doThrow(new IOException("Dummy Exception")).when(outputStream).flush();
  try {
    ifos.close();
    fail("IOException is not thrown");
  }
 catch (  IOException ioe) {
    assertEquals("Dummy Exception",ioe.getMessage());
  }
  Mockito.verify(outputStream).close();
}
