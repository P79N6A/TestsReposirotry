@Test(timeout=20000) public void testLoadImage() throws Exception {
  final long seed=r.nextLong();
  LOG.info("providedPath: " + providedPath);
  createImage(new RandomTreeWalk(seed),nnDirPath,FixedBlockResolver.class);
  startCluster(nnDirPath,0,new StorageType[]{StorageType.PROVIDED,StorageType.DISK},null,false);
  FileSystem fs=cluster.getFileSystem();
  for (  TreePath e : new RandomTreeWalk(seed)) {
    FileStatus rs=e.getFileStatus();
    Path hp=new Path(rs.getPath().toUri().getPath());
    assertTrue(fs.exists(hp));
    FileStatus hs=fs.getFileStatus(hp);
    assertEquals(rs.getPath().toUri().getPath(),hs.getPath().toUri().getPath());
    assertEquals(rs.getPermission(),hs.getPermission());
    assertEquals(rs.getLen(),hs.getLen());
    assertEquals(singleUser,hs.getOwner());
    assertEquals(singleGroup,hs.getGroup());
    assertEquals(rs.getAccessTime(),hs.getAccessTime());
    assertEquals(rs.getModificationTime(),hs.getModificationTime());
  }
}
