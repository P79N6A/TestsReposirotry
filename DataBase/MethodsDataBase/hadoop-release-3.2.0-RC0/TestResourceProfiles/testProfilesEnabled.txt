@Test public void testProfilesEnabled() throws Exception {
  ResourceProfilesManager manager=new ResourceProfilesManagerImpl();
  Configuration conf=new Configuration();
  manager.init(conf);
  try {
    manager.getResourceProfiles();
    Assert.fail("Exception should be thrown as resource profile is not enabled" + " and getResourceProfiles is invoked.");
  }
 catch (  YarnException ie) {
  }
  conf.setBoolean(YarnConfiguration.RM_RESOURCE_PROFILES_ENABLED,true);
  try {
    manager.init(conf);
    Assert.fail("Exception should be thrown due to missing resource profiles file");
  }
 catch (  IOException ie) {
  }
  conf.set(YarnConfiguration.RM_RESOURCE_PROFILES_SOURCE_FILE,"profiles/sample-profiles-1.json");
  manager.init(conf);
}
