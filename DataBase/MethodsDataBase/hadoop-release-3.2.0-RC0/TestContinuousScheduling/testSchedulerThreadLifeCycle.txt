@SuppressWarnings("deprecation") @Test public void testSchedulerThreadLifeCycle() throws InterruptedException {
  scheduler.start();
  Thread schedulingThread=scheduler.schedulingThread;
  assertTrue(schedulingThread.isAlive());
  scheduler.stop();
  int numRetries=100;
  while (numRetries-- > 0 && schedulingThread.isAlive()) {
    Thread.sleep(50);
  }
  assertNotEquals("The Scheduling thread is still alive",0,numRetries);
}
