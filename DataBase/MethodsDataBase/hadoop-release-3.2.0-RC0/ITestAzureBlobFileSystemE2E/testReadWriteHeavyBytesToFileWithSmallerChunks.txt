@Test public void testReadWriteHeavyBytesToFileWithSmallerChunks() throws Exception {
  final AzureBlobFileSystem fs=getFileSystem();
  final Path testFilePath=new Path(methodName.getMethodName());
  final byte[] writeBuffer=new byte[5 * 1000 * 1024];
  new Random().nextBytes(writeBuffer);
  write(testFilePath,writeBuffer);
  final byte[] readBuffer=new byte[5 * 1000 * 1024];
  FSDataInputStream inputStream=fs.open(testFilePath,TEST_DEFAULT_BUFFER_SIZE);
  int offset=0;
  while (inputStream.read(readBuffer,offset,TEST_OFFSET) > 0) {
    offset+=TEST_OFFSET;
  }
  assertArrayEquals(readBuffer,writeBuffer);
  inputStream.close();
}
