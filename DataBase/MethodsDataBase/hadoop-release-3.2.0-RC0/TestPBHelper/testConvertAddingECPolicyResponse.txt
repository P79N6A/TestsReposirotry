@Test public void testConvertAddingECPolicyResponse() throws Exception {
  for (  ErasureCodingPolicy policy : SystemErasureCodingPolicies.getPolicies()) {
    AddErasureCodingPolicyResponse response=new AddErasureCodingPolicyResponse(policy);
    HdfsProtos.AddErasureCodingPolicyResponseProto proto=PBHelperClient.convertAddErasureCodingPolicyResponse(response);
    assertFalse("Unnecessary field is set.",proto.hasErrorMsg());
    AddErasureCodingPolicyResponse convertedResponse=PBHelperClient.convertAddErasureCodingPolicyResponse(proto);
    assertEquals("Converted policy not equal",response.getPolicy(),convertedResponse.getPolicy());
    assertEquals("Converted policy not equal",response.isSucceed(),convertedResponse.isSucceed());
  }
  ErasureCodingPolicy policy=SystemErasureCodingPolicies.getPolicies().get(0);
  AddErasureCodingPolicyResponse response=new AddErasureCodingPolicyResponse(policy,"failed");
  HdfsProtos.AddErasureCodingPolicyResponseProto proto=PBHelperClient.convertAddErasureCodingPolicyResponse(response);
  AddErasureCodingPolicyResponse convertedResponse=PBHelperClient.convertAddErasureCodingPolicyResponse(proto);
  assertEquals("Converted policy not equal",response.getPolicy(),convertedResponse.getPolicy());
  assertEquals("Converted policy not equal",response.getErrorMsg(),convertedResponse.getErrorMsg());
}
