@Test public void testRefreshPreemptionProperties() throws Exception {
  ProportionalCapacityPreemptionPolicy policy=buildPolicy(Q_DATA_FOR_IGNORE);
  assertEquals(CapacitySchedulerConfiguration.DEFAULT_PREEMPTION_MONITORING_INTERVAL,policy.getMonitoringInterval());
  assertEquals(CapacitySchedulerConfiguration.DEFAULT_PREEMPTION_OBSERVE_ONLY,policy.isObserveOnly());
  CapacitySchedulerConfiguration newConf=new CapacitySchedulerConfiguration(conf);
  long newMonitoringInterval=5000;
  boolean newObserveOnly=true;
  newConf.setLong(CapacitySchedulerConfiguration.PREEMPTION_MONITORING_INTERVAL,newMonitoringInterval);
  newConf.setBoolean(CapacitySchedulerConfiguration.PREEMPTION_OBSERVE_ONLY,newObserveOnly);
  when(mCS.getConfiguration()).thenReturn(newConf);
  policy.editSchedule();
  assertEquals(newMonitoringInterval,policy.getMonitoringInterval());
  assertEquals(newObserveOnly,policy.isObserveOnly());
}
