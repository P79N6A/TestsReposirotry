/** 
 * This test validates the correctness of GetNodes in case the cluster is composed of only 1 bad SubCluster and a good one.
 */
@Test public void testGetNodesOneBadOneGood() throws YarnException, IOException, InterruptedException {
  setupCluster(Arrays.asList(good,bad2));
  NodesInfo response=interceptor.getNodes(null);
  Assert.assertNotNull(response);
  Assert.assertEquals(1,response.getNodes().size());
  Assert.assertEquals(good.getId(),Long.toString(response.getNodes().get(0).getLastHealthUpdate()));
}
