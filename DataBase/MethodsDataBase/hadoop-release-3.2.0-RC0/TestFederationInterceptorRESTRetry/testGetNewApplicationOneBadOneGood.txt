/** 
 * This test validates the correctness of GetNewApplication in case the cluster is composed of only 1 bad SubCluster and 1 good one.
 */
@Test public void testGetNewApplicationOneBadOneGood() throws YarnException, IOException, InterruptedException {
  System.out.println("Test getNewApplication with one bad, one good SC");
  setupCluster(Arrays.asList(good,bad2));
  Response response=interceptor.createNewApplication(null);
  Assert.assertEquals(OK,response.getStatus());
  NewApplication newApp=(NewApplication)response.getEntity();
  ApplicationId appId=ApplicationId.fromString(newApp.getApplicationId());
  Assert.assertEquals(Integer.parseInt(good.getId()),appId.getClusterTimestamp());
}
