/** 
 * This test validates the correctness of GetNewApplication in case the cluster is composed of only 1 bad SubCluster.
 */
@Test public void testGetNewApplicationOneBadSC() throws YarnException, IOException, InterruptedException {
  setupCluster(Arrays.asList(bad2));
  Response response=interceptor.createNewApplication(null);
  Assert.assertEquals(SERVICE_UNAVAILABLE,response.getStatus());
  Assert.assertEquals(FederationPolicyUtils.NO_ACTIVE_SUBCLUSTER_AVAILABLE,response.getEntity());
}
