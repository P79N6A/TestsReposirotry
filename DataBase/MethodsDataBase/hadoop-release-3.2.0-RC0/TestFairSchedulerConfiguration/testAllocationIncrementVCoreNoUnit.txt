@Test public void testAllocationIncrementVCoreNoUnit() throws Exception {
  Configuration conf=new Configuration();
  conf.set(YarnConfiguration.RESOURCE_TYPES + "." + ResourceInformation.VCORES.getName()+ FairSchedulerConfiguration.INCREMENT_ALLOCATION,"10");
  FairSchedulerConfiguration fsc=new FairSchedulerConfiguration(conf);
  Resource min=Resources.createResource(0L,0);
  Resource max=Resources.createResource(Long.MAX_VALUE,Integer.MAX_VALUE);
  Resource increment=fsc.getIncrementAllocation();
  DominantResourceCalculator resourceCalculator=new DominantResourceCalculator();
  assertEquals(10,resourceCalculator.normalize(Resources.createResource(0L,9),min,max,increment).getVirtualCores());
  assertEquals(10,resourceCalculator.normalize(Resources.createResource(0L,10),min,max,increment).getVirtualCores());
  assertEquals(20,resourceCalculator.normalize(Resources.createResource(0L,11),min,max,increment).getVirtualCores());
}
