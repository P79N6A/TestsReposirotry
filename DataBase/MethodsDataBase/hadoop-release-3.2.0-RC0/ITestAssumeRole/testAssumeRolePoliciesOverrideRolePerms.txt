/** 
 * Tighten the extra policy on the assumed role call for torrent access, and verify that it blocks all other operations. That is: any non empty policy in the assumeRole API call overrides all of the policies attached to the role before. switches the role instance to only those policies in the
 */
@Test public void testAssumeRolePoliciesOverrideRolePerms() throws Throwable {
  describe("extra policies in assumed roles need;" + " all required policies stated");
  Configuration conf=createAssumedRoleConfig();
  bindRolePolicy(conf,policy(statement(false,S3_ALL_BUCKETS,S3_GET_OBJECT_TORRENT),ALLOW_S3_GET_BUCKET_LOCATION,STATEMENT_S3GUARD_CLIENT,STATEMENT_ALLOW_SSE_KMS_RW));
  Path path=path("testAssumeRoleStillIncludesRolePerms");
  roleFS=(S3AFileSystem)path.getFileSystem(conf);
  assertTouchForbidden(roleFS,path);
}
