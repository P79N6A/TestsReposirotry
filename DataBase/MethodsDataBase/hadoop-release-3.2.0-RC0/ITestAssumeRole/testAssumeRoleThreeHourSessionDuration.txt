/** 
 * A duration >1h is forbidden client-side in AWS SDK 1.11.271; with the ability to extend durations deployed in March 2018, duration checks will need to go server-side, and, presumably, later SDKs will remove the client side checks. This code exists to see when this happens.
 */
@Test public void testAssumeRoleThreeHourSessionDuration() throws Exception {
  describe("Try to authenticate with a long session duration");
  Configuration conf=createAssumedRoleConfig();
  conf.setInt(ASSUMED_ROLE_SESSION_DURATION,3 * 60 * 60);
  try {
    new Path(getFileSystem().getUri()).getFileSystem(conf).close();
    LOG.info("Successfully created token of a duration >3h");
  }
 catch (  IOException ioe) {
    assertExceptionContains(VALIDATION_ERROR,ioe);
  }
}
