/** 
 * Verify that moved blocks reporting should queued up the block info.
 */
@Test(timeout=30000) public void testAddReportedMoveAttemptFinishedBlocks() throws Exception {
  Long item=new Long(1234);
  Block block=new Block(item);
  DatanodeInfo dnInfo=DFSTestUtil.getLocalDatanodeInfo(9867);
  Set<StorageTypeNodePair> locs=new HashSet<>();
  locs.add(new StorageTypeNodePair(StorageType.ARCHIVE,dnInfo));
  Map<Block,Set<StorageTypeNodePair>> blocksMap=new HashMap<>();
  blocksMap.put(block,locs);
  bsmAttemptedItems.add(0L,0L,0L,blocksMap,0);
  bsmAttemptedItems.notifyReportedBlock(dnInfo,StorageType.ARCHIVE,block);
  assertEquals("Failed to receive result!",1,bsmAttemptedItems.getMovementFinishedBlocksCount());
}
