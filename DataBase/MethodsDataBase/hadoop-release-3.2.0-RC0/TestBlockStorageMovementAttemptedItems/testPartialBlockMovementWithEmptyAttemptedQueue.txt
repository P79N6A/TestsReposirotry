/** 
 * Partial block movement with only BlocksStorageMoveAttemptFinished report and storageMovementAttemptedItems list is empty.
 */
@Test(timeout=30000) public void testPartialBlockMovementWithEmptyAttemptedQueue() throws Exception {
  Long item=new Long(1234);
  Block block=new Block(item);
  Long trackID=0L;
  DatanodeInfo dnInfo=DFSTestUtil.getLocalDatanodeInfo(9867);
  Set<StorageTypeNodePair> locs=new HashSet<>();
  locs.add(new StorageTypeNodePair(StorageType.ARCHIVE,dnInfo));
  Map<Block,Set<StorageTypeNodePair>> blocksMap=new HashMap<>();
  blocksMap.put(block,locs);
  bsmAttemptedItems.add(trackID,trackID,0L,blocksMap,0);
  bsmAttemptedItems.notifyReportedBlock(dnInfo,StorageType.ARCHIVE,block);
  assertFalse("Should not add in queue again if it is not there in" + " storageMovementAttemptedItems",checkItemMovedForRetry(trackID,5000));
  assertEquals("Failed to remove from the attempted list",1,bsmAttemptedItems.getAttemptedItemsCount());
}
