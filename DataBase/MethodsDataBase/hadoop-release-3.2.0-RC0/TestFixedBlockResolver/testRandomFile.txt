@Test public void testRandomFile() throws Exception {
  Random r=new Random();
  long seed=r.nextLong();
  System.out.println("seed: " + seed);
  r.setSeed(seed);
  int len=r.nextInt(4096) + 512;
  int blk=r.nextInt(len - 128) + 128;
  FileStatus s=file(len,blk);
  long nbytes=0;
  for (  BlockProto b : blockId.resolve(s)) {
    nbytes+=b.getNumBytes();
    assertTrue(512L * (1L << 20) >= b.getNumBytes());
  }
  assertEquals(s.getLen(),nbytes);
}
