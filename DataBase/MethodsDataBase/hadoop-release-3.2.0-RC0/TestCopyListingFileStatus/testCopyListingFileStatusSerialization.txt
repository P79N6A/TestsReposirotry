@Test public void testCopyListingFileStatusSerialization() throws Exception {
  CopyListingFileStatus src=new CopyListingFileStatus(4344L,false,2,512 << 20,1234L,5678L,new FsPermission((short)0512),"dingo","yaks",new Path("hdfs://localhost:4344"));
  DataOutputBuffer dob=new DataOutputBuffer();
  src.write(dob);
  DataInputBuffer dib=new DataInputBuffer();
  dib.reset(dob.getData(),0,dob.getLength());
  CopyListingFileStatus dst=new CopyListingFileStatus();
  dst.readFields(dib);
  assertEquals(src,dst);
}
