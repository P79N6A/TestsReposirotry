/** 
 * Much like trying to access a encrypted directory, an encrypted file cannot have its metadata read, since both are technically an object.
 * @throws Exception
 */
@Test public void testListStatusEncryptedFile() throws Exception {
  assumeEnabled();
  skipIfEncryptionTestsDisabled(getConfiguration());
  assumeS3GuardState(false,getConfiguration());
  Path pathABC=path("testListStatusEncryptedFile/a/b/c/");
  assertTrue(getFileSystem().mkdirs(pathABC));
  Path fileToStat=new Path(pathABC,"fileToStat.txt");
  writeThenReadFile(fileToStat,TEST_FILE_LEN);
  fsKeyB=createNewFileSystemWithSSECKey(KEY_4);
  intercept(AccessDeniedException.class,SERVICE_AMAZON_S3_STATUS_CODE_403,() -> {
    fsKeyB.listStatus(fileToStat);
  }
);
}
