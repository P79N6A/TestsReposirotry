/** 
 * General test to make sure move works with SSE-C with the same key, unlike with multiple keys.
 * @throws Exception
 */
@Test public void testRenameFile() throws Exception {
  assumeEnabled();
  skipIfEncryptionTestsDisabled(getConfiguration());
  Path src=path("original-path.txt");
  writeThenReadFile(src,TEST_FILE_LEN);
  Path newPath=path("different-path.txt");
  getFileSystem().rename(src,newPath);
  byte[] data=dataset(TEST_FILE_LEN,'a','z');
  ContractTestUtils.verifyFileContents(getFileSystem(),newPath,data);
}
