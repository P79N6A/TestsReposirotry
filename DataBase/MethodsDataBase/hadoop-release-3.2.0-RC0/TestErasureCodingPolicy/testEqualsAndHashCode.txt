@Test public void testEqualsAndHashCode(){
  ErasureCodingPolicy[] policies=new ErasureCodingPolicy[]{new ErasureCodingPolicy("one",SCHEMA_1,1024,(byte)1),new ErasureCodingPolicy("two",SCHEMA_1,1024,(byte)1),new ErasureCodingPolicy("one",SCHEMA_2,1024,(byte)1),new ErasureCodingPolicy("one",SCHEMA_1,2048,(byte)1),new ErasureCodingPolicy("one",SCHEMA_1,1024,(byte)3)};
  for (int i=0; i < policies.length; i++) {
    final ErasureCodingPolicy ei=policies[i];
    ErasureCodingPolicy temp=new ErasureCodingPolicy(ei.getName(),ei.getSchema(),ei.getCellSize(),ei.getId());
    assertEquals(ei,temp);
    assertEquals(ei.hashCode(),temp.hashCode());
    for (int j=0; j < policies.length; j++) {
      final ErasureCodingPolicy ej=policies[j];
      if (i == j) {
        assertEquals(ei,ej);
        assertEquals(ei.hashCode(),ej.hashCode());
      }
 else {
        assertNotEquals(ei,ej);
        assertNotEquals(ei,ej.hashCode());
      }
    }
  }
}
