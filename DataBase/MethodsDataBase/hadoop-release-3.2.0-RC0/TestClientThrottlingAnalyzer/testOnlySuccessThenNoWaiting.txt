/** 
 * Ensure that there is no waiting (sleepDuration = 0) if the metrics have only been updated with successful requests.
 */
@Test public void testOnlySuccessThenNoWaiting(){
  ClientThrottlingAnalyzer analyzer=new ClientThrottlingAnalyzer("test",ANALYSIS_PERIOD);
  analyzer.addBytesTransferred(8 * MEGABYTE,false);
  validate(0,analyzer.getSleepDuration());
  sleep(ANALYSIS_PERIOD_PLUS_10_PERCENT);
  validate(0,analyzer.getSleepDuration());
}
