/** 
 * Asserts the current minimum compatible layout version of the software, if a release were created from the codebase right now.  This test is meant to make developers stop and reconsider if they introduce a change that requires a new minimum compatible layout version.  This would make downgrade impossible.
 */
@Test public void testCurrentMinimumCompatibleLayoutVersion(){
  int expectedMinCompatLV=NameNodeLayoutVersion.Feature.TRUNCATE.getInfo().getLayoutVersion();
  int actualMinCompatLV=LayoutVersion.getMinimumCompatibleLayoutVersion(NameNodeLayoutVersion.Feature.values());
  assertEquals("The minimum compatible layout version has changed.  " + "Downgrade to prior versions is no longer possible.  Please either " + "restore compatibility, or if the incompatibility is intentional, "+ "then update this assertion.",expectedMinCompatLV,actualMinCompatLV);
}
