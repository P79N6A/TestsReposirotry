@Test public void testKillApplication() throws Exception {
  MockRM rm=new MockRM();
  rm.start();
  RMApp app=rm.submitApp(2000);
  @SuppressWarnings("resource") final YarnClient client=new MockYarnClient();
  client.init(getConf());
  client.start();
  client.killApplication(app.getApplicationId());
  verify(((MockYarnClient)client).getRMClient(),times(2)).forceKillApplication(any(KillApplicationRequest.class));
}
