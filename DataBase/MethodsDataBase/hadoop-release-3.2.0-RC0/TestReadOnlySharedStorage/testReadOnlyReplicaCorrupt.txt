/** 
 * Verify that corrupt <tt>READ_ONLY_SHARED</tt> replicas aren't counted  towards the corrupt replicas total.
 */
@Test public void testReadOnlyReplicaCorrupt() throws Exception {
  client.reportBadBlocks(new LocatedBlock[]{new LocatedBlock(extendedBlock,new DatanodeInfo[]{readOnlyDataNode})});
  waitForLocations(1);
  NumberReplicas numberReplicas=blockManager.countNodes(storedBlock);
  assertThat(numberReplicas.corruptReplicas(),is(0));
}
