/** 
 * Try accessing an unauthorized or non-existent (treated the same) container from WASB.
 */
@Test public void testAccessUnauthorizedPublicContainer() throws Exception {
  final String container="nonExistentContainer";
  final String account="hopefullyNonExistentAccount";
  Path noAccessPath=new Path("wasb://" + container + "@"+ account+ "/someFile");
  NativeAzureFileSystem.suppressRetryPolicy();
  try {
    FileSystem.get(noAccessPath.toUri(),new Configuration()).open(noAccessPath);
    assertTrue("Should've thrown.",false);
  }
 catch (  AzureException ex) {
    GenericTestUtils.assertExceptionContains(String.format(NO_ACCESS_TO_CONTAINER_MSG,account,container),ex);
  }
 finally {
    NativeAzureFileSystem.resumeRetryPolicy();
  }
}
