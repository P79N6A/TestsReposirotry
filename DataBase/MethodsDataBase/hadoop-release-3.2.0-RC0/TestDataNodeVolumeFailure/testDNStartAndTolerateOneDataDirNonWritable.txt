/** 
 * DataNode will start and tolerate one non-writable data directory according to config.
 */
@Test(timeout=120000) public void testDNStartAndTolerateOneDataDirNonWritable() throws Exception {
  assumeNotWindows();
  final File readOnlyDir=new File(dataDir,"nonWritable");
  assertTrue("Set the data dir permission non-writable",readOnlyDir.mkdir() && readOnlyDir.setReadOnly());
  startNewDataNodeWithDiskFailure(new File(readOnlyDir,"newDir1"),true);
}
