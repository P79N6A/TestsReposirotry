/** 
 * trying to rename a directory onto its parent dir will build a destination path of its original name, which should then fail. The source path and the destination path should still exist afterwards
 */
@Test public void testMoveDirUnderParent() throws Throwable {
  assumeTrue(renameSupported());
  Path testdir=path("testMoveDirUnderParent");
  fs.mkdirs(testdir);
  Path parent=testdir.getParent();
  fs.rename(testdir,parent);
  assertEquals("Source exists: " + testdir,true,fs.exists(testdir));
  assertEquals("Destination exists" + parent,true,fs.exists(parent));
}
