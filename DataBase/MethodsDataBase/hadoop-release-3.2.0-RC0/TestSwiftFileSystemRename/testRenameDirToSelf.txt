/** 
 * trying to rename a directory onto itself should fail, preserving everything underneath.
 */
@Test(timeout=SWIFT_TEST_TIMEOUT) public void testRenameDirToSelf() throws Throwable {
  assumeRenameSupported();
  Path parentdir=path("/test/parentdir");
  fs.mkdirs(parentdir);
  Path child=new Path(parentdir,"child");
  createFile(child);
  rename(parentdir,parentdir,false,true,true);
  assertIsFile(child);
}
