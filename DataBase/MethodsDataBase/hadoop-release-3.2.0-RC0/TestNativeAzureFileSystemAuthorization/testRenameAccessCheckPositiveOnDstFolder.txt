/** 
 * Positive test to verify rename access check - the dstFolder allows rename.
 * @throws Throwable
 */
@Test public void testRenameAccessCheckPositiveOnDstFolder() throws Throwable {
  Path parentSrcDir=new Path("/testRenameAccessCheckPositiveSrc");
  Path srcPath=new Path(parentSrcDir,"test1.dat");
  Path parentDstDir=new Path("/testRenameAccessCheckPositiveDst");
  Path dstPath=new Path(parentDstDir,"test2.dat");
  authorizer.addAuthRuleForOwner("/",WRITE,true);
  authorizer.addAuthRuleForOwner(parentSrcDir.toString(),WRITE,true);
  authorizer.addAuthRuleForOwner(parentDstDir.toString(),WRITE,true);
  fs.updateWasbAuthorizer(authorizer);
  try {
    touch(fs,srcPath);
    ContractTestUtils.assertPathExists(fs,"sourcePath does not exist",srcPath);
    fs.mkdirs(parentDstDir);
    assertRenameOutcome(fs,srcPath,dstPath,true);
    ContractTestUtils.assertPathDoesNotExist(fs,"sourcePath does not exist",srcPath);
    ContractTestUtils.assertPathExists(fs,"destPath does not exist",dstPath);
  }
  finally {
    recursiveDelete(parentSrcDir);
    recursiveDelete(parentDstDir);
  }
}
