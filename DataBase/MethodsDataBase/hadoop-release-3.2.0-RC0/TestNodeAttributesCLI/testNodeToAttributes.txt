@Test public void testNodeToAttributes() throws Exception {
  when(client.getNodesToAttributes(any(GetNodesToAttributesRequest.class))).thenAnswer(new Answer<GetNodesToAttributesResponse>(){
    @Override public GetNodesToAttributesResponse answer(    InvocationOnMock invocation) throws Throwable {
      GetNodesToAttributesRequest nodeToAttributes=(GetNodesToAttributesRequest)invocation.getArguments()[0];
      return GetNodesToAttributesResponse.newInstance(ImmutableMap.<String,Set<NodeAttribute>>builder().put("hostname",ImmutableSet.of(NodeAttribute.newInstance("GPU",NodeAttributeType.STRING,"ARM"))).build());
    }
  }
);
  String[] args=new String[]{"-nodetoattributes","-nodes"};
  assertTrue("It should not success since nodes are not specified",0 != runTool(args));
  assertErrorContains(NodeAttributesCLI.INVALID_COMMAND_USAGE);
  args=new String[]{"-nodestoattributes","-nodes"};
  assertTrue("It should not success since nodes are not specified",0 != runTool(args));
  assertErrorContains(NodeAttributesCLI.MISSING_ARGUMENT);
  args=new String[]{"-nodestoattributes","-nodes","hostname"};
  assertTrue("Should return hostname to attributed list",0 == runTool(args));
  assertSysOutContains("hostname");
}
