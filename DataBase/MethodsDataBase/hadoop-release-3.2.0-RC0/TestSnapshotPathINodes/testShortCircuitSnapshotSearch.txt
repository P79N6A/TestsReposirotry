@Test public void testShortCircuitSnapshotSearch() throws SnapshotException {
  FSNamesystem fsn=cluster.getNamesystem();
  SnapshotManager sm=fsn.getSnapshotManager();
  assertEquals(0,sm.getNumSnapshottableDirs());
  INodesInPath iip=Mockito.mock(INodesInPath.class);
  List<INodeDirectory> snapDirs=new ArrayList<>();
  FSDirSnapshotOp.checkSnapshot(fsn.getFSDirectory(),iip,snapDirs);
  Mockito.verifyZeroInteractions(iip);
}
