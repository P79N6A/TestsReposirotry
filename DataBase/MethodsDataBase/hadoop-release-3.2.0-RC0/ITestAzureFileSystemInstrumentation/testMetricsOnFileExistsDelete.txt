@Test public void testMetricsOnFileExistsDelete() throws Exception {
  long base=getBaseWebResponses();
  Path filePath=new Path("/metricsTest_delete");
  assertFalse(getFileSystem().exists(filePath));
  logOpResponseCount("Checking file existence for non-existent file",base);
  base=assertWebResponsesInRange(base,1,5);
  assertTrue(getFileSystem().createNewFile(filePath));
  base=getCurrentWebResponses();
  assertTrue(getFileSystem().exists(filePath));
  logOpResponseCount("Checking file existence for existent file",base);
  base=assertWebResponsesInRange(base,1,4);
  assertEquals(0,AzureMetricsTestUtil.getLongCounterValue(getInstrumentation(),WASB_FILES_DELETED));
  assertTrue(getFileSystem().delete(filePath,false));
  logOpResponseCount("Deleting a file",base);
  base=assertWebResponsesInRange(base,1,4);
  assertEquals(1,AzureMetricsTestUtil.getLongCounterValue(getInstrumentation(),WASB_FILES_DELETED));
  assertNoErrors();
}
