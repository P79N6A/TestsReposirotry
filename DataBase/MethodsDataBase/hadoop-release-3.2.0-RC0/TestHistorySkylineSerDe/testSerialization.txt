@Test public final void testSerialization(){
  ReservationInterval riAdd=new ReservationInterval(0,10);
  skylineList.addInterval(riAdd,resource);
  riAdd=new ReservationInterval(10,20);
  skylineList.addInterval(riAdd,resource2);
  resourceSkyline=new ResourceSkyline("1",1024.5,0,20,resource,skylineList);
  RecurrenceId recurrenceId=new RecurrenceId("FraudDetection","1");
  List<ResourceSkyline> listSkyline=new ArrayList<>();
  listSkyline.add(resourceSkyline);
  Map<RecurrenceId,List<ResourceSkyline>> historySkyline=new HashMap<RecurrenceId,List<ResourceSkyline>>();
  historySkyline.put(recurrenceId,listSkyline);
  final String json=gson.toJson(historySkyline,new TypeToken<Map<RecurrenceId,List<ResourceSkyline>>>(){
  }
.getType());
  final Map<RecurrenceId,List<ResourceSkyline>> historySkylineDe=gson.fromJson(json,new TypeToken<Map<RecurrenceId,List<ResourceSkyline>>>(){
  }
.getType());
  List<ResourceSkyline> resourceSkylineList=historySkylineDe.get(recurrenceId);
  Assert.assertNotNull(resourceSkylineList);
  Assert.assertEquals(1,resourceSkylineList.size());
  ResourceSkyline resourceSkylineDe=resourceSkylineList.get(0);
  Assert.assertEquals(resourceSkylineDe.getJobId(),resourceSkyline.getJobId());
  Assert.assertEquals(resourceSkylineDe.getJobInputDataSize(),resourceSkyline.getJobInputDataSize(),0);
  Assert.assertEquals(resourceSkylineDe.getJobSubmissionTime(),resourceSkyline.getJobSubmissionTime());
  Assert.assertEquals(resourceSkylineDe.getJobFinishTime(),resourceSkyline.getJobFinishTime());
  Assert.assertEquals(resourceSkylineDe.getContainerSpec().getMemorySize(),resourceSkyline.getContainerSpec().getMemorySize());
  Assert.assertEquals(resourceSkylineDe.getContainerSpec().getVirtualCores(),resourceSkyline.getContainerSpec().getVirtualCores());
  final RLESparseResourceAllocation skylineList2=resourceSkyline.getSkylineList();
  final RLESparseResourceAllocation skylineListDe=resourceSkylineDe.getSkylineList();
  for (int i=0; i < 20; i++) {
    Assert.assertEquals(skylineList2.getCapacityAtTime(i).getMemorySize(),skylineListDe.getCapacityAtTime(i).getMemorySize());
    Assert.assertEquals(skylineList2.getCapacityAtTime(i).getVirtualCores(),skylineListDe.getCapacityAtTime(i).getVirtualCores());
  }
}
