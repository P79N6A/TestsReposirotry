@Test public void testRegisterUnregisterApps(){
  Assert.assertEquals(0,pcm.getNumRegisteredApplications());
  pcm.registerApplication(appId1,constraintMap1);
  Assert.assertEquals(1,pcm.getNumRegisteredApplications());
  Map<Set<String>,PlacementConstraint> constrMap=pcm.getConstraints(appId1);
  Assert.assertNotNull(constrMap);
  Assert.assertEquals(2,constrMap.size());
  Assert.assertNotNull(constrMap.get(sourceTag1));
  Assert.assertNotNull(constrMap.get(sourceTag2));
  pcm.registerApplication(appId2,constraintMap2);
  Assert.assertEquals(2,pcm.getNumRegisteredApplications());
  constrMap=pcm.getConstraints(appId2);
  Assert.assertNotNull(constrMap);
  Assert.assertEquals(1,constrMap.size());
  Assert.assertNotNull(constrMap.get(sourceTag3));
  Assert.assertNull(constrMap.get(sourceTag2));
  pcm.registerApplication(appId2,constraintMap1);
  Assert.assertEquals(2,pcm.getNumRegisteredApplications());
  pcm.unregisterApplication(appId1);
  Assert.assertEquals(1,pcm.getNumRegisteredApplications());
  Assert.assertNull(pcm.getConstraints(appId1));
  Assert.assertNotNull(pcm.getConstraints(appId2));
}
