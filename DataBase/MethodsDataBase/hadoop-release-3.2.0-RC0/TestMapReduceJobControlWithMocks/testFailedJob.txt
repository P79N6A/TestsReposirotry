@Test public void testFailedJob() throws Exception {
  JobControl jobControl=new JobControl("Test");
  ControlledJob job1=createFailedControlledJob(jobControl);
  ControlledJob job2=createSuccessfulControlledJob(jobControl);
  ControlledJob job3=createSuccessfulControlledJob(jobControl,job1,job2);
  ControlledJob job4=createSuccessfulControlledJob(jobControl,job3);
  runJobControl(jobControl);
  assertEquals("Success list",1,jobControl.getSuccessfulJobList().size());
  assertEquals("Failed list",3,jobControl.getFailedJobList().size());
  assertEquals(ControlledJob.State.FAILED,job1.getJobState());
  assertEquals(ControlledJob.State.SUCCESS,job2.getJobState());
  assertEquals(ControlledJob.State.DEPENDENT_FAILED,job3.getJobState());
  assertEquals(ControlledJob.State.DEPENDENT_FAILED,job4.getJobState());
  jobControl.stop();
}
