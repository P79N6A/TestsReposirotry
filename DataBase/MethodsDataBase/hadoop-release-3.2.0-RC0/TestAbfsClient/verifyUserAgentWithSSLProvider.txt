@Test public void verifyUserAgentWithSSLProvider() throws Exception {
  String expectedUserAgentPattern="Azure Blob FS\\/1.0 \\(JavaJRE ([^\\)]+) SunJSSE-1.8\\) Partner Service";
  final Configuration configuration=new Configuration();
  configuration.set(ConfigurationKeys.FS_AZURE_USER_AGENT_PREFIX_KEY,"Partner Service");
  configuration.set(ConfigurationKeys.FS_AZURE_SSL_CHANNEL_MODE_KEY,SSLSocketFactoryEx.SSLChannelMode.Default_JSSE.name());
  AbfsConfiguration abfsConfiguration=new AbfsConfiguration(configuration,accountName);
  validateUserAgent(expectedUserAgentPattern,new URL("https://azure.com"),abfsConfiguration,true);
}
