/** 
 * Test for create file
 */
@Test public void testCreate() throws Exception {
  String src="/testNamenodeRetryCache/testCreate/file";
  newCall();
  HdfsFileStatus status=nnRpc.create(src,perm,"holder",new EnumSetWritable<CreateFlag>(EnumSet.of(CreateFlag.CREATE)),true,(short)1,BlockSize,null,null);
  Assert.assertEquals(status,nnRpc.create(src,perm,"holder",new EnumSetWritable<CreateFlag>(EnumSet.of(CreateFlag.CREATE)),true,(short)1,BlockSize,null,null));
  Assert.assertEquals(status,nnRpc.create(src,perm,"holder",new EnumSetWritable<CreateFlag>(EnumSet.of(CreateFlag.CREATE)),true,(short)1,BlockSize,null,null));
  newCall();
  try {
    nnRpc.create(src,perm,"holder",new EnumSetWritable<CreateFlag>(EnumSet.of(CreateFlag.CREATE)),true,(short)1,BlockSize,null,null);
    Assert.fail("testCreate - expected exception is not thrown");
  }
 catch (  IOException e) {
  }
}
