/** 
 * Creates a file, verifies that listStatus returns it, even while the file is still open for writing.
 */
@Test public void testListFileVsListDir() throws Exception {
  final AzureBlobFileSystem fs=getFileSystem();
  Path path=new Path("/testFile");
  try (FSDataOutputStream ignored=fs.create(path)){
    FileStatus[] testFiles=fs.listStatus(path);
    assertEquals("length of test files",1,testFiles.length);
    FileStatus status=testFiles[0];
    assertIsFileReference(status);
  }
 }
