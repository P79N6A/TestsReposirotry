@Test public void testCopyFromLocalFileSystem() throws Exception {
  final AzureBlobFileSystem fs=getFileSystem();
  Path localFilePath=new Path(System.getProperty("test.build.data","azure_test"));
  FileSystem localFs=FileSystem.getLocal(new Configuration());
  localFs.delete(localFilePath,true);
  try {
    writeString(localFs,localFilePath,"Testing");
    Path dstPath=new Path("copiedFromLocal");
    assertTrue(FileUtil.copy(localFs,localFilePath,fs,dstPath,false,fs.getConf()));
    assertIsFile(fs,dstPath);
    assertEquals("Testing",readString(fs,dstPath));
    fs.delete(dstPath,true);
  }
  finally {
    localFs.delete(localFilePath,true);
  }
}
