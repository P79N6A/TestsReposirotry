@Test public void testUpdateDestinationForExistingMountTable() throws Exception {
  String nsId="ns0";
  String src="/test-updateDestinationForExistingMountTable";
  String dest="/UpdateDestinationForExistingMountTable";
  String[] argv=new String[]{"-add",src,nsId,dest};
  assertEquals(0,ToolRunner.run(admin,argv));
  stateStore.loadCache(MountTableStoreImpl.class,true);
  GetMountTableEntriesRequest getRequest=GetMountTableEntriesRequest.newInstance(src);
  GetMountTableEntriesResponse getResponse=client.getMountTableManager().getMountTableEntries(getRequest);
  MountTable mountTable=getResponse.getEntries().get(0);
  assertEquals(src,mountTable.getSourcePath());
  assertEquals(nsId,mountTable.getDestinations().get(0).getNameserviceId());
  assertEquals(dest,mountTable.getDestinations().get(0).getDest());
  String newNsId="ns1";
  String newDest="/newDestination";
  argv=new String[]{"-update",src,newNsId,newDest};
  assertEquals(0,ToolRunner.run(admin,argv));
  stateStore.loadCache(MountTableStoreImpl.class,true);
  getResponse=client.getMountTableManager().getMountTableEntries(getRequest);
  mountTable=getResponse.getEntries().get(0);
  assertEquals(src,mountTable.getSourcePath());
  assertEquals(newNsId,mountTable.getDestinations().get(0).getNameserviceId());
  assertEquals(newDest,mountTable.getDestinations().get(0).getDest());
}
