@Test public void testGetResourceInformation() throws Exception {
  Configuration conf=new YarnConfiguration();
  Map<String,Resource> testRun=new HashMap<>();
  setupResourceTypes(conf,"resource-types-4.xml");
  Resource test3Resources=Resource.newInstance(0,0);
  test3Resources.setResourceInformation("resource1",ResourceInformation.newInstance("resource1","Gi",5L));
  test3Resources.setResourceInformation("resource2",ResourceInformation.newInstance("resource2","m",2L));
  test3Resources.setResourceInformation("yarn.io/gpu",ResourceInformation.newInstance("yarn.io/gpu","",1));
  testRun.put("node-resources-2.xml",test3Resources);
  for (  Map.Entry<String,Resource> entry : testRun.entrySet()) {
    String resourceFile=entry.getKey();
    ResourceUtils.resetNodeResources();
    File source=new File(conf.getClassLoader().getResource(resourceFile).getFile());
    nodeResourcesFile=new File(source.getParent(),"node-resources.xml");
    FileUtils.copyFile(source,nodeResourcesFile);
    Map<String,ResourceInformation> actual=ResourceUtils.getNodeResourceInformation(conf);
    Assert.assertEquals(actual.size(),entry.getValue().getResources().length);
    for (    ResourceInformation resInfo : entry.getValue().getResources()) {
      Assert.assertEquals(resInfo,actual.get(resInfo.getName()));
    }
  }
}
