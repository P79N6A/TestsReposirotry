@Test public void testSetEnvFromInputPropertyOverrideDefault(){
  Configuration conf=new Configuration(false);
  Map<String,String> env=new HashMap<>();
  String propName="mapreduce.reduce.env";
  conf.set(propName + ".env2","new2_val");
  conf.set(propName + ".env4","new4_val");
  String defaultPropName="mapreduce.child.env";
  conf.set(defaultPropName,"env1=def1_val,env2=def2_val,env3=def3_val");
  String defaultPropValue=conf.get(defaultPropName);
  conf.set(defaultPropName + ".env4","def4_val");
  conf.set(defaultPropName + ".env2","new_def2_val");
  Apps.setEnvFromInputProperty(env,propName,defaultPropValue,conf,File.pathSeparator);
  assertEquals("def1_val",env.get("env1"));
  assertEquals("def3_val",env.get("env3"));
  assertEquals("new4_val",env.get("env4"));
  assertEquals("new2_val",env.get("env2"));
}
