@Test public void testS3ACommitterFactoryBinding() throws Throwable {
  describe("Verify that the committer factory returns this " + "committer when configured to do so");
  Job job=newJob();
  FileOutputFormat.setOutputPath(job,outDir);
  Configuration conf=job.getConfiguration();
  conf.set(MRJobConfig.TASK_ATTEMPT_ID,attempt0);
  conf.setInt(MRJobConfig.APPLICATION_ATTEMPT_ID,1);
  TaskAttemptContext tContext=new TaskAttemptContextImpl(conf,taskAttempt0);
  String name=getCommitterName();
  S3ACommitterFactory factory=new S3ACommitterFactory();
  assertEquals("Wrong committer from factory",createCommitter(outDir,tContext).getClass(),factory.createOutputCommitter(outDir,tContext).getClass());
}
