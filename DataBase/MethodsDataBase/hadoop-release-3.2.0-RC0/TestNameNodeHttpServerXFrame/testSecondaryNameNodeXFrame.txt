@Test public void testSecondaryNameNodeXFrame() throws IOException {
  Configuration conf=new HdfsConfiguration();
  FileSystem.setDefaultUri(conf,"hdfs://localhost:0");
  SecondaryNameNode sn=new SecondaryNameNode(conf);
  sn.startInfoServer();
  InetSocketAddress httpAddress=SecondaryNameNode.getHttpAddress(conf);
  URL url=URI.create("http://" + httpAddress.getHostName() + ":"+ httpAddress.getPort()).toURL();
  HttpURLConnection conn=(HttpURLConnection)url.openConnection();
  conn.connect();
  String xfoHeader=conn.getHeaderField("X-FRAME-OPTIONS");
  Assert.assertTrue("X-FRAME-OPTIONS is absent in the header",xfoHeader != null);
  Assert.assertTrue(xfoHeader.endsWith(HttpServer2.XFrameOption.SAMEORIGIN.toString()));
}
