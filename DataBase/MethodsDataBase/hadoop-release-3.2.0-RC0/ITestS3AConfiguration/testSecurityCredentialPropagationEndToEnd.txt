@Test public void testSecurityCredentialPropagationEndToEnd() throws Exception {
  Configuration config=new Configuration();
  config.set(CREDENTIAL_PROVIDER_PATH,"base");
  setBucketOption(config,"b",S3A_SECURITY_CREDENTIAL_PROVIDER_PATH,"override");
  Configuration updated=propagateBucketOptions(config,"b");
  patchSecurityCredentialProviders(updated);
  assertOptionEquals(updated,CREDENTIAL_PROVIDER_PATH,"override,base");
}
