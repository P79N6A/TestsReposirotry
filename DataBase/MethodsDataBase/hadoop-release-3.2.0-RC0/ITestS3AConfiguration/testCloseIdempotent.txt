@Test public void testCloseIdempotent() throws Throwable {
  conf=new Configuration();
  fs=S3ATestUtils.createTestFileSystem(conf);
  AWSCredentialProviderList credentials=fs.shareCredentials("testCloseIdempotent");
  credentials.close();
  fs.close();
  assertTrue("Closing FS didn't close credentials " + credentials,credentials.isClosed());
  assertEquals("refcount not zero in " + credentials,0,credentials.getRefCount());
  fs.close();
  assertEquals("refcount not zero in " + credentials,0,credentials.getRefCount());
}
