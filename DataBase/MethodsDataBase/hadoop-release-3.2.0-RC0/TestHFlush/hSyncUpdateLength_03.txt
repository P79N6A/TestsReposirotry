/** 
 * The test calls {@link #doTheJob(Configuration,String,long,short,boolean,EnumSet)}while requiring the semantic of  {@link SyncFlag#UPDATE_LENGTH}. Similar with  {@link #hFlush_03()} , it writes a file with a custom blocksize so the writes will be happening across block's and checksum' boundaries.
 */
@Test public void hSyncUpdateLength_03() throws IOException {
  Configuration conf=new HdfsConfiguration();
  int customPerChecksumSize=400;
  int customBlockSize=customPerChecksumSize * 3;
  conf.setInt(DFSConfigKeys.DFS_BYTES_PER_CHECKSUM_KEY,customPerChecksumSize);
  conf.setLong(DFSConfigKeys.DFS_BLOCK_SIZE_KEY,customBlockSize);
  doTheJob(conf,fName,customBlockSize,(short)2,true,EnumSet.of(SyncFlag.UPDATE_LENGTH));
}
