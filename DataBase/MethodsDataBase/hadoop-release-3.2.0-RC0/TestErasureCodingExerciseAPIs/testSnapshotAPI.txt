/** 
 * FileSystem.[allowSnapshot, createSnapshot, deleteSnapshot, renameSnapshot, getSnapshotDiffReport, disallowSnapshot] API call should succeed without failure.
 * @throws IOException if any IO operation failed.
 */
@Test public void testSnapshotAPI() throws IOException {
  Path p=new Path("/snapshotTest");
  fs.mkdirs(p);
  fs.allowSnapshot(p);
  fs.createSnapshot(p,"s1");
  Path f=new Path("/snapshotTest/f1");
  try (DataOutputStream dos=fs.create(f)){
    dos.writeBytes("write something");
  }
   fs.createSnapshot(p,"s2");
  fs.renameSnapshot(p,"s2","s3");
  SnapshotDiffReport report=fs.getSnapshotDiffReport(p,"s1","s3");
  assertEquals("s1",report.getFromSnapshot());
  assertEquals("s3",report.getLaterSnapshotName());
  fs.deleteSnapshot(p,"s1");
  fs.deleteSnapshot(p,"s3");
  fs.disallowSnapshot(p);
}
