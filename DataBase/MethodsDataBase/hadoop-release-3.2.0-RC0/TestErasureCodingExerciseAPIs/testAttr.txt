/** 
 * FileSystem.[setXAttr, getXAttr, getXAttrs, removeXAttr, listXAttrs] API call should succeed without failure.
 * @throws IOException if any IO operation failed.
 */
@Test public void testAttr() throws IOException {
  final Path p=new Path("/attrTest");
  fs.mkdirs(p);
  final Path filePath=new Path(p,"file");
  try (DataOutputStream dos=fs.create(filePath)){
    dos.writeBytes("write something");
  }
   final String name="user.a1";
  final byte[] value={0x31,0x32,0x33};
  fs.setXAttr(filePath,name,value,EnumSet.of(XAttrSetFlag.CREATE));
  Map<String,byte[]> xattrs=fs.getXAttrs(filePath);
  assertEquals(1,xattrs.size());
  assertArrayEquals(value,xattrs.get(name));
  assertArrayEquals(value,fs.getXAttr(filePath,name));
  List<String> listXAttrs=fs.listXAttrs(filePath);
  assertEquals(1,listXAttrs.size());
  fs.removeXAttr(filePath,name);
  xattrs=fs.getXAttrs(filePath);
  assertEquals(0,xattrs.size());
  listXAttrs=fs.listXAttrs(filePath);
  assertEquals(0,listXAttrs.size());
}
