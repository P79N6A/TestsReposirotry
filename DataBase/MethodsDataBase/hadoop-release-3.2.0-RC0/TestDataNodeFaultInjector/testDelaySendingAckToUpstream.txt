@Test(timeout=60000) public void testDelaySendingAckToUpstream() throws Exception {
  final MetricsDataNodeFaultInjector mdnFaultInjector=new MetricsDataNodeFaultInjector(){
    @Override public void delaySendingAckToUpstream(    final String upstreamAddr) throws IOException {
      delayOnce();
    }
    @Override public void logDelaySendingAckToUpstream(    final String upstreamAddr,    final long delayMs) throws IOException {
      logDelay(delayMs);
    }
  }
;
  verifyFaultInjectionDelayPipeline(mdnFaultInjector);
}
