@Test public void testRequestWithValidStateQuery(){
  GetApplicationsRequest request=ApplicationsRequestBuilder.create().withStateQuery(YarnApplicationState.NEW_SAVING.toString()).build();
  GetApplicationsRequest expectedRequest=getDefaultRequest();
  Set<String> appStates=Sets.newHashSet(YarnApplicationState.NEW_SAVING.toString());
  Set<String> appStatesLowerCase=parseQueries(appStates,true);
  expectedRequest.setApplicationStates(appStatesLowerCase);
  assertEquals(expectedRequest,request);
}
