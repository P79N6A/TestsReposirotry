@Test public void testRequestWithValidStateQueries(){
  GetApplicationsRequest request=ApplicationsRequestBuilder.create().withStatesQuery(Sets.newHashSet(YarnApplicationState.NEW_SAVING.toString(),YarnApplicationState.NEW.toString())).build();
  GetApplicationsRequest expectedRequest=getDefaultRequest();
  Set<String> appStates=Sets.newHashSet(YarnApplicationState.NEW_SAVING.toString(),YarnApplicationState.NEW.toString());
  Set<String> appStatesLowerCase=parseQueries(appStates,true);
  expectedRequest.setApplicationStates(appStatesLowerCase);
  assertEquals(expectedRequest,request);
}
