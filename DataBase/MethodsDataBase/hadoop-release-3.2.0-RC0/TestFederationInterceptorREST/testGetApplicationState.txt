/** 
 * This test validates the correctness of GetApplicationState in case the application exists in the cluster.
 */
@Test public void testGetApplicationState() throws YarnException, IOException, InterruptedException {
  ApplicationId appId=ApplicationId.newInstance(System.currentTimeMillis(),1);
  ApplicationSubmissionContextInfo context=new ApplicationSubmissionContextInfo();
  context.setApplicationId(appId.toString());
  Response response=interceptor.submitApplication(context,null);
  Assert.assertNotNull(response);
  Assert.assertNotNull(stateStoreUtil.queryApplicationHomeSC(appId));
  AppState responseGet=interceptor.getAppState(null,appId.toString());
  Assert.assertNotNull(responseGet);
  Assert.assertEquals(MockDefaultRequestInterceptorREST.APP_STATE_RUNNING,responseGet.getState());
}
