@Test(timeout=30000) public void testAppsRecoveringStates() throws Exception {
  RMState state=new RMState();
  Map<ApplicationId,ApplicationStateData> applicationState=state.getApplicationState();
  createRMStateForApplications(applicationState,RMAppState.FINISHED);
  createRMStateForApplications(applicationState,RMAppState.KILLED);
  createRMStateForApplications(applicationState,RMAppState.FAILED);
  for (  ApplicationStateData appState : applicationState.values()) {
    testRecoverApplication(appState,state);
  }
}
