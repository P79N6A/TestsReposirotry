/** 
 * Test TimelineCollector's interaction with TimelineWriter upon putEntity() calls.
 */
@Test public void testPutEntity() throws IOException {
  TimelineWriter writer=mock(TimelineWriter.class);
  TimelineCollector collector=new TimelineCollectorForTest(writer);
  TimelineEntities entities=generateTestEntities(1,1);
  collector.putEntities(entities,UserGroupInformation.createRemoteUser("test-user"));
  verify(writer,times(1)).write(any(TimelineCollectorContext.class),any(TimelineEntities.class),any(UserGroupInformation.class));
  verify(writer,times(1)).flush();
}
