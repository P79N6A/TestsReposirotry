/** 
 * Test what happens when there are two racks, and an entire rack is decommissioned. Since the cluster is multi-rack, it will consider the block under-replicated rather than create a third replica on the same rack. Adding a new node on a third rack should cause re-replication to that node.
 */
@Test public void testOneOfTwoRacksDecommissioned() throws Exception {
  addNodes(nodes);
  for (int i=0; i < NUM_TEST_ITERS; i++) {
    doTestOneOfTwoRacksDecommissioned(i);
  }
}
