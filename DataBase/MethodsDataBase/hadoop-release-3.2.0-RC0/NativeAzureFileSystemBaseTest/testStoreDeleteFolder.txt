@Test public void testStoreDeleteFolder() throws Exception {
  Path testFolder=methodPath();
  assertFalse(fs.exists(testFolder));
  assertTrue(fs.mkdirs(testFolder));
  assertTrue(fs.exists(testFolder));
  FileStatus status=fs.getFileStatus(testFolder);
  assertNotNull(status);
  assertTrue(status.isDirectory());
  assertEquals(new FsPermission((short)0755),status.getPermission());
  Path innerFile=new Path(testFolder,"innerFile");
  assertTrue(fs.createNewFile(innerFile));
  assertPathExists("inner file",innerFile);
  assertTrue(fs.delete(testFolder,true));
  assertPathDoesNotExist("inner file",innerFile);
  assertPathDoesNotExist("testFolder",testFolder);
}
