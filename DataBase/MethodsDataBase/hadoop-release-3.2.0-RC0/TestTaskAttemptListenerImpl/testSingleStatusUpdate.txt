@Test public void testSingleStatusUpdate() throws IOException, InterruptedException {
  configureMocks();
  startListener(true);
  listener.statusUpdate(attemptID,firstReduceStatus);
  verify(ea).handle(eventCaptor.capture());
  TaskAttemptStatusUpdateEvent updateEvent=(TaskAttemptStatusUpdateEvent)eventCaptor.getValue();
  TaskAttemptStatus status=updateEvent.getTaskAttemptStatusRef().get();
  assertTrue(status.fetchFailedMaps.contains(TASKATTEMPTID1));
  assertEquals(1,status.fetchFailedMaps.size());
  assertEquals(Phase.SHUFFLE,status.phase);
}
