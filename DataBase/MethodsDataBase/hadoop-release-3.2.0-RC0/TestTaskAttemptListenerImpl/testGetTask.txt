@Test(timeout=5000) public void testGetTask() throws IOException {
  configureMocks();
  startListener(false);
  JvmContext context=new JvmContext();
  context.jvmId=id;
  JvmTask result=listener.getTask(context);
  assertNotNull(result);
  assertTrue(result.shouldDie);
  listener.registerPendingTask(task,wid);
  result=listener.getTask(context);
  assertNull(result);
  listener.unregister(attemptId,wid);
  listener.registerPendingTask(task,wid);
  listener.registerLaunchedTask(attemptId,wid);
  verify(hbHandler).register(attemptId);
  result=listener.getTask(context);
  assertNotNull(result);
  assertFalse(result.shouldDie);
  result=listener.getTask(context);
  assertNotNull(result);
  assertTrue(result.shouldDie);
  listener.unregister(attemptId,wid);
  result=listener.getTask(context);
  assertNotNull(result);
  assertTrue(result.shouldDie);
  JVMId jvmid=JVMId.forName("jvm_001_002_m_004");
  assertNotNull(jvmid);
  try {
    JVMId.forName("jvm_001_002_m_004_006");
    fail();
  }
 catch (  IllegalArgumentException e) {
    assertEquals(e.getMessage(),"TaskId string : jvm_001_002_m_004_006 is not properly formed");
  }
}
