@Test public void testPageBlobFlush() throws IOException {
  Path path=getBlobPathWithTestName(PAGE_BLOB_DIR);
  try (FSDataOutputStream stream=fs.create(path)){
    byte[] buffer=getRandomBytes();
    stream.write(buffer);
    stream.flush();
    SyncableDataOutputStream syncStream=(SyncableDataOutputStream)stream.getWrappedStream();
    PageBlobOutputStream pageBlobStream=(PageBlobOutputStream)syncStream.getOutStream();
    pageBlobStream.waitForLastFlushCompletion();
    validate(path,buffer,true);
  }
 }
