/** 
 * Test regex pattern matching and environment variable replacement.
 */
@Test public void testRecursiveEnvironmentReplacement() throws UploaderException {
  String input="C/$A/B,$B,D";
  Map<String,String> map=new HashMap<>();
  map.put("A","X");
  map.put("B","$C");
  map.put("C","Y");
  FrameworkUploader uploader=new FrameworkUploader();
  String output=uploader.expandEnvironmentVariables(input,map);
  Assert.assertEquals("Environment not expanded","C/X/B,Y,D",output);
}
