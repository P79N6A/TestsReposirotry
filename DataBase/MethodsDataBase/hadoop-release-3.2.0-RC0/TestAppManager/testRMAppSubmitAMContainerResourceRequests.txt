@SuppressWarnings("deprecation") @Test public void testRMAppSubmitAMContainerResourceRequests() throws Exception {
  asContext.setResource(Resources.createResource(1024));
  asContext.setAMContainerResourceRequest(ResourceRequest.newInstance(Priority.newInstance(0),ResourceRequest.ANY,Resources.createResource(1024),1,true));
  List<ResourceRequest> reqs=new ArrayList<>();
  reqs.add(ResourceRequest.newInstance(Priority.newInstance(0),ResourceRequest.ANY,Resources.createResource(1025),1,false));
  reqs.add(ResourceRequest.newInstance(Priority.newInstance(0),"/rack",Resources.createResource(1025),1,false));
  reqs.add(ResourceRequest.newInstance(Priority.newInstance(0),"/rack/node",Resources.createResource(1025),1,true));
  asContext.setAMContainerResourceRequests(cloneResourceRequests(reqs));
  Assert.assertEquals(reqs.get(0),asContext.getAMContainerResourceRequest());
  Assert.assertEquals(reqs,asContext.getAMContainerResourceRequests());
  RMApp app=testRMAppSubmit();
  for (  ResourceRequest req : reqs) {
    req.setNodeLabelExpression(RMNodeLabelsManager.NO_LABEL);
  }
  Assert.assertEquals(reqs,app.getAMResourceRequests());
}
