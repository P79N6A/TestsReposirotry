@Test public void testListChildrenAuthoritative() throws IOException {
  Assume.assumeTrue("MetadataStore should be capable for authoritative " + "storage of directories to run this test.",isMetadataStoreAuthoritative());
  setupListStatus();
  DirListingMetadata dirMeta=ms.listChildren(strToPath("/a1/b1"));
  dirMeta.setAuthoritative(true);
  dirMeta.put(makeFileStatus("/a1/b1/file_new",100));
  ms.put(dirMeta);
  dirMeta=ms.listChildren(strToPath("/a1/b1"));
  assertListingsEqual(dirMeta.getListing(),"/a1/b1/file1","/a1/b1/file2","/a1/b1/c1","/a1/b1/file_new");
  assertTrue(dirMeta.isAuthoritative());
}
