/** 
 * test HsJobsBlock's rendering.
 */
@Test public void testHsJobsBlock(){
  AppContext ctx=mock(AppContext.class);
  Map<JobId,Job> jobs=new HashMap<JobId,Job>();
  Job job=getJob();
  jobs.put(job.getID(),job);
  when(ctx.getAllJobs()).thenReturn(jobs);
  Controller.RequestContext rc=mock(Controller.RequestContext.class);
  ViewContext view=mock(ViewContext.class);
  HttpServletRequest req=mock(HttpServletRequest.class);
  when(rc.getRequest()).thenReturn(req);
  when(view.requestContext()).thenReturn(rc);
  Configuration conf=new Configuration();
  HsJobsBlock block=new HsJobsBlockForTest(conf,ctx,view);
  PrintWriter pWriter=new PrintWriter(data);
  Block html=new BlockForTest(new HtmlBlockForTest(),pWriter,0,false);
  block.render(html);
  pWriter.flush();
  assertTrue(data.toString().contains("JobName"));
  assertTrue(data.toString().contains("UserName"));
  assertTrue(data.toString().contains("QueueName"));
  assertTrue(data.toString().contains("SUCCEEDED"));
}
