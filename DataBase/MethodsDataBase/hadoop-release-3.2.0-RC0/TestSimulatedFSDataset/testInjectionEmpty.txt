@Test public void testInjectionEmpty() throws IOException {
  SimulatedFSDataset fsdataset=getSimulatedFSDataset();
  assertBlockReportCountAndSize(fsdataset,0);
  int bytesAdded=addSomeBlocks(fsdataset);
  assertBlockReportCountAndSize(fsdataset,NUMBLOCKS);
  assertBlockLengthInBlockReports(fsdataset);
  SimulatedFSDataset sfsdataset=getSimulatedFSDataset();
  injectBlocksFromBlockReport(fsdataset,sfsdataset);
  assertBlockReportCountAndSize(fsdataset,NUMBLOCKS);
  assertBlockLengthInBlockReports(fsdataset,sfsdataset);
  assertEquals(bytesAdded,sfsdataset.getDfsUsed());
  assertEquals(sfsdataset.getCapacity() - bytesAdded,sfsdataset.getRemaining());
}
