@Test public void testDir() throws Exception {
  boolean[] createDirWithAbfs=new boolean[]{false,true,false,true};
  boolean[] readDirWithAbfs=new boolean[]{false,true,true,false};
  AzureBlobFileSystem abfs=getFileSystem();
  Assume.assumeFalse(abfs.getIsNamespaceEnabled());
  NativeAzureFileSystem wasb=getWasbFileSystem();
  for (int i=0; i < 4; i++) {
    Path path=new Path("/testDir/t" + i);
    final FileSystem createFs=createDirWithAbfs[i] ? abfs : wasb;
    assertTrue(createFs.mkdirs(path));
    assertPathExists(createFs,"Created dir not found with " + createFs,path);
    final FileSystem readFs=readDirWithAbfs[i] ? abfs : wasb;
    assertPathExists(readFs,"Created dir not found with " + readFs,path);
    assertIsDirectory(readFs,path);
    assertDeleted(readFs,path,true);
  }
}
