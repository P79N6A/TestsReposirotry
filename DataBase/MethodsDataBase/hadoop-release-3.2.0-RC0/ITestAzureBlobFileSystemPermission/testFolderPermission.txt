@Test public void testFolderPermission() throws Exception {
  final AzureBlobFileSystem fs=this.getFileSystem();
  Assume.assumeTrue(fs.getIsNamespaceEnabled());
  fs.getConf().set(CommonConfigurationKeys.FS_PERMISSIONS_UMASK_KEY,"027");
  path=new Path(testRoot,UUID.randomUUID().toString());
  fs.mkdirs(path.getParent(),new FsPermission(FsAction.ALL,FsAction.WRITE,FsAction.NONE));
  fs.removeDefaultAcl(path.getParent());
  fs.mkdirs(path,permission);
  FileStatus status=fs.getFileStatus(path);
  Assert.assertEquals(permission.applyUMask(DEFAULT_UMASK_PERMISSION),status.getPermission());
}
