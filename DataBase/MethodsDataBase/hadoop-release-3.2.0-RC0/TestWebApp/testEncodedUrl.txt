@Test public void testEncodedUrl() throws Exception {
  WebApp app=WebApps.$for("test",TestWebApp.class,this,"ws").start(new WebApp(){
    @Override public void setup(){
      bind(MyTestJAXBContextResolver.class);
      bind(MyTestWebService.class);
      route("/:foo",FooController.class);
    }
  }
);
  String baseUrl=baseUrl(app);
  try {
    String rawPath="localhost:8080";
    String encodedUrl=baseUrl + "test/" + URLEncoder.encode(rawPath,"UTF-8");
    assertEquals("foo" + rawPath,getContent(encodedUrl).trim());
    rawPath="@;%$";
    encodedUrl=baseUrl + "test/" + URLEncoder.encode(rawPath,"UTF-8");
    assertEquals("foo" + rawPath,getContent(encodedUrl).trim());
  }
  finally {
    app.stop();
  }
}
