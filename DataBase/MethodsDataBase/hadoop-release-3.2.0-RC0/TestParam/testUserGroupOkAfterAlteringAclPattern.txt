@Test public void testUserGroupOkAfterAlteringAclPattern(){
  AclPermissionParam.Domain oldDomain=AclPermissionParam.getAclPermissionPattern();
  String newPattern="^(default:)?(user|group|mask|other):" + "[[0-9A-Za-z_][@A-Za-z0-9._-]]*:([rwx-]{3})?" + "(,(default:)?(user|group|mask|other):"+ "[[0-9A-Za-z_][@A-Za-z0-9._-]]*:([rwx-]{3})?)*$";
  try {
    AclPermissionParam.setAclPermissionPattern(newPattern);
    String numericUserSpec="user:110201:rwx";
    AclPermissionParam aclNumericUserParam=new AclPermissionParam(numericUserSpec);
    Assert.assertEquals(numericUserSpec,aclNumericUserParam.getValue());
    String oddGroupSpec="group:foo@bar:rwx";
    AclPermissionParam aclGroupWithDomainParam=new AclPermissionParam(oddGroupSpec);
    Assert.assertEquals(oddGroupSpec,aclGroupWithDomainParam.getValue());
  }
  finally {
    AclPermissionParam.setAclPermissionPattern(oldDomain);
  }
}
