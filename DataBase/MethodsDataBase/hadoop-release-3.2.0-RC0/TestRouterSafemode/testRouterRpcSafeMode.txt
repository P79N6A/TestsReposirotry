@Test public void testRouterRpcSafeMode() throws IllegalStateException, IOException {
  assertTrue(router.getSafemodeService().isInSafeMode());
  verifyRouter(RouterServiceState.SAFEMODE);
  boolean exception=false;
  try {
    router.getRpcServer().delete("/testfile.txt",true);
    fail("We should have thrown a safe mode exception");
  }
 catch (  StandbyException sme) {
    exception=true;
  }
  assertTrue("We should have thrown a safe mode exception",exception);
}
