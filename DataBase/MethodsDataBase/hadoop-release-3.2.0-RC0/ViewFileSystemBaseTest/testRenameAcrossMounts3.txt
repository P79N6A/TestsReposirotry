@Test public void testRenameAcrossMounts3() throws IOException {
  Configuration conf2=new Configuration(conf);
  conf2.set(Constants.CONFIG_VIEWFS_RENAME_STRATEGY,ViewFileSystem.RenameStrategy.SAME_TARGET_URI_ACROSS_MOUNTPOINT.toString());
  FileSystem fsView2=FileSystem.newInstance(FsConstants.VIEWFS_URI,conf2);
  fileSystemTestHelper.createFile(fsView2,"/user/foo");
  fsView2.rename(new Path("/user/foo"),new Path("/user2/fooBarBar"));
  ContractTestUtils.assertPathDoesNotExist(fsView2,"src should not exist after rename",new Path("/user/foo"));
  ContractTestUtils.assertPathDoesNotExist(fsTarget,"src should not exist after rename",new Path(targetTestRoot,"user/foo"));
  ContractTestUtils.assertIsFile(fsView2,fileSystemTestHelper.getTestRootPath(fsView2,"/user2/fooBarBar"));
  ContractTestUtils.assertIsFile(fsTarget,new Path(targetTestRoot,"user/fooBarBar"));
}
