@Test public void testThreadName() throws Exception {
  Assert.assertFalse("Renewer not initially running",renewer.isRunning());
  renewer.put(MOCK_DFSCLIENT);
  Assert.assertTrue("Renewer should have started running",renewer.isRunning());
  String threadName=renewer.getDaemonName();
  Assert.assertEquals("LeaseRenewer:myuser@hdfs://nn1/",threadName);
  renewer.closeClient(MOCK_DFSCLIENT);
  renewer.setEmptyTime(Time.monotonicNow());
  long failTime=Time.monotonicNow() + 5000;
  while (renewer.isRunning() && Time.monotonicNow() < failTime) {
    Thread.sleep(50);
  }
  Assert.assertFalse(renewer.isRunning());
}
