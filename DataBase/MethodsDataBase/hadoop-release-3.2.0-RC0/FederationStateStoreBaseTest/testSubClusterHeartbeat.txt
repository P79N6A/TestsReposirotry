@Test public void testSubClusterHeartbeat() throws Exception {
  SubClusterId subClusterId=SubClusterId.newInstance("SC");
  registerSubCluster(createSubClusterInfo(subClusterId));
  long previousHeartBeat=querySubClusterInfo(subClusterId).getLastHeartBeat();
  SubClusterHeartbeatRequest heartbeatRequest=SubClusterHeartbeatRequest.newInstance(subClusterId,SubClusterState.SC_RUNNING,"capability");
  stateStore.subClusterHeartbeat(heartbeatRequest);
  long currentTimeStamp=Calendar.getInstance(TimeZone.getTimeZone("UTC")).getTimeInMillis();
  Assert.assertEquals(SubClusterState.SC_RUNNING,querySubClusterInfo(subClusterId).getState());
  Assert.assertTrue(querySubClusterInfo(subClusterId).getLastHeartBeat() <= currentTimeStamp);
  Assert.assertTrue(querySubClusterInfo(subClusterId).getLastHeartBeat() >= previousHeartBeat);
}
