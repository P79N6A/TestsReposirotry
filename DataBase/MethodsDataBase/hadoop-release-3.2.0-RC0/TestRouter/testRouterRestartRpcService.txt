@Test public void testRouterRestartRpcService() throws IOException {
  Router router=new Router();
  router.init(new RouterConfigBuilder(conf).rpc().build());
  router.start();
  assertNotNull(router.getRpcServerAddress());
  RouterRpcServer rpcServer=router.getRpcServer();
  assertNotNull(rpcServer);
  assertEquals(STATE.STARTED,rpcServer.getServiceState());
  router.stop();
  assertEquals(STATE.STOPPED,rpcServer.getServiceState());
  router.close();
}
