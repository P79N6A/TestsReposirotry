@Test(timeout=60000) public void testListECFilesSmallerThanOneCell() throws Exception {
  createFile("/ec/smallcell",1);
  final List<LocatedFileStatus> retVal=new ArrayList<>();
  final RemoteIterator<LocatedFileStatus> iter=cluster.getFileSystem().listFiles(new Path("/ec"),true);
  while (iter.hasNext()) {
    retVal.add(iter.next());
  }
  assertTrue(retVal.size() == 1);
  LocatedFileStatus fileStatus=retVal.get(0);
  assertSmallerThanOneCell(fileStatus.getBlockLocations());
  BlockLocation[] locations=cluster.getFileSystem().getFileBlockLocations(fileStatus,0,fileStatus.getLen());
  assertSmallerThanOneCell(locations);
  fileStatus=fileContext.listLocatedStatus(new Path("/ec")).next();
  assertSmallerThanOneCell(fileStatus.getBlockLocations());
  locations=fileContext.getFileBlockLocations(new Path("/ec/smallcell"),0,fileStatus.getLen());
  assertSmallerThanOneCell(locations);
}
