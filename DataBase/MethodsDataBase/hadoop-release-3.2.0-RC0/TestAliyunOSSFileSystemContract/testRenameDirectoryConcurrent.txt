@Test public void testRenameDirectoryConcurrent() throws Exception {
  assumeTrue(renameSupported());
  Path src=this.path("/test/hadoop/file/");
  Path child1=this.path("/test/hadoop/file/1");
  Path child2=this.path("/test/hadoop/file/2");
  Path child3=this.path("/test/hadoop/file/3");
  Path child4=this.path("/test/hadoop/file/4");
  this.createFile(child1);
  this.createFile(child2);
  this.createFile(child3);
  this.createFile(child4);
  Path dst=this.path("/test/new");
  super.rename(src,dst,true,false,true);
  assertEquals(4,this.fs.listStatus(dst).length);
}
