@Test(timeout=300000) public void testWhenStoragePolicySetToALLSSD() throws Exception {
  try {
    createCluster();
    dfs.setStoragePolicy(new Path(FILE),"ALL_SSD");
    StorageType[][] newtypes=new StorageType[][]{{StorageType.SSD,StorageType.DISK},{StorageType.SSD,StorageType.DISK},{StorageType.SSD,StorageType.DISK}};
    startAdditionalDNs(config,3,NUM_OF_DATANODES,newtypes,STORAGES_PER_DATANODE,CAPACITY,hdfsCluster);
    dfs.satisfyStoragePolicy(new Path(FILE));
    hdfsCluster.triggerHeartbeats();
    DFSTestUtil.waitExpectedStorageType(FILE,StorageType.SSD,3,30000,dfs);
  }
  finally {
    shutdownCluster();
  }
}
