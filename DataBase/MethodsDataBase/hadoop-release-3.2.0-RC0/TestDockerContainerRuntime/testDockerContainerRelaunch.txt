@Test public void testDockerContainerRelaunch() throws ContainerExecutionException, PrivilegedOperationException, IOException {
  DockerLinuxContainerRuntime runtime=new DockerLinuxContainerRuntime(mockExecutor,mockCGroupsHandler);
  when(mockExecutor.executePrivilegedOperation(anyList(),any(PrivilegedOperation.class),any(File.class),anyMap(),anyBoolean(),anyBoolean())).thenReturn(DockerCommandExecutor.DockerContainerStatus.STOPPED.getName());
  runtime.initialize(conf,nmContext);
  runtime.relaunchContainer(builder.build());
  PrivilegedOperation op=capturePrivilegedOperation(2);
  List<String> args=op.getArguments();
  String dockerCommandFile=args.get(11);
  List<String> dockerCommands=Files.readAllLines(Paths.get(dockerCommandFile),Charset.forName("UTF-8"));
  int expected=3;
  int counter=0;
  Assert.assertEquals(expected,dockerCommands.size());
  Assert.assertEquals("[docker-command-execution]",dockerCommands.get(counter++));
  Assert.assertEquals("  docker-command=start",dockerCommands.get(counter++));
  Assert.assertEquals("  name=container_e11_1518975676334_14532816_01_000001",dockerCommands.get(counter));
}
