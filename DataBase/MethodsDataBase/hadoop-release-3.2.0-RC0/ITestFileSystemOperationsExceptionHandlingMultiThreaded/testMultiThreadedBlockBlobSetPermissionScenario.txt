/** 
 * Tests basic multi threaded setPermission scenario.
 */
@Test(expected=FileNotFoundException.class) public void testMultiThreadedBlockBlobSetPermissionScenario() throws Throwable {
  createEmptyFile(createTestAccount(),testPath);
  Thread t=new Thread(new DeleteThread(fs,testPath));
  t.start();
  while (t.isAlive()) {
    fs.setPermission(testPath,new FsPermission(FsAction.EXECUTE,FsAction.READ,FsAction.READ));
  }
  fs.setPermission(testPath,new FsPermission(FsAction.EXECUTE,FsAction.READ,FsAction.READ));
}
