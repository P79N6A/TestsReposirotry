@Test(timeout=180000) public void testNMClientNoCleanupOnStop() throws YarnException, IOException {
  rmClient.registerApplicationMaster("Host",10000,"");
  testContainerManagement(nmClient,allocateContainers(rmClient,5));
  rmClient.unregisterApplicationMaster(FinalApplicationStatus.SUCCEEDED,null,null);
  stopNmClient(false);
  assertFalse(nmClient.startedContainers.isEmpty());
  nmClient.cleanupRunningContainers();
  assertEquals(0,nmClient.startedContainers.size());
}
