@Test public void testCountSuiteFiltering() throws Exception {
  Class<ExampleSuite> suiteClazz=ExampleSuite.class;
  Class<ExampleTest> clazz=ExampleTest.class;
  JUnitCore junitCore=new JUnitCore();
  Request request=Request.aClass(suiteClazz);
  CountingFilter countingFilter=new CountingFilter();
  Request requestFiltered=request.filterWith(countingFilter);
  Result result=junitCore.run(requestFiltered);
  assertEquals(1,result.getRunCount());
  assertEquals(0,result.getFailureCount());
  Description suiteDesc=createSuiteDescription(clazz);
  assertEquals(1,countingFilter.getCount(suiteDesc));
  Description desc=createTestDescription(ExampleTest.class,"test1");
  assertEquals(1,countingFilter.getCount(desc));
}
