@Test public void failedAssumptionsCanBeDetectedByListeners(){
  assumptionFailures=0;
  JUnitCore core=new JUnitCore();
  core.addListener(new RunListener(){
    @Override public void testAssumptionFailure(    Failure failure){
      assumptionFailures++;
    }
  }
);
  core.run(HasFailingAssumption.class);
  assertThat(assumptionFailures,is(1));
}
