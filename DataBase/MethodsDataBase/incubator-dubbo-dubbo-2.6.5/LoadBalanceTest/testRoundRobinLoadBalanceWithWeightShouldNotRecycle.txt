@Test public void testRoundRobinLoadBalanceWithWeightShouldNotRecycle(){
  int runs=10000;
  weightInvokers.add(weightInvokerTmp);
  try {
    Map<Invoker,InvokeResult> resultMap=getWeightedInvokeResult(runs,RoundRobinLoadBalance.NAME);
    assertStrictWRRResult(runs,resultMap);
    RoundRobinLoadBalance lb=(RoundRobinLoadBalance)getLoadBalance(RoundRobinLoadBalance.NAME);
    Assert.assertEquals(weightInvokers.size(),lb.getInvokerAddrList(weightInvokers,weightTestInvocation).size());
    weightInvokers.remove(weightInvokerTmp);
    resultMap=getWeightedInvokeResult(runs,RoundRobinLoadBalance.NAME);
    assertStrictWRRResult(runs,resultMap);
    Assert.assertNotEquals(weightInvokers.size(),lb.getInvokerAddrList(weightInvokers,weightTestInvocation).size());
  }
  finally {
    weightInvokers.remove(weightInvokerTmp);
  }
}
