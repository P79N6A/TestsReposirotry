@Test public void test_returnSerializationFail() throws Exception {
  ClassPathXmlApplicationContext providerContext=new ClassPathXmlApplicationContext(ConfigTest.class.getPackage().getName().replace('.','/') + "/demo-provider-UnserializableBox.xml");
  providerContext.start();
  try {
    ClassPathXmlApplicationContext ctx=new ClassPathXmlApplicationContext(ConfigTest.class.getPackage().getName().replace('.','/') + "/init-reference.xml");
    ctx.start();
    try {
      DemoService demoService=(DemoService)ctx.getBean("demoService");
      try {
        demoService.getBox();
        fail();
      }
 catch (      RpcException expected) {
        assertThat(expected.getMessage(),containsString("must implement java.io.Serializable"));
      }
    }
  finally {
      ctx.stop();
      ctx.close();
    }
  }
  finally {
    providerContext.stop();
    providerContext.close();
  }
}
