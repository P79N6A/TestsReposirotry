@Test public void testSystemPropertyOverrideApi() throws Exception {
  System.setProperty("dubbo.application.name","sysover");
  System.setProperty("dubbo.application.owner","sysowner");
  System.setProperty("dubbo.registry.address","N/A");
  System.setProperty("dubbo.protocol.name","dubbo");
  System.setProperty("dubbo.protocol.port","20834");
  try {
    ApplicationConfig application=new ApplicationConfig();
    application.setName("aaa");
    RegistryConfig registry=new RegistryConfig();
    registry.setAddress("127.0.0.1");
    ProtocolConfig protocol=new ProtocolConfig();
    protocol.setName("rmi");
    protocol.setPort(1099);
    ServiceConfig<DemoService> service=new ServiceConfig<DemoService>();
    service.setInterface(DemoService.class);
    service.setRef(new DemoServiceImpl());
    service.setApplication(application);
    service.setRegistry(registry);
    service.setProtocol(protocol);
    service.export();
    try {
      URL url=service.toUrls().get(0);
      assertEquals("sysover",url.getParameter("application"));
      assertEquals("sysowner",url.getParameter("owner"));
      assertEquals("dubbo",url.getProtocol());
      assertEquals(20834,url.getPort());
    }
  finally {
      service.unexport();
    }
  }
  finally {
    System.setProperty("dubbo.application.name","");
    System.setProperty("dubbo.application.owner","");
    System.setProperty("dubbo.registry.address","");
    System.setProperty("dubbo.protocol.name","");
    System.setProperty("dubbo.protocol.port","");
  }
}
