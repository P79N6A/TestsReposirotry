@Test @SuppressWarnings("unchecked") public void testProviderNestedService(){
  ClassPathXmlApplicationContext ctx=new ClassPathXmlApplicationContext(ConfigTest.class.getPackage().getName().replace('.','/') + "/provider-nested-service.xml");
  ctx.start();
  try {
    ServiceConfig<DemoService> serviceConfig=(ServiceConfig<DemoService>)ctx.getBean("serviceConfig");
    assertNotNull(serviceConfig.getProvider());
    assertEquals(2000,serviceConfig.getProvider().getTimeout().intValue());
    ServiceConfig<DemoService> serviceConfig2=(ServiceConfig<DemoService>)ctx.getBean("serviceConfig2");
    assertNotNull(serviceConfig2.getProvider());
    assertEquals(1000,serviceConfig2.getProvider().getTimeout().intValue());
  }
  finally {
    ctx.stop();
    ctx.close();
  }
}
