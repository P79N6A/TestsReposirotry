@Test public void test_RpcContext_getUrls() throws Exception {
  ClassPathXmlApplicationContext providerContext=new ClassPathXmlApplicationContext(ConfigTest.class.getPackage().getName().replace('.','/') + "/demo-provider-long-waiting.xml");
  providerContext.start();
  try {
    ClassPathXmlApplicationContext ctx=new ClassPathXmlApplicationContext(ConfigTest.class.getPackage().getName().replace('.','/') + "/init-reference-getUrls.xml");
    ctx.start();
    try {
      DemoService demoService=(DemoService)ctx.getBean("demoService");
      try {
        demoService.sayName("Haha");
        fail();
      }
 catch (      RpcException expected) {
        assertThat(expected.getMessage(),containsString("Tried 3 times"));
      }
      assertEquals(3,RpcContext.getContext().getUrls().size());
    }
  finally {
      ctx.stop();
      ctx.close();
    }
  }
  finally {
    providerContext.stop();
    providerContext.close();
  }
}
