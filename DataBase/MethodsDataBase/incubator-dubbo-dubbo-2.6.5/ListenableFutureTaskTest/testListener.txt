@Test public void testListener() throws InterruptedException {
  ListenableFutureTask<String> futureTask=ListenableFutureTask.create(new Callable<String>(){
    @Override public String call() throws Exception {
      Thread.sleep(500);
      return "hello";
    }
  }
);
  final CountDownLatch countDownLatch=new CountDownLatch(1);
  futureTask.addListener(new Runnable(){
    @Override public void run(){
      countDownLatch.countDown();
    }
  }
);
  futureTask.run();
  countDownLatch.await();
}
