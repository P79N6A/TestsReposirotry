@Test(expected=ValidationException.class) public void parallelState_WithChoiceThatHasNoTerminalPath_IsNotValid(){
  assertDoesNotHaveTerminalPath(stateMachine().startAt("Parallel").state("Parallel",parallelState().transition(end()).branch(branch().startAt("Initial").state("Initial",passState().transition(next("Choice"))).state("Choice",choiceState().defaultStateName("Default").choice(choice().transition(next("Initial")).condition(eq("$.foo","bar"))).choice(choice().transition(next("Default")).condition(eq("$.foo","bar")))).state("Default",passState().transition(next("Choice"))))));
}
