/** 
 * Test mappings.
 */
@Test public void testFlattenedMultipleSameType(){
  final Object obj=new AutoKeyAndVal<Currency>(){
    private Currency other;
    @DynamoDBFlattened(attributes={@DynamoDBAttribute(mappedBy="amount",attributeName="firstAmount"),@DynamoDBAttribute(mappedBy="unit",attributeName="firstUnit")}) public Currency getVal(){
      return super.getVal();
    }
    public void setVal(    final Currency val){
      super.setVal(val);
    }
    @DynamoDBFlattened(attributes={@DynamoDBAttribute(mappedBy="amount",attributeName="secondAmount"),@DynamoDBAttribute(mappedBy="unit",attributeName="secondUnit")}) public Currency getOther(){
      return this.other;
    }
    public void setOther(    final Currency other){
      this.other=other;
    }
  }
;
  final DynamoDBMapperTableModel<Object> model=getTable(obj);
  assertEquals(5,model.fields().size());
  assertEquals("firstAmount",model.field("firstAmount").name());
  assertEquals("firstUnit",model.field("firstUnit").name());
  assertEquals("secondAmount",model.field("secondAmount").name());
  assertEquals("secondUnit",model.field("secondUnit").name());
}
