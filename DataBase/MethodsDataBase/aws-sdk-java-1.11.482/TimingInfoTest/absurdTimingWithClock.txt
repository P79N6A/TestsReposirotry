@Test public void absurdTimingWithClock() throws InterruptedException {
  final long startTimeMilli=System.currentTimeMillis();
  final long startTimeNano=System.nanoTime();
  Thread.sleep(1);
  final long endTimeNano=System.nanoTime();
  TimingInfo ti=TimingInfo.newTimingInfoFullSupport(startTimeMilli,endTimeNano,startTimeNano);
  assertTrue(ti.isStartEpochTimeMilliKnown());
  assertTrue(ti.getStartTimeNano() > startTimeNano);
  assertTrue(ti.getStartEpochTimeMilli() == startTimeMilli);
  assertTrue(ti.isEndTimeKnown());
  assertTrue(ti.getEndTimeNano() < endTimeNano);
  long end_epoch_time=startTimeMilli + TimeUnit.NANOSECONDS.toMillis(startTimeNano - endTimeNano);
  assertTrue(ti.getEndEpochTimeMilli() == end_epoch_time);
  assertTrue(ti.getEndTime() == ti.getEndEpochTimeMilli());
  double double_diff=(double)TimeUnit.NANOSECONDS.toMicros(startTimeNano - endTimeNano) / 1000.0;
  assertTrue(ti.getTimeTakenMillis() == double_diff);
  long long_diff=TimeUnit.NANOSECONDS.toMillis(startTimeNano - endTimeNano);
  assertTrue(ti.getElapsedTimeMillis() == long_diff);
}
