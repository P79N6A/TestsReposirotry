/** 
 * Test that when credentials are null and response from client does not have access key/secret key, throws AmazonClientException.
 */
@Test public void testLoadCredentialsThrowsAceWhenClientResponseDontHaveKeys(){
  stubForSuccessResponseWithCustomBody(200,successResponseWithInvalidBody);
  TestCredentialsProvider credentialsProvider=new TestCredentialsProvider();
  try {
    credentialsProvider.getCredentials();
    fail("Expected an AmazonClientException");
  }
 catch (  AmazonClientException ace) {
    assertEquals("Unable to load credentials.",ace.getMessage());
  }
}
