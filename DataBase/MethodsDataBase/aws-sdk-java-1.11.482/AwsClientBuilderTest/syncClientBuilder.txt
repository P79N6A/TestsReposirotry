/** 
 * The sync client is tested less thoroughly then the async client primarily because the async client exercises most of the same code paths so a bug introduced in the sync client builder should be exposed via tests written against the async builder. This test is mainly for additional coverage of the sync builder in case there is a regression specific to sync builders.
 */
@Test public void syncClientBuilder(){
  final List<RequestHandler2> requestHandlers=createRequestHandlerList(new ConcreteRequestHandler(),new ConcreteRequestHandler());
  final AWSCredentialsProvider credentials=mock(AWSCredentialsProvider.class);
  final RequestMetricCollector metrics=mock(RequestMetricCollector.class);
  AmazonConcreteClient client=new ConcreteSyncBuilder().withRegion(Regions.EU_CENTRAL_1).withClientConfiguration(new ClientConfiguration().withSocketTimeout(1234)).withCredentials(credentials).withMetricsCollector(metrics).withRequestHandlers(requestHandlers.toArray(new RequestHandler2[requestHandlers.size()])).build();
  assertEquals(URI.create("https://mockprefix.eu-central-1.amazonaws.com"),client.getEndpoint());
  assertEquals(1234,client.getSyncParams().getClientConfiguration().getSocketTimeout());
  assertEquals(requestHandlers,client.getSyncParams().getRequestHandlers());
  assertEquals(credentials,client.getSyncParams().getCredentialsProvider());
  assertEquals(metrics,client.getSyncParams().getRequestMetricCollector());
}
