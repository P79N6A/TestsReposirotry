/** 
 * Customers may not need to explicitly configure a builder with a region if one can be found from the  {@link AwsRegionProvider} implementation. We mock the provider to yield consistentresults for the tests.
 */
@Test public void regionImplicitlyProvided_UsesRegionToConstructEndpoint(){
  AwsRegionProvider mockRegionProvider=mock(AwsRegionProvider.class);
  when(mockRegionProvider.getRegion()).thenReturn("ap-southeast-2");
  final URI actualUri=new ConcreteAsyncBuilder(mockRegionProvider).build().getEndpoint();
  assertEquals(URI.create("https://mockprefix.ap-southeast-2.amazonaws.com"),actualUri);
}
