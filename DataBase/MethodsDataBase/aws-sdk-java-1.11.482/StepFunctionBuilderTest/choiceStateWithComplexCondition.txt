@Test public void choiceStateWithComplexCondition(){
  final StateMachine stateMachine=stateMachine().startAt("InitialState").state("InitialState",choiceState().defaultStateName("DefaultState").choice(choice().transition(next("NextState")).condition(and(gte("$.var","value"),lte("$.other-var","foo"),or(lt("$.numeric",9000.1),not(gte("$.numeric",42))))))).state("NextState",succeedState()).state("DefaultState",succeedState()).build();
  assertStateMachineMatches("ChoiceStateWithComplexCondition.json",stateMachine);
}
