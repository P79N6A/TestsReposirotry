@Test public void testCodecConsistency() throws NoSuchAlgorithmException, UnsupportedEncodingException {
  byte[] decoded=null;
  for (int h=0; h < 1000; h++) {
    byte[] digest=MessageDigest.getInstance("SHA-1").digest(UUID.randomUUID().toString().getBytes("UTF-8"));
    String b64Encoded=Base64.encodeAsString(digest);
    decoded=Base64.decode(b64Encoded);
    Assert.assertTrue(Arrays.equals(decoded,digest));
  }
}
