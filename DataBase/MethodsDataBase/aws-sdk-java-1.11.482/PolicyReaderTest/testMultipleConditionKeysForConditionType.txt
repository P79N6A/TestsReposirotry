@Test public void testMultipleConditionKeysForConditionType() throws Exception {
  Policy policy=new Policy();
  policy.withStatements(new Statement(Effect.Allow).withResources(new Resource("arn:aws:sqs:us-east-1:987654321000:MyQueue")).withPrincipals(Principal.AllUsers).withActions(new TestAction("foo")).withConditions(new StringCondition(StringComparisonType.StringNotLike,"key1","foo"),new StringCondition(StringComparisonType.StringNotLike,"key1","bar")));
  policy=Policy.fromJson(policy.toJson());
  assertEquals(1,policy.getStatements().size());
  List<Statement> statements=new LinkedList<Statement>(policy.getStatements());
  assertEquals(Effect.Allow,statements.get(0).getEffect());
  assertEquals(1,statements.get(0).getActions().size());
  assertEquals("foo",statements.get(0).getActions().get(0).getActionName());
  assertEquals(1,statements.get(0).getConditions().size());
  assertEquals("StringNotLike",statements.get(0).getConditions().get(0).getType());
  assertEquals("key1",statements.get(0).getConditions().get(0).getConditionKey());
  assertEquals(2,statements.get(0).getConditions().get(0).getValues().size());
  assertEquals("foo",statements.get(0).getConditions().get(0).getValues().get(0));
  assertEquals("bar",statements.get(0).getConditions().get(0).getValues().get(1));
}
