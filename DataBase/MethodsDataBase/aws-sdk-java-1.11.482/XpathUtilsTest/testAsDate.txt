/** 
 * Tests that we can correctly parse out a Date from an XML document.
 */
@Test public void testAsDate() throws Exception {
  Calendar expectedDate=new GregorianCalendar();
  expectedDate.set(Calendar.YEAR,2008);
  expectedDate.set(Calendar.MONTH,Calendar.OCTOBER);
  expectedDate.set(Calendar.DAY_OF_MONTH,7);
  expectedDate.set(Calendar.AM_PM,Calendar.AM);
  expectedDate.set(Calendar.HOUR,11);
  expectedDate.set(Calendar.MINUTE,51);
  expectedDate.set(Calendar.SECOND,50);
  expectedDate.set(Calendar.MILLISECOND,0);
  expectedDate.setTimeZone(new SimpleTimeZone(0,"UTC"));
  Document document=documentFrom(DOCUMENT);
  XPath xpath=xpath();
  Date date=XpathUtils.asDate("Foo/Since",document,xpath);
  assertNotNull(date);
  assertEquals(expectedDate.getTimeInMillis(),date.getTime());
  assertEquals(null,asDate("Foo/Empty",document,xpath));
}
