@Test public void testExceptionThrown_NoRetry(){
  RuntimeException exception=new RuntimeException("BOOM");
  expectedBatchWriteItemThrowException(exception);
  replay(ddbMock);
  Item item=new Item(UUID.randomUUID().toString());
  List<FailedBatch> failedBatches=mapper.batchSave(item);
  verify(ddbMock);
  Assert.assertEquals(1,failedBatches.size());
  FailedBatch failedBatch=failedBatches.get(0);
  Assert.assertEquals("Failed batch should contain all the input items for batchWrite",Collections.singletonMap(TABLE_NAME,Arrays.asList(item.toPutSaveRequest())),failedBatch.getUnprocessedItems());
  Assert.assertSame("The exception should be the same as one thrown by BatchWriteItem",exception,failedBatch.getException());
}
