@Test public void testSetEndpointByRegion(){
  InMemoryRegionImpl regionImpl=new InMemoryRegionImpl("region","example.com");
  regionImpl.addEndpoint("service","service-region.example.com");
  Region region=new Region(regionImpl);
  AmazonServiceClient service=new AmazonServiceClient();
  service.setRegion(region);
  Assert.assertEquals("https://service-region.example.com",service.getEndpoint());
  AmazonUnknownServiceClient unknown=new AmazonUnknownServiceClient();
  unknown.setRegion(region);
  Assert.assertEquals("https://unknownservice.region.example.com",unknown.getEndpoint());
}
