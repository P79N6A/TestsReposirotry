@Test public void maxIdle_HonoredOnClose() throws InterruptedException {
  HttpClientConnectionManager connectionManager=mock(HttpClientConnectionManager.class);
  final long idleTime=10 * 1000;
  IdleConnectionReaper.registerConnectionManager(connectionManager,idleTime);
  verify(connectionManager,timeout(90 * 1000)).closeIdleConnections(eq(idleTime),eq(TimeUnit.MILLISECONDS));
}
