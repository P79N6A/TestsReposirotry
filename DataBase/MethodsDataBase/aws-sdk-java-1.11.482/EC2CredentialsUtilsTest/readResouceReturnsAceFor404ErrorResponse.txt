/** 
 * When server returns with 404 status code, the test should throw AmazonClientException.
 */
@Test public void readResouceReturnsAceFor404ErrorResponse() throws Exception {
  try {
    ec2CredentialsUtils.readResource(new URI("http://localhost:" + mockServer.port() + "/dummyPath"));
    fail("Expected AmazonClientException");
  }
 catch (  AmazonClientException ace) {
    assertTrue(ace.getMessage().contains("The requested metadata is not found at"));
  }
}
