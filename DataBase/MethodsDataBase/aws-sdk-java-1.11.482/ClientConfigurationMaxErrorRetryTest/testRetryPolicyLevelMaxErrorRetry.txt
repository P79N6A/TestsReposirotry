/** 
 * -- Explicitly set maxErrorRetry in ClientConfiguration level; -- Custom RetryPolicy's that want to override such setting.
 */
@Test public void testRetryPolicyLevelMaxErrorRetry(){
  clientConfiguration.setMaxErrorRetry(random.nextInt(3));
  int RETRY_POLICY_LEVEL_MAX_ERROR_RETRY=5;
  clientConfiguration.setRetryPolicy(new RetryPolicy(null,null,RETRY_POLICY_LEVEL_MAX_ERROR_RETRY,false));
  testActualRetries(RETRY_POLICY_LEVEL_MAX_ERROR_RETRY);
  clientConfiguration.setRetryPolicy(new RetryPolicy(new RetryPolicy.RetryCondition(){
    @Override public boolean shouldRetry(    AmazonWebServiceRequest originalRequest,    AmazonClientException exception,    int retriesAttempted){
      return false;
    }
  }
,null,RETRY_POLICY_LEVEL_MAX_ERROR_RETRY,true));
  testActualRetries(0);
}
