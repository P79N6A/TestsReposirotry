/** 
 * Test when the edge case when the both supported and enabled protocols are null.
 */
@Test public void preparedSocket_NullProtocols() throws NoSuchAlgorithmException {
  SdkTLSSocketFactory f=new SdkTLSSocketFactory(SSLContext.getDefault(),null);
  TestSSLSocket socket=new TestSSLSocket(){
    @Override public String[] getSupportedProtocols(){
      return null;
    }
    @Override public String[] getEnabledProtocols(){
      return null;
    }
  }
;
  f.prepareSocket(socket);
  assertFalse(socket.wereProtocolsEnabled());
}
