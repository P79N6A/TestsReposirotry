@Test(timeout=60 * 1000) public void testSslHandshakeTimeout(){
  AmazonHttpClient httpClient=new AmazonHttpClient(new ClientConfiguration().withSocketTimeout(CLIENT_SOCKET_TO).withMaxErrorRetry(0));
  System.out.println("Sending request to localhost...");
  try {
    httpClient.requestExecutionBuilder().request(new EmptyHttpRequest(server.getHttpsEndpoint(),HttpMethodName.GET)).execute();
    fail("Client-side socket read timeout is expected!");
  }
 catch (  AmazonClientException e) {
    Assert.assertTrue(e.getCause() instanceof ConnectTimeoutException);
    ConnectTimeoutException cte=(ConnectTimeoutException)e.getCause();
    Assert.assertThat(cte.getMessage(),org.hamcrest.Matchers.containsString("Read timed out"));
  }
}
