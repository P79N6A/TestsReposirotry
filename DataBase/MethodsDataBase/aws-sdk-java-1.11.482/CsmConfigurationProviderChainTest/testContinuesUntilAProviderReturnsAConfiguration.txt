@Test public void testContinuesUntilAProviderReturnsAConfiguration(){
  CsmConfigurationProvider provider1=mock(CsmConfigurationProvider.class);
  CsmConfigurationProvider provider2=mock(CsmConfigurationProvider.class);
  CsmConfigurationProvider provider3=mock(CsmConfigurationProvider.class);
  CsmConfiguration cfg=new CsmConfiguration(true,1234,"foo");
  when(provider1.getConfiguration()).thenThrow(new SdkClientException(""));
  when(provider2.getConfiguration()).thenThrow(new SdkClientException(""));
  when(provider3.getConfiguration()).thenReturn(cfg);
  CsmConfigurationProviderChain chain=new CsmConfigurationProviderChain(provider1,provider2,provider3);
  assertEquals(cfg,chain.getConfiguration());
}
