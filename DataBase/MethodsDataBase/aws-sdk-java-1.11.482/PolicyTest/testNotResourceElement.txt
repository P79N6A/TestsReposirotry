/** 
 * Tests that a Statement including a Resource specified as a NotResource element is serialized to JSON with a "NotResource" attribute
 */
@Test public void testNotResourceElement(){
  Policy policy=new Policy("S3PolicyId1").withStatements(new Statement(Effect.Allow).withId("0").withPrincipals(Principal.AllUsers).withActions(new TestAction("action1")).withResources(new Resource("any-resource").withIsNotType(true)));
  JsonNode jsonPolicyNode=Jackson.jsonNodeOf(policy.toJson());
  JsonNode statementArray=jsonPolicyNode.get("Statement");
  assertTrue(statementArray.size() == 1);
  JsonNode statement=statementArray.get(0);
  assertTrue(statement.has("NotResource"));
}
