/** 
 * Tests that a policy correctly assigns unique statement IDs to any added statements without IDs yet.
 */
@Test public void testStatementIdAssignment() throws Exception {
  Policy policy=new Policy("S3PolicyId1");
  policy.withStatements(new Statement(Effect.Allow).withId("0").withPrincipals(Principal.AllUsers).withActions(new TestAction("action1")),new Statement(Effect.Allow).withId("1").withPrincipals(Principal.AllUsers).withActions(new TestAction("action1")),new Statement(Effect.Deny).withPrincipals(Principal.AllUsers).withActions(new TestAction("action2")));
  assertValidStatementIds(policy);
}
