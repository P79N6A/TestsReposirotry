@Test public void testDelegatingDnsResolverCallsResolveOnDelegate() throws Exception {
  final AtomicInteger timesCalled=new AtomicInteger();
  DnsResolver delegate=new DnsResolver(){
    @Override public InetAddress[] resolve(    String host) throws UnknownHostException {
      timesCalled.incrementAndGet();
      return new InetAddress[0];
    }
  }
;
  org.apache.http.conn.DnsResolver resolver=new DelegatingDnsResolver(delegate);
  resolver.resolve("localhost");
  assertEquals("Delegate Resolver should have been executed",1,timesCalled.get());
}
