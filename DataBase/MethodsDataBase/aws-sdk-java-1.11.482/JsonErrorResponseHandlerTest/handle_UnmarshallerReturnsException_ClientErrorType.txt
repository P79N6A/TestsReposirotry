@Test public void handle_UnmarshallerReturnsException_ClientErrorType() throws Exception {
  httpResponse.setStatusCode(400);
  expectUnmarshallerMatches();
  when(unmarshaller.unmarshall((JsonNode)anyObject())).thenReturn(new CustomException("error"));
  AmazonServiceException ase=responseHandler.handle(httpResponse);
  assertEquals(ERROR_CODE,ase.getErrorCode());
  assertEquals(400,ase.getStatusCode());
  assertEquals(SERVICE_NAME,ase.getServiceName());
  assertEquals(ErrorType.Client,ase.getErrorType());
}
