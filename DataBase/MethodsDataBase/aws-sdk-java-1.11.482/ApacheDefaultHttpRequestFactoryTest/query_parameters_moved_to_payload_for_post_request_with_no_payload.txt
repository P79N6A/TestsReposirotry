@Test public void query_parameters_moved_to_payload_for_post_request_with_no_payload() throws IOException, URISyntaxException {
  final Request<Object> request=newDefaultRequest(HttpMethodName.POST);
  request.withParameter("foo","bar").withParameter("alpha","beta");
  HttpRequestBase requestBase=requestFactory.create(request,settings);
  Assert.assertThat(requestBase,Matchers.instanceOf(HttpPost.class));
  HttpPost post=(HttpPost)requestBase;
  HttpEntity entity=post.getEntity();
  byte[] actualContents=drainInputStream(entity.getContent());
  Assert.assertTrue(actualContents.length > 0);
}
