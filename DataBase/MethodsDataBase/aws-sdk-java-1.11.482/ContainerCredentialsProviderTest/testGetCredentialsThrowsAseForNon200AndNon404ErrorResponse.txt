/** 
 * Tests when the request to http endpoint returns a non-200 or non-404 response, then getCredentials method throws an AmazonServiceException.
 */
@Test public void testGetCredentialsThrowsAseForNon200AndNon404ErrorResponse(){
  stubForErrorResponse(401);
  try {
    containerCredentialsProvider.getCredentials();
    fail("The test should have thrown an exception");
  }
 catch (  AmazonServiceException exception) {
    assertEquals(401,exception.getStatusCode());
    assertNotNull(exception.getMessage());
  }
}
