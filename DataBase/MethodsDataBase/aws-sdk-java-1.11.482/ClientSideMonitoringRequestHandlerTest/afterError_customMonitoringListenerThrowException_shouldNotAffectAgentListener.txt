@Test public void afterError_customMonitoringListenerThrowException_shouldNotAffectAgentListener(){
  Request<?> request=getRequest();
  Response<?> response=getResponse(request);
  doThrow(new RuntimeException("Oops")).when(customMonitoringListener).handleEvent(any(ApiMonitoringEvent.class));
  requestHandler.afterError(request,response,new AmazonServiceException("test"));
  verify(agentMonitoringListener,times(1)).handleEvent(any(ApiMonitoringEvent.class));
  verify(customMonitoringListener,times(1)).handleEvent(any(ApiMonitoringEvent.class));
}
