@Test public void afterAttempt_overSizeClientId_shouldTrim(){
  Request<?> request=getRequest();
  request.setAWSRequestMetrics(getMetrics(1));
  requestHandler.afterAttempt(getContext(getResponse(request)));
  ArgumentCaptor<ApiCallAttemptMonitoringEvent> monitoringEventArgumentCaptor=ArgumentCaptor.forClass(ApiCallAttemptMonitoringEvent.class);
  verify(agentMonitoringListener,times(1)).handleEvent(monitoringEventArgumentCaptor.capture());
  ApiCallAttemptMonitoringEvent monitoringEvent=monitoringEventArgumentCaptor.getValue();
  assertThat(monitoringEvent.getClientId().length(),is(lessThanOrEqualTo(255)));
}
