@Test(expected=ValidationException.class) public void choiceStateWithInvalidDefaultState_IsNotValid(){
  stateMachine().startAt("Initial").state("Initial",choiceState().choice(choice().condition(eq("$.foo","bar")).transition(next("Terminal"))).defaultStateName("NoSuchState")).state("Terminal",succeedState()).build();
}
