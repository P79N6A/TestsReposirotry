@Test public void testCodecConsistency() throws NoSuchAlgorithmException, UnsupportedEncodingException {
  byte[] decoded=null;
  for (int h=0; h < 1000; h++) {
    byte[] digest=MessageDigest.getInstance("SHA-1").digest(UUID.randomUUID().toString().getBytes("UTF-8"));
    String b16Encoded=Base16Lower.encodeAsString(digest);
{
      decoded=Base16.decode(b16Encoded);
      Assert.assertTrue(Arrays.equals(decoded,digest));
      decoded=Base16Lower.decode(b16Encoded);
      Assert.assertTrue(Arrays.equals(decoded,digest));
    }
{
      decoded=Base16.decode(b16Encoded.toLowerCase());
      Assert.assertTrue(Arrays.equals(decoded,digest));
      decoded=Base16Lower.decode(b16Encoded.toLowerCase());
      Assert.assertTrue(Arrays.equals(decoded,digest));
    }
  }
}
