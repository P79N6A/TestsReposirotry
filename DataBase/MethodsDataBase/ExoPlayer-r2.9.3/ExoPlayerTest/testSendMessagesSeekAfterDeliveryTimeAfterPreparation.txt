@Test public void testSendMessagesSeekAfterDeliveryTimeAfterPreparation() throws Exception {
  Timeline timeline=new FakeTimeline(1);
  PositionGrabbingMessageTarget target=new PositionGrabbingMessageTarget();
  ActionSchedule actionSchedule=new ActionSchedule.Builder("testSendMessages").pause().sendMessage(target,50).waitForTimelineChanged(timeline).seek(51).play().build();
  new Builder().setTimeline(timeline).setActionSchedule(actionSchedule).build(context).start().blockUntilEnded(TIMEOUT_MS);
  assertThat(target.positionMs).isEqualTo(C.POSITION_UNSET);
}
