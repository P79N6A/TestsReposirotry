@Test public void testPeriodHoldersReleasedAfterSeekWithRepeatModeAll() throws Exception {
  FakeRenderer renderer=new FakeRenderer(Builder.VIDEO_FORMAT);
  ActionSchedule actionSchedule=new ActionSchedule.Builder("testPeriodHoldersReleased").setRepeatMode(Player.REPEAT_MODE_ALL).waitForPositionDiscontinuity().seek(0).waitForPositionDiscontinuity().setRepeatMode(Player.REPEAT_MODE_OFF).build();
  new Builder().setRenderers(renderer).setActionSchedule(actionSchedule).build(context).start().blockUntilEnded(TIMEOUT_MS);
  assertThat(renderer.isEnded).isTrue();
}
