/** 
 * Tests playback of a source that exposes an empty timeline. Playback is expected to end without error.
 */
@Test public void testPlayEmptyTimeline() throws Exception {
  Timeline timeline=Timeline.EMPTY;
  FakeRenderer renderer=new FakeRenderer();
  ExoPlayerTestRunner testRunner=new Builder().setTimeline(timeline).setRenderers(renderer).build(context).start().blockUntilEnded(TIMEOUT_MS);
  testRunner.assertNoPositionDiscontinuities();
  testRunner.assertTimelinesEqual(timeline);
  assertThat(renderer.formatReadCount).isEqualTo(0);
  assertThat(renderer.sampleBufferReadCount).isEqualTo(0);
  assertThat(renderer.isEnded).isFalse();
}
