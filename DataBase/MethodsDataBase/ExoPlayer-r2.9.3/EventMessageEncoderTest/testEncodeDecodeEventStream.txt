@Test public void testEncodeDecodeEventStream() throws IOException {
  EventMessage expectedEmsg=new EventMessage("urn:test","123",3000,1000403,new byte[]{0,1,2,3,4},1000000);
  byte[] encodedByteArray=new EventMessageEncoder().encode(expectedEmsg,48000);
  MetadataInputBuffer buffer=new MetadataInputBuffer();
  buffer.data=ByteBuffer.allocate(encodedByteArray.length).put(encodedByteArray);
  EventMessageDecoder decoder=new EventMessageDecoder();
  Metadata metadata=decoder.decode(buffer);
  assertThat(metadata.length()).isEqualTo(1);
  assertThat(metadata.get(0)).isEqualTo(expectedEmsg);
}
