@Test public void testEmptyTimeline() throws Exception {
  FakeMediaSource mediaSource=new FakeMediaSource(Timeline.EMPTY,null,Builder.VIDEO_FORMAT,Builder.AUDIO_FORMAT);
  TestAnalyticsListener listener=runAnalyticsTest(mediaSource);
  assertThat(listener.getEvents(EVENT_PLAYER_STATE_CHANGED)).containsExactly(WINDOW_0,WINDOW_0,WINDOW_0);
  assertThat(listener.getEvents(EVENT_TIMELINE_CHANGED)).containsExactly(WINDOW_0);
  listener.assertNoMoreEvents();
}
