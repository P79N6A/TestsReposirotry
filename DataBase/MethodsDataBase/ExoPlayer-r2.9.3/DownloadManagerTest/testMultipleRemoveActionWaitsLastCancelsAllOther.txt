@Test public void testMultipleRemoveActionWaitsLastCancelsAllOther() throws Throwable {
  FakeDownloadAction removeAction1=createRemoveAction(uri1).ignoreInterrupts();
  FakeDownloadAction removeAction2=createRemoveAction(uri1);
  FakeDownloadAction removeAction3=createRemoveAction(uri1);
  removeAction1.post().assertStarted();
  removeAction2.post().assertDoesNotStart();
  removeAction3.post().assertDoesNotStart();
  removeAction2.assertCanceled();
  removeAction1.unblock().assertCanceled();
  removeAction3.assertStarted().unblock().assertCompleted();
  downloadManagerListener.blockUntilTasksCompleteAndThrowAnyDownloadError();
}
