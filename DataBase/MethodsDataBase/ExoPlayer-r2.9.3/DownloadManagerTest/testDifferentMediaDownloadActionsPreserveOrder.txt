@Test public void testDifferentMediaDownloadActionsPreserveOrder() throws Throwable {
  FakeDownloadAction removeAction=createRemoveAction(uri1).ignoreInterrupts();
  FakeDownloadAction downloadAction1=createDownloadAction(uri1);
  FakeDownloadAction downloadAction2=createDownloadAction(uri2);
  removeAction.post().assertStarted();
  downloadAction1.post().assertDoesNotStart();
  downloadAction2.post().assertDoesNotStart();
  removeAction.unblock().assertCompleted();
  downloadAction1.assertStarted();
  downloadAction2.assertStarted();
  downloadAction1.unblock().assertCompleted();
  downloadAction2.unblock().assertCompleted();
  downloadManagerListener.blockUntilTasksCompleteAndThrowAnyDownloadError();
}
