@Test public void testLargestQueuedTimestampWithDiscardUpstream(){
  writeTestData();
  assertThat(sampleQueue.getLargestQueuedTimestampUs()).isEqualTo(LAST_SAMPLE_TIMESTAMP);
  sampleQueue.discardUpstreamSamples(SAMPLE_TIMESTAMPS.length - 1);
  assertThat(sampleQueue.getLargestQueuedTimestampUs()).isEqualTo(SAMPLE_TIMESTAMPS[SAMPLE_TIMESTAMPS.length - 2]);
  sampleQueue.discardUpstreamSamples(0);
  assertThat(sampleQueue.getLargestQueuedTimestampUs()).isEqualTo(MIN_VALUE);
}
