@Test public void testSkipToNextSampleResetsState() throws Exception {
  data=new ParsableByteArray(TestUtil.joinByteArrays(ADTS_HEADER,ADTS_CONTENT,ADTS_HEADER,ADTS_CONTENT,Arrays.copyOfRange(ADTS_HEADER,1,ADTS_HEADER.length),ADTS_CONTENT,ADTS_HEADER,ADTS_CONTENT));
  feed();
  assertSampleCounts(0,3);
  for (int i=0; i < 3; i++) {
    adtsOutput.assertSample(i,ADTS_CONTENT,ADTS_SAMPLE_DURATION * i,C.BUFFER_FLAG_KEY_FRAME,null);
  }
}
