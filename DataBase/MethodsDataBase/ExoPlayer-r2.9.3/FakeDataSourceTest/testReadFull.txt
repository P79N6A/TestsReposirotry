@Test public void testReadFull() throws IOException {
  FakeDataSource dataSource=new FakeDataSource(fakeDataSet);
  assertThat(dataSource.open(new DataSpec(uri))).isEqualTo(15);
  assertThat(dataSource.read(BUFFER,0,BUFFER.length)).isEqualTo(10);
  assertBuffer(TEST_DATA_PART_1);
  assertThat(dataSource.read(BUFFER,10,BUFFER.length)).isEqualTo(5);
  assertBuffer(TEST_DATA);
  assertThat(dataSource.read(BUFFER,15,BUFFER.length)).isEqualTo(C.RESULT_END_OF_INPUT);
  assertBuffer(TEST_DATA);
  assertThat(dataSource.read(BUFFER,20,BUFFER.length)).isEqualTo(C.RESULT_END_OF_INPUT);
  dataSource.close();
}
