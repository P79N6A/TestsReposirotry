@Test public void testOpenSourceFailures() throws IOException {
  FakeDataSource dataSource=new FakeDataSource(new FakeDataSet().newData(uri.toString()).endData());
  try {
    dataSource.open(new DataSpec(uri));
    fail("IOException expected.");
  }
 catch (  IOException e) {
  }
 finally {
    dataSource.close();
  }
  dataSource=new FakeDataSource(new FakeDataSet());
  try {
    dataSource.open(new DataSpec(uri));
    fail("IOException expected.");
  }
 catch (  IOException e) {
  }
 finally {
    dataSource.close();
  }
  dataSource=new FakeDataSource(new FakeDataSet().newDefaultData().appendReadData(TestUtil.buildTestData(10)).endData());
  try {
    dataSource.open(new DataSpec(uri,5,10,null));
    fail("IOException expected.");
  }
 catch (  IOException e) {
  }
 finally {
    dataSource.close();
  }
}
