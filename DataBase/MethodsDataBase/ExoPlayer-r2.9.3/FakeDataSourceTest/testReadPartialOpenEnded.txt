@Test public void testReadPartialOpenEnded() throws IOException {
  FakeDataSource dataSource=new FakeDataSource(fakeDataSet);
  assertThat(dataSource.open(new DataSpec(uri,7,C.LENGTH_UNSET,null))).isEqualTo(8);
  assertThat(dataSource.read(BUFFER,0,BUFFER.length)).isEqualTo(3);
  assertBuffer(TEST_DATA_PART_1,7,3);
  assertThat(dataSource.read(BUFFER,0,BUFFER.length)).isEqualTo(5);
  assertBuffer(TEST_DATA_PART_2);
  assertThat(dataSource.read(BUFFER,15,BUFFER.length)).isEqualTo(C.RESULT_END_OF_INPUT);
  dataSource.close();
}
