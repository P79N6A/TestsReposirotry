@Test public void testWindowAndPeriodIndices() throws IOException {
  Timeline timeline=new FakeTimeline(new TimelineWindowDefinition(1,111,true,false,TEST_PERIOD_DURATION_US));
  Timeline clippedTimeline=getClippedTimeline(timeline,TEST_CLIP_AMOUNT_US,TEST_PERIOD_DURATION_US - TEST_CLIP_AMOUNT_US);
  TimelineAsserts.assertWindowTags(clippedTimeline,111);
  TimelineAsserts.assertPeriodCounts(clippedTimeline,1);
  TimelineAsserts.assertPreviousWindowIndices(clippedTimeline,Player.REPEAT_MODE_OFF,false,C.INDEX_UNSET);
  TimelineAsserts.assertPreviousWindowIndices(clippedTimeline,Player.REPEAT_MODE_ONE,false,0);
  TimelineAsserts.assertPreviousWindowIndices(clippedTimeline,Player.REPEAT_MODE_ALL,false,0);
  TimelineAsserts.assertNextWindowIndices(clippedTimeline,Player.REPEAT_MODE_OFF,false,C.INDEX_UNSET);
  TimelineAsserts.assertNextWindowIndices(clippedTimeline,Player.REPEAT_MODE_ONE,false,0);
  TimelineAsserts.assertNextWindowIndices(clippedTimeline,Player.REPEAT_MODE_ALL,false,0);
}
