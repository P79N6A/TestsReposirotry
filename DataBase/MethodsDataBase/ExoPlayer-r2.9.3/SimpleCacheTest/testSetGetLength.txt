@Test public void testSetGetLength() throws Exception {
  SimpleCache simpleCache=getSimpleCache();
  assertThat(simpleCache.getContentLength(KEY_1)).isEqualTo(LENGTH_UNSET);
  simpleCache.setContentLength(KEY_1,15);
  assertThat(simpleCache.getContentLength(KEY_1)).isEqualTo(15);
  simpleCache.startReadWrite(KEY_1,0);
  addCache(simpleCache,KEY_1,0,15);
  simpleCache.setContentLength(KEY_1,150);
  assertThat(simpleCache.getContentLength(KEY_1)).isEqualTo(150);
  addCache(simpleCache,KEY_1,140,10);
  simpleCache.release();
  SimpleCache simpleCache2=getSimpleCache();
  assertThat(simpleCache2.getContentLength(KEY_1)).isEqualTo(150);
  SimpleCacheSpan lastSpan=simpleCache2.startReadWrite(KEY_1,145);
  simpleCache2.removeSpan(lastSpan);
  simpleCache2.release();
  simpleCache2=getSimpleCache();
  assertThat(simpleCache2.getContentLength(KEY_1)).isEqualTo(150);
}
