@Test public void testParseSampleAesMethod() throws Exception {
  Uri playlistUri=Uri.parse("https://example.com/test.m3u8");
  String playlistString="#EXTM3U\n" + "#EXT-X-MEDIA-SEQUENCE:0\n" + "#EXTINF:8,\n"+ "https://priv.example.com/1.ts\n"+ "\n"+ "#EXT-X-KEY:METHOD=SAMPLE-AES,URI="+ "\"data:text/plain;base64,VGhpcyBpcyBhbiBlYXN0ZXIgZWdn\","+ "IV=0x9358382AEB449EE23C3D809DA0B9CCD3,KEYFORMATVERSIONS=\"1\","+ "KEYFORMAT=\"com.widevine\",IV=0x1566B\n"+ "#EXTINF:8,\n"+ "https://priv.example.com/2.ts\n"+ "#EXT-X-ENDLIST\n";
  InputStream inputStream=new ByteArrayInputStream(Util.getUtf8Bytes(playlistString));
  HlsMediaPlaylist playlist=(HlsMediaPlaylist)new HlsPlaylistParser().parse(playlistUri,inputStream);
  assertThat(playlist.protectionSchemes.schemeType).isEqualTo(C.CENC_TYPE_cbcs);
  assertThat(playlist.protectionSchemes.get(0).matches(C.WIDEVINE_UUID)).isTrue();
  assertThat(playlist.protectionSchemes.get(0).hasData()).isFalse();
  assertThat(playlist.segments.get(0).drmInitData).isNull();
  assertThat(playlist.segments.get(1).drmInitData.get(0).matches(C.WIDEVINE_UUID)).isTrue();
  assertThat(playlist.segments.get(1).drmInitData.get(0).hasData()).isTrue();
}
