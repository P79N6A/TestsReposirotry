@Test public void testMasterPlaylistAttributeInheritance() throws IOException {
  Uri playlistUri=Uri.parse("https://example.com/test3.m3u8");
  String playlistString="#EXTM3U\n" + "#EXT-X-VERSION:3\n" + "#EXT-X-TARGETDURATION:5\n"+ "#EXT-X-MEDIA-SEQUENCE:10\n"+ "#EXTINF:5.005,\n"+ "02/00/27.ts\n"+ "#EXT-X-MAP:URI=\"init1.ts\""+ "#EXTINF:5.005,\n"+ "02/00/32.ts\n"+ "#EXTINF:5.005,\n"+ "02/00/42.ts\n"+ "#EXT-X-MAP:URI=\"init2.ts\""+ "#EXTINF:5.005,\n"+ "02/00/47.ts\n";
  InputStream inputStream=new ByteArrayInputStream(Util.getUtf8Bytes(playlistString));
  HlsMediaPlaylist standalonePlaylist=(HlsMediaPlaylist)new HlsPlaylistParser().parse(playlistUri,inputStream);
  assertThat(standalonePlaylist.hasIndependentSegments).isFalse();
  inputStream.reset();
  HlsMasterPlaylist masterPlaylist=new HlsMasterPlaylist("https://example.com/",Collections.emptyList(),Collections.emptyList(),Collections.emptyList(),Collections.emptyList(),null,null,true,Collections.emptyMap());
  HlsMediaPlaylist playlistWithInheritance=(HlsMediaPlaylist)new HlsPlaylistParser(masterPlaylist).parse(playlistUri,inputStream);
  assertThat(playlistWithInheritance.hasIndependentSegments).isTrue();
}
