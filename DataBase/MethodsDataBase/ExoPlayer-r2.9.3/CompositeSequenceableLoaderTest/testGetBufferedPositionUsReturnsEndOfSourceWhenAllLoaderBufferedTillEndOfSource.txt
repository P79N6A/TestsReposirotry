/** 
 * Tests that  {@link CompositeSequenceableLoader#getBufferedPositionUs()} returns{@link C#TIME_END_OF_SOURCE} when all sub-loaders have buffered till end-of-source.
 */
@Test public void testGetBufferedPositionUsReturnsEndOfSourceWhenAllLoaderBufferedTillEndOfSource(){
  FakeSequenceableLoader loader1=new FakeSequenceableLoader(C.TIME_END_OF_SOURCE,C.TIME_END_OF_SOURCE);
  FakeSequenceableLoader loader2=new FakeSequenceableLoader(C.TIME_END_OF_SOURCE,C.TIME_END_OF_SOURCE);
  CompositeSequenceableLoader compositeSequenceableLoader=new CompositeSequenceableLoader(new SequenceableLoader[]{loader1,loader2});
  assertThat(compositeSequenceableLoader.getBufferedPositionUs()).isEqualTo(C.TIME_END_OF_SOURCE);
}
