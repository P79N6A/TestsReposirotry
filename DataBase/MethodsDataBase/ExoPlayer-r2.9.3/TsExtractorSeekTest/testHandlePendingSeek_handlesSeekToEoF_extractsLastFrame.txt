@Test public void testHandlePendingSeek_handlesSeekToEoF_extractsLastFrame() throws IOException, InterruptedException {
  TsExtractor extractor=new TsExtractor();
  Uri fileUri=TestUtil.buildAssetUri(TEST_FILE);
  FakeExtractorOutput extractorOutput=new FakeExtractorOutput();
  SeekMap seekMap=TestUtil.extractSeekMap(extractor,extractorOutput,dataSource,fileUri);
  FakeTrackOutput trackOutput=extractorOutput.trackOutputs.get(AUDIO_TRACK_ID);
  long targetSeekTimeUs=seekMap.getDurationUs();
  int extractedFrameIndex=TestUtil.seekToTimeUs(extractor,seekMap,targetSeekTimeUs,dataSource,trackOutput,fileUri);
  assertThat(extractedFrameIndex).isNotEqualTo(-1);
  assertFirstFrameAfterSeekContainTargetSeekTime(trackOutput,targetSeekTimeUs,extractedFrameIndex);
}
