@Test public void testLongSectionAcrossFourPackets(){
  packetPayload[0]=13;
  insertTableSection(1,(byte)106,10);
  insertTableSection(14,(byte)107,300);
  packetPayload[300]=17;
  insertTableSection(318,(byte)108,10);
  ParsableByteArray firstPacket=new ParsableByteArray(packetPayload,100);
  reader.consume(firstPacket,FLAG_PAYLOAD_UNIT_START_INDICATOR);
  assertThat(payloadReader.parsedTableIds).isEmpty();
  ParsableByteArray secondPacket=new ParsableByteArray(packetPayload,200);
  secondPacket.setPosition(100);
  reader.consume(secondPacket,0);
  assertThat(payloadReader.parsedTableIds).isEmpty();
  ParsableByteArray thirdPacket=new ParsableByteArray(packetPayload,300);
  thirdPacket.setPosition(200);
  reader.consume(thirdPacket,0);
  assertThat(payloadReader.parsedTableIds).isEmpty();
  ParsableByteArray fourthPacket=new ParsableByteArray(packetPayload);
  fourthPacket.setPosition(300);
  reader.consume(fourthPacket,FLAG_PAYLOAD_UNIT_START_INDICATOR);
  assertThat(payloadReader.parsedTableIds).isEqualTo(asList(107,108));
}
