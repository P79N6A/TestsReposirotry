@Test public void testPeekFullyAfterEofExceptionPeeksAsExpected() throws Exception {
  DefaultExtractorInput input=createDefaultExtractorInput();
  byte[] target=new byte[TEST_DATA.length + 10];
  try {
    input.peekFully(target,0,target.length);
    fail();
  }
 catch (  EOFException expected) {
  }
  input.peekFully(target,0,TEST_DATA.length);
  assertThat(input.getPeekPosition()).isEqualTo(TEST_DATA.length);
  assertThat(Arrays.equals(TEST_DATA,Arrays.copyOf(target,TEST_DATA.length))).isTrue();
}
