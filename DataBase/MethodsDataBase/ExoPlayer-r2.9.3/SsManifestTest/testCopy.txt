@Test public void testCopy() throws Exception {
  Format[][] formats=newFormats(2,3);
  SsManifest sourceManifest=newSsManifest(newStreamElement("1",formats[0]),newStreamElement("2",formats[1]));
  List<StreamKey> keys=Arrays.asList(new StreamKey(0,0),new StreamKey(0,2),new StreamKey(1,0));
  Collections.shuffle(keys,new Random(0));
  SsManifest copyManifest=sourceManifest.copy(keys);
  SsManifest expectedManifest=newSsManifest(newStreamElement("1",formats[0][0],formats[0][2]),newStreamElement("2",formats[1][0]));
  assertManifestEquals(expectedManifest,copyManifest);
}
