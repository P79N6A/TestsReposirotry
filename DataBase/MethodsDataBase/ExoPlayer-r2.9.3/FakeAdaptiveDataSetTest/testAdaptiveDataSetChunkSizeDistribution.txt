@Test public void testAdaptiveDataSetChunkSizeDistribution(){
  double expectedStdDev=4.0;
  FakeAdaptiveDataSet dataSet=new FakeAdaptiveDataSet(TRACK_GROUP,100000 * C.MICROS_PER_SECOND,1 * C.MICROS_PER_SECOND,expectedStdDev,new Random(0));
  for (int i=0; i < TEST_FORMATS.length; i++) {
    FakeData data=dataSet.getData(dataSet.getUri(i));
    double mean=computeSegmentSizeMean(data.getSegments());
    double stddev=computeSegmentSizeStdDev(data.getSegments(),mean);
    double relativePercentStdDev=stddev / mean * 100.0;
    assertThat(relativePercentStdDev).isWithin(0.02).of(expectedStdDev);
    assertThat(mean * 8 / TEST_FORMATS[i].bitrate).isWithin(0.01).of(1.0);
  }
}
