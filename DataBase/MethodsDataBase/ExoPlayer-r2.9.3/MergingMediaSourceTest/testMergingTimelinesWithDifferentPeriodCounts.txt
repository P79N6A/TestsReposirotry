@Test public void testMergingTimelinesWithDifferentPeriodCounts() throws IOException {
  FakeTimeline firstTimeline=new FakeTimeline(new TimelineWindowDefinition(1,null));
  FakeTimeline secondTimeline=new FakeTimeline(new TimelineWindowDefinition(2,null));
  try {
    testMergingMediaSourcePrepare(firstTimeline,secondTimeline);
    fail("Expected merging to fail.");
  }
 catch (  IllegalMergeException e) {
    assertThat(e.reason).isEqualTo(IllegalMergeException.REASON_PERIOD_COUNT_MISMATCH);
  }
}
