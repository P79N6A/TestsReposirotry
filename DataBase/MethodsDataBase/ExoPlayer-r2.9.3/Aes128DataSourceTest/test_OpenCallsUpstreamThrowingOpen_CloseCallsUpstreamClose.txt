@Test public void test_OpenCallsUpstreamThrowingOpen_CloseCallsUpstreamClose() throws IOException {
  UpstreamDataSource upstream=new UpstreamDataSource(){
    @Override public long open(    DataSpec dataSpec) throws IOException {
      throw new IOException();
    }
  }
;
  Aes128DataSource testInstance=new TestAes123DataSource(upstream,new byte[16],new byte[16]);
  assertThat(upstream.opened).isFalse();
  Uri uri=Uri.parse("http.abc.com/def");
  try {
    testInstance.open(new DataSpec(uri));
  }
 catch (  IOException e) {
  }
  assertThat(upstream.opened).isFalse();
  assertThat(upstream.closedCalled).isFalse();
  testInstance.close();
  assertThat(upstream.closedCalled).isTrue();
}
