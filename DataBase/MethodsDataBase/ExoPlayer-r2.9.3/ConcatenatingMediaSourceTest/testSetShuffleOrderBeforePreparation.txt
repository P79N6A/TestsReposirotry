@Test public void testSetShuffleOrderBeforePreparation() throws Exception {
  mediaSource.setShuffleOrder(new ShuffleOrder.UnshuffledShuffleOrder(0));
  mediaSource.addMediaSources(Arrays.asList(createFakeMediaSource(),createFakeMediaSource(),createFakeMediaSource()));
  Timeline timeline=testRunner.prepareSource();
  assertThat(timeline.getFirstWindowIndex(true)).isEqualTo(0);
}
