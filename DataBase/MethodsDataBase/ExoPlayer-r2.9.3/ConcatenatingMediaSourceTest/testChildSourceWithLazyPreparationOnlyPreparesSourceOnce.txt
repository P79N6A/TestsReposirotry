@Test public void testChildSourceWithLazyPreparationOnlyPreparesSourceOnce() throws IOException {
  FakeMediaSource[] childSources=createMediaSources(2);
  mediaSource=new ConcatenatingMediaSource(false,true,new DefaultShuffleOrder(0),childSources);
  testRunner=new MediaSourceTestRunner(mediaSource,null);
  Timeline timeline=testRunner.prepareSource();
  MediaPeriodId mediaPeriodId=new MediaPeriodId(timeline.getUidOfPeriod(0),0);
  testRunner.createPeriod(mediaPeriodId);
  testRunner.createPeriod(mediaPeriodId);
}
