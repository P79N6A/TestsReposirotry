@Test public void testFontSizeSpans() throws IOException, SubtitleDecoderException {
  TtmlSubtitle subtitle=getSubtitle(FONT_SIZE_TTML_FILE);
  assertThat(subtitle.getEventTimeCount()).isEqualTo(10);
  List<Cue> cues=subtitle.getCues(10 * 1000000);
  assertThat(cues).hasSize(1);
  SpannableStringBuilder spannable=(SpannableStringBuilder)cues.get(0).text;
  assertThat(String.valueOf(spannable)).isEqualTo("text 1");
  assertAbsoluteFontSize(spannable,32);
  cues=subtitle.getCues(20 * 1000000);
  assertThat(cues).hasSize(1);
  spannable=(SpannableStringBuilder)cues.get(0).text;
  assertThat(String.valueOf(cues.get(0).text)).isEqualTo("text 2");
  assertRelativeFontSize(spannable,2.2f);
  cues=subtitle.getCues(30 * 1000000);
  assertThat(cues).hasSize(1);
  spannable=(SpannableStringBuilder)cues.get(0).text;
  assertThat(String.valueOf(cues.get(0).text)).isEqualTo("text 3");
  assertRelativeFontSize(spannable,1.5f);
  cues=subtitle.getCues(40 * 1000000);
  assertThat(cues).hasSize(1);
  spannable=(SpannableStringBuilder)cues.get(0).text;
  assertThat(String.valueOf(cues.get(0).text)).isEqualTo("two values");
  assertAbsoluteFontSize(spannable,16);
  cues=subtitle.getCues(50 * 1000000);
  assertThat(cues).hasSize(1);
  spannable=(SpannableStringBuilder)cues.get(0).text;
  assertThat(String.valueOf(cues.get(0).text)).isEqualTo("leading dot");
  assertRelativeFontSize(spannable,0.5f);
}
