@Test public void testCopy() throws Exception {
  Representation[][][] representations=newRepresentations(3,2,3);
  DashManifest sourceManifest=newDashManifest(10,newPeriod("1",1,newAdaptationSet(2,representations[0][0]),newAdaptationSet(3,representations[0][1])),newPeriod("4",4,newAdaptationSet(5,representations[1][0]),newAdaptationSet(6,representations[1][1])),newPeriod("7",7,newAdaptationSet(8,representations[2][0]),newAdaptationSet(9,representations[2][1])));
  List<StreamKey> keys=Arrays.asList(new StreamKey(0,0,0),new StreamKey(0,0,1),new StreamKey(0,1,2),new StreamKey(1,0,1),new StreamKey(1,1,0),new StreamKey(1,1,2),new StreamKey(2,0,1),new StreamKey(2,0,2),new StreamKey(2,1,0));
  Collections.shuffle(keys,new Random(0));
  DashManifest copyManifest=sourceManifest.copy(keys);
  DashManifest expectedManifest=newDashManifest(10,newPeriod("1",1,newAdaptationSet(2,representations[0][0][0],representations[0][0][1]),newAdaptationSet(3,representations[0][1][2])),newPeriod("4",4,newAdaptationSet(5,representations[1][0][1]),newAdaptationSet(6,representations[1][1][0],representations[1][1][2])),newPeriod("7",7,newAdaptationSet(8,representations[2][0][1],representations[2][0][2]),newAdaptationSet(9,representations[2][1][0])));
  assertManifestEquals(expectedManifest,copyManifest);
}
