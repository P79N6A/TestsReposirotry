/** 
 * Tests that track selector will prefer selecting audio track with language that match preferred language given by  {@link Parameters} over track with {@link C#SELECTION_FLAG_DEFAULT}.
 */
@Test public void testSelectTracksSelectPreferredAudioLanguageOverSelectionFlag() throws Exception {
  trackSelector.setParameters(new ParametersBuilder().setPreferredAudioLanguage("eng").build());
  Format frAudioFormat=Format.createAudioSampleFormat("audio",MimeTypes.AUDIO_AAC,null,Format.NO_VALUE,Format.NO_VALUE,2,44100,null,null,C.SELECTION_FLAG_DEFAULT,"fra");
  Format enAudioFormat=Format.createAudioSampleFormat("audio",MimeTypes.AUDIO_AAC,null,Format.NO_VALUE,Format.NO_VALUE,2,44100,null,null,0,"eng");
  TrackSelectorResult result=trackSelector.selectTracks(new RendererCapabilities[]{ALL_AUDIO_FORMAT_SUPPORTED_RENDERER_CAPABILITIES},wrapFormats(frAudioFormat,enAudioFormat));
  assertThat(result.selections.get(0).getSelectedFormat()).isEqualTo(enAudioFormat);
}
