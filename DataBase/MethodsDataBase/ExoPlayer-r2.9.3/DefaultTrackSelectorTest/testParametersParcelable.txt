/** 
 * Tests  {@link Parameters} {@link android.os.Parcelable} implementation. 
 */
@Test public void testParametersParcelable(){
  SparseArray<Map<TrackGroupArray,SelectionOverride>> selectionOverrides=new SparseArray<>();
  Map<TrackGroupArray,SelectionOverride> videoOverrides=new HashMap<>();
  videoOverrides.put(new TrackGroupArray(VIDEO_TRACK_GROUP),new SelectionOverride(0,1));
  selectionOverrides.put(2,videoOverrides);
  SparseBooleanArray rendererDisabledFlags=new SparseBooleanArray();
  rendererDisabledFlags.put(3,true);
  Parameters parametersToParcel=new Parameters(selectionOverrides,rendererDisabledFlags,"en","de",false,0,true,true,false,true,1,2,3,4,false,true,5,6,false,C.AUDIO_SESSION_ID_UNSET);
  Parcel parcel=Parcel.obtain();
  parametersToParcel.writeToParcel(parcel,0);
  parcel.setDataPosition(0);
  Parameters parametersFromParcel=Parameters.CREATOR.createFromParcel(parcel);
  assertThat(parametersFromParcel).isEqualTo(parametersToParcel);
  parcel.recycle();
}
