@Test public void testReadReturnsWhatItCan() throws HttpDataSourceException {
  mockResponseStartSuccess();
  mockReadSuccess(0,16);
  dataSourceUnderTest.open(testDataSpec);
  byte[] returnedBuffer=new byte[24];
  int bytesRead=dataSourceUnderTest.read(returnedBuffer,0,24);
  assertThat(returnedBuffer).isEqualTo(suffixZeros(buildTestDataArray(0,16),24));
  assertThat(bytesRead).isEqualTo(16);
  verify(mockTransferListener).onBytesTransferred(dataSourceUnderTest,testDataSpec,true,16);
}
