@Test public void testRequestOpenValidatesStatusCode(){
  mockResponseStartSuccess();
  testUrlResponseInfo=createUrlResponseInfo(500);
  try {
    dataSourceUnderTest.open(testDataSpec);
    fail("HttpDataSource.HttpDataSourceException expected");
  }
 catch (  HttpDataSourceException e) {
    assertThat(e instanceof HttpDataSource.InvalidResponseCodeException).isTrue();
    verify(mockUrlRequest,never()).cancel();
    verify(mockTransferListener,never()).onTransferStart(dataSourceUnderTest,testDataSpec,true);
  }
}
