@Test public void testSecondRequestNoContentLength() throws HttpDataSourceException {
  mockResponseStartSuccess();
  testResponseHeader.put("Content-Length",Long.toString(1L));
  mockReadSuccess(0,16);
  dataSourceUnderTest.open(testDataSpec);
  byte[] returnedBuffer=new byte[8];
  dataSourceUnderTest.read(returnedBuffer,0,1);
  dataSourceUnderTest.close();
  testResponseHeader.remove("Content-Length");
  mockReadSuccess(0,16);
  dataSourceUnderTest.open(testDataSpec);
  returnedBuffer=new byte[16];
  int bytesRead=dataSourceUnderTest.read(returnedBuffer,0,10);
  assertThat(bytesRead).isEqualTo(10);
  bytesRead=dataSourceUnderTest.read(returnedBuffer,0,10);
  assertThat(bytesRead).isEqualTo(6);
  bytesRead=dataSourceUnderTest.read(returnedBuffer,0,10);
  assertThat(bytesRead).isEqualTo(C.RESULT_END_OF_INPUT);
}
