@Test public void testExceptionFromTransferListener() throws HttpDataSourceException {
  mockResponseStartSuccess();
  doThrow(new NullPointerException()).when(mockTransferListener).onTransferEnd(dataSourceUnderTest,testDataSpec,true);
  dataSourceUnderTest.open(testDataSpec);
  try {
    dataSourceUnderTest.close();
    fail("NullPointerException expected");
  }
 catch (  NullPointerException e) {
  }
  dataSourceUnderTest.open(testDataSpec);
}
