@Test public void testLoadV2() throws Exception {
  FileOutputStream fos=new FileOutputStream(new File(cacheDir,CachedContentIndex.FILE_NAME));
  fos.write(testIndexV2File);
  fos.close();
  index.load();
  assertThat(index.getAll()).hasSize(2);
  assertThat(index.assignIdForKey("ABCDE")).isEqualTo(5);
  ContentMetadata metadata=index.get("ABCDE").getMetadata();
  assertThat(ContentMetadataInternal.getContentLength(metadata)).isEqualTo(10);
  assertThat(ContentMetadataInternal.getRedirectedUri(metadata)).isEqualTo(Uri.parse("abcde"));
  assertThat(index.assignIdForKey("KLMNO")).isEqualTo(2);
  ContentMetadata metadata2=index.get("KLMNO").getMetadata();
  assertThat(ContentMetadataInternal.getContentLength(metadata2)).isEqualTo(2560);
}
