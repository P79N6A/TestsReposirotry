/** 
 * Tests that  {@link EventSampleStream#readData(FormatHolder,DecoderInputBuffer,boolean)} willreturn sample data after the first call.
 */
@Test public void testReadDataReturnDataAfterFormat(){
  long presentationTimeUs=1000000;
  EventMessage eventMessage=newEventMessageWithIdAndTime(1,presentationTimeUs);
  EventStream eventStream=new EventStream(SCHEME_ID,VALUE,TIME_SCALE,new long[]{presentationTimeUs},new EventMessage[]{eventMessage});
  EventSampleStream sampleStream=new EventSampleStream(eventStream,FORMAT,false);
  readData(sampleStream);
  int result=readData(sampleStream);
  assertThat(result).isEqualTo(C.RESULT_BUFFER_READ);
  assertThat(inputBuffer.data.array()).isEqualTo(getEncodedMessage(eventMessage));
}
