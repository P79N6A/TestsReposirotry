@Test public void testReadSingleBytes() throws IOException {
  DataSourceInputStream inputStream=buildTestInputStream();
  assertThat(inputStream.bytesRead()).isEqualTo(0);
  for (int i=0; i < TEST_DATA.length; i++) {
    int readByte=inputStream.read();
    assertThat(0 <= readByte && readByte < 256).isTrue();
    assertThat(readByte).isEqualTo(TEST_DATA[i] & 0xFF);
    assertThat(inputStream.bytesRead()).isEqualTo(i + 1);
  }
  assertThat(inputStream.read()).isEqualTo(-1);
  assertThat(inputStream.bytesRead()).isEqualTo(TEST_DATA.length);
  inputStream.close();
}
