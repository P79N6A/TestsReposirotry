@Test public void testGenerateScopeCustomWildcard() throws Exception {
  Configuration cfg=new Configuration();
  cfg.setString(MetricOptions.SCOPE_NAMING_JM,"peter");
  cfg.setString(MetricOptions.SCOPE_NAMING_JM_JOB,"*.some-constant.<job_id>");
  MetricRegistryImpl registry=new MetricRegistryImpl(MetricRegistryConfiguration.fromConfiguration(cfg));
  JobID jid=new JobID();
  JobManagerMetricGroup tmGroup=new JobManagerMetricGroup(registry,"theHostName");
  JobMetricGroup jmGroup=new JobManagerJobMetricGroup(registry,tmGroup,jid,"myJobName");
  assertArrayEquals(new String[]{"peter","some-constant",jid.toString()},jmGroup.getScopeComponents());
  assertEquals("peter.some-constant." + jid + ".name",jmGroup.getMetricIdentifier("name"));
  registry.shutdown().get();
}
