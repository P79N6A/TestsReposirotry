@Test public void testReadNonVersioned() throws IOException {
  int preVersionedPayload=563;
  TestNonVersionedReadableWritable nonVersionedReadableWritable=new TestNonVersionedReadableWritable(preVersionedPayload);
  byte[] serialized;
  try (ByteArrayOutputStreamWithPos out=new ByteArrayOutputStreamWithPos()){
    nonVersionedReadableWritable.write(new DataOutputViewStreamWrapper(out));
    serialized=out.toByteArray();
  }
   TestPostVersionedReadableWritable restoredVersionedReadableWritable=new TestPostVersionedReadableWritable();
  try (ByteArrayInputStreamWithPos in=new ByteArrayInputStreamWithPos(serialized)){
    restoredVersionedReadableWritable.read(in);
  }
   Assert.assertEquals(String.valueOf(preVersionedPayload),restoredVersionedReadableWritable.getData());
}
