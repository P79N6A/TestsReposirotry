@Test public void testRestoreHeadWithNewId() throws Exception {
  OperatorID tailOperatorID=new OperatorID(44L,44L);
  JobManagerTaskRestore restore=createRunAndCheckpointOperatorChain(new OperatorID(42L,42L),new CounterOperator(),tailOperatorID,new CounterOperator(),Optional.empty());
  TaskStateSnapshot stateHandles=restore.getTaskStateSnapshot();
  assertEquals(2,stateHandles.getSubtaskStateMappings().size());
  createRunAndCheckpointOperatorChain(new OperatorID(4242L,4242L),new CounterOperator(),tailOperatorID,new CounterOperator(),Optional.of(restore));
  assertEquals(Collections.singleton(tailOperatorID),RESTORED_OPERATORS);
}
