@Test public void testEntrypointClusterConfigurationParsing() throws FlinkParseException {
  final String configDir="/foo/bar";
  final String key="key";
  final String value="value";
  final String arg1="arg1";
  final String arg2="arg2";
  final String[] args={"--configDir",configDir,String.format("-D%s=%s",key,value),arg1,arg2};
  final ClusterConfiguration clusterConfiguration=commandLineParser.parse(args);
  assertThat(clusterConfiguration.getConfigDir(),is(equalTo(configDir)));
  final Properties dynamicProperties=clusterConfiguration.getDynamicProperties();
  assertThat(dynamicProperties,hasEntry(key,value));
  assertThat(clusterConfiguration.getArgs(),arrayContaining(arg1,arg2));
}
