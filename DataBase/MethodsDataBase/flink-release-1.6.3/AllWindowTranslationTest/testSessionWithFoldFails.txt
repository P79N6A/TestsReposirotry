@Test public void testSessionWithFoldFails() throws Exception {
  StreamExecutionEnvironment env=StreamExecutionEnvironment.getExecutionEnvironment();
  AllWindowedStream<String,TimeWindow> windowedStream=env.fromElements("Hello","Ciao").windowAll(EventTimeSessionWindows.withGap(Time.seconds(5)));
  try {
    windowedStream.fold("",new FoldFunction<String,String>(){
      private static final long serialVersionUID=-4567902917104921706L;
      @Override public String fold(      String accumulator,      String value) throws Exception {
        return accumulator;
      }
    }
);
  }
 catch (  UnsupportedOperationException e) {
    return;
  }
  fail("The fold call should fail.");
}
