@Test public void testDismissingSnapshot() throws Exception {
  setupRocksKeyedStateBackend();
  try {
    RunnableFuture<SnapshotResult<KeyedStateHandle>> snapshot=keyedStateBackend.snapshot(0L,0L,testStreamFactory,CheckpointOptions.forCheckpointWithDefaultLocation());
    snapshot.cancel(true);
    verifyRocksObjectsReleased();
  }
  finally {
    this.keyedStateBackend.dispose();
    this.keyedStateBackend=null;
  }
}
