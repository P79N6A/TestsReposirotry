@Test public void testClusterClientCancel() throws Exception {
  Configuration config=new Configuration();
  config.setString(JobManagerOptions.ADDRESS,"localhost");
  JobID jobID=new JobID();
  TestCancelActorGateway gateway=new TestCancelActorGateway(jobID);
  TestClusterClient clusterClient=new TestClusterClient(config,gateway);
  try {
    clusterClient.cancel(jobID);
    Assert.assertTrue(gateway.messageArrived);
  }
  finally {
    clusterClient.shutdown();
  }
}
