@Test public void testDisposeSavepointUnknownResponse() throws Exception {
  final Configuration configuration=new Configuration();
  final Time timeout=Time.milliseconds(1000L);
  final String savepointPath="foobar";
  final ActorGateway jobManagerGateway=new TestDisposeWithWrongResponseActorGateway();
  final TestClusterClient clusterClient=new TestClusterClient(configuration,jobManagerGateway);
  CompletableFuture<Acknowledge> acknowledgeCompletableFuture=clusterClient.disposeSavepoint(savepointPath);
  try {
    acknowledgeCompletableFuture.get();
    fail("Dispose operation should have failed.");
  }
 catch (  ExecutionException e) {
    assertTrue(ExceptionUtils.findThrowable(e,FlinkRuntimeException.class).isPresent());
  }
 finally {
    clusterClient.shutdown();
  }
}
