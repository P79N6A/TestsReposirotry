@Test @SuppressWarnings("ForLoopThatDoesntUseLoopVariable") public void testNioBufferExposeOnlyRegion(){
  final ByteBuf buffer=newBuffer(8);
  byte[] data=new byte[8];
  random.nextBytes(data);
  buffer.writeBytes(data);
  ByteBuffer nioBuf=buffer.nioBuffer(1,data.length - 2);
  assertEquals(0,nioBuf.position());
  assertEquals(6,nioBuf.remaining());
  for (int i=1; nioBuf.hasRemaining(); i++) {
    assertEquals(data[i],nioBuf.get());
  }
  buffer.release();
}
