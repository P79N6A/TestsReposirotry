@Test public void testAtLeastOneBootstrapServerHostIsValid() throws Exception {
  try {
    String zookeeperConnect="localhost:56794";
    String unknownHost="foobar:11111";
    String bootstrapServers=unknownHost + ", localhost:22222";
    URL unknownHostURL=NetUtils.getCorrectHostnamePort(unknownHost);
    PowerMockito.mockStatic(InetAddress.class);
    when(InetAddress.getByName(Matchers.eq(unknownHostURL.getHost()))).thenThrow(new UnknownHostException("Test exception"));
    String groupId="non-existent-group";
    Properties props=createKafkaProps(zookeeperConnect,bootstrapServers,groupId);
    DummyFlinkKafkaConsumer consumer=new DummyFlinkKafkaConsumer("no op topic",new SimpleStringSchema(),props);
    consumer.open(new Configuration());
  }
 catch (  Exception e) {
    assertFalse("No exception should be thrown containing 'all bootstrap servers invalid' message!",e.getMessage().contains("All the servers provided in: '" + ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG + "' config are invalid"));
  }
}
