@Test public void testAllBoostrapServerHostsAreInvalid(){
  try {
    String unknownHost="foobar:11111";
    URL unknownHostURL=NetUtils.getCorrectHostnamePort(unknownHost);
    PowerMockito.mockStatic(InetAddress.class);
    when(InetAddress.getByName(Matchers.eq(unknownHostURL.getHost()))).thenThrow(new UnknownHostException("Test exception"));
    String zookeeperConnect="localhost:56794";
    String groupId="non-existent-group";
    Properties props=createKafkaProps(zookeeperConnect,unknownHost,groupId);
    FlinkKafkaConsumer08<String> consumer=new FlinkKafkaConsumer08<>(Collections.singletonList("no op topic"),new SimpleStringSchema(),props);
    StreamingRuntimeContext mockRuntimeContext=mock(StreamingRuntimeContext.class);
    Mockito.when(mockRuntimeContext.isCheckpointingEnabled()).thenReturn(true);
    consumer.setRuntimeContext(mockRuntimeContext);
    consumer.open(new Configuration());
    fail();
  }
 catch (  Exception expected) {
    assertTrue("Exception should be thrown containing 'all bootstrap servers invalid' message!",expected.getMessage().contains("All the servers provided in: '" + ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG + "' config are invalid"));
  }
}
