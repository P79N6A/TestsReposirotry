@Test public void testHasSerializedData() throws IOException {
  final int segmentSize=16;
  final SpanningRecordSerializer<SerializationTestType> serializer=new SpanningRecordSerializer<>();
  final SerializationTestType randomIntRecord=Util.randomRecord(SerializationTestTypeFactory.INT);
  Assert.assertFalse(serializer.hasSerializedData());
  serializer.addRecord(randomIntRecord);
  Assert.assertTrue(serializer.hasSerializedData());
  serializer.continueWritingWithNextBufferBuilder(createBufferBuilder(segmentSize));
  Assert.assertFalse(serializer.hasSerializedData());
  serializer.continueWritingWithNextBufferBuilder(createBufferBuilder(8));
  serializer.addRecord(randomIntRecord);
  Assert.assertFalse(serializer.hasSerializedData());
  serializer.addRecord(randomIntRecord);
  Assert.assertTrue(serializer.hasSerializedData());
}
