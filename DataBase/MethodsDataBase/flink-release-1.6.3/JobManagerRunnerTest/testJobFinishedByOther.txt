@Test public void testJobFinishedByOther() throws Exception {
  final JobManagerRunner jobManagerRunner=createJobManagerRunner();
  try {
    jobManagerRunner.start();
    final CompletableFuture<ArchivedExecutionGraph> resultFuture=jobManagerRunner.getResultFuture();
    assertThat(resultFuture.isDone(),is(false));
    jobManagerRunner.jobFinishedByOther();
    try {
      resultFuture.get();
      fail("Should have failed.");
    }
 catch (    ExecutionException ee) {
      assertThat(ExceptionUtils.stripExecutionException(ee),instanceOf(JobNotFinishedException.class));
    }
  }
  finally {
    jobManagerRunner.close();
  }
}
