@Test public void testAvroObjectAccess() throws Exception {
  ExecutionEnvironment env=ExecutionEnvironment.getExecutionEnvironment();
  BatchTableEnvironment tEnv=TableEnvironment.getTableEnvironment(env,config());
  Table t=tEnv.fromDataSet(testData(env));
  Table result=t.filter("type_nested.isNotNull").select("type_nested.flatten()").as("city, num, state, street, zip");
  List<Address> results=tEnv.toDataSet(result,Types.POJO(Address.class)).collect();
  String expected=USER_1.getTypeNested().toString();
  TestBaseUtils.compareResultAsText(results,expected);
}
