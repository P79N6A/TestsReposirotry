@Test public void testDisposeSavepointSuccess() throws Exception {
  replaceStdOutAndStdErr();
  String savepointPath="expectedSavepointPath";
  ClusterClient clusterClient=new DisposeSavepointClusterClient((  String path) -> CompletableFuture.completedFuture(Acknowledge.get()),getConfiguration());
  try {
    CliFrontend frontend=new MockedCliFrontend(clusterClient);
    String[] parameters={"-d",savepointPath};
    frontend.savepoint(parameters);
    String outMsg=buffer.toString();
    assertTrue(outMsg.contains(savepointPath));
    assertTrue(outMsg.contains("disposed"));
  }
  finally {
    clusterClient.shutdown();
    restoreStdOutAndStdErr();
  }
}
