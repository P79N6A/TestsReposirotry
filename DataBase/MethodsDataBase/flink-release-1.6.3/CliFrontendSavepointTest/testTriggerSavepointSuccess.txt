@Test public void testTriggerSavepointSuccess() throws Exception {
  replaceStdOutAndStdErr();
  JobID jobId=new JobID();
  String savepointPath="expectedSavepointPath";
  final ClusterClient<String> clusterClient=createClusterClient(savepointPath);
  try {
    MockedCliFrontend frontend=new MockedCliFrontend(clusterClient);
    String[] parameters={jobId.toString()};
    frontend.savepoint(parameters);
    verify(clusterClient,times(1)).triggerSavepoint(eq(jobId),isNull(String.class));
    assertTrue(buffer.toString().contains(savepointPath));
  }
  finally {
    clusterClient.shutdown();
    restoreStdOutAndStdErr();
  }
}
