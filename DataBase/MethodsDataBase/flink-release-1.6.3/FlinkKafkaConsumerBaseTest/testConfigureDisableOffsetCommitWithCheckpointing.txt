@Test public void testConfigureDisableOffsetCommitWithCheckpointing() throws Exception {
  @SuppressWarnings("unchecked") final DummyFlinkKafkaConsumer<String> consumer=new DummyFlinkKafkaConsumer<>(true);
  consumer.setCommitOffsetsOnCheckpoints(false);
  setupConsumer(consumer,false,null,true,0,1);
  assertEquals(OffsetCommitMode.DISABLED,consumer.getOffsetCommitMode());
}
