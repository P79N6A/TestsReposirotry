@Test public void testBoundedArray(){
  int count=StringValueArray.DEFAULT_CAPACITY_IN_BYTES / 2;
  ValueArray<StringValue> sva=new StringValueArray(StringValueArray.DEFAULT_CAPACITY_IN_BYTES);
  for (int i=0; i < count; i++) {
    assertFalse(sva.isFull());
    assertEquals(i,sva.size());
    assertTrue(sva.add(new StringValue(Character.toString((char)(i & 0x7F)))));
    assertEquals(i + 1,sva.size());
  }
  assertTrue(sva.isFull());
  assertEquals(count,sva.size());
  int idx=0;
  for (  StringValue sv : sva) {
    assertEquals((idx++) & 0x7F,sv.getValue().charAt(0));
  }
  assertFalse(sva.add(new StringValue(String.valueOf((char)count))));
  assertFalse(sva.addAll(sva));
  assertEquals(sva,sva.copy());
  StringValueArray svaTo=new StringValueArray();
  sva.copyTo(svaTo);
  assertEquals(sva,svaTo);
  sva.clear();
  assertEquals(0,sva.size());
}
