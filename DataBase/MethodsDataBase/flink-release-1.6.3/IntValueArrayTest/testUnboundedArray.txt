@Test public void testUnboundedArray(){
  int count=4096;
  ValueArray<IntValue> iva=new IntValueArray();
  for (int i=0; i < count; i++) {
    assertFalse(iva.isFull());
    assertEquals(i,iva.size());
    assertTrue(iva.add(new IntValue(i)));
    assertEquals(i + 1,iva.size());
  }
  assertFalse(iva.isFull());
  assertEquals(count,iva.size());
  int idx=0;
  for (  IntValue lv : iva) {
    assertEquals(idx++,lv.getValue());
  }
  assertTrue(iva.add(new IntValue(count)));
  assertTrue(iva.addAll(iva));
  assertEquals(iva,iva.copy());
  IntValueArray ivaTo=new IntValueArray();
  iva.copyTo(ivaTo);
  assertEquals(iva,ivaTo);
  int size=iva.size();
  iva.mark();
  assertTrue(iva.add(new IntValue()));
  assertEquals(size + 1,iva.size());
  iva.reset();
  assertEquals(size,iva.size());
  iva.clear();
  assertEquals(0,iva.size());
}
