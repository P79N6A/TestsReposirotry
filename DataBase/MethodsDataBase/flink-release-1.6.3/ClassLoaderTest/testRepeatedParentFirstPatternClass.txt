@Test public void testRepeatedParentFirstPatternClass() throws Exception {
  final String className=ClassLoaderTest.class.getName();
  final String parentFirstPattern=className.substring(0,className.lastIndexOf('.'));
  final ClassLoader parentClassLoader=getClass().getClassLoader();
  final URL childCodePath=getClass().getProtectionDomain().getCodeSource().getLocation();
  final URLClassLoader childClassLoader=FlinkUserCodeClassLoaders.childFirst(new URL[]{childCodePath},parentClassLoader,new String[]{parentFirstPattern});
  final Class<?> clazz1=Class.forName(className,false,parentClassLoader);
  final Class<?> clazz2=Class.forName(className,false,childClassLoader);
  final Class<?> clazz3=Class.forName(className,false,childClassLoader);
  final Class<?> clazz4=Class.forName(className,false,childClassLoader);
  assertEquals(clazz1,clazz2);
  assertEquals(clazz1,clazz3);
  assertEquals(clazz1,clazz4);
  childClassLoader.close();
}
