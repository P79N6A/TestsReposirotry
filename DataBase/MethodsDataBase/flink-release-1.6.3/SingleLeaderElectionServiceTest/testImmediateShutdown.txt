@Test public void testImmediateShutdown() throws Exception {
  final UUID uuid=UUID.randomUUID();
  final SingleLeaderElectionService service=new SingleLeaderElectionService(executor,uuid);
  service.shutdown();
  final LeaderContender contender=mock(LeaderContender.class);
  try {
    service.start(contender);
    fail("should fail with an exception");
  }
 catch (  IllegalStateException e) {
  }
  verify(contender,times(0)).grantLeadership(any(UUID.class));
}
