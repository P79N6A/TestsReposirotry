@Test public void testKerberosLoginContextParsing(){
  List<String> expectedLoginContexts=Arrays.asList("Foo bar","Client");
  Configuration testFlinkConf;
  SecurityConfiguration testSecurityConf;
  testFlinkConf=new Configuration();
  testFlinkConf.setString(SecurityOptions.KERBEROS_LOGIN_CONTEXTS,"Foo bar,Client");
  testSecurityConf=new SecurityConfiguration(testFlinkConf,Collections.singletonList(new TestSecurityModule.Factory()));
  assertEquals(expectedLoginContexts,testSecurityConf.getLoginContextNames());
  testFlinkConf=new Configuration();
  testFlinkConf.setString(SecurityOptions.KERBEROS_LOGIN_CONTEXTS,"Foo bar , Client");
  testSecurityConf=new SecurityConfiguration(testFlinkConf,Collections.singletonList(new TestSecurityModule.Factory()));
  assertEquals(expectedLoginContexts,testSecurityConf.getLoginContextNames());
  testFlinkConf=new Configuration();
  testFlinkConf.setString(SecurityOptions.KERBEROS_LOGIN_CONTEXTS," Foo bar , Client ");
  testSecurityConf=new SecurityConfiguration(testFlinkConf,Collections.singletonList(new TestSecurityModule.Factory()));
  assertEquals(expectedLoginContexts,testSecurityConf.getLoginContextNames());
  testFlinkConf=new Configuration();
  testFlinkConf.setString(SecurityOptions.KERBEROS_LOGIN_CONTEXTS,"Foo bar,,Client");
  testSecurityConf=new SecurityConfiguration(testFlinkConf,Collections.singletonList(new TestSecurityModule.Factory()));
  assertEquals(expectedLoginContexts,testSecurityConf.getLoginContextNames());
  testFlinkConf=new Configuration();
  testFlinkConf.setString(SecurityOptions.KERBEROS_LOGIN_CONTEXTS,"Foo bar, ,, Client,");
  testSecurityConf=new SecurityConfiguration(testFlinkConf,Collections.singletonList(new TestSecurityModule.Factory()));
  assertEquals(expectedLoginContexts,testSecurityConf.getLoginContextNames());
}
