@Test public void appendOverSize(){
  BufferBuilder bufferBuilder=createBufferBuilder();
  BufferConsumer bufferConsumer=bufferBuilder.createBufferConsumer();
  ByteBuffer bytesToWrite=toByteBuffer(0,1,2,3,4,5,6,7,8,9,42);
  assertEquals(BUFFER_SIZE,bufferBuilder.appendAndCommit(bytesToWrite));
  assertTrue(bufferBuilder.isFull());
  assertContent(bufferConsumer,0,1,2,3,4,5,6,7,8,9);
  bufferBuilder=createBufferBuilder();
  bufferConsumer=bufferBuilder.createBufferConsumer();
  assertEquals(Integer.BYTES,bufferBuilder.appendAndCommit(bytesToWrite));
  assertFalse(bufferBuilder.isFull());
  assertContent(bufferConsumer,42);
}
