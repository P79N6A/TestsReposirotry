/** 
 * FLINK-6775, tests that the returned serializer is duplicated. This allows to share the state descriptor across threads.
 */
@Test public void testSerializerDuplication() throws Exception {
  TypeSerializer<String> statefulSerializer=new KryoSerializer<>(String.class,new ExecutionConfig());
  TestStateDescriptor<String> descr=new TestStateDescriptor<>("foobar",statefulSerializer);
  TypeSerializer<String> serializerA=descr.getSerializer();
  TypeSerializer<String> serializerB=descr.getSerializer();
  assertNotSame(serializerA,serializerB);
}
