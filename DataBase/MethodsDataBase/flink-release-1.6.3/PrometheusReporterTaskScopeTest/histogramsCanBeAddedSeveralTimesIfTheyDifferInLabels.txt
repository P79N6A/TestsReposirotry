@Test public void histogramsCanBeAddedSeveralTimesIfTheyDifferInLabels() throws UnirestException {
  Histogram histogram=new TestHistogram();
  taskMetricGroup1.histogram("my_histogram",histogram);
  taskMetricGroup2.histogram("my_histogram",histogram);
  final String exportedMetrics=pollMetrics(reporter.getPort()).getBody();
  assertThat(exportedMetrics,containsString("subtask_index=\"0\",quantile=\"0.5\",} 0.5"));
  assertThat(exportedMetrics,containsString("subtask_index=\"1\",quantile=\"0.5\",} 0.5"));
  final String[] labelNamesWithQuantile=addToArray(LABEL_NAMES,"quantile");
  for (  Double quantile : PrometheusReporter.HistogramSummaryProxy.QUANTILES) {
    assertThat(CollectorRegistry.defaultRegistry.getSampleValue("flink_taskmanager_job_task_my_histogram",labelNamesWithQuantile,addToArray(labelValues1,"" + quantile)),equalTo(quantile));
    assertThat(CollectorRegistry.defaultRegistry.getSampleValue("flink_taskmanager_job_task_my_histogram",labelNamesWithQuantile,addToArray(labelValues2,"" + quantile)),equalTo(quantile));
  }
}
