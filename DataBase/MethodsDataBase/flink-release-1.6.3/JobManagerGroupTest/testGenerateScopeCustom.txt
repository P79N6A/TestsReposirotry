@Test public void testGenerateScopeCustom() throws Exception {
  Configuration cfg=new Configuration();
  cfg.setString(MetricOptions.SCOPE_NAMING_JM,"constant.<host>.foo.<host>");
  MetricRegistryImpl registry=new MetricRegistryImpl(MetricRegistryConfiguration.fromConfiguration(cfg));
  JobManagerMetricGroup group=new JobManagerMetricGroup(registry,"host");
  assertArrayEquals(new String[]{"constant","host","foo","host"},group.getScopeComponents());
  assertEquals("constant.host.foo.host.name",group.getMetricIdentifier("name"));
  registry.shutdown().get();
}
