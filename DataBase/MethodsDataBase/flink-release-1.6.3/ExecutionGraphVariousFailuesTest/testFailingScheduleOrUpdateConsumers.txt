/** 
 * Tests that a failing scheduleOrUpdateConsumers call with a non-existing execution attempt id, will not fail the execution graph.
 */
@Test public void testFailingScheduleOrUpdateConsumers() throws Exception {
  final ExecutionGraph eg=ExecutionGraphTestUtils.createSimpleTestGraph(new InfiniteDelayRestartStrategy(10));
  eg.scheduleForExecution();
  assertEquals(JobStatus.RUNNING,eg.getState());
  ExecutionGraphTestUtils.switchAllVerticesToRunning(eg);
  IntermediateResultPartitionID intermediateResultPartitionId=new IntermediateResultPartitionID();
  ExecutionAttemptID producerId=new ExecutionAttemptID();
  ResultPartitionID resultPartitionId=new ResultPartitionID(intermediateResultPartitionId,producerId);
  try {
    eg.scheduleOrUpdateConsumers(resultPartitionId);
    fail("Expected ExecutionGraphException.");
  }
 catch (  ExecutionGraphException e) {
  }
  assertEquals(JobStatus.RUNNING,eg.getState());
}
