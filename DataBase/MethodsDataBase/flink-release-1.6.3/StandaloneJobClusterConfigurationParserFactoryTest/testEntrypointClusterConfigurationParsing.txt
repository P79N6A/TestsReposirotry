@Test public void testEntrypointClusterConfigurationParsing() throws FlinkParseException {
  final String key="key";
  final String value="value";
  final int restPort=1234;
  final String arg1="arg1";
  final String arg2="arg2";
  final String[] args={"--configDir",CONFIG_DIR,"--webui-port",String.valueOf(restPort),"--job-classname",JOB_CLASS_NAME,String.format("-D%s=%s",key,value),arg1,arg2};
  final StandaloneJobClusterConfiguration clusterConfiguration=commandLineParser.parse(args);
  assertThat(clusterConfiguration.getConfigDir(),is(equalTo(CONFIG_DIR)));
  assertThat(clusterConfiguration.getJobClassName(),is(equalTo(JOB_CLASS_NAME)));
  assertThat(clusterConfiguration.getRestPort(),is(equalTo(restPort)));
  final Properties dynamicProperties=clusterConfiguration.getDynamicProperties();
  assertThat(dynamicProperties,hasEntry(key,value));
  assertThat(clusterConfiguration.getArgs(),arrayContaining(arg1,arg2));
  assertThat(clusterConfiguration.getSavepointRestoreSettings(),is(equalTo(SavepointRestoreSettings.none())));
}
