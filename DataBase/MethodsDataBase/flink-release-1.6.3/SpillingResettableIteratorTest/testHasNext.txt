/** 
 * Tests whether multiple call of hasNext() changes the state of the iterator
 */
@Test public void testHasNext(){
  try {
    SpillingResettableIterator<IntValue> iterator=new SpillingResettableIterator<IntValue>(this.reader,this.serializer,this.memman,this.ioman,2,this.memOwner);
    iterator.open();
    int cnt=0;
    while (iterator.hasNext()) {
      iterator.hasNext();
      iterator.next();
      cnt++;
    }
    Assert.assertTrue(cnt + " elements read from iterator, but " + NUM_TESTRECORDS+ " expected",cnt == NUM_TESTRECORDS);
    iterator.close();
  }
 catch (  Exception ex) {
    ex.printStackTrace();
    Assert.fail("Test encountered an exception.");
  }
}
