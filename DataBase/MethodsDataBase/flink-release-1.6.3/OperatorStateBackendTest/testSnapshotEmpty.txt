@Test public void testSnapshotEmpty() throws Exception {
  final AbstractStateBackend abstractStateBackend=new MemoryStateBackend(4096);
  final OperatorStateBackend operatorStateBackend=abstractStateBackend.createOperatorStateBackend(createMockEnvironment(),"testOperator");
  CheckpointStreamFactory streamFactory=new MemCheckpointStreamFactory(4096);
  RunnableFuture<SnapshotResult<OperatorStateHandle>> snapshot=operatorStateBackend.snapshot(0L,0L,streamFactory,CheckpointOptions.forCheckpointWithDefaultLocation());
  SnapshotResult<OperatorStateHandle> snapshotResult=FutureUtil.runIfNotDoneAndGet(snapshot);
  OperatorStateHandle stateHandle=snapshotResult.getJobManagerOwnedSnapshot();
  assertNull(stateHandle);
}
