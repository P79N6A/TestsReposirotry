/** 
 * Checks that the postStop callback is executed within the main thread.
 */
@Test public void testPostStopExecutedByMainThread() throws Exception {
  SimpleRpcEndpoint simpleRpcEndpoint=new SimpleRpcEndpoint(akkaRpcService,"SimpleRpcEndpoint");
  simpleRpcEndpoint.start();
  simpleRpcEndpoint.shutDown();
  CompletableFuture<Void> terminationFuture=simpleRpcEndpoint.getTerminationFuture();
  terminationFuture.get();
}
