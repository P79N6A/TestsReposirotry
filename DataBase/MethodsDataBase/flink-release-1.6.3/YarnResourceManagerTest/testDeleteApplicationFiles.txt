/** 
 * Tests that application files are deleted when the YARN application master is de-registered.
 */
@Test public void testDeleteApplicationFiles() throws Exception {
  new Context(){
{
      final File applicationDir=folder.newFolder(".flink");
      env.put(FLINK_YARN_FILES,applicationDir.getCanonicalPath());
      startResourceManager();
      resourceManager.deregisterApplication(ApplicationStatus.SUCCEEDED,null);
      assertFalse("YARN application directory was not removed",Files.exists(applicationDir.toPath()));
    }
  }
;
}
