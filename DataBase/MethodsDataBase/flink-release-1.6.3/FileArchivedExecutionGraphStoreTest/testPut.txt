/** 
 * Tests that we can put  {@link ArchivedExecutionGraph} into the{@link FileArchivedExecutionGraphStore} and that the graph is persisted.
 */
@Test public void testPut() throws IOException {
  final ArchivedExecutionGraph dummyExecutionGraph=new ArchivedExecutionGraphBuilder().setState(JobStatus.FINISHED).build();
  final File rootDir=temporaryFolder.newFolder();
  try (final FileArchivedExecutionGraphStore executionGraphStore=createDefaultExecutionGraphStore(rootDir)){
    final File storageDirectory=executionGraphStore.getStorageDir();
    assertThat(storageDirectory.listFiles().length,Matchers.equalTo(0));
    executionGraphStore.put(dummyExecutionGraph);
    assertThat(storageDirectory.listFiles().length,Matchers.equalTo(1));
    assertThat(executionGraphStore.get(dummyExecutionGraph.getJobID()),new PartialArchivedExecutionGraphMatcher(dummyExecutionGraph));
  }
 }
