/** 
 * Tests that we obtain the correct jobs overview.
 */
@Test public void testStoredJobsOverview() throws IOException {
  final int numberExecutionGraphs=10;
  final Collection<ArchivedExecutionGraph> executionGraphs=generateTerminalExecutionGraphs(numberExecutionGraphs);
  final List<JobStatus> jobStatuses=executionGraphs.stream().map(ArchivedExecutionGraph::getState).collect(Collectors.toList());
  final JobsOverview expectedJobsOverview=JobsOverview.create(jobStatuses);
  final File rootDir=temporaryFolder.newFolder();
  try (final FileArchivedExecutionGraphStore executionGraphStore=createDefaultExecutionGraphStore(rootDir)){
    for (    ArchivedExecutionGraph executionGraph : executionGraphs) {
      executionGraphStore.put(executionGraph);
    }
    assertThat(executionGraphStore.getStoredJobsOverview(),Matchers.equalTo(expectedJobsOverview));
  }
 }
