@Test public void testSavepointsInOneDirectoryCustomLocation() throws Exception {
  final Path savepointDir=Path.fromLocalFile(tmp.newFolder());
  final FsCheckpointStorage storage=new FsCheckpointStorage(Path.fromLocalFile(tmp.newFolder()),null,new JobID(),FILE_SIZE_THRESHOLD);
  final FsCheckpointStorageLocation savepointLocation=(FsCheckpointStorageLocation)storage.initializeLocationForSavepoint(52452L,savepointDir.toString());
  assertParent(savepointDir,savepointLocation.getCheckpointDirectory());
  assertParent(savepointDir,savepointLocation.getSharedStateDirectory());
  assertParent(savepointDir,savepointLocation.getTaskOwnedStateDirectory());
  savepointLocation.disposeOnFailure();
}
