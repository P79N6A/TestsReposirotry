/** 
 * Verify failure on invalid ssl configuration.
 */
@Test public void testInvalidSslConfiguration() throws Exception {
  NettyProtocol protocol=new NoOpProtocol();
  Configuration config=createSslConfig();
  config.setString(SecurityOptions.SSL_INTERNAL_KEYSTORE_PASSWORD,"invalidpassword");
  NettyConfig nettyConfig=createNettyConfig(config);
  NettyTestUtil.NettyServerAndClient serverAndClient=null;
  try {
    serverAndClient=NettyTestUtil.initServerAndClient(protocol,nettyConfig);
    Assert.fail("Created server and client from invalid configuration");
  }
 catch (  Exception e) {
  }
  NettyTestUtil.shutdown(serverAndClient);
}
