@Test public void testSerializationFailureHandling() throws Exception {
  final Path jobGraphFile=TEMPORARY_FOLDER.newFile().toPath();
  DispatcherGateway mockGateway=new TestingDispatcherGateway.Builder().setSubmitFunction(jobGraph -> CompletableFuture.completedFuture(Acknowledge.get())).build();
  JobSubmitHandler handler=new JobSubmitHandler(CompletableFuture.completedFuture("http://localhost:1234"),() -> CompletableFuture.completedFuture(mockGateway),RpcUtils.INF_TIMEOUT,Collections.emptyMap(),TestingUtils.defaultExecutor(),configuration);
  JobSubmitRequestBody request=new JobSubmitRequestBody(jobGraphFile.toString(),Collections.emptyList(),Collections.emptyList());
  try {
    handler.handleRequest(new HandlerRequest<>(request,EmptyMessageParameters.getInstance()),mockGateway);
    Assert.fail();
  }
 catch (  RestHandlerException rhe) {
    Assert.assertEquals(HttpResponseStatus.BAD_REQUEST,rhe.getHttpResponseStatus());
  }
}
