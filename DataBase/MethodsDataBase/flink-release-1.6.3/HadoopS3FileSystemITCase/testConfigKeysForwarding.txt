@Test public void testConfigKeysForwarding() throws Exception {
  final Path path=new Path(getBasePath());
{
    FileSystem.initialize(new Configuration());
    try {
      path.getFileSystem();
      fail("should fail with an exception");
    }
 catch (    IOException ignored) {
    }
  }
{
    Configuration conf=new Configuration();
    conf.setString("fs.s3a.access.key",ACCESS_KEY);
    conf.setString("fs.s3a.secret.key",SECRET_KEY);
    FileSystem.initialize(conf);
    path.getFileSystem();
  }
{
    Configuration conf=new Configuration();
    conf.setString("s3.access.key",ACCESS_KEY);
    conf.setString("s3.secret.key",SECRET_KEY);
    FileSystem.initialize(conf);
    path.getFileSystem();
  }
{
    Configuration conf=new Configuration();
    conf.setString("s3.access-key",ACCESS_KEY);
    conf.setString("s3.secret-key",SECRET_KEY);
    FileSystem.initialize(conf);
    path.getFileSystem();
  }
  FileSystem.initialize(new Configuration());
  try {
    path.getFileSystem();
    fail("should fail with an exception");
  }
 catch (  IOException ignored) {
  }
}
