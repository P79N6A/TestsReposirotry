@Test public void testMapStateDescriptor() throws Exception {
  TypeSerializer<Integer> keySerializer=new KryoSerializer<>(Integer.class,new ExecutionConfig());
  TypeSerializer<String> valueSerializer=new KryoSerializer<>(String.class,new ExecutionConfig());
  MapStateDescriptor<Integer,String> descr=new MapStateDescriptor<>("testName",keySerializer,valueSerializer);
  assertEquals("testName",descr.getName());
  assertNotNull(descr.getSerializer());
  assertTrue(descr.getSerializer() instanceof MapSerializer);
  assertNotNull(descr.getKeySerializer());
  assertEquals(keySerializer,descr.getKeySerializer());
  assertNotNull(descr.getValueSerializer());
  assertEquals(valueSerializer,descr.getValueSerializer());
  MapStateDescriptor<Integer,String> copy=CommonTestUtils.createCopySerializable(descr);
  assertEquals("testName",copy.getName());
  assertNotNull(copy.getSerializer());
  assertTrue(copy.getSerializer() instanceof MapSerializer);
  assertNotNull(copy.getKeySerializer());
  assertEquals(keySerializer,copy.getKeySerializer());
  assertNotNull(copy.getValueSerializer());
  assertEquals(valueSerializer,copy.getValueSerializer());
}
