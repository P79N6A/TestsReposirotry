@Test public void testReturnEmptyListIfNoComponentMetricStore() throws Exception {
  testMetricsHandler.returnComponentMetricStore=false;
  final CompletableFuture<MetricCollectionResponseBody> completableFuture=testMetricsHandler.handleRequest(new HandlerRequest<>(EmptyRequestBody.getInstance(),new TestMessageParameters(),Collections.emptyMap(),Collections.emptyMap()),mockDispatcherGateway);
  assertTrue(completableFuture.isDone());
  final MetricCollectionResponseBody metricCollectionResponseBody=completableFuture.get();
  assertThat(metricCollectionResponseBody.getMetrics(),empty());
}
