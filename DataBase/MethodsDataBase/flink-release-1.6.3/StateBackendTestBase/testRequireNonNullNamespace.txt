/** 
 * Previously, it was possible to create partitioned state with <code>null</code> namespace. This test makes sure that this is prohibited now.
 */
@Test public void testRequireNonNullNamespace() throws Exception {
  final AbstractKeyedStateBackend<Integer> backend=createKeyedBackend(IntSerializer.INSTANCE);
  ValueStateDescriptor<IntValue> kvId=new ValueStateDescriptor<>("id",IntValue.class,new IntValue(-1));
  try {
    backend.getPartitionedState(null,VoidNamespaceSerializer.INSTANCE,kvId);
    fail("Did not throw expected NullPointerException");
  }
 catch (  NullPointerException ignored) {
  }
  try {
    backend.getPartitionedState(VoidNamespace.INSTANCE,null,kvId);
    fail("Did not throw expected NullPointerException");
  }
 catch (  NullPointerException ignored) {
  }
  try {
    backend.getPartitionedState(null,null,kvId);
    fail("Did not throw expected NullPointerException");
  }
 catch (  NullPointerException ignored) {
  }
  backend.dispose();
}
