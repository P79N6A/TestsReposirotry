@Test public void testNotifyOfCompletedCheckpoint() throws Exception {
  harness.open();
  harness.processElement("42",0);
  harness.snapshot(0,1);
  harness.processElement("43",2);
  harness.snapshot(1,3);
  harness.processElement("44",4);
  harness.snapshot(2,5);
  harness.notifyOfCompletedCheckpoint(1);
  assertExactlyOnce(Arrays.asList("42","43"));
  assertEquals(2,tmpDirectory.listFiles().size());
}
