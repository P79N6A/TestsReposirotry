@Test public void testCurrentEventTime() throws Exception {
  @SuppressWarnings("unchecked") Triggerable<Integer,String> mockTriggerable=mock(Triggerable.class);
  TestKeyContext keyContext=new TestKeyContext();
  TestProcessingTimeService processingTimeService=new TestProcessingTimeService();
  InternalTimerServiceImpl<Integer,String> timerService=createAndStartInternalTimerService(mockTriggerable,keyContext,processingTimeService,testKeyGroupRange,createQueueFactory());
  timerService.advanceWatermark(17);
  assertEquals(17,timerService.currentWatermark());
  timerService.advanceWatermark(42);
  assertEquals(42,timerService.currentWatermark());
}
