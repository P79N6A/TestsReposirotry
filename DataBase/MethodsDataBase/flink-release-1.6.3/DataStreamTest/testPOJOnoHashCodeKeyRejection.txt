@Test public void testPOJOnoHashCodeKeyRejection(){
  KeySelector<POJOWithoutHashCode,POJOWithoutHashCode> keySelector=new KeySelector<POJOWithoutHashCode,POJOWithoutHashCode>(){
    @Override public POJOWithoutHashCode getKey(    POJOWithoutHashCode value) throws Exception {
      return value;
    }
  }
;
  StreamExecutionEnvironment env=StreamExecutionEnvironment.getExecutionEnvironment();
  DataStream<POJOWithoutHashCode> input=env.fromElements(new POJOWithoutHashCode(new int[]{1,2}));
  expectedException.expect(InvalidProgramException.class);
  input.keyBy(keySelector);
}
