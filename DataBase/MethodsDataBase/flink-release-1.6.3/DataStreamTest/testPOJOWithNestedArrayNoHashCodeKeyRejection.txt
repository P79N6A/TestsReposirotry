@Test public void testPOJOWithNestedArrayNoHashCodeKeyRejection(){
  StreamExecutionEnvironment env=StreamExecutionEnvironment.getExecutionEnvironment();
  DataStream<POJOWithHashCode> input=env.fromElements(new POJOWithHashCode(new int[]{1,2}));
  TypeInformation<?> expectedTypeInfo=new TupleTypeInfo<Tuple1<int[]>>(PrimitiveArrayTypeInfo.INT_PRIMITIVE_ARRAY_TYPE_INFO);
  expectedException.expect(InvalidProgramException.class);
  expectedException.expectMessage(new StringStartsWith("Type " + expectedTypeInfo + " cannot be used as key."));
  input.keyBy("id");
}
