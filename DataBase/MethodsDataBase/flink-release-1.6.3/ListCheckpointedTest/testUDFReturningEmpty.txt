@Test public void testUDFReturningEmpty() throws Exception {
  TestUserFunction userFunction=new TestUserFunction(Collections.<Integer>emptyList());
  AbstractStreamOperatorTestHarness<Integer> testHarness=new AbstractStreamOperatorTestHarness<>(new StreamMap<>(userFunction),1,1,0);
  testHarness.open();
  OperatorSubtaskState snapshot=testHarness.snapshot(0L,0L);
  testHarness.initializeState(snapshot);
  Assert.assertTrue(userFunction.isRestored());
}
