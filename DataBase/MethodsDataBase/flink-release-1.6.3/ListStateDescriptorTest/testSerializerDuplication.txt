/** 
 * FLINK-6775. <p>Tests that the returned serializer is duplicated. This allows to share the state descriptor.
 */
@Test public void testSerializerDuplication(){
  TypeSerializer<String> statefulSerializer=new KryoSerializer<>(String.class,new ExecutionConfig());
  ListStateDescriptor<String> descr=new ListStateDescriptor<>("foobar",statefulSerializer);
  TypeSerializer<String> serializerA=descr.getElementSerializer();
  TypeSerializer<String> serializerB=descr.getElementSerializer();
  assertNotSame(serializerA,serializerB);
  TypeSerializer<List<String>> listSerializerA=descr.getSerializer();
  TypeSerializer<List<String>> listSerializerB=descr.getSerializer();
  assertNotSame(listSerializerA,listSerializerB);
}
