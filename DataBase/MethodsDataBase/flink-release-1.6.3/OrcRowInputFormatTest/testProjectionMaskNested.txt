@Test public void testProjectionMaskNested() throws IOException {
  rowOrcInputFormat=new OrcRowInputFormat(getPath(TEST_FILE_NESTED),TEST_SCHEMA_NESTED,new Configuration());
  OrcRowInputFormat spy=spy(rowOrcInputFormat);
  Reader.Options options=new Reader.Options();
  doReturn(options).when(spy).getOptions(any());
  spy.selectFields(9,11,2);
  spy.openInputFormat();
  FileInputSplit[] splits=spy.createInputSplits(1);
  spy.open(splits[0]);
  boolean[] expected=new boolean[]{false,false,false,true,false,false,false,false,false,false,true,true,true,true,true,false,false,false,false,true,true,true,true,true};
  assertArrayEquals(expected,options.getInclude());
}
