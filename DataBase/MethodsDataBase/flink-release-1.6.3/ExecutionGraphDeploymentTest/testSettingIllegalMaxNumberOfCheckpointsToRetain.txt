@Test public void testSettingIllegalMaxNumberOfCheckpointsToRetain() throws Exception {
  final int negativeMaxNumberOfCheckpointsToRetain=-10;
  final Configuration jobManagerConfig=new Configuration();
  jobManagerConfig.setInteger(CheckpointingOptions.MAX_RETAINED_CHECKPOINTS,negativeMaxNumberOfCheckpointsToRetain);
  final ExecutionGraph eg=createExecutionGraph(jobManagerConfig);
  assertNotEquals(negativeMaxNumberOfCheckpointsToRetain,eg.getCheckpointCoordinator().getCheckpointStore().getMaxNumberOfRetainedCheckpoints());
  assertEquals(CheckpointingOptions.MAX_RETAINED_CHECKPOINTS.defaultValue().intValue(),eg.getCheckpointCoordinator().getCheckpointStore().getMaxNumberOfRetainedCheckpoints());
}
