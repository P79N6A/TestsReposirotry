/** 
 * Tests that in a streaming use case where checkpointing is enabled, there is no default strategy set on the client side.
 */
@Test public void testFallbackStrategyOnClientSideWhenCheckpointingEnabled() throws Exception {
  StreamExecutionEnvironment env=StreamExecutionEnvironment.getExecutionEnvironment();
  env.enableCheckpointing(500);
  env.fromElements(1).print();
  StreamGraph graph=env.getStreamGraph();
  JobGraph jobGraph=graph.getJobGraph();
  RestartStrategies.RestartStrategyConfiguration restartStrategy=jobGraph.getSerializedExecutionConfig().deserializeValue(getClass().getClassLoader()).getRestartStrategy();
  Assert.assertNotNull(restartStrategy);
  Assert.assertTrue(restartStrategy instanceof RestartStrategies.FallbackRestartStrategyConfiguration);
}
