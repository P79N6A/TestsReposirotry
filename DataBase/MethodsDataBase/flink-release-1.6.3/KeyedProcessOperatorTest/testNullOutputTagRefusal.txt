@Test public void testNullOutputTagRefusal() throws Exception {
  KeyedProcessOperator<Integer,Integer,String> operator=new KeyedProcessOperator<>(new NullOutputTagEmittingProcessFunction());
  OneInputStreamOperatorTestHarness<Integer,String> testHarness=new KeyedOneInputStreamOperatorTestHarness<>(operator,new IdentityKeySelector<>(),BasicTypeInfo.INT_TYPE_INFO);
  testHarness.setup();
  testHarness.open();
  testHarness.setProcessingTime(17);
  try {
    expectedException.expect(IllegalArgumentException.class);
    testHarness.processElement(new StreamRecord<>(5));
  }
  finally {
    testHarness.close();
  }
}
