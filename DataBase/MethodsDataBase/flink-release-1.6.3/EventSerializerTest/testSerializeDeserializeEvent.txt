@Test public void testSerializeDeserializeEvent() throws Exception {
  AbstractEvent[] events={EndOfPartitionEvent.INSTANCE,EndOfSuperstepEvent.INSTANCE,new CheckpointBarrier(1678L,4623784L,CheckpointOptions.forCheckpointWithDefaultLocation()),new TestTaskEvent(Math.random(),12361231273L),new CancelCheckpointMarker(287087987329842L)};
  for (  AbstractEvent evt : events) {
    ByteBuffer serializedEvent=EventSerializer.toSerializedEvent(evt);
    assertTrue(serializedEvent.hasRemaining());
    AbstractEvent deserialized=EventSerializer.fromSerializedEvent(serializedEvent,getClass().getClassLoader());
    assertNotNull(deserialized);
    assertEquals(evt,deserialized);
  }
}
