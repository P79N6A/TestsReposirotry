/** 
 * Test that  {@link FileUtils#deletePathIfEmpty(FileSystem,Path)} deletes the path if it isempty. A path can only be empty if it is a directory which does not contain any files/directories.
 */
@Test public void testDeletePathIfEmpty() throws IOException {
  File file=temporaryFolder.newFile();
  File directory=temporaryFolder.newFolder();
  File directoryFile=new File(directory,UUID.randomUUID().toString());
  assertTrue(directoryFile.createNewFile());
  Path filePath=new Path(file.toURI());
  Path directoryPath=new Path(directory.toURI());
  Path directoryFilePath=new Path(directoryFile.toURI());
  FileSystem fs=FileSystem.getLocalFileSystem();
  assertTrue(fs.exists(filePath));
  assertTrue(fs.exists(directoryFilePath));
  assertFalse(FileUtils.deletePathIfEmpty(fs,filePath));
  assertTrue(fs.exists(filePath));
  assertFalse(FileUtils.deletePathIfEmpty(fs,directoryPath));
  assertTrue(fs.exists(directoryPath));
  assertTrue(fs.delete(directoryFilePath,false));
  assertTrue(FileUtils.deletePathIfEmpty(fs,directoryPath));
  assertFalse(fs.exists(directoryPath));
}
