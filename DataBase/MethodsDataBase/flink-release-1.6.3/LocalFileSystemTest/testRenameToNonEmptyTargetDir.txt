@Test public void testRenameToNonEmptyTargetDir() throws IOException {
  final FileSystem fs=FileSystem.getLocalFileSystem();
  final File srcFolder=temporaryFolder.newFolder();
  final File srcFile=new File(srcFolder,"someFile.txt");
  assertTrue(srcFile.createNewFile());
  final File dstFolder=temporaryFolder.newFolder();
  final File dstFile=new File(dstFolder,"target");
  assertTrue(dstFile.createNewFile());
  assertFalse(fs.rename(new Path(srcFolder.toURI()),new Path(dstFolder.toURI())));
  assertTrue(dstFile.delete());
  assertTrue(fs.rename(new Path(srcFolder.toURI()),new Path(dstFolder.toURI())));
  assertTrue(new File(dstFolder,srcFile.getName()).exists());
}
