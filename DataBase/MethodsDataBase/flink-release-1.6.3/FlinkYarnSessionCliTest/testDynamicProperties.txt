@Test public void testDynamicProperties() throws Exception {
  FlinkYarnSessionCli cli=new FlinkYarnSessionCli(new Configuration(),tmp.getRoot().getAbsolutePath(),"","",false);
  Options options=new Options();
  cli.addGeneralOptions(options);
  cli.addRunOptions(options);
  CommandLineParser parser=new DefaultParser();
  CommandLine cmd=parser.parse(options,new String[]{"run","-j","fake.jar","-n","15","-D","akka.ask.timeout=5 min","-D","env.java.opts=-DappName=foobar"});
  AbstractYarnClusterDescriptor flinkYarnDescriptor=cli.createClusterDescriptor(cmd);
  Assert.assertNotNull(flinkYarnDescriptor);
  Map<String,String> dynProperties=FlinkYarnSessionCli.getDynamicProperties(flinkYarnDescriptor.getDynamicPropertiesEncoded());
  assertEquals(2,dynProperties.size());
  assertEquals("5 min",dynProperties.get("akka.ask.timeout"));
  assertEquals("-DappName=foobar",dynProperties.get("env.java.opts"));
}
