@Test public void testCorrectSettingOfDetachedMode() throws Exception {
  String[] params=new String[]{"-yd"};
  FlinkYarnSessionCli yarnCLI=new FlinkYarnSessionCli(new Configuration(),tmp.getRoot().getAbsolutePath(),"y","yarn");
  final CommandLine commandLine=yarnCLI.parseCommandLineOptions(params,true);
  AbstractYarnClusterDescriptor descriptor=yarnCLI.createClusterDescriptor(commandLine);
  assertTrue(descriptor.isDetachedMode());
}
