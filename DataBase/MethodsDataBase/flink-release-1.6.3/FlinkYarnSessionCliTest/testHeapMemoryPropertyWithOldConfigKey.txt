/** 
 * Tests the specifying heap memory with old config key for job manager and task manager.
 */
@Test public void testHeapMemoryPropertyWithOldConfigKey() throws Exception {
  Configuration configuration=new Configuration();
  configuration.setInteger(JobManagerOptions.JOB_MANAGER_HEAP_MEMORY_MB,2048);
  configuration.setInteger(TaskManagerOptions.TASK_MANAGER_HEAP_MEMORY_MB,4096);
  final FlinkYarnSessionCli flinkYarnSessionCli=new FlinkYarnSessionCli(configuration,tmp.getRoot().getAbsolutePath(),"y","yarn");
  final CommandLine commandLine=flinkYarnSessionCli.parseCommandLineOptions(new String[0],false);
  final ClusterSpecification clusterSpecification=flinkYarnSessionCli.getClusterSpecification(commandLine);
  assertThat(clusterSpecification.getMasterMemoryMB(),is(2048));
  assertThat(clusterSpecification.getTaskManagerMemoryMB(),is(4096));
}
