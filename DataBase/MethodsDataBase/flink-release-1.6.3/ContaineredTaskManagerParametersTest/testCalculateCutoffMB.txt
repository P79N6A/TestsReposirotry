/** 
 * Test to guard  {@link ContaineredTaskManagerParameters#calculateCutoffMB(Configuration,long)}.
 */
@Test public void testCalculateCutoffMB(){
  Configuration config=new Configuration();
  long containerMemoryMB=1000L;
  config.setFloat(ResourceManagerOptions.CONTAINERIZED_HEAP_CUTOFF_RATIO,0.1f);
  config.setInteger(ResourceManagerOptions.CONTAINERIZED_HEAP_CUTOFF_MIN,128);
  assertEquals(128,ContaineredTaskManagerParameters.calculateCutoffMB(config,containerMemoryMB));
  config.setFloat(ResourceManagerOptions.CONTAINERIZED_HEAP_CUTOFF_RATIO,0.2f);
  assertEquals(200,ContaineredTaskManagerParameters.calculateCutoffMB(config,containerMemoryMB));
  config.setInteger(ResourceManagerOptions.CONTAINERIZED_HEAP_CUTOFF_MIN,1000);
  try {
    ContaineredTaskManagerParameters.calculateCutoffMB(config,containerMemoryMB);
    fail("Expected to fail with an invalid argument exception.");
  }
 catch (  IllegalArgumentException ignored) {
  }
}
