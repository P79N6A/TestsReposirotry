@Test public void testMultipleEmptyBuffers() throws Exception {
  assertEquals(0,availablityListener.getNumNotifications());
  subpartition.add(createFilledBufferConsumer(0));
  assertEquals(1,availablityListener.getNumNotifications());
  subpartition.add(createFilledBufferConsumer(0));
  assertEquals(2,availablityListener.getNumNotifications());
  subpartition.add(createFilledBufferConsumer(0));
  assertEquals(2,availablityListener.getNumNotifications());
  assertEquals(3,subpartition.getBuffersInBacklog());
  subpartition.add(createFilledBufferConsumer(1024));
  assertEquals(2,availablityListener.getNumNotifications());
  assertNextBuffer(readView,1024,false,0,false,true);
}
