@Test public void testReturnLocalHostAddressUsingHeuristics() throws Exception {
  try (ServerSocket blocker=new ServerSocket(0,1,InetAddress.getLocalHost())){
    InetSocketAddress unreachable=new InetSocketAddress("localhost",blocker.getLocalPort());
    final long start=System.nanoTime();
    InetAddress add=ConnectionUtils.findConnectingAddress(unreachable,2000,400);
    assertTrue(System.nanoTime() - start < 30_000_000_000L);
    assertNotNull(add);
    assertEquals(InetAddress.getLocalHost(),add);
  }
 }
