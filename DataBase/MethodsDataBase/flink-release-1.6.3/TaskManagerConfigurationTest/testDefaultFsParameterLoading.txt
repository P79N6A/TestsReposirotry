@Test public void testDefaultFsParameterLoading() throws Exception {
  try {
    final File tmpDir=temporaryFolder.newFolder();
    final File confFile=new File(tmpDir,GlobalConfiguration.FLINK_CONF_FILENAME);
    final URI defaultFS=new URI("otherFS",null,"localhost",1234,null,null,null);
    final PrintWriter pw1=new PrintWriter(confFile);
    pw1.println("fs.default-scheme: " + defaultFS);
    pw1.close();
    String[] args=new String[]{"--configDir:" + tmpDir};
    TaskManager.parseArgsAndLoadConfig(args);
    assertEquals(defaultFS,FileSystem.getDefaultFsUri());
  }
  finally {
    FileSystem.initialize(new Configuration());
  }
}
