@Test public void testFileMultipart() throws Exception {
  Collection<FileUpload> files=MULTIPART_UPLOAD_RESOURCE.getFilesToUpload().stream().map(file -> new FileUpload(file.toPath(),"application/octet-stream")).collect(Collectors.toList());
  CompletableFuture<EmptyResponseBody> responseFuture=restClient.sendRequest(MULTIPART_UPLOAD_RESOURCE.getServerSocketAddress().getHostName(),MULTIPART_UPLOAD_RESOURCE.getServerSocketAddress().getPort(),MULTIPART_UPLOAD_RESOURCE.getFileHandler().getMessageHeaders(),EmptyMessageParameters.getInstance(),EmptyRequestBody.getInstance(),files);
  responseFuture.get();
}
