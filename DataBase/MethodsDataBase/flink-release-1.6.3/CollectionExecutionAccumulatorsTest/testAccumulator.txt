@Test public void testAccumulator(){
  try {
    final int numElements=100;
    ExecutionEnvironment env=ExecutionEnvironment.createCollectionsEnvironment();
    env.generateSequence(1,numElements).map(new CountingMapper()).output(new DiscardingOutputFormat<Long>());
    JobExecutionResult result=env.execute();
    assertTrue(result.getNetRuntime() >= 0);
    assertEquals(numElements,(int)result.getAccumulatorResult(ACCUMULATOR_NAME));
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}
