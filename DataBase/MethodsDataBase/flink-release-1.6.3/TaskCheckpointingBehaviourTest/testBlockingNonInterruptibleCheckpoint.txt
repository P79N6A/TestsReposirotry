@Test public void testBlockingNonInterruptibleCheckpoint() throws Exception {
  StateBackend lockingStateBackend=new BackendForTestStream(LockingOutputStream::new);
  Task task=createTask(new TestOperator(),lockingStateBackend,mock(CheckpointResponder.class),true);
  task.startTaskThread();
  IN_CHECKPOINT_LATCH.await();
  task.cancelExecution();
  task.getExecutingThread().join();
  assertEquals(ExecutionState.CANCELED,task.getExecutionState());
  assertNull(task.getFailureCause());
}
