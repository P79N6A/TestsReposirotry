/** 
 * Tests triggering for non-running tasks fails the future. 
 */
@Test public void testTriggerStackTraceSampleNotRunningTasks() throws Exception {
  ExecutionVertex[] vertices=new ExecutionVertex[]{mockExecutionVertex(new ExecutionAttemptID(),ExecutionState.RUNNING,true),mockExecutionVertex(new ExecutionAttemptID(),ExecutionState.DEPLOYING,true)};
  CompletableFuture<StackTraceSample> sampleFuture=coord.triggerStackTraceSample(vertices,1,Time.milliseconds(100L),0);
  Assert.assertTrue(sampleFuture.isDone());
  try {
    sampleFuture.get();
    Assert.fail("Expected exception.");
  }
 catch (  ExecutionException e) {
    Assert.assertTrue(e.getCause() instanceof IllegalStateException);
  }
}
