/** 
 * Tests that collecting for a cancelled sample throws no Exception. 
 */
@Test public void testCollectStackTraceForCanceledSample() throws Exception {
  ExecutionVertex[] vertices=new ExecutionVertex[]{mockExecutionVertex(new ExecutionAttemptID(),ExecutionState.RUNNING,true)};
  CompletableFuture<StackTraceSample> sampleFuture=coord.triggerStackTraceSample(vertices,1,Time.milliseconds(100L),0);
  Assert.assertFalse(sampleFuture.isDone());
  coord.cancelStackTraceSample(0,null);
  Assert.assertTrue(sampleFuture.isDone());
  ExecutionAttemptID executionId=vertices[0].getCurrentExecutionAttempt().getAttemptId();
  coord.collectStackTraces(0,executionId,new ArrayList<StackTraceElement[]>());
}
