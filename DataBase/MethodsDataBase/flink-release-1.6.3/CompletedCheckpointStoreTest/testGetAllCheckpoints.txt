/** 
 * Tests that all added checkpoints are returned.
 */
@Test public void testGetAllCheckpoints() throws Exception {
  SharedStateRegistry sharedStateRegistry=new SharedStateRegistry();
  CompletedCheckpointStore checkpoints=createCompletedCheckpoints(4);
  TestCompletedCheckpoint[] expected=new TestCompletedCheckpoint[]{createCheckpoint(0,sharedStateRegistry),createCheckpoint(1,sharedStateRegistry),createCheckpoint(2,sharedStateRegistry),createCheckpoint(3,sharedStateRegistry)};
  for (  TestCompletedCheckpoint checkpoint : expected) {
    checkpoints.addCheckpoint(checkpoint);
  }
  List<CompletedCheckpoint> actual=checkpoints.getAllCheckpoints();
  assertEquals(expected.length,actual.size());
  for (int i=0; i < expected.length; i++) {
    assertEquals(expected[i],actual.get(i));
  }
}
