@Test public void testMissingRmConfiguration() throws Exception {
  final Configuration flinkConfig=new Configuration();
  try {
    new YarnPreConfiguredMasterNonHaServices(flinkConfig,hadoopConfig,HighAvailabilityServicesUtils.AddressResolution.NO_ADDRESS_RESOLUTION);
    fail();
  }
 catch (  IllegalConfigurationException e) {
  }
  flinkConfig.setString(YarnConfigOptions.APP_MASTER_RPC_ADDRESS,"localhost");
  try {
    new YarnPreConfiguredMasterNonHaServices(flinkConfig,hadoopConfig,HighAvailabilityServicesUtils.AddressResolution.NO_ADDRESS_RESOLUTION);
    fail();
  }
 catch (  IllegalConfigurationException e) {
  }
  flinkConfig.setInteger(YarnConfigOptions.APP_MASTER_RPC_PORT,1427);
  new YarnPreConfiguredMasterNonHaServices(flinkConfig,hadoopConfig,HighAvailabilityServicesUtils.AddressResolution.NO_ADDRESS_RESOLUTION).closeAndCleanupAllData();
}
