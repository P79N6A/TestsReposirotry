@Test public void testCallsOnClosedServices() throws Exception {
  final Configuration flinkConfig=new Configuration();
  flinkConfig.setString(YarnConfigOptions.APP_MASTER_RPC_ADDRESS,"localhost");
  flinkConfig.setInteger(YarnConfigOptions.APP_MASTER_RPC_PORT,1427);
  YarnHighAvailabilityServices services=new YarnPreConfiguredMasterNonHaServices(flinkConfig,hadoopConfig,HighAvailabilityServicesUtils.AddressResolution.NO_ADDRESS_RESOLUTION);
  try {
    services.getSubmittedJobGraphStore();
    fail();
  }
 catch (  UnsupportedOperationException ignored) {
  }
  services.close();
  try {
    services.createBlobStore();
    fail();
  }
 catch (  IllegalStateException ignored) {
  }
  try {
    services.getCheckpointRecoveryFactory();
    fail();
  }
 catch (  IllegalStateException ignored) {
  }
  try {
    services.getJobManagerLeaderElectionService(new JobID());
    fail();
  }
 catch (  IllegalStateException ignored) {
  }
  try {
    services.getJobManagerLeaderRetriever(new JobID());
    fail();
  }
 catch (  IllegalStateException ignored) {
  }
  try {
    services.getRunningJobsRegistry();
    fail();
  }
 catch (  IllegalStateException ignored) {
  }
  try {
    services.getResourceManagerLeaderElectionService();
    fail();
  }
 catch (  IllegalStateException ignored) {
  }
  try {
    services.getResourceManagerLeaderRetriever();
    fail();
  }
 catch (  IllegalStateException ignored) {
  }
}
