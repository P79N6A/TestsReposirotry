/** 
 * Tests that the root slot are moved from unresolved to resolved once the slot context future is successfully completed
 */
@Test public void testRootSlotTransition(){
  final TestingAllocatedSlotActions allocatedSlotActions=new TestingAllocatedSlotActions();
  SlotSharingManager slotSharingManager=new SlotSharingManager(SLOT_SHARING_GROUP_ID,allocatedSlotActions,SLOT_OWNER);
  CompletableFuture<SlotContext> slotContextFuture=new CompletableFuture<>();
  SlotSharingManager.MultiTaskSlot rootSlot=slotSharingManager.createRootSlot(new SlotRequestId(),slotContextFuture,new SlotRequestId());
  assertTrue(slotSharingManager.getUnresolvedRootSlots().contains(rootSlot));
  assertFalse(slotSharingManager.getResolvedRootSlots().contains(rootSlot));
  slotContextFuture.complete(new SimpleSlotContext(new AllocationID(),new LocalTaskManagerLocation(),0,new SimpleAckingTaskManagerGateway()));
  assertFalse(slotSharingManager.getUnresolvedRootSlots().contains(rootSlot));
  assertTrue(slotSharingManager.getResolvedRootSlots().contains(rootSlot));
}
