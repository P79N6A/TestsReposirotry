@Test public void testMigrationStrategyForRemovedAvroDependency() throws Exception {
  KryoSerializer<TestClass> kryoSerializerForA=new KryoSerializer<>(TestClass.class,new ExecutionConfig());
  TypeSerializerConfigSnapshot kryoSerializerConfigSnapshot;
  try (InputStream in=getClass().getResourceAsStream("/kryo-serializer-flink1.3-snapshot")){
    kryoSerializerConfigSnapshot=TypeSerializerSerializationUtil.readSerializerConfigSnapshot(new DataInputViewStreamWrapper(in),Thread.currentThread().getContextClassLoader());
  }
   CompatibilityResult<TestClass> compatResult=kryoSerializerForA.ensureCompatibility(kryoSerializerConfigSnapshot);
  assertFalse(compatResult.isRequiresMigration());
}
