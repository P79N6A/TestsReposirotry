@Test public void testSetUserArtifactBlobKey() throws IOException, ClassNotFoundException {
  JobGraph jb=new JobGraph();
  final DistributedCache.DistributedCacheEntry[] entries={new DistributedCache.DistributedCacheEntry("p1",true,true),new DistributedCache.DistributedCacheEntry("p2",true,false),new DistributedCache.DistributedCacheEntry("p3",false,true),new DistributedCache.DistributedCacheEntry("p4",true,false)};
  for (  DistributedCache.DistributedCacheEntry entry : entries) {
    jb.addUserArtifact(entry.filePath,entry);
  }
  for (  DistributedCache.DistributedCacheEntry entry : entries) {
    PermanentBlobKey blobKey=new PermanentBlobKey();
    jb.setUserArtifactBlobKey(entry.filePath,blobKey);
    DistributedCache.DistributedCacheEntry jobGraphEntry=jb.getUserArtifacts().get(entry.filePath);
    assertNotNull(jobGraphEntry);
    assertEquals(blobKey,InstantiationUtil.deserializeObject(jobGraphEntry.blobKey,ClassLoader.getSystemClassLoader(),false));
    assertEquals(entry.isExecutable,jobGraphEntry.isExecutable);
    assertEquals(entry.isZipped,jobGraphEntry.isZipped);
    assertEquals(entry.filePath,jobGraphEntry.filePath);
  }
}
