@Test public void testGetRedirectAddressWithLocalEqualsRemoteRESTAddress() throws Exception {
  JobManagerGateway jobManagerGateway=mock(JobManagerGateway.class);
  when(jobManagerGateway.requestRestAddress(any(Time.class))).thenReturn(CompletableFuture.completedFuture(localRestAddress));
  CompletableFuture<Optional<String>> redirectingAddressFuture=HandlerRedirectUtils.getRedirectAddress(localRestAddress,jobManagerGateway,Time.seconds(3L));
  Assert.assertTrue(redirectingAddressFuture.isDone());
  Assert.assertFalse(redirectingAddressFuture.get().isPresent());
}
