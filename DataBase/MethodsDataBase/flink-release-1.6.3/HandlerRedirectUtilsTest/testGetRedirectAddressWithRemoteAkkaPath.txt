@Test public void testGetRedirectAddressWithRemoteAkkaPath() throws Exception {
  JobManagerGateway jobManagerGateway=mock(AkkaJobManagerGateway.class);
  when(jobManagerGateway.requestRestAddress(any(Time.class))).thenReturn(CompletableFuture.completedFuture(remoteRestAddress));
  CompletableFuture<Optional<String>> optRedirectingAddress=HandlerRedirectUtils.getRedirectAddress(localRestAddress,jobManagerGateway,Time.seconds(3L));
  Assert.assertTrue(optRedirectingAddress.isDone());
  Assert.assertEquals(remoteRestAddress,optRedirectingAddress.get().get());
}
