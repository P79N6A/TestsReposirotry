/** 
 * Tests that the  {@link AkkaRpcService} can execute callables and returns their result asa  {@link CompletableFuture}.
 */
@Test public void testExecuteCallable() throws InterruptedException, ExecutionException, TimeoutException {
  final OneShotLatch latch=new OneShotLatch();
  final int expected=42;
  CompletableFuture<Integer> result=akkaRpcService.execute(new Callable<Integer>(){
    @Override public Integer call() throws Exception {
      latch.trigger();
      return expected;
    }
  }
);
  int actual=result.get(30L,TimeUnit.SECONDS);
  assertEquals(expected,actual);
  assertTrue(latch.isTriggered());
}
