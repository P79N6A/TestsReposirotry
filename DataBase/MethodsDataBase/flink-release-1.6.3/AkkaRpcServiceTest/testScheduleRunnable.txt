@Test public void testScheduleRunnable() throws Exception {
  final OneShotLatch latch=new OneShotLatch();
  final long delay=100;
  final long start=System.nanoTime();
  ScheduledFuture<?> scheduledFuture=akkaRpcService.scheduleRunnable(new Runnable(){
    @Override public void run(){
      latch.trigger();
    }
  }
,delay,TimeUnit.MILLISECONDS);
  scheduledFuture.get();
  assertTrue(latch.isTriggered());
  final long stop=System.nanoTime();
  assertTrue("call was not properly delayed",((stop - start) / 1000000) >= delay);
}
