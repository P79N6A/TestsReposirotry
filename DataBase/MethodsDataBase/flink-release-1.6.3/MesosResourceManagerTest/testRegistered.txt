/** 
 * Test Mesos registration handling.
 */
@Test public void testRegistered() throws Exception {
  new Context(){
{
      startResourceManager();
      Protos.MasterInfo masterInfo=Protos.MasterInfo.newBuilder().setId("master1").setIp(0).setPort(5050).build();
      resourceManager.registered(new Registered(framework1,masterInfo));
      verify(rmServices.workerStore).setFrameworkID(Option.apply(framework1));
      resourceManager.connectionMonitor.expectMsgClass(Registered.class);
      resourceManager.reconciliationCoordinator.expectMsgClass(Registered.class);
      resourceManager.launchCoordinator.expectMsgClass(Registered.class);
      resourceManager.taskRouter.expectMsgClass(Registered.class);
    }
  }
;
}
