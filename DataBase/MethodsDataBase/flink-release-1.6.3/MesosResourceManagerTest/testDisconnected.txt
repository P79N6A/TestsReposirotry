/** 
 * Test Mesos re-registration handling.
 */
@Test public void testDisconnected() throws Exception {
  new Context(){
{
      when(rmServices.workerStore.getFrameworkID()).thenReturn(Option.apply(framework1));
      startResourceManager();
      resourceManager.disconnected(new Disconnected());
      resourceManager.connectionMonitor.expectMsgClass(Disconnected.class);
      resourceManager.reconciliationCoordinator.expectMsgClass(Disconnected.class);
      resourceManager.launchCoordinator.expectMsgClass(Disconnected.class);
      resourceManager.taskRouter.expectMsgClass(Disconnected.class);
    }
  }
;
}
