/** 
 * Test Mesos re-registration handling.
 */
@Test public void testReRegistered() throws Exception {
  new Context(){
{
      when(rmServices.workerStore.getFrameworkID()).thenReturn(Option.apply(framework1));
      startResourceManager();
      Protos.MasterInfo masterInfo=Protos.MasterInfo.newBuilder().setId("master1").setIp(0).setPort(5050).build();
      resourceManager.reregistered(new ReRegistered(masterInfo));
      resourceManager.connectionMonitor.expectMsgClass(ReRegistered.class);
      resourceManager.reconciliationCoordinator.expectMsgClass(ReRegistered.class);
      resourceManager.launchCoordinator.expectMsgClass(ReRegistered.class);
      resourceManager.taskRouter.expectMsgClass(ReRegistered.class);
    }
  }
;
}
