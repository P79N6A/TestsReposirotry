@Test public void testOversizedState() throws Exception {
  HashMap<String,Integer> state=new HashMap<>();
  state.put("hey there",2);
  state.put("the crazy brown fox stumbles over a sentence that does not contain every letter",77);
  CheckpointStateOutputStream outStream=new MemoryCheckpointOutputStream(10);
  ObjectOutputStream oos=new ObjectOutputStream(outStream);
  oos.writeObject(state);
  oos.flush();
  try {
    outStream.closeAndGetHandle();
    fail("this should cause an exception");
  }
 catch (  IOException e) {
  }
}
