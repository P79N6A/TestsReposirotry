@Test(expected=IOException.class) public void testMagicByteVerification() throws Exception {
  MockSchemaRegistryClient client=new MockSchemaRegistryClient();
  int schemaId=client.register("testTopic",Schema.create(Schema.Type.BOOLEAN));
  ConfluentSchemaRegistryCoder coder=new ConfluentSchemaRegistryCoder(client);
  ByteArrayOutputStream byteOutStream=new ByteArrayOutputStream();
  DataOutputStream dataOutputStream=new DataOutputStream(byteOutStream);
  dataOutputStream.writeByte(5);
  dataOutputStream.writeInt(schemaId);
  dataOutputStream.flush();
  ByteArrayInputStream byteInStream=new ByteArrayInputStream(byteOutStream.toByteArray());
  coder.readSchema(byteInStream);
}
