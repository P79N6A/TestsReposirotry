@Test public void cannotStartTwoReportersOnSamePort() throws Exception {
  final MetricRegistryImpl fixedPort1=new MetricRegistryImpl(MetricRegistryConfiguration.fromConfiguration(createConfigWithOneReporter("test1",portRangeProvider.next())));
  assertThat(fixedPort1.getReporters(),hasSize(1));
  PrometheusReporter firstReporter=(PrometheusReporter)fixedPort1.getReporters().get(0);
  final MetricRegistryImpl fixedPort2=new MetricRegistryImpl(MetricRegistryConfiguration.fromConfiguration(createConfigWithOneReporter("test2",String.valueOf(firstReporter.getPort()))));
  assertThat(fixedPort2.getReporters(),hasSize(0));
  fixedPort1.shutdown().get();
  fixedPort2.shutdown().get();
}
