@Test public void testComposeAfterwards() throws ExecutionException, InterruptedException {
  final CompletableFuture<Void> inputFuture=new CompletableFuture<>();
  final OneShotLatch composeLatch=new OneShotLatch();
  final CompletableFuture<Void> composeFuture=FutureUtils.composeAfterwards(inputFuture,() -> {
    composeLatch.trigger();
    return CompletableFuture.completedFuture(null);
  }
);
  assertThat(composeLatch.isTriggered(),is(false));
  assertThat(composeFuture.isDone(),is(false));
  inputFuture.complete(null);
  assertThat(composeLatch.isTriggered(),is(true));
  assertThat(composeFuture.isDone(),is(true));
  composeFuture.get();
}
