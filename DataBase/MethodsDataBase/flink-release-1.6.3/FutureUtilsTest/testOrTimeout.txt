/** 
 * Tests that a future is timed out after the specified timeout.
 */
@Test public void testOrTimeout() throws Exception {
  final CompletableFuture<String> future=new CompletableFuture<>();
  final long timeout=10L;
  FutureUtils.orTimeout(future,timeout,TimeUnit.MILLISECONDS);
  try {
    future.get();
  }
 catch (  ExecutionException e) {
    assertTrue(ExceptionUtils.stripExecutionException(e) instanceof TimeoutException);
  }
}
