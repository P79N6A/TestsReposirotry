@Test public void testSupplyAsyncFailure() throws Exception {
  final String exceptionMessage="Test exception";
  final FlinkException testException=new FlinkException(exceptionMessage);
  final CompletableFuture<Object> future=FutureUtils.supplyAsync(() -> {
    throw testException;
  }
,TestingUtils.defaultExecutor());
  try {
    future.get();
    fail("Expected an exception.");
  }
 catch (  ExecutionException e) {
    assertThat(ExceptionUtils.findThrowableWithMessage(e,exceptionMessage).isPresent(),is(true));
  }
}
