/** 
 * Verifies that no  {@link NullPointerException} is thrown when {@link AbstractMetricGroup#getAllVariables()} iscalled and the parent is null.
 */
@Test public void testGetAllVariables() throws Exception {
  MetricRegistryImpl registry=new MetricRegistryImpl(MetricRegistryConfiguration.defaultMetricRegistryConfiguration());
  AbstractMetricGroup group=new AbstractMetricGroup<AbstractMetricGroup<?>>(registry,new String[0],null){
    @Override protected QueryScopeInfo createQueryServiceMetricInfo(    CharacterFilter filter){
      return null;
    }
    @Override protected String getGroupName(    CharacterFilter filter){
      return "";
    }
  }
;
  assertTrue(group.getAllVariables().isEmpty());
  registry.shutdown().get();
}
