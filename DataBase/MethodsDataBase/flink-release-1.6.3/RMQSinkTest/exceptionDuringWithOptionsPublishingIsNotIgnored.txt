@Test(expected=RuntimeException.class) public void exceptionDuringWithOptionsPublishingIsNotIgnored() throws Exception {
  RMQSink<String> rmqSink=createRMQSinkWithOptions(false,false);
  doThrow(IOException.class).when(channel).basicPublish(EXCHANGE,ROUTING_KEY,false,false,publishOptions.computeProperties(""),MESSAGE);
  rmqSink.invoke("msg",SinkContextUtil.forTimestamp(0));
}
