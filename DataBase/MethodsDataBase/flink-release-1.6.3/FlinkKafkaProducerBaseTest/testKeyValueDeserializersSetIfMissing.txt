/** 
 * Tests that constructor defaults to key value serializers in config to byte array deserializers if not set.
 */
@Test public void testKeyValueDeserializersSetIfMissing() throws Exception {
  Properties props=new Properties();
  props.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,"localhost:12345");
  new DummyFlinkKafkaProducer<>(props,new KeyedSerializationSchemaWrapper<>(new SimpleStringSchema()),null);
  assertTrue(props.containsKey(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG));
  assertTrue(props.containsKey(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG));
  assertTrue(props.getProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG).equals(ByteArraySerializer.class.getName()));
  assertTrue(props.getProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG).equals(ByteArraySerializer.class.getName()));
}
