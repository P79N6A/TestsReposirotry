@Test public void testNFAChangedOnOneNewComputationState() throws Exception {
  Pattern<Event,?> pattern=Pattern.<Event>begin("start").where(new SimpleCondition<Event>(){
    @Override public boolean filter(    Event value) throws Exception {
      return value.getName().equals("start");
    }
  }
).followedBy("a*").where(new SimpleCondition<Event>(){
    private static final long serialVersionUID=1858562682635302605L;
    @Override public boolean filter(    Event value) throws Exception {
      return value.getName().equals("a");
    }
  }
).oneOrMore().optional().next("end").where(new IterativeCondition<Event>(){
    private static final long serialVersionUID=8061969839441121955L;
    @Override public boolean filter(    Event value,    Context<Event> ctx) throws Exception {
      return value.getName().equals("b");
    }
  }
).within(Time.milliseconds(10));
  NFA<Event> nfa=compile(pattern,true);
  NFAState nfaState=nfa.createInitialNFAState();
  nfaState.resetStateChanged();
  nfa.process(sharedBuffer,nfaState,new Event(6,"start",1.0),6L);
  nfaState.resetStateChanged();
  nfa.process(sharedBuffer,nfaState,new Event(6,"a",1.0),7L);
  assertTrue(nfaState.isStateChanged());
}
