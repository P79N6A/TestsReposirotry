/** 
 * Tests that  {@link KvStateLocationOracle} registered under {@link HighAvailabilityServices#DEFAULT_JOB_ID}will be used for all requests.
 */
@Test public void testLegacyCodePathPreference(){
  final TestingKvStateLocationOracle kvStateLocationOracle=new TestingKvStateLocationOracle();
  kvStateClientProxy.updateKvStateLocationOracle(HighAvailabilityServices.DEFAULT_JOB_ID,kvStateLocationOracle);
  final JobID jobId=new JobID();
  kvStateClientProxy.updateKvStateLocationOracle(jobId,new TestingKvStateLocationOracle());
  assertThat(kvStateClientProxy.getKvStateLocationOracle(jobId),equalTo(kvStateLocationOracle));
}
