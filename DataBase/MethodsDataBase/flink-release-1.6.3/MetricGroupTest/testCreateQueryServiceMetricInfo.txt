@Test public void testCreateQueryServiceMetricInfo(){
  JobID jid=new JobID();
  JobVertexID vid=new JobVertexID();
  AbstractID eid=new AbstractID();
  MetricRegistryImpl registry=new MetricRegistryImpl(defaultMetricRegistryConfiguration);
  TaskManagerMetricGroup tm=new TaskManagerMetricGroup(registry,"host","id");
  TaskManagerJobMetricGroup job=new TaskManagerJobMetricGroup(registry,tm,jid,"jobname");
  TaskMetricGroup task=new TaskMetricGroup(registry,job,vid,eid,"taskName",4,5);
  GenericMetricGroup userGroup1=new GenericMetricGroup(registry,task,"hello");
  GenericMetricGroup userGroup2=new GenericMetricGroup(registry,userGroup1,"world");
  QueryScopeInfo.TaskQueryScopeInfo info1=(QueryScopeInfo.TaskQueryScopeInfo)userGroup1.createQueryServiceMetricInfo(new DummyCharacterFilter());
  assertEquals("hello",info1.scope);
  assertEquals(jid.toString(),info1.jobID);
  assertEquals(vid.toString(),info1.vertexID);
  assertEquals(4,info1.subtaskIndex);
  QueryScopeInfo.TaskQueryScopeInfo info2=(QueryScopeInfo.TaskQueryScopeInfo)userGroup2.createQueryServiceMetricInfo(new DummyCharacterFilter());
  assertEquals("hello.world",info2.scope);
  assertEquals(jid.toString(),info2.jobID);
  assertEquals(vid.toString(),info2.vertexID);
  assertEquals(4,info2.subtaskIndex);
}
