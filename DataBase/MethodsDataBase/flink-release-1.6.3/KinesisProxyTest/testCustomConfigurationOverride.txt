@Test public void testCustomConfigurationOverride(){
  Properties configProps=new Properties();
  configProps.setProperty(AWSConfigConstants.AWS_REGION,"us-east-1");
  KinesisProxy proxy=new KinesisProxy(configProps){
    @Override protected AmazonKinesis createKinesisClient(    Properties configProps){
      ClientConfiguration clientConfig=new ClientConfigurationFactory().getConfig();
      clientConfig.setSocketTimeout(10000);
      return AWSUtil.createKinesisClient(configProps,clientConfig);
    }
  }
;
  AmazonKinesis kinesisClient=Whitebox.getInternalState(proxy,"kinesisClient");
  ClientConfiguration clientConfiguration=Whitebox.getInternalState(kinesisClient,"clientConfiguration");
  assertEquals(10000,clientConfiguration.getSocketTimeout());
}
