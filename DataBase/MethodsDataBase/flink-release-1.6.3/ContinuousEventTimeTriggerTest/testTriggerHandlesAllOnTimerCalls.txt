/** 
 * Verify that the trigger doesn't fail with an NPE if we insert a timer firing when there is no trigger state.
 */
@Test public void testTriggerHandlesAllOnTimerCalls() throws Exception {
  TriggerTestHarness<Object,TimeWindow> testHarness=new TriggerTestHarness<>(ContinuousEventTimeTrigger.<TimeWindow>of(Time.milliseconds(5)),new TimeWindow.Serializer());
  assertEquals(0,testHarness.numStateEntries());
  assertEquals(0,testHarness.numProcessingTimeTimers());
  assertEquals(0,testHarness.numEventTimeTimers());
  testHarness.advanceWatermark(10);
  assertEquals(TriggerResult.FIRE,testHarness.processElement(new StreamRecord<Object>(1),new TimeWindow(0,2)));
  testHarness.invokeOnEventTime(20,new TimeWindow(0,2));
}
