@Test public void testRunWithContextClassLoaderSupplier() throws Exception {
  final ClassLoader aPrioriContextClassLoader=Thread.currentThread().getContextClassLoader();
  try {
    final ClassLoader original=new URLClassLoader(new URL[0]);
    final ClassLoader temp=new URLClassLoader(new URL[0]);
    Thread.currentThread().setContextClassLoader(original);
    LambdaUtil.withContextClassLoader(temp,() -> {
      assertSame(temp,Thread.currentThread().getContextClassLoader());
      return true;
    }
);
    assertSame(original,Thread.currentThread().getContextClassLoader());
  }
  finally {
    Thread.currentThread().setContextClassLoader(aPrioriContextClassLoader);
  }
}
