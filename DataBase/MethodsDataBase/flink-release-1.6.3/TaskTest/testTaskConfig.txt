/** 
 * Tests that the task configuration is respected and overwritten by the execution config.
 */
@Test public void testTaskConfig() throws Exception {
  long interval=28218123;
  long timeout=interval + 19292;
  Configuration config=new Configuration();
  config.setLong(TaskManagerOptions.TASK_CANCELLATION_INTERVAL,interval);
  config.setLong(TaskManagerOptions.TASK_CANCELLATION_TIMEOUT,timeout);
  ExecutionConfig executionConfig=new ExecutionConfig();
  executionConfig.setTaskCancellationInterval(interval + 1337);
  executionConfig.setTaskCancellationTimeout(timeout - 1337);
  Task task=createTask(InvokableBlockingInInvoke.class,config,executionConfig);
  assertEquals(interval,task.getTaskCancellationInterval());
  assertEquals(timeout,task.getTaskCancellationTimeout());
  task.startTaskThread();
  awaitLatch.await();
  assertEquals(executionConfig.getTaskCancellationInterval(),task.getTaskCancellationInterval());
  assertEquals(executionConfig.getTaskCancellationTimeout(),task.getTaskCancellationTimeout());
  task.getExecutingThread().interrupt();
  task.getExecutingThread().join();
}
