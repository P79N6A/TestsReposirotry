@Test public void testPollFreeSlot(){
  SlotPool.AvailableSlots availableSlots=new SlotPool.AvailableSlots();
  final ResourceID resource1=new ResourceID("resource1");
  final AllocatedSlot slot1=createAllocatedSlot(resource1);
  availableSlots.add(slot1,1L);
  assertEquals(1,availableSlots.size());
  assertTrue(availableSlots.contains(slot1.getAllocationId()));
  assertTrue(availableSlots.containsTaskManager(resource1));
  assertNull(availableSlots.poll(LocationPreferenceSchedulingStrategy.getInstance(),SlotProfile.noLocality(DEFAULT_TESTING_BIG_PROFILE)));
  SlotAndLocality slotAndLocality=availableSlots.poll(LocationPreferenceSchedulingStrategy.getInstance(),SlotProfile.noLocality(DEFAULT_TESTING_PROFILE));
  assertEquals(slot1,slotAndLocality.getSlot());
  assertEquals(0,availableSlots.size());
  assertFalse(availableSlots.contains(slot1.getAllocationId()));
  assertFalse(availableSlots.containsTaskManager(resource1));
}
