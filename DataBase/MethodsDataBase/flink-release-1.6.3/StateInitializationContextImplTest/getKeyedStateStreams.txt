@Test public void getKeyedStateStreams() throws Exception {
  int readKeyGroupCount=0;
  for (  KeyGroupStatePartitionStreamProvider stateStreamProvider : initializationContext.getRawKeyedStateInputs()) {
    Assert.assertNotNull(stateStreamProvider);
    try (InputStream is=stateStreamProvider.getStream()){
      DataInputView div=new DataInputViewStreamWrapper(is);
      int val=div.readInt();
      ++readKeyGroupCount;
      Assert.assertEquals(stateStreamProvider.getKeyGroupId(),val);
    }
   }
  Assert.assertEquals(writtenKeyGroups,readKeyGroupCount);
}
