@Test public void testSerializeEnumSerializer() throws Exception {
  EnumSerializer<PublicEnum> serializer=new EnumSerializer<>(PublicEnum.class);
  assertEquals(PublicEnum.FOO.ordinal(),serializer.getValueToOrdinal().get(PublicEnum.FOO).intValue());
  assertEquals(PublicEnum.BAR.ordinal(),serializer.getValueToOrdinal().get(PublicEnum.BAR).intValue());
  assertEquals(PublicEnum.PETER.ordinal(),serializer.getValueToOrdinal().get(PublicEnum.PETER).intValue());
  assertEquals(PublicEnum.NATHANIEL.ordinal(),serializer.getValueToOrdinal().get(PublicEnum.NATHANIEL).intValue());
  assertEquals(PublicEnum.EMMA.ordinal(),serializer.getValueToOrdinal().get(PublicEnum.EMMA).intValue());
  assertEquals(PublicEnum.PAULA.ordinal(),serializer.getValueToOrdinal().get(PublicEnum.PAULA).intValue());
  assertTrue(Arrays.equals(PublicEnum.values(),serializer.getValues()));
  byte[] serializedSerializer=InstantiationUtil.serializeObject(serializer);
  serializer=InstantiationUtil.deserializeObject(serializedSerializer,Thread.currentThread().getContextClassLoader());
  assertEquals(PublicEnum.FOO.ordinal(),serializer.getValueToOrdinal().get(PublicEnum.FOO).intValue());
  assertEquals(PublicEnum.BAR.ordinal(),serializer.getValueToOrdinal().get(PublicEnum.BAR).intValue());
  assertEquals(PublicEnum.PETER.ordinal(),serializer.getValueToOrdinal().get(PublicEnum.PETER).intValue());
  assertEquals(PublicEnum.NATHANIEL.ordinal(),serializer.getValueToOrdinal().get(PublicEnum.NATHANIEL).intValue());
  assertEquals(PublicEnum.EMMA.ordinal(),serializer.getValueToOrdinal().get(PublicEnum.EMMA).intValue());
  assertEquals(PublicEnum.PAULA.ordinal(),serializer.getValueToOrdinal().get(PublicEnum.PAULA).intValue());
  assertTrue(Arrays.equals(PublicEnum.values(),serializer.getValues()));
}
