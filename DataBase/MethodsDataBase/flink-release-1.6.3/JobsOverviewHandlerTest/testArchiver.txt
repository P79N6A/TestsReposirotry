@Test public void testArchiver() throws Exception {
  JsonArchivist archivist=new JobsOverviewHandler.CurrentJobsOverviewJsonArchivist();
  AccessExecutionGraph originalJob=ArchivedJobGenerationUtils.getTestJob();
  JobDetails expectedDetails=WebMonitorUtils.createDetailsForJob(originalJob);
  Collection<ArchivedJson> archives=archivist.archiveJsonWithPath(originalJob);
  Assert.assertEquals(1,archives.size());
  ArchivedJson archive=archives.iterator().next();
  Assert.assertEquals(JobsOverviewHeaders.URL,archive.getPath());
  JsonNode result=ArchivedJobGenerationUtils.MAPPER.readTree(archive.getJson());
  ArrayNode jobs=(ArrayNode)result.get("jobs");
  Assert.assertEquals(1,jobs.size());
  compareJobOverview(expectedDetails,jobs.get(0).toString());
}
