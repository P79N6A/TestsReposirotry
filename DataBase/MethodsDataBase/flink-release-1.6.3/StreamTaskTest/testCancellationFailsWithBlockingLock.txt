@Test public void testCancellationFailsWithBlockingLock() throws Exception {
  syncLatch=new OneShotLatch();
  StreamConfig cfg=new StreamConfig(new Configuration());
  Task task=createTask(CancelFailingTask.class,cfg,new Configuration());
  task.startTaskThread();
  syncLatch.await();
  task.cancelExecution();
  task.getExecutingThread().join();
  assertEquals(ExecutionState.CANCELED,task.getExecutionState());
}
