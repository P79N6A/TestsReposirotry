/** 
 * Verifies that configured arguments are properly forwarded to the reporter.
 */
@Test public void testReporterArgumentForwarding() throws Exception {
  Configuration config=new Configuration();
  config.setString(ConfigConstants.METRICS_REPORTER_PREFIX + "test." + ConfigConstants.METRICS_REPORTER_CLASS_SUFFIX,TestReporter2.class.getName());
  config.setString(ConfigConstants.METRICS_REPORTER_PREFIX + "test.arg1","hello");
  config.setString(ConfigConstants.METRICS_REPORTER_PREFIX + "test.arg2","world");
  new MetricRegistryImpl(MetricRegistryConfiguration.fromConfiguration(config)).shutdown().get();
  Assert.assertEquals("hello",TestReporter2.mc.getString("arg1",null));
  Assert.assertEquals("world",TestReporter2.mc.getString("arg2",null));
}
