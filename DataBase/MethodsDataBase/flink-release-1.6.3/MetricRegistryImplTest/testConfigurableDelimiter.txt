@Test public void testConfigurableDelimiter() throws Exception {
  Configuration config=new Configuration();
  config.setString(MetricOptions.SCOPE_DELIMITER,"_");
  config.setString(MetricOptions.SCOPE_NAMING_TM,"A.B.C.D.E");
  MetricRegistryImpl registry=new MetricRegistryImpl(MetricRegistryConfiguration.fromConfiguration(config));
  TaskManagerMetricGroup tmGroup=new TaskManagerMetricGroup(registry,"host","id");
  assertEquals("A_B_C_D_E_name",tmGroup.getMetricIdentifier("name"));
  registry.shutdown().get();
}
