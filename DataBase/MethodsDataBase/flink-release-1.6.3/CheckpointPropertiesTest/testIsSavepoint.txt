/** 
 * Tests the isSavepoint utility works as expected.
 */
@Test public void testIsSavepoint() throws Exception {
{
    CheckpointProperties props=CheckpointProperties.forCheckpoint(CheckpointRetentionPolicy.RETAIN_ON_FAILURE);
    assertFalse(props.isSavepoint());
  }
{
    CheckpointProperties props=CheckpointProperties.forCheckpoint(CheckpointRetentionPolicy.RETAIN_ON_CANCELLATION);
    assertFalse(props.isSavepoint());
  }
{
    CheckpointProperties props=CheckpointProperties.forSavepoint();
    assertTrue(props.isSavepoint());
    CheckpointProperties deserializedCheckpointProperties=InstantiationUtil.deserializeObject(InstantiationUtil.serializeObject(props),getClass().getClassLoader());
    assertTrue(deserializedCheckpointProperties.isSavepoint());
  }
}
