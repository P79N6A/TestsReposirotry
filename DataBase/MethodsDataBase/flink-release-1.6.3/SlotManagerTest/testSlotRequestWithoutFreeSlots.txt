/** 
 * Tests that a slot request with no free slots will trigger the resource allocation.
 */
@Test public void testSlotRequestWithoutFreeSlots() throws Exception {
  final ResourceManagerId resourceManagerId=ResourceManagerId.generate();
  final ResourceProfile resourceProfile=new ResourceProfile(42.0,1337);
  final SlotRequest slotRequest=new SlotRequest(new JobID(),new AllocationID(),resourceProfile,"localhost");
  ResourceActions resourceManagerActions=mock(ResourceActions.class);
  try (SlotManager slotManager=createSlotManager(resourceManagerId,resourceManagerActions)){
    slotManager.registerSlotRequest(slotRequest);
    verify(resourceManagerActions).allocateResource(eq(resourceProfile));
  }
 }
