/** 
 * This test validates that the factory can be instantiated and configured even when MapR and Hadoop classes are missing from the classpath.
 */
@Test public void testInstantiationWithoutMapRClasses() throws Exception {
  final String testClassName="org.apache.flink.runtime.fs.maprfs.MapRFreeTests";
  URLClassLoader parent=(URLClassLoader)getClass().getClassLoader();
  ClassLoader maprFreeClassLoader=new MapRFreeClassLoader(parent);
  Class<?> testClass=Class.forName(testClassName,false,maprFreeClassLoader);
  Method m=testClass.getDeclaredMethod("test");
  try {
    m.invoke(null);
  }
 catch (  InvocationTargetException e) {
    ExceptionUtils.rethrowException(e.getTargetException(),"exception in method");
  }
}
