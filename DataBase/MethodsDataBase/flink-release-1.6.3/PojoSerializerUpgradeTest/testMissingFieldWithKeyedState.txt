/** 
 * Removing fields from a POJO as keyed state should require a state migration.
 */
@Test public void testMissingFieldWithKeyedState() throws Exception {
  try {
    testPojoSerializerUpgrade(SOURCE_A,SOURCE_E,false,true);
    fail("Expected a state migration exception.");
  }
 catch (  Exception e) {
    if (CommonTestUtils.containsCause(e,StateMigrationException.class)) {
    }
 else {
      throw e;
    }
  }
}
