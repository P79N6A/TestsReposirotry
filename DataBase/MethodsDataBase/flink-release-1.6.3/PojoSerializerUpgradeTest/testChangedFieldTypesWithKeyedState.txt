/** 
 * Changing field types of a POJO as keyed state should require a state migration.
 */
@Test public void testChangedFieldTypesWithKeyedState() throws Exception {
  try {
    testPojoSerializerUpgrade(SOURCE_A,SOURCE_C,true,true);
    fail("Expected a state migration exception.");
  }
 catch (  Exception e) {
    if (CommonTestUtils.containsCause(e,StateMigrationException.class)) {
    }
 else {
      throw e;
    }
  }
}
