@Test public void testStopJobAfterSavepoint() throws Exception {
  final String savepointLocation=cancelWithSavepoint();
  final JobStatus jobStatus=clusterClient.getJobStatus(jobGraph.getJobID()).get(60,TimeUnit.SECONDS);
  assertThat(jobStatus,isOneOf(JobStatus.CANCELED,JobStatus.CANCELLING));
  final List<Path> savepoints;
  try (Stream<Path> savepointFiles=Files.list(savepointDirectory)){
    savepoints=savepointFiles.map(Path::getFileName).collect(Collectors.toList());
  }
   assertThat(savepoints,hasItem(Paths.get(savepointLocation).getFileName()));
}
