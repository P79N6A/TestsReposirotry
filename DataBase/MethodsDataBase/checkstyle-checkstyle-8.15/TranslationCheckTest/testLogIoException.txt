@Test public void testLogIoException() throws Exception {
  final TranslationCheck check=new TranslationCheck();
  final DefaultConfiguration checkConfig=createModuleConfig(TranslationCheck.class);
  final MessageDispatcher dispatcher=mock(MessageDispatcher.class);
  check.configure(checkConfig);
  check.setMessageDispatcher(dispatcher);
  final Method logIoException=check.getClass().getDeclaredMethod("logIoException",IOException.class,File.class);
  logIoException.setAccessible(true);
  final File file=new File("");
  logIoException.invoke(check,new IOException("test exception"),file);
  Mockito.verify(dispatcher,times(1)).fireErrors(any(String.class),captor.capture());
  final String actual=captor.getValue().first().getMessage();
  assertThat("Invalid message: " + actual,actual,endsWith("test exception"));
}
