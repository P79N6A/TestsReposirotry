@Test public void testAllCheckstyleMessages() throws Exception {
  final Map<String,List<String>> usedMessages=new TreeMap<>();
  for (  Class<?> module : CheckUtil.getCheckstyleModules()) {
    for (    Field message : CheckUtil.getCheckMessages(module)) {
      Assert.assertEquals(module.getSimpleName() + "." + message.getName()+ " should be 'public static final'",Modifier.PUBLIC | Modifier.STATIC | Modifier.FINAL,message.getModifiers());
      if (!message.isAccessible()) {
        message.setAccessible(true);
      }
      verifyCheckstyleMessage(usedMessages,module,message);
    }
  }
  for (  Entry<String,List<String>> entry : usedMessages.entrySet()) {
    final Properties pr=new Properties();
    pr.load(AllChecksTest.class.getResourceAsStream("/" + entry.getKey().replace('.','/') + "/messages.properties"));
    for (    Object key : pr.keySet()) {
      if ("translation.wrongLanguageCode".equals(key)) {
        continue;
      }
      Assert.assertTrue("property '" + key + "' isn't used by any check in package '"+ entry.getKey()+ "'",entry.getValue().contains(key.toString()));
    }
  }
}
