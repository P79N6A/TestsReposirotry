@Test public void testRemoteFileExternalResourceContentDoesNotChange() throws Exception {
  final String[] urlCandidates={"https://checkstyle.org/files/suppressions_none.xml","https://raw.githubusercontent.com/checkstyle/checkstyle/master/src/site/resources/" + "files/suppressions_none.xml"};
  String urlForTest=null;
  for (  String url : urlCandidates) {
    if (isConnectionAvailableAndStable(url)) {
      urlForTest=url;
      break;
    }
  }
  if (urlForTest != null) {
    final DefaultConfiguration firstFilterConfig=createModuleConfig(SuppressionFilter.class);
    firstFilterConfig.addAttribute("file",urlForTest);
    final DefaultConfiguration firstCheckerConfig=createRootConfig(firstFilterConfig);
    final File cacheFile=temporaryFolder.newFile();
    firstCheckerConfig.addAttribute("cacheFile",cacheFile.getPath());
    final String pathToEmptyFile=temporaryFolder.newFile("file.java").getPath();
    final String[] expected=CommonUtil.EMPTY_STRING_ARRAY;
    verify(firstCheckerConfig,pathToEmptyFile,expected);
    final DefaultConfiguration secondFilterConfig=createModuleConfig(SuppressionFilter.class);
    secondFilterConfig.addAttribute("file",urlForTest);
    final DefaultConfiguration secondCheckerConfig=createRootConfig(secondFilterConfig);
    secondCheckerConfig.addAttribute("cacheFile",cacheFile.getPath());
    verify(secondCheckerConfig,pathToEmptyFile,expected);
  }
}
