@Test public void testSupervisorRejectNewTasksIfThreadPoolIsFullForIncompleteTasks() throws Exception {
  TestTask testTask=new TestTask(4,true);
  TimedSupervisorTask supervisorTask=new TimedSupervisorTask("test",scheduler,executor,1,TimeUnit.MILLISECONDS,EXP_BACK_OFF_BOUND,testTask);
  scheduler.schedule(supervisorTask,0,TimeUnit.SECONDS);
  Thread.sleep(500);
  Assert.assertEquals(3,maxConcurrentTestTasks.get());
  Assert.assertEquals(3,testTaskCounter.get());
  Assert.assertEquals(3,testTaskStartCounter.get());
  Assert.assertEquals(0,testTaskSuccessfulCounter.get());
  Assert.assertEquals(0,testTaskInterruptedCounter.get());
}
