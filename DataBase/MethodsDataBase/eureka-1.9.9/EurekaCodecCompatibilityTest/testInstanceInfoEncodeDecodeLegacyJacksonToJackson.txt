/** 
 * @deprecated see to do note in {@link com.netflix.appinfo.LeaseInfo} and delete once legacy is removed
 */
@Deprecated @Test public void testInstanceInfoEncodeDecodeLegacyJacksonToJackson() throws Exception {
  final InstanceInfo instanceInfo=infoIterator.next();
  Action2 codingAction=new Action2(){
    @Override public void call(    EncoderWrapper encodingCodec,    DecoderWrapper decodingCodec) throws IOException {
      String encodedString=encodingCodec.encode(instanceInfo);
      encodedString=encodedString.replaceFirst("lastRenewalTimestamp","renewalTimestamp");
      InstanceInfo decodedValue=decodingCodec.decode(encodedString,InstanceInfo.class);
      assertThat(EurekaEntityComparators.equal(instanceInfo,decodedValue,new EurekaEntityComparators.RawIdEqualFunc()),is(true));
      assertThat(EurekaEntityComparators.equal(instanceInfo,decodedValue),is(true));
    }
  }
;
  verifyForPair(codingAction,InstanceInfo.class,new CodecWrappers.LegacyJacksonJson(),new CodecWrappers.JacksonJson());
}
