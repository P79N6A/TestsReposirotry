@Test(timeout=30000) public void testIdenticalListsDoNotCauseReload() throws Exception {
  List<AwsEndpoint> firstEndpointList=SampleCluster.UsEast1a.build();
  factory.setEndpoints(firstEndpointList);
  resolver=new ReloadingClusterResolver(factory,1);
  assertThat(resolver.getClusterEndpoints(),is(equalTo(firstEndpointList)));
  List<AwsEndpoint> snapshot=resolver.getClusterEndpoints();
  factory.setEndpoints(ResolverUtils.randomize(firstEndpointList));
  Thread.sleep(5);
  assertThat(resolver.getClusterEndpoints(),is(equalTo(snapshot)));
  List<AwsEndpoint> secondEndpointList=SampleCluster.UsEast1b.build();
  factory.setEndpoints(secondEndpointList);
  assertThat(awaitUpdate(resolver,secondEndpointList),is(true));
}
