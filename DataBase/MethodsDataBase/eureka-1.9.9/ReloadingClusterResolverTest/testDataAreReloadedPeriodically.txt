@Test(timeout=30000) public void testDataAreReloadedPeriodically() throws Exception {
  List<AwsEndpoint> firstEndpointList=SampleCluster.UsEast1a.build();
  factory.setEndpoints(firstEndpointList);
  resolver=new ReloadingClusterResolver<>(factory,1);
  assertThat(resolver.getClusterEndpoints(),is(equalTo(firstEndpointList)));
  List<AwsEndpoint> secondEndpointList=SampleCluster.UsEast1b.build();
  factory.setEndpoints(secondEndpointList);
  assertThat(awaitUpdate(resolver,secondEndpointList),is(true));
}
