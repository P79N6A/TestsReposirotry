@Test public void testInstanceInfoJacksonEncodeDecodeWithoutMetaData() throws Exception {
  InstanceInfo noMetaDataInfo=InstanceInfoGenerator.newBuilder(1,1).withMetaData(false).build().serviceIterator().next();
  ByteArrayOutputStream captureStream=new ByteArrayOutputStream();
  codec.writeTo(noMetaDataInfo,captureStream);
  byte[] encoded=captureStream.toByteArray();
  InputStream source=new ByteArrayInputStream(encoded);
  InstanceInfo decoded=codec.readValue(InstanceInfo.class,source);
  assertTrue(EurekaEntityComparators.equal(decoded,noMetaDataInfo));
}
