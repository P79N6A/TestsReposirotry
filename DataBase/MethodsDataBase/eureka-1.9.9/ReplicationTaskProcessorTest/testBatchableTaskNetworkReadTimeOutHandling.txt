@Test public void testBatchableTaskNetworkReadTimeOutHandling() throws Exception {
  TestableInstanceReplicationTask task=aReplicationTask().build();
  replicationClient.withReadtimeOut(1);
  ProcessingResult status=replicationTaskProcessor.process(Collections.<ReplicationTask>singletonList(task));
  assertThat(status,is(ProcessingResult.Congestion));
  assertThat(task.getProcessingState(),is(ProcessingState.Pending));
}
