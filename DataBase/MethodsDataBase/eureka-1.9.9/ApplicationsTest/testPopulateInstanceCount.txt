@Test public void testPopulateInstanceCount(){
  DataCenterInfo myDCI=new DataCenterInfo(){
    public DataCenterInfo.Name getName(){
      return DataCenterInfo.Name.MyOwn;
    }
  }
;
  InstanceInfo instanceInfo=InstanceInfo.Builder.newBuilder().setAppName("test").setVIPAddress("test.testname:1").setSecureVIPAddress("securetest.testname:7102").setDataCenterInfo(myDCI).setHostName("test.hostname").setStatus(InstanceStatus.UP).build();
  Application application=new Application("TestApp");
  application.addInstance(instanceInfo);
  Applications applications=new Applications();
  applications.addApplication(application);
  TreeMap<String,AtomicInteger> instanceCountMap=new TreeMap<>();
  applications.populateInstanceCountMap(instanceCountMap);
  assertEquals(1,instanceCountMap.size());
  assertNotNull(instanceCountMap.get(InstanceStatus.UP.name()));
  assertEquals(1,instanceCountMap.get(InstanceStatus.UP.name()).get());
}
