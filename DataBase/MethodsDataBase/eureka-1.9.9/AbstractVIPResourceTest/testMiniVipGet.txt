@Test public void testMiniVipGet() throws Exception {
  Response response=resource.getVipResponse(Version.V2.name(),vipName,MediaType.APPLICATION_JSON,EurekaAccept.compact,Key.EntityType.VIP);
  String json=String.valueOf(response.getEntity());
  DecoderWrapper decoder=CodecWrappers.getDecoder(CodecWrappers.LegacyJacksonJson.class);
  Applications decodedApps=decoder.decode(json,Applications.class);
  Application decodedApp=decodedApps.getRegisteredApplications(testApplication.getName());
  assertThat(EurekaEntityComparators.equal(testApplication,decodedApp),is(false));
  for (  InstanceInfo instanceInfo : testApplication.getInstances()) {
    InstanceInfo decodedInfo=decodedApp.getByInstanceId(instanceInfo.getId());
    assertThat(EurekaEntityComparators.equalMini(instanceInfo,decodedInfo),is(true));
  }
}
