@Test public void testCustomClientShedding() throws Exception {
  whenRequest(FULL_FETCH,CUSTOM_CLIENT);
  filter.doFilter(request,response,filterChain);
  filter.doFilter(request,response,filterChain);
  verify(filterChain,times(2)).doFilter(request,response);
  long rateLimiterCounter=EurekaMonitors.RATE_LIMITED.getCount();
  filter.doFilter(request,response,filterChain);
  assertEquals("Expected rate limiter counter increase",rateLimiterCounter + 1,EurekaMonitors.RATE_LIMITED.getCount());
  verify(response,times(1)).setStatus(HttpServletResponse.SC_SERVICE_UNAVAILABLE);
}
