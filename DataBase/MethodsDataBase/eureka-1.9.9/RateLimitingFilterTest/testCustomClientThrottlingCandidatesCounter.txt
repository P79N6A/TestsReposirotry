@Test public void testCustomClientThrottlingCandidatesCounter() throws Exception {
  ConfigurationManager.getConfigInstance().setProperty("eureka.rateLimiter.enabled",false);
  whenRequest(FULL_FETCH,CUSTOM_CLIENT);
  filter.doFilter(request,response,filterChain);
  filter.doFilter(request,response,filterChain);
  verify(filterChain,times(2)).doFilter(request,response);
  long rateLimiterCounter=EurekaMonitors.RATE_LIMITED_CANDIDATES.getCount();
  filter.doFilter(request,response,filterChain);
  assertEquals("Expected rate limiter counter increase",rateLimiterCounter + 1,EurekaMonitors.RATE_LIMITED_CANDIDATES.getCount());
  verify(response,times(0)).setStatus(HttpServletResponse.SC_SERVICE_UNAVAILABLE);
}
