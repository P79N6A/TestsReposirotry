@Test public void testNoValidDataFromRemoteServer(){
  Applications newApplications=new Applications();
  for (  Application application : applications.getRegisteredApplications()) {
    if (!application.getInstances().get(0).getVIPAddress().equals(vipAddress)) {
      newApplications.addApplication(application);
    }
  }
  when(httpClient.getVip(vipAddress)).thenReturn(EurekaHttpResponse.anEurekaHttpResponse(200,newApplications).build());
  List<AwsEndpoint> endpoints=resolver.getClusterEndpoints();
  assertThat(endpoints.isEmpty(),is(true));
  verify(httpClient,times(1)).shutdown();
}
