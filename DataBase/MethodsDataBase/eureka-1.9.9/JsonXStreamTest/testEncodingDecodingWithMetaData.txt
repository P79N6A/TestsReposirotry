@Test public void testEncodingDecodingWithMetaData() throws Exception {
  Applications applications=InstanceInfoGenerator.newBuilder(10,2).withMetaData(true).build().toApplications();
  XStream xstream=JsonXStream.getInstance();
  String jsonDocument=xstream.toXML(applications);
  Applications decodedApplications=(Applications)xstream.fromXML(jsonDocument);
  assertThat(EurekaEntityComparators.equal(decodedApplications,applications),is(true));
}
