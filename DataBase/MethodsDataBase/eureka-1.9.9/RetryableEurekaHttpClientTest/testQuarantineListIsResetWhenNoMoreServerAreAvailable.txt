@Test public void testQuarantineListIsResetWhenNoMoreServerAreAvailable() throws Exception {
  simulateTransportError(0,CLUSTER_SIZE);
  for (int i=0; i < 2; i++) {
    executeWithTransportErrorExpectation();
  }
  when(clientFactory.newClient(Matchers.<EurekaEndpoint>anyVararg())).thenReturn(clusterDelegates.get(0));
  reset(requestExecutor);
  when(requestExecutor.execute(clusterDelegates.get(0))).thenReturn(EurekaHttpResponse.status(200));
  retryableClient.execute(requestExecutor);
}
