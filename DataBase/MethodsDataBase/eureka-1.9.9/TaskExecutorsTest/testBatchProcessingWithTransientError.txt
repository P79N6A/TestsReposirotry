@Test public void testBatchProcessingWithTransientError() throws Exception {
  taskExecutors=TaskExecutors.batchExecutors("TEST",1,processor,acceptorExecutor);
  List<TaskHolder<Integer,ProcessingResult>> taskHolderBatch=asList(transientErrorTaskHolder(1),transientErrorTaskHolder(2));
  taskBatchQueue.add(taskHolderBatch);
  processor.expectTransientErrors(2);
  verify(acceptorExecutor,timeout(500).times(1)).reprocess(taskHolderBatch,ProcessingResult.TransientError);
}
