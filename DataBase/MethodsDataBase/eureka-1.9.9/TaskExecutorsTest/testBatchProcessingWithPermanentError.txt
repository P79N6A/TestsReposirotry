@Test public void testBatchProcessingWithPermanentError() throws Exception {
  taskExecutors=TaskExecutors.batchExecutors("TEST",1,processor,acceptorExecutor);
  List<TaskHolder<Integer,ProcessingResult>> taskHolderBatch=asList(permanentErrorTaskHolder(1),permanentErrorTaskHolder(2));
  taskBatchQueue.add(taskHolderBatch);
  processor.expectPermanentErrors(2);
  verify(acceptorExecutor,never()).reprocess(taskHolderBatch,ProcessingResult.TransientError);
}
