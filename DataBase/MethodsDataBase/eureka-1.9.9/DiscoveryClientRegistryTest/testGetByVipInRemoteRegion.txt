@Test public void testGetByVipInRemoteRegion() throws Exception {
  prepareRemoteRegionRegistry();
  EurekaClient client=discoveryClientResource.getClient();
  String vipAddress=takeFirst(client.getApplicationsForARegion(TEST_REMOTE_REGION)).getVIPAddress();
  List<InstanceInfo> instancesByVipAddress=client.getInstancesByVipAddress(vipAddress,false,TEST_REMOTE_REGION);
  assertThat(instancesByVipAddress.size(),is(equalTo(2)));
  InstanceInfo instance=instancesByVipAddress.iterator().next();
  assertThat(instance.getVIPAddress(),is(equalTo(vipAddress)));
}
