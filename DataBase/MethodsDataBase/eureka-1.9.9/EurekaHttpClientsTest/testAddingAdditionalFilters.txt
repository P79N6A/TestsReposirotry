@Test public void testAddingAdditionalFilters() throws Exception {
  TestFilter testFilter=new TestFilter();
  Collection<ClientFilter> additionalFilters=Arrays.<ClientFilter>asList(testFilter);
  TransportClientFactory transportClientFactory=new Jersey1TransportClientFactories().newTransportClientFactory(clientConfig,additionalFilters,MY_INSTANCE);
  EurekaHttpClient client=transportClientFactory.newClient(clusterResolver.getClusterEndpoints().get(0));
  client.getApplication("foo");
  assertThat(testFilter.await(30,TimeUnit.SECONDS),is(true));
}
