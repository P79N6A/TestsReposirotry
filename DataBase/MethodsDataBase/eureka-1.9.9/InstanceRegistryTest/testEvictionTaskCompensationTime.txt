@Test public void testEvictionTaskCompensationTime() throws Exception {
  long evictionTaskPeriodNanos=serverConfig.getEvictionIntervalTimerInMs() * 1000000;
  AbstractInstanceRegistry.EvictionTask testTask=spy(registry.new EvictionTask());
  when(testTask.getCurrentTimeNano()).thenReturn(1l).thenReturn(1l + evictionTaskPeriodNanos).thenReturn(1l + evictionTaskPeriodNanos * 2 + 10000000l).thenReturn(1l + evictionTaskPeriodNanos * 3 - 1l);
  assertThat(testTask.getCompensationTimeMs(),is(0l));
  assertThat(testTask.getCompensationTimeMs(),is(0l));
  assertThat(testTask.getCompensationTimeMs(),is(10l));
  assertThat(testTask.getCompensationTimeMs(),is(0l));
}
