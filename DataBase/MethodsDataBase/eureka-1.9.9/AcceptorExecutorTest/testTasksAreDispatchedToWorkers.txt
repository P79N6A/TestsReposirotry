@Test public void testTasksAreDispatchedToWorkers() throws Exception {
  acceptorExecutor.process(1,"Task1",System.currentTimeMillis() + 60 * 1000);
  TaskHolder<Integer,String> taskHolder=acceptorExecutor.requestWorkItem().poll(5,TimeUnit.SECONDS);
  verifyTaskHolder(taskHolder,1,"Task1");
  acceptorExecutor.process(2,"Task2",System.currentTimeMillis() + 60 * 1000);
  List<TaskHolder<Integer,String>> taskHolders=acceptorExecutor.requestWorkItems().poll(5,TimeUnit.SECONDS);
  assertThat(taskHolders.size(),is(equalTo(1)));
  verifyTaskHolder(taskHolders.get(0),2,"Task2");
}
