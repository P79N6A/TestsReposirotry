@Test public void testAmazonInfoNoUpdateIfNoInstanceId(){
  AmazonInfo oldInfo=(AmazonInfo)instanceInfo.getDataCenterInfo();
  AmazonInfo newInfo=copyAmazonInfo(instanceInfo);
  newInfo.getMetadata().remove(instanceId.getName());
  assertThat(newInfo.getId(),is(nullValue()));
  assertThat(newInfo.get(instanceId),is(nullValue()));
  assertThat(CloudInstanceConfig.shouldUpdate(newInfo,oldInfo),is(false));
  newInfo.getMetadata().put(instanceId.getName(),"");
  assertThat(newInfo.getId(),is(""));
  assertThat(newInfo.get(instanceId),is(""));
  assertThat(RefreshableAmazonInfoProvider.shouldUpdate(newInfo,oldInfo),is(false));
}
