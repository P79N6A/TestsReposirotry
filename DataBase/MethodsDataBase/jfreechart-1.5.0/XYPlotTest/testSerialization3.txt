/** 
 * Problem to reproduce a bug in serialization.  The bug (first reported against the  {@link org.jfree.chart.plot.CategoryPlot} class) is a nullpointer exception that occurs when drawing a plot after deserialization. It is caused by four temporary storage structures (axesAtTop, axesAtBottom, axesAtLeft and axesAtRight - all initialized as empty lists in the constructor) not being initialized by the readObject() method following deserialization.  This test has been written to reproduce the bug (now fixed).
 */
@Test public void testSerialization3(){
  XYSeriesCollection dataset=new XYSeriesCollection();
  JFreeChart chart=ChartFactory.createXYLineChart("Test Chart","Domain Axis","Range Axis",dataset);
  JFreeChart chart2=(JFreeChart)TestUtils.serialised(chart);
  assertEquals(chart,chart2);
  try {
    chart2.createBufferedImage(300,200);
  }
 catch (  Exception e) {
    fail("No exception should be thrown.");
  }
}
