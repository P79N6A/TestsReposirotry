@Test public void call_method_that_throws_a_throwable() throws Throwable {
  Invocation invocation=Mockito.framework().getInvocationFactory().createInvocation(mock,withSettings().build(TestClass.class),TestClass.class.getDeclaredMethod("testMethod"),new InvocationFactory.RealMethodBehavior(){
    @Override public Object call() throws Throwable {
      throw new Throwable("mocked");
    }
  }
);
  try {
    Mockito.mockingDetails(mock).getMockHandler().handle(invocation);
  }
 catch (  Throwable t) {
    assertEquals("mocked",t.getMessage());
    return;
  }
  fail();
}
