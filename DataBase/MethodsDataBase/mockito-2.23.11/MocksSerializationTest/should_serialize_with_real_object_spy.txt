@Test public void should_serialize_with_real_object_spy() throws Exception {
  SerializableClass sample=new SerializableClass();
  SerializableClass spy=mock(SerializableClass.class,withSettings().spiedInstance(sample).defaultAnswer(CALLS_REAL_METHODS).serializable());
  when(spy.foo()).thenReturn("foo");
  ByteArrayOutputStream serialized=serializeMock(spy);
  SerializableClass readObject=deserializeMock(serialized,SerializableClass.class);
  assertEquals("foo",readObject.foo());
}
