@Test public void return_type_validation() throws Exception {
  when(foo.doString()).thenAnswer(new Answer<String>(){
    public String answer(    InvocationOnMock invocation) throws Throwable {
      return String.valueOf(bar.doInt());
    }
  }
);
  assertEquals("0",foo.doString());
  when(foo.doString()).thenReturn("");
  assertEquals("",foo.doString());
}
