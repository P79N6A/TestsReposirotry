@Test public void stubbing_the_right_mock() throws Exception {
  when(bar.doInt()).thenReturn(0);
  when(foo.doInt()).thenAnswer(new Answer<Integer>(){
    @Override public Integer answer(    InvocationOnMock invocation) throws Throwable {
      return bar.doInt();
    }
  }
);
  assertEquals(0,foo.doInt());
  assertEquals(0,bar.doInt());
  when(foo.doInt()).thenReturn(1);
  assertEquals(1,foo.doInt());
  assertEquals(0,bar.doInt());
}
