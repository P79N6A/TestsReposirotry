@Test public void stubbing_new() throws Throwable {
  Constructor<Foo> ctr=Foo.class.getConstructor(String.class);
  Method adapter=ConstructorMethodAdapter.class.getDeclaredMethods()[0];
  doReturn(new Foo("hey!")).when(mock);
  Invocation constructor=Mockito.framework().getInvocationFactory().createInvocation(mock,withSettings().build(Foo.class),adapter,realMethod,ctr,"foo");
  handler.handle(constructor);
  Object result=handler.handle(constructor);
  assertEquals("foo:hey!",result.toString());
  Invocation differentArg=Mockito.framework().getInvocationFactory().createInvocation(mock,withSettings().build(Foo.class),adapter,realMethod,ctr,"different arg");
  Object result2=handler.handle(differentArg);
  assertEquals(null,result2);
}
