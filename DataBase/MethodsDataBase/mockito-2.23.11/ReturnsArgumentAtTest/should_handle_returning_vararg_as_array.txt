@Test public void should_handle_returning_vararg_as_array() throws Throwable {
  Invocation mixedVarargsReturningStringArray=new InvocationBuilder().method("mixedVarargsReturningStringArray").argTypes(Object.class,String[].class).args(new Object(),new String[]{"A","B","C"}).toInvocation();
  new ReturnsArgumentAt(1).validateFor(mixedVarargsReturningStringArray);
  assertThat(new ReturnsArgumentAt(1).answer(mixedVarargsReturningStringArray)).isEqualTo(new String[]{"A","B","C"});
  Invocation mixedVarargsReturningObjectArray=new InvocationBuilder().method("mixedVarargsReturningStringArray").argTypes(Object.class,String[].class).args(new Object(),new String[]{"A","B","C"}).toInvocation();
  new ReturnsArgumentAt(1).validateFor(mixedVarargsReturningObjectArray);
  assertThat(new ReturnsArgumentAt(1).answer(mixedVarargsReturningObjectArray)).isEqualTo(new String[]{"A","B","C"});
}
