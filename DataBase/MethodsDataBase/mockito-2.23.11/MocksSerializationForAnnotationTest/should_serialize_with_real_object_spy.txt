@Test public void should_serialize_with_real_object_spy() throws Exception {
  SerializableSample list=new SerializableSample();
  SerializableSample spy=mock(SerializableSample.class,withSettings().spiedInstance(list).defaultAnswer(CALLS_REAL_METHODS).serializable());
  when(spy.foo()).thenReturn("foo");
  ByteArrayOutputStream serialized=serializeMock(spy);
  SerializableSample readObject=deserializeMock(serialized,SerializableSample.class);
  assertEquals("foo",readObject.foo());
}
