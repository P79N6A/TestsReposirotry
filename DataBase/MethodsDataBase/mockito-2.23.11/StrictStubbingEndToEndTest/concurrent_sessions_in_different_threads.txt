@Test public void concurrent_sessions_in_different_threads() throws Exception {
  final Map<Class,Result> results=new ConcurrentHashMap<Class,Result>();
  concurrently(new Runnable(){
    public void run(){
      results.put(StrictStubsPassing.class,junit.run(StrictStubsPassing.class));
    }
  }
,new Runnable(){
    public void run(){
      results.put(ReportMismatchButNotUnusedStubbing.class,junit.run(ReportMismatchButNotUnusedStubbing.class));
    }
  }
);
  assertThat(results.get(StrictStubsPassing.class)).succeeds(1);
  assertThat(results.get(ReportMismatchButNotUnusedStubbing.class)).fails(1);
}
