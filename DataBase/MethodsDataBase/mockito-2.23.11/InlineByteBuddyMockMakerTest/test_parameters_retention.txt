@Test public void test_parameters_retention() throws Exception {
  assumeTrue(ClassFileVersion.ofThisVm().isAtLeast(JAVA_V8));
  Class<?> typeWithParameters=new ByteBuddy().subclass(Object.class).defineMethod("foo",void.class,Visibility.PUBLIC).withParameter(String.class,"bar").intercept(StubMethod.INSTANCE).make().load(null).getLoaded();
  MockCreationSettings<?> settings=settingsFor(typeWithParameters);
  @SuppressWarnings("unchecked") Object proxy=mockMaker.createMock(settings,new MockHandlerImpl(settings));
  assertThat(proxy.getClass()).isEqualTo(typeWithParameters);
  assertThat(new TypeDescription.ForLoadedType(typeWithParameters).getDeclaredMethods().filter(named("foo")).getOnly().getParameters().getOnly().getName()).isEqualTo("bar");
}
