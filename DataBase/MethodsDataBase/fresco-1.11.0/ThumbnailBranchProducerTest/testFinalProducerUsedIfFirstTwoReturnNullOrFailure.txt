@Test public void testFinalProducerUsedIfFirstTwoReturnNullOrFailure(){
  mockRequestWithResizeOptions(THUMBNAIL_WIDTHS[0] - 50,THUMBNAIL_HEIGHTS[0] - 50);
  EncodedImage thirdImage=mockEncodedImage(THUMBNAIL_WIDTHS[2],THUMBNAIL_HEIGHTS[2],0);
  mockProducersToProduce(THROW_FAILURE,null,thirdImage);
  mProducer.produceResults(mImageConsumer,mProducerContext);
  verify(mImageConsumer).onNewResult(thirdImage,Consumer.IS_LAST);
  verifyAllProducersRequestedForResults();
}
