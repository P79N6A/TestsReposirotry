@Test public void testFinalProducerUsedIfFirstTwoReturnTooSmallImages(){
  int desiredWidth=THUMBNAIL_WIDTHS[0] - 50;
  int desiredHeight=THUMBNAIL_HEIGHTS[0] - 50;
  mockRequestWithResizeOptions(desiredWidth,desiredHeight);
  EncodedImage thirdImage=mockEncodedImage(THUMBNAIL_WIDTHS[2],THUMBNAIL_HEIGHTS[2],0);
  mockProducersToProduce(mockEncodedImage(desiredWidth / 2,desiredHeight / 2,0),mockEncodedImage(desiredWidth / 2,desiredHeight / 2,0),thirdImage);
  mProducer.produceResults(mImageConsumer,mProducerContext);
  verify(mImageConsumer).onNewResult(thirdImage,Consumer.IS_LAST);
  verifyAllProducersRequestedForResults();
}
