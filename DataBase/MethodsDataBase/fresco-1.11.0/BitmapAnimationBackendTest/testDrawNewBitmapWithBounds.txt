@Test public void testDrawNewBitmapWithBounds(){
  int width=160;
  int height=90;
  when(mBounds.width()).thenReturn(width);
  when(mBounds.height()).thenReturn(height);
  when(mPlatformBitmapFactory.createBitmap(anyInt(),anyInt(),any(Bitmap.Config.class))).thenReturn(mBitmapRefererence);
  when(mBitmapFrameRenderer.renderFrame(anyInt(),any(Bitmap.class))).thenReturn(true);
  when(mBitmapFrameRenderer.getIntrinsicWidth()).thenReturn(AnimationBackend.INTRINSIC_DIMENSION_UNSET);
  when(mBitmapFrameRenderer.getIntrinsicHeight()).thenReturn(AnimationBackend.INTRINSIC_DIMENSION_UNSET);
  mBitmapAnimationBackend.setBounds(mBounds);
  mBitmapAnimationBackend.drawFrame(mParentDrawable,mCanvas,2);
  verify(mFrameListener).onDrawFrameStart(mBitmapAnimationBackend,2);
  verify(mBitmapFrameCache).getCachedFrame(2);
  verify(mBitmapFrameCache).getBitmapToReuseForFrame(2,width,height);
  verify(mPlatformBitmapFactory).createBitmap(width,height,Bitmap.Config.ARGB_8888);
  verify(mBitmapFrameRenderer).renderFrame(2,mBitmap);
  verify(mCanvas).drawBitmap(eq(mBitmap),isNull(Rect.class),eq(mBounds),any(Paint.class));
  verifyFramePreparationStrategyCalled(2);
  verifyListenersAndCacheNotified(2,BitmapAnimationBackend.FRAME_TYPE_CREATED);
  assertReferencesClosed();
}
