@Test public void testDrawNewBitmap(){
  when(mPlatformBitmapFactory.createBitmap(anyInt(),anyInt(),any(Bitmap.Config.class))).thenReturn(mBitmapRefererence);
  when(mBitmapFrameRenderer.renderFrame(anyInt(),any(Bitmap.class))).thenReturn(true);
  mBitmapAnimationBackend.drawFrame(mParentDrawable,mCanvas,2);
  verify(mFrameListener).onDrawFrameStart(mBitmapAnimationBackend,2);
  verify(mBitmapFrameCache).getCachedFrame(2);
  verify(mBitmapFrameCache).getBitmapToReuseForFrame(2,0,0);
  verify(mPlatformBitmapFactory).createBitmap(0,0,Bitmap.Config.ARGB_8888);
  verify(mBitmapFrameRenderer).renderFrame(2,mBitmap);
  verify(mCanvas).drawBitmap(eq(mBitmap),eq(0f),eq(0f),any(Paint.class));
  verifyFramePreparationStrategyCalled(2);
  verifyListenersAndCacheNotified(2,BitmapAnimationBackend.FRAME_TYPE_CREATED);
  assertReferencesClosed();
}
