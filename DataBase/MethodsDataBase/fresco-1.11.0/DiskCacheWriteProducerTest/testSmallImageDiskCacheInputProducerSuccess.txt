@Test public void testSmallImageDiskCacheInputProducerSuccess(){
  when(mImageRequest.getCacheChoice()).thenReturn(ImageRequest.CacheChoice.SMALL);
  setupInputProducerSuccess();
  mDiskCacheWriteProducer.produceResults(mConsumer,mProducerContext);
  verify(mSmallImageBufferedDiskCache,never()).put(mCacheKey,mIntermediateEncodedImage);
  verify(mSmallImageBufferedDiskCache).put(mCacheKey,mFinalEncodedImage);
  verify(mConsumer).onNewResult(mIntermediateEncodedImage,Consumer.NO_FLAGS);
  verify(mConsumer).onNewResult(mFinalEncodedImage,Consumer.IS_LAST);
  verifyZeroInteractions(mProducerListener);
}
