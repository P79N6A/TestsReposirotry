@Test public void testSmallImageDiskCacheInputProducerUnknownFormat(){
  when(mImageRequest.getCacheChoice()).thenReturn(ImageRequest.CacheChoice.SMALL);
  setupInputProducerSuccessFormatUnknown();
  mDiskCacheWriteProducer.produceResults(mConsumer,mProducerContext);
  verify(mSmallImageBufferedDiskCache,never()).put(mCacheKey,mIntermediateEncodedImage);
  verify(mSmallImageBufferedDiskCache,never()).put(mCacheKey,mFinalEncodedImageFormatUnknown);
  verify(mConsumer).onNewResult(mIntermediateEncodedImage,Consumer.NO_FLAGS);
  verify(mConsumer).onNewResult(mFinalEncodedImageFormatUnknown,Consumer.IS_LAST);
  verifyZeroInteractions(mProducerListener);
}
