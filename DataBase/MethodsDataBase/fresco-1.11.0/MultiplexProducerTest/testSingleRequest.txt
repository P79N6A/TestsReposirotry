@Test public void testSingleRequest(){
  mMultiplexProducer.produceResults(mConsumer1,mProducerContext1);
  mForwardingConsumer1.onNewResult(mIntermediateImageReference1,Consumer.NO_FLAGS);
  verify(mConsumer1).onNewResult(mIntermediateImageReference1,Consumer.NO_FLAGS);
  mForwardingConsumer1.onNewResult(mIntermediateImageReference2,Consumer.NO_FLAGS);
  verify(mConsumer1).onNewResult(mIntermediateImageReference2,Consumer.NO_FLAGS);
  mForwardingConsumer1.onNewResult(mFinalImageReference1,Consumer.IS_LAST);
  verify(mConsumer1).onNewResult(mFinalImageReference1,Consumer.IS_LAST);
  assertTrue(mMultiplexProducer.mMultiplexers.isEmpty());
}
