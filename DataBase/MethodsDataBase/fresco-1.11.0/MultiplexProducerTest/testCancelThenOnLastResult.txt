@Test public void testCancelThenOnLastResult(){
  mMultiplexProducer.produceResults(mConsumer1,mProducerContext1);
  mProducerContext1.cancel();
  assertFalse(mMultiplexProducer.mMultiplexers.isEmpty());
  mForwardingConsumer1.onCancellation();
  assertTrue(mMultiplexProducer.mMultiplexers.isEmpty());
  mMultiplexProducer.produceResults(mConsumer2,mProducerContext2);
  assertTrue(mMultiplexProducer.mMultiplexers.size() == 1);
  mForwardingConsumer1.onNewResult(mFinalImageReference1,Consumer.IS_LAST);
  assertTrue(mMultiplexProducer.mMultiplexers.size() == 1);
}
