@Test public void testCancelChangesIsPrefetchIfNoMoreNonPrefetch(){
  mProducerContext1.setIsPrefetch(true);
  mProducerContext2.setIsPrefetch(false);
  mMultiplexProducer.produceResults(mConsumer1,mProducerContext1);
  mMultiplexProducer.produceResults(mConsumer1,mProducerContext2);
  assertFalse(mMultiplexedContext1.isPrefetch());
  ProducerContextCallbacks callbacks=mock(ProducerContextCallbacks.class);
  mMultiplexedContext1.addCallbacks(callbacks);
  mProducerContext2.cancel();
  assertTrue(mMultiplexedContext1.isPrefetch());
  verify(callbacks).onIsPrefetchChanged();
}
