@Test public void testShouldHandleExceptionOnExternalCacheCreate(){
  expectInternalSetup();
  when(mMockFileExternal.getAbsolutePath()).thenReturn(EXTERNAL_PATH);
  when(mMockFileExternal.exists()).thenReturn(true);
  PowerMockito.when(StatFsHelper.createStatFs(EXTERNAL_PATH)).thenThrow(new IllegalArgumentException());
  StatFsHelper statFsHelper=new StatFsHelper();
  long freeBytes=statFsHelper.getAvailableStorageSpace(StatFsHelper.StorageType.INTERNAL);
  assertEquals(INTERNAL_BLOCK_SIZE * INTERNAL_BLOCKS_FREE,freeBytes);
  freeBytes=statFsHelper.getAvailableStorageSpace(StatFsHelper.StorageType.EXTERNAL);
  assertEquals(0,freeBytes);
}
