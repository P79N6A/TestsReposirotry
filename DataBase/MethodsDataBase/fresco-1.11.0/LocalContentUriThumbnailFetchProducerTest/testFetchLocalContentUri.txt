@Test public void testFetchLocalContentUri() throws Exception {
  mockResizeOptions(512,384);
  PooledByteBuffer pooledByteBuffer=mock(PooledByteBuffer.class);
  when(mPooledByteBufferFactory.newByteBuffer(any(InputStream.class))).thenReturn(pooledByteBuffer);
  produceResultsAndRunUntilIdle();
  assertConsumerReceivesImage();
  verify(mProducerListener).onProducerStart(mRequestId,PRODUCER_NAME);
  verify(mProducerListener).onProducerFinishWithSuccess(mRequestId,PRODUCER_NAME,null);
  verify(mProducerListener).onUltimateProducerReached(mRequestId,PRODUCER_NAME,true);
}
