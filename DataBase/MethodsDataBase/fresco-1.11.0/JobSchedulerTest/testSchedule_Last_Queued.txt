@Test public void testSchedule_Last_Queued(){
  mJobScheduler.updateJob(fakeEncodedImage(),Consumer.IS_LAST);
  assertTrue(mJobScheduler.scheduleJob());
  EncodedImage encodedImage2=fakeEncodedImage();
  mJobScheduler.updateJob(encodedImage2,Consumer.IS_LAST);
  assertEquals(JobScheduler.JobState.QUEUED,mJobScheduler.mJobState);
  assertTrue(mJobScheduler.scheduleJob());
  assertEquals(0,mTestScheduledExecutorService.getPendingCount());
  assertEquals(1,mTestExecutorService.getPendingCount());
  assertEquals(0,mTestJobRunnable.jobs.size());
  mFakeClockForTime.incrementBy(1234);
  mFakeClockForWorker.incrementBy(1234);
  mFakeClockForScheduled.incrementBy(1234);
  assertEquals(1,mTestJobRunnable.jobs.size());
  assertJobsEqual(mTestJobRunnable.jobs.get(0),encodedImage2,Consumer.IS_LAST);
}
