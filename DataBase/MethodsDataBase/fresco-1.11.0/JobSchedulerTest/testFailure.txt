@Test public void testFailure(){
  mJobScheduler.updateJob(fakeEncodedImage(),Consumer.NO_FLAGS);
  mJobScheduler.scheduleJob();
  mTestJobRunnable.fail.set(true);
  try {
    mFakeClockForTime.incrementBy(1234);
    mFakeClockForWorker.incrementBy(0);
    fail("job should have failed, but it didn't.");
  }
 catch (  Exception e) {
  }
  assertEquals(JobScheduler.JobState.IDLE,mJobScheduler.mJobState);
  assertEquals(0,mTestScheduledExecutorService.getPendingCount());
  assertEquals(0,mTestExecutorService.getPendingCount());
  assertEquals(0,mTestJobRunnable.jobs.size());
}
