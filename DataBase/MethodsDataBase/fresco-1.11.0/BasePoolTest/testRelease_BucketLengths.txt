@Test public void testRelease_BucketLengths() throws Exception {
  mPool=new TestPool(Integer.MAX_VALUE,Integer.MAX_VALUE,makeBucketSizeArray(2,2));
  mStats.setPool(mPool);
  byte[] b0=mPool.get(2);
  mPool.get(2);
  mPool.get(2);
  mStats.refresh();
  Assert.assertEquals(ImmutableMap.of(2,new IntPair(3,0)),mStats.mBucketStats);
  Assert.assertEquals(6,mStats.mUsedBytes);
  Assert.assertEquals(3,mStats.mUsedCount);
  Assert.assertEquals(0,mStats.mFreeBytes);
  Assert.assertEquals(0,mStats.mFreeCount);
  mPool.release(b0);
  mStats.refresh();
  Assert.assertEquals(ImmutableMap.of(2,new IntPair(2,0)),mStats.mBucketStats);
  Assert.assertEquals(4,mStats.mUsedBytes);
  Assert.assertEquals(2,mStats.mUsedCount);
  Assert.assertEquals(0,mStats.mFreeBytes);
  Assert.assertEquals(0,mStats.mFreeCount);
}
