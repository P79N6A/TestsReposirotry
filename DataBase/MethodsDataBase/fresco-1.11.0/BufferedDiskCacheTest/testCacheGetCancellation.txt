@Test public void testCacheGetCancellation() throws Exception {
  when(mFileCache.getResource(mCacheKey)).thenReturn(mBinaryResource);
  Task<EncodedImage> readTask=mBufferedDiskCache.get(mCacheKey,mIsCancelled);
  mIsCancelled.set(true);
  mReadPriorityExecutor.runUntilIdle();
  verify(mFileCache,never()).getResource(mCacheKey);
  assertTrue(isTaskCancelled(readTask));
}
