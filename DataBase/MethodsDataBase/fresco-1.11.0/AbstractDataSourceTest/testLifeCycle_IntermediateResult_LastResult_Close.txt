@Test public void testLifeCycle_IntermediateResult_LastResult_Close(){
  subscribe();
  Value value1=mock(Value.class);
  mDataSource.setResult(value1,INTERMEDIATE);
  verifySubscribers(ON_NEW_RESULT);
  verifyState(mDataSource,NOT_CLOSED,NOT_FINISHED,WITH_RESULT,value1,NOT_FAILED,null);
  Value value=mock(Value.class);
  mDataSource.setResult(value,LAST);
  verifySubscribers(ON_NEW_RESULT);
  verifyState(mDataSource,NOT_CLOSED,FINISHED,WITH_RESULT,value,NOT_FAILED,null);
  mDataSource.close();
  verifySubscribers(NO_INTERACTIONS);
  verifyState(mDataSource,CLOSED,FINISHED,WITHOUT_RESULT,null,NOT_FAILED,null);
}
