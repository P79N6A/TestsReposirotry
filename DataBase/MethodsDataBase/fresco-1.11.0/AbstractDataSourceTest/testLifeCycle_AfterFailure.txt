@Test public void testLifeCycle_AfterFailure(){
  subscribe();
  Throwable throwable=mock(Throwable.class);
  mDataSource.setFailure(throwable);
  verifySubscribers(ON_FAILURE);
  verifyState(mDataSource,NOT_CLOSED,FINISHED,WITHOUT_RESULT,null,FAILED,throwable);
  mDataSource.setResult(mock(Value.class),INTERMEDIATE);
  verifySubscribers(NO_INTERACTIONS);
  verifyState(mDataSource,NOT_CLOSED,FINISHED,WITHOUT_RESULT,null,FAILED,throwable);
  mDataSource.setResult(mock(Value.class),LAST);
  verifySubscribers(NO_INTERACTIONS);
  verifyState(mDataSource,NOT_CLOSED,FINISHED,WITHOUT_RESULT,null,FAILED,throwable);
  mDataSource.setFailure(mock(Throwable.class));
  verifySubscribers(NO_INTERACTIONS);
  verifyState(mDataSource,NOT_CLOSED,FINISHED,WITHOUT_RESULT,null,FAILED,throwable);
}
