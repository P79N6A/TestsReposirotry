@Test public void testCopyMetaData(){
  EncodedImage encodedImage=new EncodedImage(mByteBufferRef);
  encodedImage.setImageFormat(DefaultImageFormats.JPEG);
  encodedImage.setRotationAngle(0);
  encodedImage.setExifOrientation(1);
  encodedImage.setWidth(1);
  encodedImage.setHeight(2);
  encodedImage.setSampleSize(3);
  EncodedImage encodedImage2=new EncodedImage(mByteBufferRef);
  encodedImage2.copyMetaDataFrom(encodedImage);
  assertEquals(encodedImage.getImageFormat(),encodedImage2.getImageFormat());
  assertEquals(encodedImage.getWidth(),encodedImage2.getWidth());
  assertEquals(encodedImage.getHeight(),encodedImage2.getHeight());
  assertEquals(encodedImage.getSampleSize(),encodedImage2.getSampleSize());
  assertEquals(encodedImage.getSize(),encodedImage2.getSize());
  assertEquals(encodedImage.getExifOrientation(),encodedImage2.getExifOrientation());
  EncodedImage encodedImage3=new EncodedImage(mInputStreamSupplier);
  encodedImage3.setImageFormat(DefaultImageFormats.JPEG);
  encodedImage3.setRotationAngle(0);
  encodedImage3.setExifOrientation(1);
  encodedImage3.setWidth(1);
  encodedImage3.setHeight(2);
  encodedImage3.setSampleSize(3);
  encodedImage3.setStreamSize(4);
  EncodedImage encodedImage4=new EncodedImage(mInputStreamSupplier);
  encodedImage4.copyMetaDataFrom(encodedImage3);
  assertEquals(encodedImage3.getImageFormat(),encodedImage4.getImageFormat());
  assertEquals(encodedImage3.getWidth(),encodedImage4.getWidth());
  assertEquals(encodedImage3.getHeight(),encodedImage4.getHeight());
  assertEquals(encodedImage3.getSampleSize(),encodedImage4.getSampleSize());
  assertEquals(encodedImage3.getSize(),encodedImage4.getSize());
  assertEquals(encodedImage3.getExifOrientation(),encodedImage4.getExifOrientation());
}
