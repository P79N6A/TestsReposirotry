@Test public void testPrefetchToBitmapCache(){
  Producer<Void> prefetchProducerSequence=mock(Producer.class);
  when(mProducerSequenceFactory.getDecodedImagePrefetchProducerSequence(mImageRequest)).thenReturn(prefetchProducerSequence);
  DataSource<Void> dataSource=mImagePipeline.prefetchToBitmapCache(mImageRequest,mCallerContext);
  assertTrue(!dataSource.isFinished());
  verify(mRequestListener1).onRequestStart(mImageRequest,mCallerContext,"0",true);
  verify(mRequestListener2).onRequestStart(mImageRequest,mCallerContext,"0",true);
  ArgumentCaptor<ProducerContext> producerContextArgumentCaptor=ArgumentCaptor.forClass(ProducerContext.class);
  verify(prefetchProducerSequence).produceResults(any(Consumer.class),producerContextArgumentCaptor.capture());
  assertFalse(producerContextArgumentCaptor.getValue().isIntermediateResultExpected());
  assertEquals(producerContextArgumentCaptor.getValue().getPriority(),Priority.MEDIUM);
}
