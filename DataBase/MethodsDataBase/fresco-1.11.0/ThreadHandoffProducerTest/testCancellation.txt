@Test public void testCancellation(){
  mThreadHandoffProducer.produceResults(mConsumer,mProducerContext);
  mProducerContext.cancel();
  mTestExecutorService.runUntilIdle();
  verify(mInputProducer,never()).produceResults(mConsumer,mProducerContext);
  verify(mConsumer).onCancellation();
  verify(mProducerListener).onProducerStart(mRequestId,ThreadHandoffProducer.PRODUCER_NAME);
  verify(mProducerListener).requiresExtraMap(mRequestId);
  verify(mProducerListener).onProducerFinishWithCancellation(mRequestId,ThreadHandoffProducer.PRODUCER_NAME,null);
  verifyNoMoreInteractions(mProducerListener);
}
