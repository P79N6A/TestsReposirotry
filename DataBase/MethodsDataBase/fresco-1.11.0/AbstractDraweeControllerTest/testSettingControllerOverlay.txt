@Test public void testSettingControllerOverlay(){
  Drawable controllerOverlay1=mock(Drawable.class);
  Drawable controllerOverlay2=mock(Drawable.class);
  SettableDraweeHierarchy draweeHierarchy1=mock(SettableDraweeHierarchy.class);
  SettableDraweeHierarchy draweeHierarchy2=mock(SettableDraweeHierarchy.class);
  InOrder inOrder=inOrder(draweeHierarchy1,draweeHierarchy2);
  assertNull(mController.getHierarchy());
  mController.setControllerOverlay(controllerOverlay1);
  mController.setHierarchy(draweeHierarchy1);
  assertSame(draweeHierarchy1,mController.getHierarchy());
  inOrder.verify(draweeHierarchy1,times(1)).setControllerOverlay(controllerOverlay1);
  inOrder.verify(draweeHierarchy1,times(0)).reset();
  mController.setHierarchy(draweeHierarchy2);
  assertSame(draweeHierarchy2,mController.getHierarchy());
  inOrder.verify(draweeHierarchy1,times(1)).setControllerOverlay(null);
  inOrder.verify(draweeHierarchy1,times(0)).reset();
  inOrder.verify(draweeHierarchy2,times(1)).setControllerOverlay(controllerOverlay1);
  inOrder.verify(draweeHierarchy2,times(0)).reset();
  mController.setHierarchy(null);
  assertSame(null,mController.getHierarchy());
  inOrder.verify(draweeHierarchy1,times(0)).setControllerOverlay(any(Drawable.class));
  inOrder.verify(draweeHierarchy1,times(0)).reset();
  inOrder.verify(draweeHierarchy2,times(1)).setControllerOverlay(null);
  inOrder.verify(draweeHierarchy2,times(0)).reset();
  mController.setHierarchy(draweeHierarchy1);
  assertSame(draweeHierarchy1,mController.getHierarchy());
  inOrder.verify(draweeHierarchy1,times(1)).setControllerOverlay(controllerOverlay1);
  inOrder.verify(draweeHierarchy1,times(0)).reset();
  inOrder.verify(draweeHierarchy2,times(0)).setControllerOverlay(any(Drawable.class));
  inOrder.verify(draweeHierarchy2,times(0)).reset();
  mController.setControllerOverlay(controllerOverlay2);
  inOrder.verify(draweeHierarchy1,times(1)).setControllerOverlay(controllerOverlay2);
  inOrder.verify(draweeHierarchy1,times(0)).reset();
  inOrder.verify(draweeHierarchy2,times(0)).setControllerOverlay(any(Drawable.class));
  inOrder.verify(draweeHierarchy2,times(0)).reset();
  mController.setControllerOverlay(null);
  inOrder.verify(draweeHierarchy1,times(1)).setControllerOverlay(null);
  inOrder.verify(draweeHierarchy1,times(0)).reset();
  inOrder.verify(draweeHierarchy2,times(0)).setControllerOverlay(any(Drawable.class));
  inOrder.verify(draweeHierarchy2,times(0)).reset();
}
