@Test public void testPostprocess(){
  PowerMockito.when(mImageRequest.getSourceUriType()).thenReturn(SOURCE_TYPE_NETWORK);
  when(mImageRequest.getPostprocessor()).thenReturn(mPostprocessor);
  Producer<CloseableReference<CloseableImage>> networkSequence=mProducerSequenceFactory.getDecodedImageProducerSequence(mImageRequest);
  assertSame(networkSequence,mProducerSequenceFactory.mPostprocessorSequences.get(mProducerSequenceFactory.mNetworkFetchSequence));
  PowerMockito.when(mImageRequest.getSourceUriType()).thenReturn(SOURCE_TYPE_LOCAL_CONTENT);
  Producer<CloseableReference<CloseableImage>> localSequence=mProducerSequenceFactory.getDecodedImageProducerSequence(mImageRequest);
  assertSame(localSequence,mProducerSequenceFactory.mPostprocessorSequences.get(mProducerSequenceFactory.mLocalContentUriFetchSequence));
  assertNotSame(networkSequence,localSequence);
  PowerMockito.when(mImageRequest.getSourceUriType()).thenReturn(SOURCE_TYPE_NETWORK);
  Producer<CloseableReference<PooledByteBuffer>> encodedSequence=mProducerSequenceFactory.getEncodedImageProducerSequence(mImageRequest);
  assertSame(encodedSequence,mProducerSequenceFactory.mNetworkEncodedImageProducerSequence);
  assertNull(mProducerSequenceFactory.mPostprocessorSequences.get(mProducerSequenceFactory.mBackgroundNetworkFetchToEncodedMemorySequence));
}
