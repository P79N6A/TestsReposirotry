@Test public void testSetAlpha(){
  InOrder inOrder=inOrder(mLayers[0],mLayers[1],mLayers[2],mCallback);
  mFadeDrawable.reset();
  inOrder.verify(mCallback).invalidateDrawable(mFadeDrawable);
  mFadeDrawable.setTransitionDuration(85);
  mFadeDrawable.fadeUpToLayer(1);
  inOrder.verify(mCallback).invalidateDrawable(mFadeDrawable);
  mFadeDrawable.draw(mCanvas);
  inOrder.verify(mCallback,atLeastOnce()).invalidateDrawable(mFadeDrawable);
  mFadeDrawable.setAlpha(128);
  Assert.assertEquals(128,mFadeDrawable.getAlpha());
  inOrder.verify(mCallback).invalidateDrawable(mFadeDrawable);
  mFadeDrawable.incrementCurrentTimeMs(17);
  mFadeDrawable.draw(mCanvas);
  Assert.assertEquals(128,mFadeDrawable.getAlpha());
  Assert.assertEquals(255,mFadeDrawable.mAlphas[0]);
  Assert.assertEquals(51,mFadeDrawable.mAlphas[1]);
  Assert.assertEquals(0,mFadeDrawable.mAlphas[2]);
  Assert.assertEquals(FadeDrawable.TRANSITION_RUNNING,mFadeDrawable.mTransitionState);
  inOrder.verify(mLayers[0]).mutate();
  inOrder.verify(mLayers[0]).setAlpha(128);
  inOrder.verify(mLayers[0]).draw(mCanvas);
  inOrder.verify(mLayers[1]).mutate();
  inOrder.verify(mLayers[1]).setAlpha(25);
  inOrder.verify(mLayers[1]).draw(mCanvas);
  inOrder.verify(mCallback,atLeastOnce()).invalidateDrawable(mFadeDrawable);
  inOrder.verifyNoMoreInteractions();
  mFadeDrawable.incrementCurrentTimeMs(1000);
  mFadeDrawable.draw(mCanvas);
  inOrder.verify(mCallback,never()).invalidateDrawable(mFadeDrawable);
}
