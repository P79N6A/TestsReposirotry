@Test(expected=RuntimeException.class) public void testFetchLocalFileFailsByThrowing() throws Exception {
  when(mPooledByteBufferFactory.newByteBuffer(any(InputStream.class),eq(INPUT_STREAM_LENGTH))).thenThrow(mException);
  verify(mConsumer).onFailure(mException);
  verify(mProducerListener).onProducerStart(mRequestId,PRODUCER_NAME);
  verify(mProducerListener).onProducerFinishWithFailure(mRequestId,PRODUCER_NAME,mException,null);
  verify(mProducerListener).onUltimateProducerReached(mRequestId,PRODUCER_NAME,false);
}
