@Test public void testOnRepositoryChange() throws Exception {
  Properties someProperties=new Properties();
  String key=ConfigConsts.CONFIG_FILE_CONTENT_KEY;
  String someValue="someValue";
  String anotherValue="anotherValue";
  someProperties.setProperty(key,someValue);
  someSourceType=ConfigSourceType.LOCAL;
  when(configRepository.getConfig()).thenReturn(someProperties);
  when(configRepository.getSourceType()).thenReturn(someSourceType);
  JsonConfigFile configFile=new JsonConfigFile(someNamespace,configRepository);
  assertEquals(someValue,configFile.getContent());
  assertEquals(someSourceType,configFile.getSourceType());
  Properties anotherProperties=new Properties();
  anotherProperties.setProperty(key,anotherValue);
  ConfigSourceType anotherSourceType=ConfigSourceType.REMOTE;
  when(configRepository.getSourceType()).thenReturn(anotherSourceType);
  configFile.onRepositoryChange(someNamespace,anotherProperties);
  assertEquals(anotherValue,configFile.getContent());
  assertEquals(anotherSourceType,configFile.getSourceType());
}
