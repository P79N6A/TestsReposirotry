@Test public void testApplicationPropertySourceWithValueInjectedAsConstructorArgs() throws Exception {
  int someTimeout=1000;
  int someBatch=2000;
  Config config=mock(Config.class);
  when(config.getProperty(eq(TIMEOUT_PROPERTY),anyString())).thenReturn(String.valueOf(someTimeout));
  when(config.getProperty(eq(BATCH_PROPERTY),anyString())).thenReturn(String.valueOf(someBatch));
  mockConfig(ConfigConsts.NAMESPACE_APPLICATION,config);
  AnnotationConfigApplicationContext context=new AnnotationConfigApplicationContext(AppConfig7.class);
  TestJavaConfigBean3 bean=context.getBean(TestJavaConfigBean3.class);
  assertEquals(someTimeout,bean.getTimeout());
  assertEquals(someBatch,bean.getBatch());
}
