@Test public void testNamespaceNotEverPublishedButHasItems(){
  Cluster cluster=createCluster(ConfigConsts.CLUSTER_NAME_DEFAULT);
  Namespace namespace=createNamespace(ConfigConsts.CLUSTER_NAME_DEFAULT,ConfigConsts.NAMESPACE_APPLICATION);
  Item item=createItem(namespace.getId(),"a","b");
  when(clusterService.findParentClusters(testApp)).thenReturn(Collections.singletonList(cluster));
  when(namespaceRepository.findByAppIdAndClusterNameOrderByIdAsc(testApp,ConfigConsts.CLUSTER_NAME_DEFAULT)).thenReturn(Collections.singletonList(namespace));
  when(itemService.findLastOne(anyLong())).thenReturn(item);
  Map<String,Boolean> result=namespaceService.namespacePublishInfo(testApp);
  Assert.assertEquals(1,result.size());
  Assert.assertTrue(result.get(ConfigConsts.CLUSTER_NAME_DEFAULT));
}
