@Test public void testFindByUserId() throws Exception {
  String someUserId="someUserId";
  String someName="someName";
  String someEmail="someEmail";
  CtripUserService.UserServiceResponse someUserResponse=assembleUserServiceResponse(someUserId,someName,someEmail);
  Map<String,List<CtripUserService.UserServiceResponse>> resultMap=ImmutableMap.of("result",Lists.newArrayList(someUserResponse));
  ResponseEntity<Map<String,List<CtripUserService.UserServiceResponse>>> someResponse=new ResponseEntity<>(resultMap,HttpStatus.OK);
  when(restTemplate.exchange(eq(someUserServiceUrl),eq(HttpMethod.POST),any(HttpEntity.class),eq(someResponseType))).thenReturn(someResponse);
  UserInfo user=ctripUserService.findByUserId(someUserId);
  compareUserInfoAndUserServiceResponse(someUserResponse,user);
}
