@Test public void testGetConsumerId() throws Exception {
  String someToken="someToken";
  long someConsumerId=1;
  ConsumerToken someConsumerToken=new ConsumerToken();
  someConsumerToken.setConsumerId(someConsumerId);
  when(consumerTokenRepository.findTopByTokenAndExpiresAfter(eq(someToken),any(Date.class))).thenReturn(someConsumerToken);
  assertEquals(someConsumerId,consumerService.getConsumerIdByToken(someToken).longValue());
}
