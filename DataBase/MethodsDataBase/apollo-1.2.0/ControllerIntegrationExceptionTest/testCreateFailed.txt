@Test @Sql(scripts="/controller/cleanup.sql",executionPhase=ExecutionPhase.AFTER_TEST_METHOD) public void testCreateFailed(){
  AppDTO dto=generateSampleDTOData();
  when(adminService.createNewApp(any(App.class))).thenThrow(new RuntimeException("save failed"));
  try {
    restTemplate.postForEntity(getBaseAppUrl(),dto,AppDTO.class);
  }
 catch (  HttpStatusCodeException e) {
    @SuppressWarnings("unchecked") Map<String,String> attr=gson.fromJson(e.getResponseBodyAsString(),Map.class);
    Assert.assertEquals("save failed",attr.get("message"));
  }
  App savedApp=appService.findOne(dto.getAppId());
  Assert.assertNull(savedApp);
}
