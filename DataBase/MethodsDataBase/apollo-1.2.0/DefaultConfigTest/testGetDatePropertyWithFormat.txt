@Test public void testGetDatePropertyWithFormat() throws Exception {
  Date someDefaultValue=new Date();
  Date shortDate=assembleDate(2016,9,28,0,0,0,0);
  Date mediumDate=assembleDate(2016,9,28,15,10,10,0);
  Date longDate=assembleDate(2016,9,28,15,10,10,123);
  someProperties=new Properties();
  someProperties.setProperty("shortDateProperty","2016-09-28");
  someProperties.setProperty("mediumDateProperty","2016-09-28 15:10:10");
  someProperties.setProperty("longDateProperty","2016-09-28 15:10:10.123");
  someProperties.setProperty("stringProperty","someString");
  when(configRepository.getConfig()).thenReturn(someProperties);
  DefaultConfig defaultConfig=new DefaultConfig(someNamespace,configRepository);
  checkDatePropertyWithFormat(defaultConfig,shortDate,"shortDateProperty","yyyy-MM-dd",someDefaultValue);
  checkDatePropertyWithFormat(defaultConfig,mediumDate,"mediumDateProperty","yyyy-MM-dd HH:mm:ss",someDefaultValue);
  checkDatePropertyWithFormat(defaultConfig,shortDate,"mediumDateProperty","yyyy-MM-dd",someDefaultValue);
  checkDatePropertyWithFormat(defaultConfig,longDate,"longDateProperty","yyyy-MM-dd HH:mm:ss.SSS",someDefaultValue);
  checkDatePropertyWithFormat(defaultConfig,mediumDate,"longDateProperty","yyyy-MM-dd HH:mm:ss",someDefaultValue);
  checkDatePropertyWithFormat(defaultConfig,shortDate,"longDateProperty","yyyy-MM-dd",someDefaultValue);
  checkDatePropertyWithFormat(defaultConfig,someDefaultValue,"stringProperty","yyyy-MM-dd",someDefaultValue);
}
