@Test public void testGetIntPropertyMultipleTimesWithSmallCache() throws Exception {
  String someKey="someKey";
  Integer someValue=2;
  String anotherKey="anotherKey";
  Integer anotherValue=3;
  Integer someDefaultValue=-1;
  MockInjector.setInstance(ConfigUtil.class,new MockConfigUtilWithSmallCache());
  someProperties=mock(Properties.class);
  when(someProperties.getProperty(someKey)).thenReturn(String.valueOf(someValue));
  when(someProperties.getProperty(anotherKey)).thenReturn(String.valueOf(anotherValue));
  when(configRepository.getConfig()).thenReturn(someProperties);
  DefaultConfig defaultConfig=new DefaultConfig(someNamespace,configRepository);
  assertEquals(someValue,defaultConfig.getIntProperty(someKey,someDefaultValue));
  assertEquals(someValue,defaultConfig.getIntProperty(someKey,someDefaultValue));
  verify(someProperties,times(1)).getProperty(someKey);
  assertEquals(anotherValue,defaultConfig.getIntProperty(anotherKey,someDefaultValue));
  assertEquals(anotherValue,defaultConfig.getIntProperty(anotherKey,someDefaultValue));
  verify(someProperties,times(1)).getProperty(anotherKey);
  assertEquals(someValue,defaultConfig.getIntProperty(someKey,someDefaultValue));
  verify(someProperties,times(2)).getProperty(someKey);
}
