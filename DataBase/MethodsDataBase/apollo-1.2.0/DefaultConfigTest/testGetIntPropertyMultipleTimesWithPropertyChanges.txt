@Test public void testGetIntPropertyMultipleTimesWithPropertyChanges() throws Exception {
  String someKey="someKey";
  Integer someValue=2;
  Integer anotherValue=3;
  Integer someDefaultValue=-1;
  someProperties=new Properties();
  someProperties.setProperty(someKey,String.valueOf(someValue));
  when(configRepository.getConfig()).thenReturn(someProperties);
  DefaultConfig defaultConfig=new DefaultConfig(someNamespace,configRepository);
  assertEquals(someValue,defaultConfig.getIntProperty(someKey,someDefaultValue));
  Properties anotherProperties=new Properties();
  anotherProperties.setProperty(someKey,String.valueOf(anotherValue));
  defaultConfig.onRepositoryChange(someNamespace,anotherProperties);
  assertEquals(anotherValue,defaultConfig.getIntProperty(someKey,someDefaultValue));
}
