@Test public void testFillFromEnvironment() throws Exception {
  String someAppId="someAppId";
  String someCluster="someCluster";
  String someCacheDir="someCacheDir";
  String someApolloMeta="someApolloMeta";
  ConfigurableEnvironment environment=mock(ConfigurableEnvironment.class);
  when(environment.getProperty("app.id")).thenReturn(someAppId);
  when(environment.getProperty(ConfigConsts.APOLLO_CLUSTER_KEY)).thenReturn(someCluster);
  when(environment.getProperty("apollo.cacheDir")).thenReturn(someCacheDir);
  when(environment.getProperty(ConfigConsts.APOLLO_META_KEY)).thenReturn(someApolloMeta);
  apolloApplicationContextInitializer.initializeSystemProperty(environment);
  assertEquals(someAppId,System.getProperty("app.id"));
  assertEquals(someCluster,System.getProperty(ConfigConsts.APOLLO_CLUSTER_KEY));
  assertEquals(someCacheDir,System.getProperty("apollo.cacheDir"));
  assertEquals(someApolloMeta,System.getProperty(ConfigConsts.APOLLO_META_KEY));
}
