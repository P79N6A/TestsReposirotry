@Test public void testInitAppRole(){
  when(rolePermissionService.findRoleByRoleName(anyString())).thenReturn(null);
  when(userInfoHolder.getUser()).thenReturn(mockUser());
  when(rolePermissionService.createPermission(any())).thenReturn(mockPermission());
  when(portalConfig.portalSupportedEnvs()).thenReturn(mockPortalSupportedEnvs());
  roleInitializationService.initAppRoles(mockApp());
  verify(rolePermissionService,times(7)).findRoleByRoleName(anyString());
  verify(rolePermissionService,times(1)).assignRoleToUsers(RoleUtils.buildAppMasterRoleName(APP_ID),Sets.newHashSet(CURRENT_USER),CURRENT_USER);
  verify(rolePermissionService,times(6)).createPermission(any());
  verify(rolePermissionService,times(7)).createRoleWithPermissions(any(),anySetOf(Long.class));
}
