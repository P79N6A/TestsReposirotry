@Test public void testCreateItem() throws Exception {
  String someKey="someKey";
  String someValue="someValue";
  String someCreatedBy="someCreatedBy";
  OpenItemDTO itemDTO=new OpenItemDTO();
  itemDTO.setKey(someKey);
  itemDTO.setValue(someValue);
  itemDTO.setDataChangeCreatedBy(someCreatedBy);
  final ArgumentCaptor<HttpPost> request=ArgumentCaptor.forClass(HttpPost.class);
  itemOpenApiService.createItem(someAppId,someEnv,someCluster,someNamespace,itemDTO);
  verify(httpClient,times(1)).execute(request.capture());
  HttpPost post=request.getValue();
  assertEquals(String.format("%s/envs/%s/apps/%s/clusters/%s/namespaces/%s/items",someBaseUrl,someEnv,someAppId,someCluster,someNamespace),post.getURI().toString());
  StringEntity entity=(StringEntity)post.getEntity();
  assertEquals(ContentType.APPLICATION_JSON.toString(),entity.getContentType().getValue());
  assertEquals(gson.toJson(itemDTO),EntityUtils.toString(entity));
}
