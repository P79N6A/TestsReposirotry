@Test(expected=IllegalStateException.class) @Sql(scripts="/sql/permission/insert-test-permissions.sql",executionPhase=Sql.ExecutionPhase.BEFORE_TEST_METHOD) @Sql(scripts="/sql/cleanup.sql",executionPhase=Sql.ExecutionPhase.AFTER_TEST_METHOD) public void testCreatePermissionsWithPermissionsExisted() throws Exception {
  String someTargetId="someTargetId";
  String anotherTargetId="anotherTargetId";
  String somePermissionType="somePermissionType";
  String anotherPermissionType="anotherPermissionType";
  Permission somePermission=assemblePermission(somePermissionType,someTargetId);
  Permission anotherPermission=assemblePermission(anotherPermissionType,anotherTargetId);
  rolePermissionService.createPermissions(Sets.newHashSet(somePermission,anotherPermission));
}
