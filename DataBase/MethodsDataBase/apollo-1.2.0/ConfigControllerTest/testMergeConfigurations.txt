@Test public void testMergeConfigurations() throws Exception {
  Gson gson=new Gson();
  String key1="key1";
  String value1="value1";
  String anotherValue1="anotherValue1";
  String key2="key2";
  String value2="value2";
  Map<String,String> config=ImmutableMap.of(key1,anotherValue1);
  Map<String,String> anotherConfig=ImmutableMap.of(key1,value1,key2,value2);
  Release releaseWithHighPriority=new Release();
  releaseWithHighPriority.setConfigurations(gson.toJson(config));
  Release releaseWithLowPriority=new Release();
  releaseWithLowPriority.setConfigurations(gson.toJson(anotherConfig));
  Map<String,String> result=configController.mergeReleaseConfigurations(Lists.newArrayList(releaseWithHighPriority,releaseWithLowPriority));
  assertEquals(2,result.keySet().size());
  assertEquals(anotherValue1,result.get(key1));
  assertEquals(value2,result.get(key2));
}
