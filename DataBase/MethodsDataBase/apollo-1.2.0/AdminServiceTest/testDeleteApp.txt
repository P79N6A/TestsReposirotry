@Test public void testDeleteApp(){
  String appId="someAppId";
  App app=new App();
  app.setAppId(appId);
  app.setName("someAppName");
  String owner="someOwnerName";
  app.setOwnerName(owner);
  app.setOwnerEmail("someOwnerName@ctrip.com");
  app.setDataChangeCreatedBy(owner);
  app.setDataChangeLastModifiedBy(owner);
  app.setDataChangeCreatedTime(new Date());
  app=adminService.createNewApp(app);
  Assert.assertEquals(appId,app.getAppId());
  Assert.assertEquals(1,appNamespaceService.findByAppId(appId).size());
  Assert.assertEquals(1,clusterService.findClusters(appId).size());
  Assert.assertEquals(1,namespaceService.findNamespaces(appId,ConfigConsts.CLUSTER_NAME_DEFAULT).size());
  adminService.deleteApp(app,owner);
  Assert.assertEquals(0,appNamespaceService.findByAppId(appId).size());
  Assert.assertEquals(0,clusterService.findClusters(appId).size());
  Assert.assertEquals(0,namespaceService.findByAppIdAndNamespaceName(appId,ConfigConsts.CLUSTER_NAME_DEFAULT).size());
}
