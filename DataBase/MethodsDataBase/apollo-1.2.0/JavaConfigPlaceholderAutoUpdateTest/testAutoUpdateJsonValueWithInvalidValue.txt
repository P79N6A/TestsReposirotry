@Test public void testAutoUpdateJsonValueWithInvalidValue() throws Exception {
  String someValidValue="{\"a\":\"someString\", \"b\":10}";
  String someInvalidValue="someInvalidValue";
  Properties properties=assembleProperties("jsonProperty",someValidValue);
  SimpleConfig config=prepareConfig(ConfigConsts.NAMESPACE_APPLICATION,properties);
  AnnotationConfigApplicationContext context=new AnnotationConfigApplicationContext(AppConfig10.class);
  TestApolloJsonValue bean=context.getBean(TestApolloJsonValue.class);
  JsonBean jsonBean=bean.getJsonBean();
  assertEquals("someString",jsonBean.getA());
  assertEquals(10,jsonBean.getB());
  Properties newProperties=assembleProperties("jsonProperty",someInvalidValue);
  config.onRepositoryChange(ConfigConsts.NAMESPACE_APPLICATION,newProperties);
  TimeUnit.MILLISECONDS.sleep(100);
  assertTrue(jsonBean == bean.getJsonBean());
}
