@Test public void testGetValidAddress() throws Exception {
  String someResponse="some response";
  startServerWithHandlers(mockServerHandler(HttpServletResponse.SC_OK,someResponse));
  String validServer=" http://localhost:" + PORT + " ";
  String invalidServer="http://localhost:" + findFreePort();
  MockMetaServerProvider.mock(Env.FAT,validServer + "," + invalidServer);
  MockMetaServerProvider.mock(Env.UAT,invalidServer + "," + validServer);
  assertEquals(validServer.trim(),MetaDomainConsts.getDomain(Env.FAT));
  assertEquals(validServer.trim(),MetaDomainConsts.getDomain(Env.UAT));
}
