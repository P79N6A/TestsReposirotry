@Test public void testFindNamespace(){
  AppNamespace applicationAppNamespace=mock(AppNamespace.class);
  AppNamespace hermesAppNamespace=mock(AppNamespace.class);
  NamespaceDTO application=new NamespaceDTO();
  application.setId(1);
  application.setClusterName(testClusterName);
  application.setAppId(testAppId);
  application.setNamespaceName(testNamespaceName);
  NamespaceDTO hermes=new NamespaceDTO();
  hermes.setId(2);
  hermes.setClusterName("default");
  hermes.setAppId(testAppId);
  hermes.setNamespaceName("hermes");
  List<NamespaceDTO> namespaces=Arrays.asList(application,hermes);
  ReleaseDTO someRelease=new ReleaseDTO();
  someRelease.setConfigurations("{\"a\":\"123\",\"b\":\"123\"}");
  ItemDTO i1=new ItemDTO("a","123","",1);
  ItemDTO i2=new ItemDTO("b","1","",2);
  ItemDTO i3=new ItemDTO("","","#dddd",3);
  ItemDTO i4=new ItemDTO("c","1","",4);
  List<ItemDTO> someItems=Arrays.asList(i1,i2,i3,i4);
  when(applicationAppNamespace.getFormat()).thenReturn(ConfigFileFormat.Properties.getValue());
  when(hermesAppNamespace.getFormat()).thenReturn(ConfigFileFormat.XML.getValue());
  when(appNamespaceService.findByAppIdAndName(testAppId,testNamespaceName)).thenReturn(applicationAppNamespace);
  when(appNamespaceService.findPublicAppNamespace("hermes")).thenReturn(hermesAppNamespace);
  when(namespaceAPI.findNamespaceByCluster(testAppId,Env.DEV,testClusterName)).thenReturn(namespaces);
  when(releaseService.loadLatestRelease(testAppId,Env.DEV,testClusterName,testNamespaceName)).thenReturn(someRelease);
  when(releaseService.loadLatestRelease(testAppId,Env.DEV,testClusterName,"hermes")).thenReturn(someRelease);
  when(itemService.findItems(testAppId,Env.DEV,testClusterName,testNamespaceName)).thenReturn(someItems);
  List<NamespaceBO> namespaceVOs=namespaceService.findNamespaceBOs(testAppId,Env.DEV,testClusterName);
  assertEquals(2,namespaceVOs.size());
  NamespaceBO namespaceVO=namespaceVOs.get(0);
  assertEquals(4,namespaceVO.getItems().size());
  assertEquals("a",namespaceVO.getItems().get(0).getItem().getKey());
  assertEquals(2,namespaceVO.getItemModifiedCnt());
  assertEquals(testAppId,namespaceVO.getBaseInfo().getAppId());
  assertEquals(testClusterName,namespaceVO.getBaseInfo().getClusterName());
  assertEquals(testNamespaceName,namespaceVO.getBaseInfo().getNamespaceName());
}
