@Test public void testDeleteEmptyNamespace(){
  String branchName="branch";
  String operator="user";
  AppNamespace publicNamespace=createAppNamespace(testAppId,testNamespaceName,true);
  NamespaceDTO branch=createNamespace(testAppId,branchName,testNamespaceName);
  when(appNamespaceService.findByAppIdAndName(testAppId,testNamespaceName)).thenReturn(publicNamespace);
  when(instanceService.getInstanceCountByNamepsace(testAppId,testEnv,testClusterName,testNamespaceName)).thenReturn(0);
  when(branchService.findBranchBaseInfo(testAppId,testEnv,testClusterName,testNamespaceName)).thenReturn(branch);
  when(instanceService.getInstanceCountByNamepsace(testAppId,testEnv,branchName,testNamespaceName)).thenReturn(0);
  when(appNamespaceService.findPublicAppNamespace(testNamespaceName)).thenReturn(publicNamespace);
  NamespaceDTO namespace=createNamespace(testAppId,testClusterName,testNamespaceName);
  when(namespaceAPI.getPublicAppNamespaceAllNamespaces(testEnv,testNamespaceName,0,10)).thenReturn(Collections.singletonList(namespace));
  when(userInfoHolder.getUser()).thenReturn(createUser(operator));
  namespaceService.deleteNamespace(testAppId,testEnv,testClusterName,testNamespaceName);
  verify(namespaceAPI,times(1)).deleteNamespace(testEnv,testAppId,testClusterName,testNamespaceName,operator);
}
