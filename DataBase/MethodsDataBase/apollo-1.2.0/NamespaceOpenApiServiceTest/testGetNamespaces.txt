@Test public void testGetNamespaces() throws Exception {
  StringEntity responseEntity=new StringEntity("[]");
  when(someHttpResponse.getEntity()).thenReturn(responseEntity);
  final ArgumentCaptor<HttpGet> request=ArgumentCaptor.forClass(HttpGet.class);
  namespaceOpenApiService.getNamespaces(someAppId,someEnv,someCluster);
  verify(httpClient,times(1)).execute(request.capture());
  HttpGet get=request.getValue();
  assertEquals(String.format("%s/envs/%s/apps/%s/clusters/%s/namespaces",someBaseUrl,someEnv,someAppId,someCluster),get.getURI().toString());
}
