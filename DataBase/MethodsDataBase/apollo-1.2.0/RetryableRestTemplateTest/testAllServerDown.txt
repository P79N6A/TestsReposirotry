@Test(expected=ServiceException.class) public void testAllServerDown(){
  when(serviceAddressLocator.getServiceList(any())).thenReturn(Arrays.asList(mockService(serviceOne),mockService(serviceTwo),mockService(serviceThree)));
  when(restTemplate.getForObject(serviceOne + "/" + path,Object.class)).thenThrow(socketTimeoutException);
  when(restTemplate.getForObject(serviceTwo + "/" + path,Object.class)).thenThrow(httpHostConnectException);
  when(restTemplate.getForObject(serviceThree + "/" + path,Object.class)).thenThrow(connectTimeoutException);
  retryableRestTemplate.get(Env.DEV,path,Object.class);
  verify(restTemplate).getForObject(serviceOne + "/" + path,Object.class);
  verify(restTemplate).getForObject(serviceTwo + "/" + path,Object.class);
  verify(restTemplate).getForObject(serviceThree + "/" + path,Object.class);
}
