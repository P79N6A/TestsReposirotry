@Test public void toyDataComplementary() throws Exception {
  TrainNaiveBayesJob trainNaiveBayes=new TrainNaiveBayesJob();
  trainNaiveBayes.setConf(conf);
  trainNaiveBayes.run(new String[]{"--input",inputFile.getAbsolutePath(),"--output",outputDir.getAbsolutePath(),"--trainComplementary","--tempDir",tempDir.getAbsolutePath()});
  NaiveBayesModel naiveBayesModel=NaiveBayesModel.materialize(new Path(outputDir.getAbsolutePath()),conf);
  AbstractVectorClassifier classifier=new ComplementaryNaiveBayesClassifier(naiveBayesModel);
  assertEquals(2,classifier.numCategories());
  Vector prediction=classifier.classifyFull(trainingInstance(COLOR_RED,TYPE_SUV,ORIGIN_DOMESTIC).get());
  assertTrue(prediction.get(0) < prediction.get(1));
}
