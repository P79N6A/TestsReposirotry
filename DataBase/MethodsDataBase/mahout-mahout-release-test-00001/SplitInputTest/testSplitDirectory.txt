@Test public void testSplitDirectory() throws Exception {
  writeMultipleInputFiles();
  final int testSplitSize=1;
  si.setTestSplitSize(testSplitSize);
  si.setCallback(new SplitInput.SplitCallback(){
    @Override public void splitComplete(    Path inputFile,    int lineCount,    int trainCount,    int testCount,    int testSplitStart){
      int trainingLines=countMap.get(inputFile.getName()) - testSplitSize;
      assertSplit(fs,inputFile,charset,testSplitSize,trainingLines,tempTrainingDirectory,tempTestDirectory);
    }
  }
);
  si.splitDirectory(tempInputDirectory);
}
