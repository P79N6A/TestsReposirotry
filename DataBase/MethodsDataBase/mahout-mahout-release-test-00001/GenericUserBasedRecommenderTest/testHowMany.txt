@Test public void testHowMany() throws Exception {
  DataModel dataModel=getDataModel(new long[]{1,2,3,4,5},new Double[][]{{0.1,0.2},{0.2,0.3,0.3,0.6},{0.4,0.4,0.5,0.9},{0.1,0.4,0.5,0.8,0.9,1.0},{0.2,0.3,0.6,0.7,0.1,0.2}});
  UserSimilarity similarity=new PearsonCorrelationSimilarity(dataModel);
  UserNeighborhood neighborhood=new NearestNUserNeighborhood(2,similarity,dataModel);
  Recommender recommender=new GenericUserBasedRecommender(dataModel,neighborhood,similarity);
  List<RecommendedItem> fewRecommended=recommender.recommend(1,2);
  List<RecommendedItem> moreRecommended=recommender.recommend(1,4);
  for (int i=0; i < fewRecommended.size(); i++) {
    assertEquals(fewRecommended.get(i).getItemID(),moreRecommended.get(i).getItemID());
  }
  recommender.refresh(null);
  for (int i=0; i < fewRecommended.size(); i++) {
    assertEquals(fewRecommended.get(i).getItemID(),moreRecommended.get(i).getItemID());
  }
}
