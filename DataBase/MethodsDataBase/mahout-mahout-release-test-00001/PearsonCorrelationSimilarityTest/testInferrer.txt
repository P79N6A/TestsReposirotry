@Test public void testInferrer() throws Exception {
  DataModel dataModel=getDataModel(new long[]{1,2},new Double[][]{{null,1.0,2.0,null,null,6.0},{1.0,8.0,null,3.0,4.0,null}});
  UserSimilarity similarity=new PearsonCorrelationSimilarity(dataModel);
  similarity.setPreferenceInferrer(new PreferenceInferrer(){
    @Override public float inferPreference(    long userID,    long itemID){
      return 1.0f;
    }
    @Override public void refresh(    Collection<Refreshable> alreadyRefreshed){
    }
  }
);
  assertEquals(-0.435285750066007,similarity.userSimilarity(1L,2L),EPSILON);
}
