@Test public void testSignedSize() throws Exception {
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  DataOutput out=new DataOutputStream(baos);
  int expectedSize=0;
  for (int exponent=0; exponent <= 61; exponent++) {
    Varint.writeSignedVarLong(1L << exponent,out);
    expectedSize+=1 + ((exponent + 1) / 7);
    assertEquals(expectedSize,baos.size());
  }
  for (int exponent=0; exponent <= 61; exponent++) {
    Varint.writeSignedVarLong(-(1L << exponent) - 1,out);
    expectedSize+=1 + ((exponent + 1) / 7);
    assertEquals(expectedSize,baos.size());
  }
}
