@Test public void testSave() throws Exception {
  Configuration conf=getConfiguration();
  Writable key=new IntWritable(0);
  Vector value=new DenseVector(VECTOR);
  Path path=getTestTempDirPath("output");
  VectorCache.save(key,value,path,conf,true,true);
  SequenceFileValueIterator<VectorWritable> iterator=new SequenceFileValueIterator<>(path,true,conf);
  try {
    VectorWritable old=iterator.next();
    assertEquals("Saved vector is identical to original",old.get(),value);
  }
  finally {
    Closeables.close(iterator,true);
  }
}
