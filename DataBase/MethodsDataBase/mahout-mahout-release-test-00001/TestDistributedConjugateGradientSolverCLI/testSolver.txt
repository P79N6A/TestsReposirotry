@Test public void testSolver() throws Exception {
  Configuration conf=getConfiguration();
  Path testData=getTestTempDirPath("testdata");
  DistributedRowMatrix matrix=new TestDistributedRowMatrix().randomDistributedMatrix(10,10,10,10,10.0,true,testData.toString());
  matrix.setConf(conf);
  Path output=getTestTempFilePath("output");
  Path vectorPath=getTestTempFilePath("vector");
  Path tempPath=getTestTempDirPath("tmp");
  Vector vector=randomVector(matrix.numCols(),10.0);
  saveVector(conf,vectorPath,vector);
  String[] args={"-i",matrix.getRowPath().toString(),"-o",output.toString(),"--tempDir",tempPath.toString(),"--vector",vectorPath.toString(),"--numRows","10","--numCols","10","--symmetric","true"};
  DistributedConjugateGradientSolver solver=new DistributedConjugateGradientSolver();
  ToolRunner.run(getConfiguration(),solver.job(),args);
  Vector x=loadVector(conf,output);
  Vector solvedVector=matrix.times(x);
  double distance=Math.sqrt(vector.getDistanceSquared(solvedVector));
  assertEquals(0.0,distance,EPSILON);
}
