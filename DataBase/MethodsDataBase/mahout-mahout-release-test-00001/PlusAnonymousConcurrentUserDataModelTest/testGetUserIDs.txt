/** 
 * Test retrieving the user IDs and verifying that anonymous ones are not included
 */
@Test public void testGetUserIDs() throws TasteException {
  PreferenceArray prefs=new GenericUserPreferenceArray(1);
  long sampleUserID=1;
  prefs.setUserID(0,sampleUserID);
  long sampleItemID=11;
  prefs.setItemID(0,sampleItemID);
  FastByIDMap<PreferenceArray> delegatePreferences=new FastByIDMap<>();
  delegatePreferences.put(sampleUserID,prefs);
  PlusAnonymousConcurrentUserDataModel instance=getTestableWithDelegateData(10,delegatePreferences);
  Long anonymousUserID=instance.takeAvailableUser();
  PreferenceArray tempPrefs=new GenericUserPreferenceArray(1);
  tempPrefs.setUserID(0,anonymousUserID);
  tempPrefs.setItemID(0,22);
  instance.setTempPrefs(tempPrefs,anonymousUserID);
  Iterator<Long> userIDs=instance.getUserIDs();
  assertSame(sampleUserID,userIDs.next());
  assertFalse(userIDs.hasNext());
}
