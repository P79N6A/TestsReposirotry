@Test public void testRate(){
  Random gen=RandomUtils.getRandom();
  Poisson p=new Poisson(5,gen);
  double lastT=0;
  double[] k=new double[1000];
  double[] t=new double[1000];
  for (int i=1; i < 1000; i++) {
    double dt=gen.nextDouble() * 10 + 5;
    t[i]=lastT + dt;
    k[i]=p.nextInt(dt * 0.2);
    lastT=t[i];
  }
  OnlineExponentialAverage averager=new OnlineExponentialAverage(2000);
  for (int i=1; i < 1000; i++) {
    averager.add(t[i],k[i]);
  }
  assertEquals("Expected rate",0.2,averager.meanRate(),0.01);
}
