@Test public void testSample(){
  Iterator<Integer> source=new CountingIterator(100);
  Iterator<Integer> t=createSampler(15,source);
  List<Integer> expectedValues=Arrays.asList(52,28,2,60,50,32,65,79,78,9,40,33,96,25,48);
  if (isSorted()) {
    Collections.sort(expectedValues);
  }
  Iterator<Integer> expected=expectedValues.iterator();
  int last=Integer.MIN_VALUE;
  for (int i=0; i < 15; i++) {
    assertTrue(t.hasNext());
    int actual=t.next();
    if (isSorted()) {
      assertTrue(actual >= last);
      last=actual;
    }
 else {
      if (actual < 15) {
        assertEquals(i,actual);
      }
    }
    assertTrue(actual >= 0 && actual < 100);
    assertEquals(expected.next().intValue(),actual);
    assertFalse(source.hasNext());
  }
  assertFalse(t.hasNext());
}
