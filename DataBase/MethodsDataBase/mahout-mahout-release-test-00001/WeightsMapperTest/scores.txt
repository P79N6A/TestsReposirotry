@Test public void scores() throws Exception {
  Mapper.Context ctx=EasyMock.createMock(Mapper.Context.class);
  Vector instance1=new DenseVector(new double[]{1,0,0.5,0.5,0});
  Vector instance2=new DenseVector(new double[]{0,0.5,0,0,0});
  Vector instance3=new DenseVector(new double[]{1,0.5,1,1.5,1});
  Vector weightsPerLabel=new DenseVector(new double[]{0,0});
  ctx.write(new Text(TrainNaiveBayesJob.WEIGHTS_PER_FEATURE),new VectorWritable(new DenseVector(new double[]{2,1,1.5,2,1})));
  ctx.write(new Text(TrainNaiveBayesJob.WEIGHTS_PER_LABEL),new VectorWritable(new DenseVector(new double[]{2.5,5})));
  EasyMock.replay(ctx);
  WeightsMapper weights=new WeightsMapper();
  setField(weights,"weightsPerLabel",weightsPerLabel);
  weights.map(new IntWritable(0),new VectorWritable(instance1),ctx);
  weights.map(new IntWritable(0),new VectorWritable(instance2),ctx);
  weights.map(new IntWritable(1),new VectorWritable(instance3),ctx);
  weights.cleanup(ctx);
  EasyMock.verify(ctx);
}
