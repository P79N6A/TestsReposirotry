@Test public void testDeficientRank(){
  Matrix a=new DenseMatrix(10,3).assign(new DoubleFunction(){
    private final Random gen=RandomUtils.getRandom();
    @Override public double apply(    double arg1){
      return gen.nextGaussian();
    }
  }
);
  a=a.transpose().times(a);
  EigenDecomposition eig=new EigenDecomposition(a);
  Matrix d=eig.getD();
  Matrix v=eig.getV();
  check("EigenvalueDecomposition (rank deficient)...",a.times(v),v.times(d));
  Assert.assertEquals(0,eig.getImagEigenvalues().norm(1),1.0e-10);
  Assert.assertEquals(3,eig.getRealEigenvalues().norm(0),1.0e-10);
}
