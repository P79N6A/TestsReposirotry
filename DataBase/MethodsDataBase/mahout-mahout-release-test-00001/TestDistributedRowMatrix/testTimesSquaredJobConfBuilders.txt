@Test public void testTimesSquaredJobConfBuilders() throws Exception {
  Configuration initialConf=createInitialConf();
  Path baseTmpDirPath=getTestTempDirPath("testpaths");
  Path inputPath=new Path(baseTmpDirPath,"input");
  Path outputPath=new Path(baseTmpDirPath,"output");
  Vector v=new RandomAccessSparseVector(50);
  v.assign(1.0);
  Job timesSquaredJob1=TimesSquaredJob.createTimesSquaredJob(v,inputPath,outputPath);
  Job customTimesSquaredJob1=TimesSquaredJob.createTimesSquaredJob(initialConf,v,inputPath,outputPath);
  assertNull(timesSquaredJob1.getConfiguration().get(TEST_PROPERTY_KEY));
  assertEquals(TEST_PROPERTY_VALUE,customTimesSquaredJob1.getConfiguration().get(TEST_PROPERTY_KEY));
  Job timesJob=TimesSquaredJob.createTimesJob(v,50,inputPath,outputPath);
  Job customTimesJob=TimesSquaredJob.createTimesJob(initialConf,v,50,inputPath,outputPath);
  assertNull(timesJob.getConfiguration().get(TEST_PROPERTY_KEY));
  assertEquals(TEST_PROPERTY_VALUE,customTimesJob.getConfiguration().get(TEST_PROPERTY_KEY));
  Job timesSquaredJob2=TimesSquaredJob.createTimesSquaredJob(v,inputPath,outputPath,TimesSquaredJob.TimesSquaredMapper.class,TimesSquaredJob.VectorSummingReducer.class);
  Job customTimesSquaredJob2=TimesSquaredJob.createTimesSquaredJob(initialConf,v,inputPath,outputPath,TimesSquaredJob.TimesSquaredMapper.class,TimesSquaredJob.VectorSummingReducer.class);
  assertNull(timesSquaredJob2.getConfiguration().get(TEST_PROPERTY_KEY));
  assertEquals(TEST_PROPERTY_VALUE,customTimesSquaredJob2.getConfiguration().get(TEST_PROPERTY_KEY));
  Job timesSquaredJob3=TimesSquaredJob.createTimesSquaredJob(v,50,inputPath,outputPath,TimesSquaredJob.TimesSquaredMapper.class,TimesSquaredJob.VectorSummingReducer.class);
  Job customTimesSquaredJob3=TimesSquaredJob.createTimesSquaredJob(initialConf,v,50,inputPath,outputPath,TimesSquaredJob.TimesSquaredMapper.class,TimesSquaredJob.VectorSummingReducer.class);
  assertNull(timesSquaredJob3.getConfiguration().get(TEST_PROPERTY_KEY));
  assertEquals(TEST_PROPERTY_VALUE,customTimesSquaredJob3.getConfiguration().get(TEST_PROPERTY_KEY));
}
