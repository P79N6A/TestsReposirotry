/** 
 * adding an single-valued cluster should modify the inter cluster density but not change the intra-cluster density as that cluster would have NaN as its intra-cluster density and NaN values are ignored by the evaluator
 * @throws IOException
 */
@Test public void testSingleValueCluster() throws IOException {
  ClusteringTestUtils.writePointsToFile(referenceData,new Path(testdata,"file1"),fs,conf);
  DistanceMeasure measure=new EuclideanDistanceMeasure();
  initData(1,0.25,measure);
  Canopy cluster=new Canopy(new DenseVector(new double[]{0,0}),19,measure);
  clusters.add(cluster);
  List<VectorWritable> points=Lists.newArrayList();
  points.add(new VectorWritable(cluster.getCenter().plus(new DenseVector(new double[]{1,1}))));
  representativePoints.put(cluster.getId(),points);
  ClusterEvaluator evaluator=new ClusterEvaluator(representativePoints,clusters,measure);
  assertEquals("inter cluster density",0.3656854249492381,evaluator.interClusterDensity(),EPSILON);
  assertEquals("intra cluster density",0.3656854249492381,evaluator.intraClusterDensity(),EPSILON);
}
