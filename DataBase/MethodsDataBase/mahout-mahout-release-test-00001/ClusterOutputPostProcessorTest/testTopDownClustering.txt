/** 
 * Story: User wants to use cluster post processor after canopy clustering and then run clustering on the output clusters
 */
@Test public void testTopDownClustering() throws Exception {
  List<VectorWritable> points=getPointsWritable(REFERENCE);
  Path pointsPath=getTestTempDirPath("points");
  conf=getConfiguration();
  ClusteringTestUtils.writePointsToFile(points,new Path(pointsPath,"file1"),fs,conf);
  ClusteringTestUtils.writePointsToFile(points,new Path(pointsPath,"file2"),fs,conf);
  outputPath=getTestTempDirPath("output");
  topLevelClustering(pointsPath,conf);
  Map<String,Path> postProcessedClusterDirectories=ouputPostProcessing(conf);
  assertPostProcessedOutput(postProcessedClusterDirectories);
  bottomLevelClustering(postProcessedClusterDirectories);
}
