@Test public void testGroups() throws Exception {
  RegexMapper mapper=new RegexMapper();
  Configuration conf=getConfiguration();
  conf.set(RegexMapper.REGEX,"(\\d+)\\.(\\d+)\\.(\\d+)");
  conf.set(RegexMapper.TRANSFORMER_CLASS,URLDecodeTransformer.class.getName());
  conf.setStrings(RegexMapper.GROUP_MATCHERS,"1","3");
  DummyRecordWriter<LongWritable,Text> mapWriter=new DummyRecordWriter<>();
  Mapper<LongWritable,Text,LongWritable,Text>.Context mapContext=DummyRecordWriter.build(mapper,conf,mapWriter);
  mapper.setup(mapContext);
  for (int i=0; i < RegexUtilsTest.TEST_STRS.length; i++) {
    String testStr=RegexUtilsTest.TEST_STRS[i];
    LongWritable key=new LongWritable(i);
    mapper.map(key,new Text(testStr),mapContext);
    List<Text> value=mapWriter.getValue(key);
    assertEquals(1,value.size());
    assertEquals("127 0",value.get(0).toString());
  }
}
