@Test public void testTopItemsRandom() throws Exception {
  long[] ids=new long[100];
  for (int i=0; i < 100; i++) {
    ids[i]=i;
  }
  LongPrimitiveIterator possibleItemIds=new LongPrimitiveArrayIterator(ids);
  final Random random=RandomUtils.getRandom();
  TopItems.Estimator<Long> estimator=new TopItems.Estimator<Long>(){
    @Override public double estimate(    Long thing){
      return random.nextDouble();
    }
  }
;
  List<RecommendedItem> topItems=TopItems.getTopItems(10,possibleItemIds,null,estimator);
  assertEquals(10,topItems.size());
  double last=2.0;
  for (  RecommendedItem topItem : topItems) {
    assertTrue(topItem.getValue() <= last);
    last=topItem.getItemID();
  }
}
