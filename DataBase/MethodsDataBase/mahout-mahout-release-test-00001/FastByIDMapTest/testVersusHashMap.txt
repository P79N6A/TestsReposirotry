@Test public void testVersusHashMap(){
  FastByIDMap<String> actual=new FastByIDMap<>();
  Map<Long,String> expected=new HashMap<>(1000000);
  Random r=RandomUtils.getRandom();
  for (int i=0; i < 1000000; i++) {
    double d=r.nextDouble();
    Long key=(long)r.nextInt(100);
    if (d < 0.4) {
      assertEquals(expected.get(key),actual.get(key));
    }
 else {
      if (d < 0.7) {
        assertEquals(expected.put(key,"bang"),actual.put(key,"bang"));
      }
 else {
        assertEquals(expected.remove(key),actual.remove(key));
      }
      assertEquals(expected.size(),actual.size());
      assertEquals(expected.isEmpty(),actual.isEmpty());
    }
  }
}
