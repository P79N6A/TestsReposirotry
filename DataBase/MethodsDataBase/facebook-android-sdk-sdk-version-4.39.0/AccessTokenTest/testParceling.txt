@Test public void testParceling() throws IOException {
  String token="a token";
  String appId="1234";
  String userId="1000";
  Set<String> permissions=new HashSet<String>(Arrays.asList("permission_1","permission_2"));
  Set<String> declinedPermissions=new HashSet<String>(Collections.singletonList("permission_3"));
  AccessTokenSource source=AccessTokenSource.WEB_VIEW;
  AccessToken accessToken1=new AccessToken(token,appId,userId,permissions,declinedPermissions,source,null,null,null);
  AccessToken accessToken2=TestUtils.parcelAndUnparcel(accessToken1);
  assertEquals(accessToken1,accessToken2);
  assertEquals(token,accessToken2.getToken());
  assertEquals(appId,accessToken2.getApplicationId());
  assertEquals(permissions,accessToken2.getPermissions());
  assertEquals(declinedPermissions,accessToken2.getDeclinedPermissions());
  assertEquals(accessToken1.getExpires(),accessToken2.getExpires());
  assertEquals(accessToken1.getLastRefresh(),accessToken2.getLastRefresh());
  assertEquals(accessToken1.getUserId(),accessToken2.getUserId());
  assertEquals(accessToken1.getExpires(),accessToken2.getExpires());
  assertEquals(accessToken1.getDataAccessExpirationTime(),accessToken2.getDataAccessExpirationTime());
}
