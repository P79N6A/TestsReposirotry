@Test public void testFromNativeLogin(){
  ArrayList<String> permissions=Utility.arrayList("stream_publish","go_outside_and_play");
  String token="AnImaginaryTokenValue";
  String userId="1000";
  long nowSeconds=new Date().getTime() / 1000;
  Intent intent=new Intent();
  intent.putExtra(NativeProtocol.EXTRA_ACCESS_TOKEN,token);
  intent.putExtra(NativeProtocol.EXTRA_EXPIRES_SECONDS_SINCE_EPOCH,nowSeconds + 60L);
  intent.putExtra(NativeProtocol.EXTRA_PERMISSIONS,permissions);
  intent.putExtra(NativeProtocol.EXTRA_USER_ID,userId);
  AccessToken accessToken=GetTokenLoginMethodHandler.createAccessTokenFromNativeLogin(intent.getExtras(),AccessTokenSource.FACEBOOK_APPLICATION_NATIVE,"1234");
  TestUtils.assertSamePermissions(permissions,accessToken);
  assertEquals(token,accessToken.getToken());
  assertEquals(AccessTokenSource.FACEBOOK_APPLICATION_NATIVE,accessToken.getSource());
  assertTrue(!accessToken.isExpired());
}
