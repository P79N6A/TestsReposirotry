@Test public void testAllTypes(){
  Bundle originalBundle=new Bundle();
  putBoolean(BOOLEAN_KEY,originalBundle);
  putBooleanArray(BOOLEAN_ARRAY_KEY,originalBundle);
  putByte(BYTE_KEY,originalBundle);
  putByteArray(BYTE_ARRAY_KEY,originalBundle);
  putShort(SHORT_KEY,originalBundle);
  putShortArray(SHORT_ARRAY_KEY,originalBundle);
  putInt(INT_KEY,originalBundle);
  putIntArray(INT_ARRAY_KEY,originalBundle);
  putLong(LONG_KEY,originalBundle);
  putLongArray(LONG_ARRAY_KEY,originalBundle);
  putFloat(FLOAT_KEY,originalBundle);
  putFloatArray(FLOAT_ARRAY_KEY,originalBundle);
  putDouble(DOUBLE_KEY,originalBundle);
  putDoubleArray(DOUBLE_ARRAY_KEY,originalBundle);
  putChar(CHAR_KEY,originalBundle);
  putCharArray(CHAR_ARRAY_KEY,originalBundle);
  putString(STRING_KEY,originalBundle);
  putStringList(STRING_LIST_KEY,originalBundle);
  originalBundle.putSerializable(SERIALIZABLE_KEY,AccessTokenSource.FACEBOOK_APPLICATION_WEB);
  ensureApplicationContext();
  LegacyTokenHelper cache=new LegacyTokenHelper(RuntimeEnvironment.application);
  cache.save(originalBundle);
  LegacyTokenHelper cache2=new LegacyTokenHelper(RuntimeEnvironment.application);
  Bundle cachedBundle=cache2.load();
  assertEquals(originalBundle.getBoolean(BOOLEAN_KEY),cachedBundle.getBoolean(BOOLEAN_KEY));
  assertArrayEquals(originalBundle.getBooleanArray(BOOLEAN_ARRAY_KEY),cachedBundle.getBooleanArray(BOOLEAN_ARRAY_KEY));
  assertEquals(originalBundle.getByte(BYTE_KEY),cachedBundle.getByte(BYTE_KEY));
  assertArrayEquals(originalBundle.getByteArray(BYTE_ARRAY_KEY),cachedBundle.getByteArray(BYTE_ARRAY_KEY));
  assertEquals(originalBundle.getShort(SHORT_KEY),cachedBundle.getShort(SHORT_KEY));
  assertArrayEquals(originalBundle.getShortArray(SHORT_ARRAY_KEY),cachedBundle.getShortArray(SHORT_ARRAY_KEY));
  assertEquals(originalBundle.getInt(INT_KEY),cachedBundle.getInt(INT_KEY));
  assertArrayEquals(originalBundle.getIntArray(INT_ARRAY_KEY),cachedBundle.getIntArray(INT_ARRAY_KEY));
  assertEquals(originalBundle.getLong(LONG_KEY),cachedBundle.getLong(LONG_KEY));
  assertArrayEquals(originalBundle.getLongArray(LONG_ARRAY_KEY),cachedBundle.getLongArray(LONG_ARRAY_KEY));
  assertEquals(originalBundle.getFloat(FLOAT_KEY),cachedBundle.getFloat(FLOAT_KEY),TestUtils.DOUBLE_EQUALS_DELTA);
  assertArrayEquals(originalBundle.getFloatArray(FLOAT_ARRAY_KEY),cachedBundle.getFloatArray(FLOAT_ARRAY_KEY));
  assertEquals(originalBundle.getDouble(DOUBLE_KEY),cachedBundle.getDouble(DOUBLE_KEY),TestUtils.DOUBLE_EQUALS_DELTA);
  assertArrayEquals(originalBundle.getDoubleArray(DOUBLE_ARRAY_KEY),cachedBundle.getDoubleArray(DOUBLE_ARRAY_KEY));
  assertEquals(originalBundle.getChar(CHAR_KEY),cachedBundle.getChar(CHAR_KEY));
  assertArrayEquals(originalBundle.getCharArray(CHAR_ARRAY_KEY),cachedBundle.getCharArray(CHAR_ARRAY_KEY));
  assertEquals(originalBundle.getString(STRING_KEY),cachedBundle.getString(STRING_KEY));
  assertListEquals(originalBundle.getStringArrayList(STRING_LIST_KEY),cachedBundle.getStringArrayList(STRING_LIST_KEY));
  assertEquals(originalBundle.getSerializable(SERIALIZABLE_KEY),cachedBundle.getSerializable(SERIALIZABLE_KEY));
}
