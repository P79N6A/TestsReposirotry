@Test public void testLogInWithPublishAndAccessTokenCreatesReauthRequest(){
  AccessToken accessToken=createAccessToken();
  stub(method(AccessToken.class,"getCurrentAccessToken")).toReturn(accessToken);
  LoginManager loginManager=new LoginManager();
  loginManager.logInWithPublishPermissions(mockActivity,Arrays.asList("publish_actions","publish_stream"));
  int loginRequestCode=CallbackManagerImpl.RequestCodeOffset.Login.toRequestCode();
  verify(mockActivity,times(1)).startActivityForResult(any(Intent.class),eq(loginRequestCode));
}
