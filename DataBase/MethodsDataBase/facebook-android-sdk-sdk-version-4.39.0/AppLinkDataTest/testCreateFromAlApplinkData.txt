@Test public void testCreateFromAlApplinkData(){
  AppLinkData appLinkData=AppLinkData.createFromActivity(new MockActivityWithAppLinkData());
  assertNotNull("app link data not null",appLinkData);
  assertEquals("ref param",FB_REF_VALUE,appLinkData.getRef());
  assertEquals("target_url",TARGET_URI_STRING,appLinkData.getTargetUri().toString());
  Bundle args=appLinkData.getArgumentBundle();
  assertNotNull("app link args not null",args);
  assertEquals("user agent",USER_AGENT_VALUE,args.getString(USER_AGENT_KEY));
  Bundle refererData=appLinkData.getRefererData();
  assertNotNull("referer data not null",refererData);
  assertEquals("ref param in referer data",FB_REF_VALUE,refererData.getString(FB_REF_KEY));
  assertEquals("extra param",EXTRA_ARGS_VALUE,refererData.getString(EXTRA_ARGS_KEY));
  assertEquals("promo_code",PROMO_CODE,appLinkData.getPromotionCode());
}
