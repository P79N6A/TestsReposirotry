@Test public void testCreateFromJsonWithDeeplinkContext(){
  AppLinkData appLinkData=AppLinkData.createFromActivity(new MockActivityWithJsonData(JSON_DATA_WITH_DEEPLINK_CONTEXT));
  assertNotNull("app link data not null",appLinkData);
  assertEquals("ref param",FB_REF_VALUE,appLinkData.getRef());
  assertEquals("target_url",TARGET_URI_STRING,appLinkData.getTargetUri().toString());
  assertEquals("promo_code",PROMO_CODE,appLinkData.getPromotionCode());
  Bundle args=appLinkData.getArgumentBundle();
  assertNotNull("app link args not null",args);
  assertNull("user agent",args.getString(USER_AGENT_KEY));
  Bundle refererData=appLinkData.getRefererData();
  assertNull("referer data",refererData);
}
