@Test public void testSaveWritesToCacheIfToken() throws JSONException {
  AccessToken accessToken=createAccessToken();
  AccessTokenCache cache=new AccessTokenCache(sharedPreferences,cachingStrategyFactory);
  cache.save(accessToken);
  verify(cachingStrategy,never()).save(any(Bundle.class));
  assertTrue(sharedPreferences.contains(AccessTokenCache.CACHED_ACCESS_TOKEN_KEY));
  AccessToken savedAccessToken=AccessToken.createFromJSONObject(new JSONObject(sharedPreferences.getString(AccessTokenCache.CACHED_ACCESS_TOKEN_KEY,null)));
  assertEquals(accessToken,savedAccessToken);
}
