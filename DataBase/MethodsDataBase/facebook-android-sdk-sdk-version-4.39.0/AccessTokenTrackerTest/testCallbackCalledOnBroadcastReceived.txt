@Test public void testCallbackCalledOnBroadcastReceived() throws Exception {
  accessTokenTracker=new TestAccessTokenTracker();
  AccessToken oldAccessToken=createAccessToken("I'm old!");
  AccessToken currentAccessToken=createAccessToken("I'm current!");
  sendBroadcast(oldAccessToken,currentAccessToken);
  assertNotNull(accessTokenTracker.currentAccessToken);
  assertEquals(currentAccessToken.getToken(),accessTokenTracker.currentAccessToken.getToken());
  assertNotNull(accessTokenTracker.oldAccessToken);
  assertEquals(oldAccessToken.getToken(),accessTokenTracker.oldAccessToken.getToken());
}
