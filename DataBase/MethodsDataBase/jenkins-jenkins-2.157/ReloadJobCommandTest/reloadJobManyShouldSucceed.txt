@Test public void reloadJobManyShouldSucceed() throws Exception {
  FreeStyleProject project1=j.createFreeStyleProject("aProject1");
  project1.getBuildersList().add(createScriptBuilder("echo 1"));
  FreeStyleProject project2=j.createFreeStyleProject("aProject2");
  project2.getBuildersList().add(createScriptBuilder("echo 1"));
  FreeStyleProject project3=j.createFreeStyleProject("aProject3");
  project3.getBuildersList().add(createScriptBuilder("echo 1"));
  assertThat(project1.scheduleBuild2(0).get().getLog(),containsString("echo 1"));
  assertThat(project2.scheduleBuild2(0).get().getLog(),containsString("echo 1"));
  assertThat(project3.scheduleBuild2(0).get().getLog(),containsString("echo 1"));
  changeProjectOnTheDisc(project1,"echo 1","echo 2");
  changeProjectOnTheDisc(project2,"echo 1","echo 2");
  changeProjectOnTheDisc(project3,"echo 1","echo 2");
  final CLICommandInvoker.Result result=command.authorizedTo(Job.READ,Job.CONFIGURE,Jenkins.READ).invokeWithArgs("aProject1","aProject2","aProject3");
  assertThat(result,succeededSilently());
  assertThat(project1.scheduleBuild2(0).get().getLog(),containsString("echo 2"));
  assertThat(project2.scheduleBuild2(0).get().getLog(),containsString("echo 2"));
  assertThat(project3.scheduleBuild2(0).get().getLog(),containsString("echo 2"));
}
