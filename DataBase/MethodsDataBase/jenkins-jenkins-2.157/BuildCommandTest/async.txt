/** 
 * Just schedules a build and return.
 */
@Test public void async() throws Exception {
  FreeStyleProject p=j.createFreeStyleProject();
  OneShotEvent started=new OneShotEvent();
  OneShotEvent completed=new OneShotEvent();
  p.getBuildersList().add(new TestBuilder(){
    @Override public boolean perform(    AbstractBuild<?,?> build,    Launcher launcher,    BuildListener listener) throws InterruptedException, IOException {
      started.signal();
      completed.block();
      return true;
    }
  }
);
  try (CLI cli=new CLI(j.getURL())){
    assertEquals(0,cli.execute("build",p.getName()));
    started.block();
    assertTrue(p.getBuildByNumber(1).isBuilding());
    completed.signal();
  }
 }
