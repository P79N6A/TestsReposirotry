@Issue("JENKINS-41745") @Test public void fileParameter() throws Exception {
  FreeStyleProject p=j.createFreeStyleProject("myjob");
  p.addProperty(new ParametersDefinitionProperty(new FileParameterDefinition("file",null)));
  p.getBuildersList().add(new TestBuilder(){
    @Override public boolean perform(    AbstractBuild<?,?> build,    Launcher launcher,    BuildListener listener) throws InterruptedException, IOException {
      listener.getLogger().println("Found in my workspace: " + build.getWorkspace().child("file").readToString());
      return true;
    }
  }
);
  assertThat(new CLICommandInvoker(j,"build").withStdin(new ByteArrayInputStream("uploaded content here".getBytes())).invokeWithArgs("-f","-p","file=","myjob"),CLICommandInvoker.Matcher.succeeded());
  FreeStyleBuild b=p.getBuildByNumber(1);
  assertNotNull(b);
  j.assertLogContains("uploaded content here",b);
}
