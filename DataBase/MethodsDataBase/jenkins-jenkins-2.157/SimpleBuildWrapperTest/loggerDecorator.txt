@Issue("JENKINS-27392") @Test public void loggerDecorator() throws Exception {
  FreeStyleProject p=r.createFreeStyleProject();
  p.getBuildWrappersList().add(new WrapperWithLogger());
  p.getBuildersList().add(new TestBuilder(){
    @Override public boolean perform(    AbstractBuild<?,?> build,    Launcher launcher,    BuildListener listener) throws InterruptedException, IOException {
      listener.getLogger().println("sending a message");
      return true;
    }
  }
);
  r.assertLogContains("SENDING A MESSAGE",r.buildAndAssertSuccess(p));
}
