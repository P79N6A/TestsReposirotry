@Test public void onlineNodeManyShouldSucceed() throws Exception {
  DumbSlave slave1=j.createSlave("aNode1","",null);
  DumbSlave slave2=j.createSlave("aNode2","",null);
  DumbSlave slave3=j.createSlave("aNode3","",null);
  final CLICommandInvoker.Result result=command.authorizedTo(Computer.CONNECT,Jenkins.READ).invokeWithArgs("aNode1","aNode2","aNode3");
  assertThat(result,succeededSilently());
  if (slave1.toComputer().isConnecting()) {
    System.out.println("Waiting until aNode1 going online is in progress...");
    slave1.toComputer().waitUntilOnline();
  }
  if (slave2.toComputer().isConnecting()) {
    System.out.println("Waiting until aNode2 going online is in progress...");
    slave2.toComputer().waitUntilOnline();
  }
  if (slave3.toComputer().isConnecting()) {
    System.out.println("Waiting until aNode3 going online is in progress...");
    slave3.toComputer().waitUntilOnline();
  }
  assertThat(slave1.toComputer().isOnline(),equalTo(true));
  assertThat(slave2.toComputer().isOnline(),equalTo(true));
  assertThat(slave3.toComputer().isOnline(),equalTo(true));
}
