@Test public void testGetItems() throws IOException, InterruptedException {
  User user=User.get("User1");
  GlobalMatrixAuthorizationStrategy auth=new GlobalMatrixAuthorizationStrategy();
  rule.jenkins.setAuthorizationStrategy(auth);
  FreeStyleProject job2=rule.createFreeStyleProject("job2");
  FreeStyleProject job=rule.createFreeStyleProject("job");
  MyView view=new MyView("My",rule.jenkins);
  auth.add(Job.READ,"User1");
  SecurityContextHolder.getContext().setAuthentication(user.impersonate());
  assertFalse("View " + view.getDisplayName() + " should not contains job "+ job.getDisplayName(),view.getItems().contains(job));
  assertFalse("View " + view.getDisplayName() + " should not contains job "+ job2.getDisplayName(),view.getItems().contains(job2));
  auth.add(Job.CONFIGURE,"User1");
  assertTrue("View " + view.getDisplayName() + " should contain job "+ job.getDisplayName(),view.getItems().contains(job));
  assertTrue("View " + view.getDisplayName() + " should contain job "+ job2.getDisplayName(),view.getItems().contains(job2));
}
