/** 
 * Creating two views with the same name.
 */
@Email("http://d.hatena.ne.jp/ssogabe/20090101/1230744150") @Test public void conflictingName() throws Exception {
  assertNull(j.jenkins.getView("foo"));
  HtmlForm form=j.createWebClient().goTo("newView").getFormByName("createItem");
  form.getInputByName("name").setValueAttribute("foo");
  form.getRadioButtonsByName("mode").get(0).setChecked(true);
  j.submit(form);
  assertNotNull(j.jenkins.getView("foo"));
  try {
    j.submit(form);
    fail("shouldn't be allowed to create two views of the same name.");
  }
 catch (  FailingHttpStatusCodeException e) {
    assertEquals(400,e.getStatusCode());
  }
}
