@Test public void badPath() throws Exception {
  final File newFile=tmp.newFile();
  File parentExistsAndIsAFile=new File(newFile,"badChild");
  assertTrue(newFile.exists());
  assertFalse(parentExistsAndIsAFile.exists());
  try {
    new AtomicFileWriter(parentExistsAndIsAFile.toPath(),Charset.forName("UTF-8"));
    fail("Expected a failure");
  }
 catch (  IOException e) {
    assertThat(e.getMessage(),containsString("exists and is neither a directory nor a symlink to a directory"));
  }
}
