@Issue("JENKINS-50164") @Test public void workspacesDir() throws Exception {
  loggerRule.record(Jenkins.class,Level.WARNING).record(Jenkins.class,Level.INFO).capture(1000);
  story.then(step -> assertFalse(logWasFound("Using non default workspaces directories")));
  story.then(step -> {
    assertTrue(story.j.getInstance().isDefaultWorkspaceDir());
    final String workspacesDir="bluh";
    setWorkspacesDirProperty(workspacesDir);
    assertFalse(logWasFound("Changing workspaces directories from "));
  }
);
  story.then(step -> {
    assertFalse(story.j.getInstance().isDefaultWorkspaceDir());
    assertEquals("bluh",story.j.getInstance().getRawWorkspaceDir());
    assertTrue(logWasFound("Changing workspaces directories from "));
  }
);
  story.then(step -> {
    assertFalse(story.j.getInstance().isDefaultWorkspaceDir());
    assertTrue(logWasFound("Using non default workspaces directories"));
  }
);
}
