@Issue("JENKINS-50164") @Test public void buildsDir() throws Exception {
  loggerRule.record(Jenkins.class,Level.WARNING).record(Jenkins.class,Level.INFO).capture(100);
  story.then(step -> {
    assertFalse(logWasFound("Using non default builds directories"));
  }
);
  story.then(steps -> {
    assertTrue(story.j.getInstance().isDefaultBuildDir());
    setBuildsDirProperty("$JENKINS_HOME/plouf/$ITEM_FULL_NAME/bluh");
    assertFalse(JenkinsBuildsAndWorkspacesDirectoriesTest.this.logWasFound(LOG_WHEN_CHANGING_BUILDS_DIR));
  }
);
  story.then(step -> {
    assertFalse(story.j.getInstance().isDefaultBuildDir());
    assertEquals("$JENKINS_HOME/plouf/$ITEM_FULL_NAME/bluh",story.j.getInstance().getRawBuildsDir());
    assertTrue(logWasFound("Changing builds directories from "));
  }
);
  story.then(step -> assertTrue(logWasFound("Using non default builds directories")));
}
