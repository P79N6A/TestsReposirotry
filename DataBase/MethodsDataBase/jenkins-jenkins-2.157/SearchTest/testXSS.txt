/** 
 * Makes sure the script doesn't execute.
 */
@Issue("JENKINS-3415") @Test public void testXSS() throws Exception {
  try {
    WebClient wc=j.createWebClient();
    wc.setAlertHandler(new AlertHandler(){
      public void handleAlert(      Page page,      String message){
        throw new AssertionError();
      }
    }
);
    wc.search("<script>alert('script');</script>");
    fail("404 expected");
  }
 catch (  FailingHttpStatusCodeException e) {
    assertEquals(404,e.getResponse().getStatusCode());
  }
}
