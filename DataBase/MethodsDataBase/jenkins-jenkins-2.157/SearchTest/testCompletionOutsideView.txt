/** 
 * All top-level jobs should be searchable, not just jobs in the current view.
 */
@Issue("JENKINS-13148") @Test public void testCompletionOutsideView() throws Exception {
  FreeStyleProject p=j.createFreeStyleProject("foo-bar");
  ListView v=new ListView("empty1",j.jenkins);
  ListView w=new ListView("empty2",j.jenkins);
  j.jenkins.addView(v);
  j.jenkins.addView(w);
  j.jenkins.setPrimaryView(w);
  assertFalse(v.contains(p));
  assertFalse(w.contains(p));
  assertFalse(j.jenkins.getPrimaryView().contains(p));
  assertTrue(suggest(j.jenkins.getSearchIndex(),"foo").contains(p));
}
