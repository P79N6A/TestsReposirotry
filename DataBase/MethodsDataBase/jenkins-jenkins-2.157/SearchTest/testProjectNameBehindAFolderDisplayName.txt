@Issue("JENKINS-24433") @Test public void testProjectNameBehindAFolderDisplayName() throws Exception {
  final String projectName1="job-1";
  final String displayName1="job-1 display";
  final String projectName2="job-2";
  final String displayName2="job-2 display";
  FreeStyleProject project1=j.createFreeStyleProject(projectName1);
  project1.setDisplayName(displayName1);
  MockFolder myMockFolder=j.createFolder("my-folder-1");
  FreeStyleProject project2=myMockFolder.createProject(FreeStyleProject.class,projectName2);
  project2.setDisplayName(displayName2);
  WebClient wc=j.createWebClient();
  Page result=wc.goTo(myMockFolder.getUrl() + "search/suggest?query=" + projectName1,"application/json");
  assertNotNull(result);
  j.assertGoodStatus(result);
  String content=result.getWebResponse().getContentAsString();
  JSONObject jsonContent=(JSONObject)JSONSerializer.toJSON(content);
  assertNotNull(jsonContent);
  JSONArray jsonArray=jsonContent.getJSONArray("suggestions");
  assertNotNull(jsonArray);
  assertEquals(2,jsonArray.size());
  boolean foundDisplayName=false;
  for (  Object suggestion : jsonArray) {
    JSONObject jsonSuggestion=(JSONObject)suggestion;
    String name=(String)jsonSuggestion.get("name");
    if (projectName1.equals(name)) {
      foundDisplayName=true;
    }
  }
  assertTrue(foundDisplayName);
}
