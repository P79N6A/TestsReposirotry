@Test public void jobViewManipulationShouldFailIfTheViewIsNotDirectlyModifiable() throws Exception {
  FreeStyleProject project=j.createFreeStyleProject("aProject");
  assertThat(j.jenkins.getView("All").getAllItems().size(),equalTo(1));
  assertThat(j.jenkins.getView("All").contains(project),equalTo(true));
  final CLICommandInvoker.Result result=command.authorizedTo(Jenkins.READ,View.READ,Job.READ,View.CONFIGURE).invokeWithArgs("All","aProject");
  assertThat(result,failedWith(4));
  assertThat(result.stderr(),containsString("ERROR: 'All' view can not be modified directly"));
  assertThat(j.jenkins.getView("All").getAllItems().size(),equalTo(1));
  assertThat(j.jenkins.getView("All").contains(project),equalTo(true));
}
