@Issue("SECURITY-380") @Test public void testGetItemsWithoutAnonRead() throws Exception {
  FullControlOnceLoggedInAuthorizationStrategy strategy=new FullControlOnceLoggedInAuthorizationStrategy();
  strategy.setAllowAnonymousRead(false);
  Jenkins.getInstance().setAuthorizationStrategy(strategy);
  Jenkins.getInstance().setSecurityRealm(j.createDummySecurityRealm());
  j.createFreeStyleProject();
  ACL.impersonate(Jenkins.ANONYMOUS,new Runnable(){
    @Override public void run(){
      Assert.assertEquals("no items",0,Jenkins.getInstance().getItems().size());
    }
  }
);
}
