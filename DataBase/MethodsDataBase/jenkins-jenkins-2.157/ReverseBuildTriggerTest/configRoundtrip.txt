@Test public void configRoundtrip() throws Exception {
  r.createFreeStyleProject("upstream");
  FreeStyleProject downstream=r.createFreeStyleProject("downstream");
  FreeStyleProject wayDownstream=r.createFreeStyleProject("wayDownstream");
  downstream.addTrigger(new ReverseBuildTrigger("upstream",Result.SUCCESS));
  downstream.getPublishersList().add(new BuildTrigger(Collections.singleton(wayDownstream),Result.SUCCESS));
  downstream.save();
  r.configRoundtrip(downstream);
  ReverseBuildTrigger rbt=downstream.getTrigger(ReverseBuildTrigger.class);
  assertNotNull(rbt);
  assertEquals("upstream",rbt.getUpstreamProjects());
  assertEquals(Result.SUCCESS,rbt.getThreshold());
  BuildTrigger bt=downstream.getPublishersList().get(BuildTrigger.class);
  assertNotNull(bt);
  assertEquals(Collections.singletonList(wayDownstream),bt.getChildProjects(downstream));
  assertEquals(Result.SUCCESS,bt.getThreshold());
}
