/** 
 * Uneven distribution should result in uneven mapping.
 */
@Test public void unevenDistribution(){
  ConsistentHash<String> hash=new ConsistentHash<String>();
  hash.add("even",10);
  hash.add("odd",100);
  Random r=new Random(0);
  int even=0, odd=0;
  for (int i=0; i < 1000; i++) {
    String v=hash.lookup(r.nextInt());
    if (v.equals("even"))     even++;
 else     odd++;
  }
  System.out.printf("%d/%d\n",even,odd);
  assertTrue(even * 8 < odd);
}
