/** 
 * Just some random tests to ensure that we have no silly NPE or that kind of error.
 */
@Test public void basic(){
  ConsistentHash<String> hash=new ConsistentHash<String>();
  hash.add("data1");
  hash.add("data2");
  hash.add("data3");
  System.out.println(hash.lookup(0));
  String x=hash.lookup(Integer.MIN_VALUE);
  String y=hash.lookup(Integer.MAX_VALUE);
  assertEquals(x,y);
  Iterator<String> itr=hash.list(Integer.MIN_VALUE).iterator();
  Set<String> all=new HashSet<String>();
  String z=itr.next();
  all.add(z);
  assertEquals(z,x);
  all.add(itr.next());
  all.add(itr.next());
  assertTrue(!itr.hasNext());
  assertEquals(3,all.size());
}
