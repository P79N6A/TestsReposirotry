@Test public void usesCustomHash(){
  final RuntimeException exception=new RuntimeException();
  ConsistentHash.Hash<String> hashFunction=new ConsistentHash.Hash<String>(){
    public String hash(    String str){
      throw exception;
    }
  }
;
  try {
    ConsistentHash<String> hash=new ConsistentHash<String>(hashFunction);
    hash.add("foo");
    fail("Didn't use custom hash function");
  }
 catch (  RuntimeException e) {
    assertSame(exception,e);
  }
}
