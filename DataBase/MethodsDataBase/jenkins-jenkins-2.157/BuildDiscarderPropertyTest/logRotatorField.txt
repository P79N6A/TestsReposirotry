@Issue("JENKINS-16979") @LocalData @Test public void logRotatorField() throws Exception {
  AbstractProject<?,?> p=r.jenkins.getItemByFullName("foo",AbstractProject.class);
  verifyLogRotatorSanity(p);
  p.save();
  String xml=p.getConfigFile().asString();
  p.setBuildDiscarder(null);
  p.updateByXml((Source)new StreamSource(new StringReader(xml)));
  verifyLogRotatorSanity(p);
  assertTrue(xml,xml.contains("<logRotator class=\"" + LogRotator.class.getName() + "\">"));
}
