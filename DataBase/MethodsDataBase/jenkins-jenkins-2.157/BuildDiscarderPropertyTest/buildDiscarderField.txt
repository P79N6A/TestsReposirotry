@Issue("JENKINS-31518") @LocalData @Test public void buildDiscarderField() throws Exception {
  FreeStyleProject p=r.jenkins.getItemByFullName("p",FreeStyleProject.class);
  verifyBuildDiscarder(p);
  r.configRoundtrip(p);
  verifyBuildDiscarder(p);
  String xml=p.getConfigFile().asString();
  assertFalse(xml,xml.contains("<logRotator class="));
  assertTrue(xml,xml.contains("<" + BuildDiscarderProperty.class.getName() + ">"));
}
