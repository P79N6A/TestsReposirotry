@Test @Issue("JENKINS-52441") public void takeCareOfUserWithIdNull() throws Exception {
  ApiTokenPropertyConfiguration config=ApiTokenPropertyConfiguration.get();
  config.setCreationOfLegacyTokenEnabled(true);
  config.setTokenGenerationOnCreationEnabled(false);
  User user=User.getById("null",true);
  ApiTokenProperty apiTokenProperty=user.getProperty(ApiTokenProperty.class);
  assertFalse(apiTokenProperty.hasLegacyToken());
  LegacyApiTokenAdministrativeMonitor monitor=j.jenkins.getExtensionList(AdministrativeMonitor.class).get(LegacyApiTokenAdministrativeMonitor.class);
  assertFalse(monitor.isActivated());
  apiTokenProperty.changeApiToken();
  assertTrue(monitor.isActivated());
{
    JenkinsRule.WebClient wc=j.createWebClient();
    HtmlPage page=wc.goTo(monitor.getUrl() + "/manage");
{
      HtmlAnchor filterAll=getFilterByIndex(page,SelectFilter.ALL);
      HtmlElementUtil.click(filterAll);
    }
    HtmlButton revokeSelected=getRevokeSelected(page);
    HtmlElementUtil.click(revokeSelected);
  }
  assertFalse(monitor.isActivated());
}
