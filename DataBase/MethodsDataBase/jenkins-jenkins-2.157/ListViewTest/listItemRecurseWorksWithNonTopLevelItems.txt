@Ignore("TODO I am not smart enough to figure out what PowerMock is actually doing; whatever this was testing, better move to the test module and use JenkinsRule") @Test @PrepareForTest({ListViewColumn.class,Items.class}) public void listItemRecurseWorksWithNonTopLevelItems() throws IOException {
  mockStatic(Items.class);
  mockStatic(ListViewColumn.class);
  List<ListViewColumn> columns=Collections.emptyList();
  when(ListViewColumn.createDefaultInitialColumnList(ListView.class)).thenReturn(columns);
  ViewGroup owner=mock(ViewGroup.class);
  ItemGroup itemGroupOwner=mock(ItemGroup.class);
  when(owner.getItemGroup()).thenReturn(itemGroupOwner);
  ListView lv=new ListView("test",owner);
  ItemGroupOfNonTopLevelItem ig=Mockito.mock(ItemGroupOfNonTopLevelItem.class);
  when(Items.getAllItems(eq(itemGroupOwner),eq(TopLevelItem.class))).thenReturn(Arrays.asList((TopLevelItem)ig));
  when(ig.getRelativeNameFrom(any(ItemGroup.class))).thenReturn("test-item");
  lv.setRecurse(true);
  lv.add(ig);
  assertEquals(1,lv.getItems().size());
}
