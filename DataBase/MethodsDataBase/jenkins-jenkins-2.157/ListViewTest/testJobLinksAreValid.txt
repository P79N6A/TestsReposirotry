@Test public void testJobLinksAreValid() throws Exception {
  MockFolder folder1=j.jenkins.createProject(MockFolder.class,"folder1");
  FreeStyleProject job1=folder1.createProject(FreeStyleProject.class,"job1");
  MockFolder folder2=folder1.createProject(MockFolder.class,"folder2");
  FreeStyleProject job2=folder2.createProject(FreeStyleProject.class,"job2");
  ListView lv=new ListView("myview");
  lv.setRecurse(true);
  lv.setIncludeRegex(".*");
  j.jenkins.addView(lv);
  WebClient webClient=j.createWebClient();
  checkLinkFromViewExistsAndIsValid(folder1,j.jenkins,lv,webClient);
  checkLinkFromViewExistsAndIsValid(job1,j.jenkins,lv,webClient);
  checkLinkFromViewExistsAndIsValid(folder2,j.jenkins,lv,webClient);
  checkLinkFromViewExistsAndIsValid(job2,j.jenkins,lv,webClient);
  ListView lv2=new ListView("myview",folder1);
  lv2.setRecurse(true);
  lv2.setIncludeRegex(".*");
  folder1.addView(lv2);
  checkLinkFromItemExistsAndIsValid(job1,folder1,folder1,webClient);
  checkLinkFromItemExistsAndIsValid(folder2,folder1,folder1,webClient);
  checkLinkFromViewExistsAndIsValid(job2,folder1,lv2,webClient);
}
