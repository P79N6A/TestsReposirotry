@Test @Issue("JENKINS-3539") public void fileParameterNotSet() throws Exception {
  FreeStyleProject project=j.createFreeStyleProject();
  ParametersDefinitionProperty pdp=new ParametersDefinitionProperty(new FileParameterDefinition("filename","description"));
  project.addProperty(pdp);
  WebClient wc=j.createWebClient();
  wc.getOptions().setThrowExceptionOnFailingStatusCode(false);
  HtmlPage page=wc.goTo("job/" + project.getName() + "/build?delay=0sec");
  HtmlForm form=page.getFormByName("parameters");
  j.submit(form);
  Queue.Item q=j.jenkins.getQueue().getItem(project);
  if (q != null)   q.getFuture().get();
 else   Thread.sleep(1000);
  assertFalse("file must not exist",project.getSomeWorkspace().child("filename").exists());
}
