/** 
 * Makes sure access to "/foobar" for UnprotectedRootAction gets through.
 */
@Test @Issue("JENKINS-14113") public void testUnprotectedRootAction() throws Exception {
  j.jenkins.setSecurityRealm(j.createDummySecurityRealm());
  j.jenkins.setAuthorizationStrategy(new FullControlOnceLoggedInAuthorizationStrategy());
  WebClient wc=j.createWebClient();
  wc.goTo("foobar");
  wc.goTo("foobar/");
  wc.goTo("foobar/zot");
  wc.assertFails("foobar-zot/",HttpURLConnection.HTTP_INTERNAL_ERROR);
  assertEquals(3,j.jenkins.getExtensionList(RootAction.class).get(RootActionImpl.class).count);
}
