@Test public void test_objectCustom_withUserControlledSavedWhitelist() throws Throwable {
  String whitelist=ContentProvider.OBJECT_CUSTOM_SIGNATURE + "\n";
  File whitelistFile=new File(j.jenkins.getRootDir(),"stapler-whitelist.txt");
  FileUtils.write(whitelistFile,whitelist);
  ExtensionList.lookupSingleton(StaticRoutingDecisionProvider.class).reload();
  try {
    assertNotReachable("contentProvider/objectString/");
    assertFalse(ContentProvider.called);
    assertGetMethodRequestWasBlockedAndResetFlag();
    assertReachable("contentProvider/objectCustom/");
    assertTrue(ContentProvider.called);
  }
  finally {
    whitelistFile.delete();
    ExtensionList.lookupSingleton(StaticRoutingDecisionProvider.class).reload();
  }
}
