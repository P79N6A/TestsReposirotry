@Test @PresetData(PresetData.DataSet.NO_ANONYMOUS_READACCESS) public void testRunnableAgainstAllContexts() throws Exception {
  Runnable r=new Runnable(){
    public void run(){
      runnableThreadContext=SecurityContextHolder.getContext();
    }
  }
;
  SecurityContextHolder.setContext(systemContext);
  Future systemResult=wrappedService.submit(r);
  assertNull(systemResult.get());
  assertEquals(systemContext,runnableThreadContext);
  SecurityContextHolder.setContext(userContext);
  Future userResult=wrappedService.submit(r);
  assertNull(userResult.get());
  assertEquals(userContext,runnableThreadContext);
  SecurityContextHolder.setContext(nullContext);
  Future nullResult=wrappedService.submit(r);
  assertNull(nullResult.get());
  assertEquals(nullContext,runnableThreadContext);
}
