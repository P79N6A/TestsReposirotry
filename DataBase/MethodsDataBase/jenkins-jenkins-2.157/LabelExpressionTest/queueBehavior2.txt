/** 
 * Push the build around to different nodes via the assignment to make sure it gets where we need it to.
 */
@Test public void queueBehavior2() throws Exception {
  DumbSlave s=j.createSlave("win",null);
  FreeStyleProject p=j.createFreeStyleProject();
  p.setAssignedLabel(j.jenkins.getLabel("!win"));
  FreeStyleBuild b=j.assertBuildStatusSuccess(p.scheduleBuild2(0));
  assertSame(j.jenkins,b.getBuiltOn());
  p.setAssignedLabel(j.jenkins.getLabel("win"));
  b=j.assertBuildStatusSuccess(p.scheduleBuild2(0));
  assertSame(s,b.getBuiltOn());
  p.setAssignedLabel(j.jenkins.getLabel("!win"));
  b=j.assertBuildStatusSuccess(p.scheduleBuild2(0));
  assertSame(j.jenkins,b.getBuiltOn());
}
