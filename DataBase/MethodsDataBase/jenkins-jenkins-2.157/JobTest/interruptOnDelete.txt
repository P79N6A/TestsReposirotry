@Issue("JENKINS-35160") @Test public void interruptOnDelete() throws Exception {
  j.jenkins.setNumExecutors(2);
  Queue.getInstance().maintain();
  final FreeStyleProject p=j.createFreeStyleProject();
  p.addProperty(new ParametersDefinitionProperty(new StringParameterDefinition("dummy","0")));
  p.setConcurrentBuild(true);
  p.getBuildersList().add(new SleepBuilder(30000));
  FreeStyleBuild build1=p.scheduleBuild2(0).getStartCondition().get();
  FreeStyleBuild build2=p.scheduleBuild2(0).getStartCondition().get();
  QueueTaskFuture<FreeStyleBuild> build3=p.scheduleBuild2(0);
  long start=System.nanoTime();
  p.delete();
  long end=System.nanoTime();
  assertThat(end - start,Matchers.lessThan(TimeUnit.SECONDS.toNanos(1)));
  assertThat(build1.getResult(),Matchers.is(Result.ABORTED));
  assertThat(build2.getResult(),Matchers.is(Result.ABORTED));
  assertThat(build3.isCancelled(),Matchers.is(true));
}
