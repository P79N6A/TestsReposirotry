@Test public void testEnvVarsWithoutAuthOption() throws Exception {
  String token=getToken();
  try (ByteArrayOutputStream baos=new ByteArrayOutputStream()){
    Map<String,String> envars=new HashMap<>();
    envars.put("JENKINS_USER_ID","admin");
    envars.put("JENKINS_API_TOKEN",token);
    assertEquals(0,launch(envars,baos,null,"java","-Duser.home=" + home,"-jar",jar.getAbsolutePath(),"-s",r.getURL().toString(),"who-am-i"));
    assertThat(baos.toString(),containsString("Authenticated as: admin"));
  }
 }
