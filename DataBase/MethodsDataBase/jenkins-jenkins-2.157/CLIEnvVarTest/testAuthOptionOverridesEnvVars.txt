@Test public void testAuthOptionOverridesEnvVars() throws Exception {
  String token=getToken();
  try (ByteArrayOutputStream baos=new ByteArrayOutputStream()){
    Map<String,String> envars=new HashMap<>();
    envars.put("JENKINS_USER_ID","other-user");
    envars.put("JENKINS_API_TOKEN","other-user");
    assertEquals(0,launch(envars,baos,null,"java","-Duser.home=" + home,"-jar",jar.getAbsolutePath(),"-s",r.getURL().toString(),"-auth",String.format("%s:%s","admin",token),"who-am-i"));
    assertThat(baos.toString(),containsString("Authenticated as: admin"));
  }
 }
