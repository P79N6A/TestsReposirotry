@Test public void deleteBuildsShouldSuccess() throws Exception {
  j.createFreeStyleProject("aProject").scheduleBuild2(0).get();
  assertThat(((FreeStyleProject)j.jenkins.getItem("aProject")).getBuilds(),hasSize(1));
  final CLICommandInvoker.Result result=command.authorizedTo(Jenkins.READ,Job.READ,Run.DELETE).invokeWithArgs("aProject","1");
  assertThat(result,succeeded());
  assertThat(result.stdout(),containsString("Deleted 1 builds"));
  assertThat(((FreeStyleProject)j.jenkins.getItem("aProject")).getBuilds(),hasSize(0));
}
