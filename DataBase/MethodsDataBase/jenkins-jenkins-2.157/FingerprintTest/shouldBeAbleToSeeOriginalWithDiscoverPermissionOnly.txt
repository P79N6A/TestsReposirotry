@Test public void shouldBeAbleToSeeOriginalWithDiscoverPermissionOnly() throws Exception {
  final FreeStyleProject project=createAndRunProjectWithPublisher("project","test.txt");
  final FreeStyleBuild build=project.getLastBuild();
  final Fingerprint fingerprint=getFingerprint(build,"test.txt");
  User user1=User.get("user1");
  setupProjectMatrixAuthStrategy(Jenkins.READ,Item.DISCOVER);
  try (ACLContext acl=ACL.as(user1)){
    Fingerprint.BuildPtr original=fingerprint.getOriginal();
    assertThat("user1 should able to see the origin",fingerprint.getOriginal(),notNullValue());
    assertEquals("user1 sees the wrong original name with Item.DISCOVER",project.getFullName(),original.getName());
    assertEquals("user1 sees the wrong original number with Item.DISCOVER",build.getNumber(),original.getNumber());
    assertEquals("Usage ref in fingerprint should be visible to user1",1,fingerprint._getUsages().size());
  }
 }
