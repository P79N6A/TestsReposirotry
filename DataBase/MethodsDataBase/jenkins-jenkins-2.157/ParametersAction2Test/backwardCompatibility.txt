@Test @Issue("SECURITY-170") @LocalData public void backwardCompatibility() throws Exception {
  FreeStyleProject p=j.jenkins.getItemByFullName(Functions.isWindows() ? "parameterized-windows" : "parameterized",FreeStyleProject.class);
  FreeStyleBuild b1=p.getBuildByNumber(1);
  ParametersAction pa=b1.getAction(ParametersAction.class);
  hasParameterWithName(pa,"FOO");
  hasParameterWithName(pa,"BAR");
  hasParameterWithName(pa,"UNDEF");
  ParametersCheckBuilder b=new ParametersCheckBuilder(false);
  p.getBuildersList().add(b);
  p.save();
  j.assertBuildStatusSuccess(p.scheduleBuild2(0,new Cause.UserIdCause(),new ParametersAction(new StringParameterValue("foo","baz"),new StringParameterValue("undef","undef"))));
}
