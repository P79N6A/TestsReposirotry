/** 
 * Verifies that HUDSON-8656 never crops up again.
 */
@Url("http://issues.hudson-ci.org/browse/HUDSON-8656") @Test public void testCeil4() throws ANTLRException {
  final Calendar cal=Calendar.getInstance(new Locale("de","de"));
  cal.set(2011,0,16,0,0,0);
  final String cronStr="0 23 * * 1-5";
  final CronTab cron=new CronTab(cronStr);
  final Calendar next=cron.ceil(cal);
  final Calendar expectedDate=Calendar.getInstance();
  expectedDate.set(2011,0,17,23,0,0);
  assertEquals(expectedDate.get(Calendar.HOUR),next.get(Calendar.HOUR));
  assertEquals(expectedDate.get(Calendar.MINUTE),next.get(Calendar.MINUTE));
  assertEquals(expectedDate.get(Calendar.YEAR),next.get(Calendar.YEAR));
  assertEquals(expectedDate.get(Calendar.MONTH),next.get(Calendar.MONTH));
  assertEquals(expectedDate.get(Calendar.DAY_OF_MONTH),next.get(Calendar.DAY_OF_MONTH));
}
