@Test @Issue("JENKINS-20989") public void downstreamProjectShouldObserveCompletedParent() throws Exception {
  j.jenkins.setNumExecutors(2);
  final FreeStyleProject us=j.createFreeStyleProject();
  us.getPublishersList().add(new BuildTrigger("downstream",true));
  FreeStyleProject ds=createDownstreamProject();
  ds.getBuildersList().add(new AssertTriggerBuildCompleted(us,j.createWebClient()));
  j.jenkins.rebuildDependencyGraph();
  j.buildAndAssertSuccess(us);
  j.waitUntilNoActivity();
  final FreeStyleBuild dsb=ds.getBuildByNumber(1);
  assertNotNull(dsb);
  j.waitForCompletion(dsb);
  j.assertBuildStatusSuccess(dsb);
}
