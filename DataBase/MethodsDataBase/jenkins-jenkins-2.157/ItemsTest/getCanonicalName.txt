@Test public void getCanonicalName(){
  assertEquals("foo",Items.getCanonicalName(root,"foo"));
  assertEquals("foo",Items.getCanonicalName(root,"/foo"));
  assertEquals("foo/bar",Items.getCanonicalName(root,"foo/bar"));
  assertEquals("foo/bar",Items.getCanonicalName(foo,"bar"));
  assertEquals("bar",Items.getCanonicalName(foo,"/bar"));
  assertEquals("bar",Items.getCanonicalName(foo,"../bar"));
  assertEquals("foo/bar",Items.getCanonicalName(foo,"./bar"));
  assertEquals("foo/bar/baz/qux",Items.getCanonicalName(foo_bar,"baz/qux"));
  assertEquals("foo/baz/qux",Items.getCanonicalName(foo_bar,"../baz/qux"));
  try {
    Items.getCanonicalName(root,"..");
    fail();
  }
 catch (  IllegalArgumentException ex) {
    assertEquals("Illegal relative path '..' within context ''",ex.getMessage());
  }
  try {
    Items.getCanonicalName(foo,"../..");
    fail();
  }
 catch (  IllegalArgumentException ex) {
    assertEquals("Illegal relative path '../..' within context 'foo'",ex.getMessage());
  }
  try {
    Items.getCanonicalName(root,"foo/../..");
    fail();
  }
 catch (  IllegalArgumentException ex) {
    assertEquals("Illegal relative path 'foo/../..' within context ''",ex.getMessage());
  }
}
