@Test @Issue("JENKINS-36280") public void launcherFiltering() throws Exception {
  DumbSlave.DescriptorImpl descriptor=j.getInstance().getDescriptorByType(DumbSlave.DescriptorImpl.class);
  DescriptorExtensionList<ComputerLauncher,Descriptor<ComputerLauncher>> descriptors=j.getInstance().getDescriptorList(ComputerLauncher.class);
  assumeThat("we need at least two launchers to test this",descriptors.size(),not(anyOf(is(0),is(1))));
  assertThat(descriptor.computerLauncherDescriptors(null),containsInAnyOrder(descriptors.toArray(new Descriptor[descriptors.size()])));
  Descriptor<ComputerLauncher> victim=descriptors.iterator().next();
  assertThat(descriptor.computerLauncherDescriptors(null),hasItem(victim));
  DynamicFilter.descriptors().add(victim);
  assertThat(descriptor.computerLauncherDescriptors(null),not(hasItem(victim)));
  DynamicFilter.descriptors().remove(victim);
  assertThat(descriptor.computerLauncherDescriptors(null),hasItem(victim));
}
