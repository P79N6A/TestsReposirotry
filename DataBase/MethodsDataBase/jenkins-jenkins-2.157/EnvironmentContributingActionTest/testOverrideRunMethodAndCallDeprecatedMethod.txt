/** 
 * If only non-deprecated method was overridden it would be executed even if someone would call deprecated method.
 * @throws Exception if happens.
 */
@Test @SuppressWarnings("deprecation") public void testOverrideRunMethodAndCallDeprecatedMethod() throws Exception {
  AbstractBuild abstractBuild=mock(AbstractBuild.class);
  when(abstractBuild.getBuiltOn()).thenReturn(mock(Node.class));
  OverrideRun overrideRun=new OverrideRun();
  overrideRun.buildEnvVars(abstractBuild,envVars);
  assertTrue(overrideRun.wasNewMethodCalled());
}
