/** 
 * Regardless of how we read XML into XStreamDOM, XStreamDOM should retain the raw XML infoset, which means escaped names.
 */
@Test public void escapeHandling() throws Exception {
  String input=getTestData("XStreamDOMTest.data3.xml");
  XStreamDOM dom=XStreamDOM.from(new StringReader(input));
  List<XStreamDOM> children=dom.getChildren().get(0).getChildren().get(0).getChildren();
  assertNamesAreEscaped(children);
  Foo foo=(Foo)xs.fromXML(new StringReader(input));
  assertNamesAreEscaped(foo.bar.getChildren());
  StringWriter sw=new StringWriter();
  dom.writeTo(sw);
  assertTrue(sw.toString().contains("bar_-bar"));
  assertTrue(sw.toString().contains("zot__bar"));
  String s=xs.toXML(foo);
  assertTrue(s.contains("bar_-bar"));
  assertTrue(s.contains("zot__bar"));
}
