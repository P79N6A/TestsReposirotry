@Issue("JENKINS-4611") @Test public void remoteKill() throws Exception {
  Assume.assumeFalse("Skipping, currently Unix-specific test",Functions.isWindows());
  File tmp=temp.newFile();
  FilePath f=new FilePath(channels.french,tmp.getPath());
  Launcher l=f.createLauncher(StreamTaskListener.fromStderr());
  Proc p=l.launch().cmds("sh","-c","echo $$$$ > " + tmp + "; sleep 30").stdout(System.out).stderr(System.err).start();
  while (!tmp.exists())   Thread.sleep(100);
  long start=System.currentTimeMillis();
  p.kill();
  assertTrue(p.join() != 0);
  long end=System.currentTimeMillis();
  long terminationTime=end - start;
  assertTrue("Join did not finish promptly. The completion time (" + terminationTime + "ms) is longer than expected 15s",terminationTime < 15000);
  channels.french.call(new NoopCallable());
  Thread.sleep(2000);
  assertNull("process should be gone",ProcessTree.get().get(Integer.parseInt(FileUtils.readFileToString(tmp).trim())));
}
