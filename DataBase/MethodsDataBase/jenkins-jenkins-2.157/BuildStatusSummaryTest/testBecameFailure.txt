@Test public void testBecameFailure(){
  when(this.build.getResult()).thenReturn(Result.FAILURE);
  when(this.prevBuild.getResult()).thenReturn(Result.SUCCESS);
  when(this.build.getPreviousNotFailedBuild()).thenReturn(this.prevBuild);
  Summary summary=this.build.getBuildStatusSummary();
  assertTrue(summary.isWorse);
  assertEquals(Messages.Run_Summary_BrokenSinceThisBuild(),summary.message);
}
