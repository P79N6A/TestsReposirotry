@Test public void testGetPrimaryView() throws IOException {
  User user=User.get("User");
  MyViewsProperty property=new MyViewsProperty(AllView.DEFAULT_VIEW_NAME);
  property.readResolve();
  property.setUser(user);
  user.addProperty(property);
  assertEquals("Property should have primary view " + AllView.DEFAULT_VIEW_NAME + " instead of "+ property.getPrimaryView().name,property.getView(AllView.DEFAULT_VIEW_NAME),property.getPrimaryView());
  View view=new ListView("foo",property);
  property.addView(view);
  property.setPrimaryViewName(view.name);
  assertEquals("Property should have primary view " + view.name + " instead of "+ property.getPrimaryView().name,view,property.getPrimaryView());
}
