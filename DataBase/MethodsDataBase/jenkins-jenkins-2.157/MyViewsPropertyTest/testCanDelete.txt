@Test public void testCanDelete() throws IOException {
  User user=User.get("User");
  MyViewsProperty property=new MyViewsProperty(AllView.DEFAULT_VIEW_NAME);
  property.readResolve();
  property.setUser(user);
  user.addProperty(property);
  assertFalse("Property should not enable to delete view " + AllView.DEFAULT_VIEW_NAME,property.canDelete(property.getView(AllView.DEFAULT_VIEW_NAME)));
  View view=new ListView("foo",property);
  property.addView(view);
  assertTrue("Property should enable to delete view " + view.name,property.canDelete(view));
  property.setPrimaryViewName(view.name);
  assertFalse("Property should not enable to delete view " + view.name,property.canDelete(view));
  assertTrue("Property should enable to delete view " + AllView.DEFAULT_VIEW_NAME,property.canDelete(property.getView(AllView.DEFAULT_VIEW_NAME)));
}
