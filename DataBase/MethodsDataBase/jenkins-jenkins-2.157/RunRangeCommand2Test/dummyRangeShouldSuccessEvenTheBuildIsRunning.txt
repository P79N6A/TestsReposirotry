@Test public void dummyRangeShouldSuccessEvenTheBuildIsRunning() throws Exception {
  FreeStyleProject project=j.createFreeStyleProject("aProject");
  project.getBuildersList().add(Functions.isWindows() ? new BatchFile("echo 1\r\nping -n 10 127.0.0.1 >nul") : new Shell("echo 1\nsleep 10s"));
  assertThat("Job wasn't scheduled properly",project.scheduleBuild(0),equalTo(true));
  while (!project.isBuilding()) {
    System.out.println("Waiting for build to start and sleep 1s...");
    Thread.sleep(1000);
  }
  if (!project.getBuildByNumber(1).getLog().contains("echo 1")) {
    Thread.sleep(1000);
  }
  final CLICommandInvoker.Result result=command.authorizedTo(Jenkins.READ,Job.READ).invokeWithArgs("aProject","1");
  assertThat(result,succeeded());
  assertThat(result.stdout(),containsString("Builds: 1" + System.lineSeparator()));
}
