/** 
 * Makes sure that it doesn't try to monitor an already-offline agent.
 */
@Test @Issue("JENKINS-20272") public void skipOfflineAgent() throws Exception {
  DumbSlave s=j.createSlave();
  SlaveComputer c=s.getComputer();
  c.connect(false).get();
  c.setTemporarilyOffline(true,new OfflineCause.UserCause(User.getUnknown(),"Temporarily offline"));
  assertNotNull(ResponseTimeMonitor.DESCRIPTOR.monitor(c));
  c.setTemporarilyOffline(false,null);
  j.disconnectSlave(s);
  assertNull(ResponseTimeMonitor.DESCRIPTOR.monitor(c));
  c.connect(false).get();
  assertNotNull(ResponseTimeMonitor.DESCRIPTOR.monitor(c));
}
