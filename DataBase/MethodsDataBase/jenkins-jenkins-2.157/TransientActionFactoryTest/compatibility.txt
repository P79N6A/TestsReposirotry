@Test public void compatibility() throws Exception {
  FreeStyleProject p=r.createFreeStyleProject();
  assertNull(p.getAction(FoldableAction.class));
  assertEquals(1,OldFactory.count);
  assertNotNull(p.getAction(ProminentProjectAction.class));
  assertEquals(2,OldFactory.count);
  OldFactory.count=0;
  List<? extends Action> allActions=p.getAllActions();
  assertEquals(1,OldFactory.count);
  assertThat(Util.filter(allActions,FoldableAction.class),Matchers.<FoldableAction>iterableWithSize(0));
  assertThat(Util.filter(allActions,ProminentProjectAction.class),Matchers.<ProminentProjectAction>iterableWithSize(1));
  OldFactory.count=0;
  assertThat(p.getActions(FoldableAction.class),Matchers.<FoldableAction>iterableWithSize(0));
  assertEquals(1,OldFactory.count);
  assertThat(p.getActions(ProminentProjectAction.class),Matchers.<ProminentProjectAction>iterableWithSize(1));
  assertEquals(2,OldFactory.count);
}
