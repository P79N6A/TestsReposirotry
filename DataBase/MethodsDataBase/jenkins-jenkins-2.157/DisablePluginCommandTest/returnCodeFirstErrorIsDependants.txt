/** 
 * The return code is the first error distinct of 0 found during the process. In this case dependant plugins not disabled.
 */
@Test @Issue("JENKINS-27177") @WithPlugin({"dependee-0.0.2.hpi","mandatory-depender-0.0.2.hpi"}) public void returnCodeFirstErrorIsDependants(){
  CLICommandInvoker.Result result=disablePluginsCLiCommand("dependee","badplugin");
  assertThat(result,failedWith(RETURN_CODE_NOT_DISABLED_DEPENDANTS));
  assertPluginEnabled("dependee");
}
