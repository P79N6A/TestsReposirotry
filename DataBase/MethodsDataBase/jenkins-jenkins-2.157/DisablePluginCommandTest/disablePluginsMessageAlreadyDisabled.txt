/** 
 * A plugin already disabled because it's a dependent plugin of one previously disabled appear two times in the log with different messages.
 */
@Test @Issue("JENKINS-27177") @WithPlugin({"depender-0.0.2.hpi","dependee-0.0.2.hpi"}) public void disablePluginsMessageAlreadyDisabled(){
  CLICommandInvoker.Result result=disablePluginsCLiCommand("-strategy","all","dependee","depender");
  assertThat(result,succeeded());
  assertPluginDisabled("dependee");
  assertPluginDisabled("depender");
  assertTrue("An occurrence of the depender plugin in the log says it was successfully disabled",checkResultWith(result,StringUtils::contains,"depender",PluginWrapper.PluginDisableStatus.DISABLED));
  assertTrue("An occurrence of the depender plugin in the log says it was already disabled",checkResultWith(result,StringUtils::contains,"depender",PluginWrapper.PluginDisableStatus.ALREADY_DISABLED));
}
