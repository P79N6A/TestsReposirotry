/** 
 * The return code is the first error distinct of 0 found during the process. In this case no such plugin.
 */
@Test @Issue("JENKINS-27177") @WithPlugin({"dependee-0.0.2.hpi","mandatory-depender-0.0.2.hpi"}) public void returnCodeFirstErrorIsNoSuchPlugin(){
  CLICommandInvoker.Result result=disablePluginsCLiCommand("badplugin","dependee");
  assertThat(result,failedWith(RETURN_CODE_NO_SUCH_PLUGIN));
  assertPluginEnabled("dependee");
}
