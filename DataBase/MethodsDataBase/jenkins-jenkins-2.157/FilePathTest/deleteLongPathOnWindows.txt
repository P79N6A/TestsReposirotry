@Issue("JENKINS-15418") @Test public void deleteLongPathOnWindows() throws Exception {
  File tmp=temp.getRoot();
  FilePath d=new FilePath(channels.french,tmp.getPath());
  StringBuilder sb=new StringBuilder();
  while (sb.length() + tmp.getPath().length() < 260 - "very/".length()) {
    sb.append("very/");
  }
  sb.append("pivot/very/very/long/path");
  FilePath longPath=d.child(sb.toString());
  longPath.mkdirs();
  FilePath childInLongPath=longPath.child("file.txt");
  childInLongPath.touch(0);
  File firstDirectory=new File(tmp.getAbsolutePath() + "/very");
  Util.deleteRecursive(firstDirectory);
  assertFalse("Could not delete directory!",firstDirectory.exists());
}
