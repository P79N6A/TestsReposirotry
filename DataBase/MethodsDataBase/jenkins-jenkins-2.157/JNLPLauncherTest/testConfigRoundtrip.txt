@Test public void testConfigRoundtrip() throws Exception {
  DumbSlave s=j.createSlave();
  JNLPLauncher original=new JNLPLauncher("a","b");
  s.setLauncher(original);
  j.assertEqualDataBoundBeans(((JNLPLauncher)s.getLauncher()).getWorkDirSettings(),RemotingWorkDirSettings.getEnabledDefaults());
  RemotingWorkDirSettings custom=new RemotingWorkDirSettings(false,null,"custom",false);
  ((JNLPLauncher)s.getLauncher()).setWorkDirSettings(custom);
  HtmlPage p=j.createWebClient().getPage(s,"configure");
  j.submit(p.getFormByName("config"));
  j.assertEqualBeans(original,s.getLauncher(),"tunnel,vmargs");
  j.assertEqualDataBoundBeans(((JNLPLauncher)s.getLauncher()).getWorkDirSettings(),custom);
}
