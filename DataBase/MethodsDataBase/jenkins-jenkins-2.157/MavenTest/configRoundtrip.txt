/** 
 * Tests the round-tripping of the configuration.
 */
@Test public void configRoundtrip() throws Exception {
  j.jenkins.getDescriptorByType(Maven.DescriptorImpl.class).setInstallations();
  FreeStyleProject p=j.createFreeStyleProject();
  p.getBuildersList().add(new Maven("a",null,"b.pom","c=d","-e",true));
  JenkinsRule.WebClient webClient=j.createWebClient();
  HtmlPage page=webClient.getPage(p,"configure");
  HtmlForm form=page.getFormByName("config");
  j.submit(form);
  Maven m=p.getBuildersList().get(Maven.class);
  assertNotNull(m);
  assertEquals("a",m.targets);
  assertNull("found " + m.mavenName,m.mavenName);
  assertEquals("b.pom",m.pom);
  assertEquals("c=d",m.properties);
  assertEquals("-e",m.jvmOptions);
  assertTrue(m.usesPrivateRepository());
}
