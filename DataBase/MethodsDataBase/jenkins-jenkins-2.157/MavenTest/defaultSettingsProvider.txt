@Test public void defaultSettingsProvider() throws Exception {
{
    FreeStyleProject p=j.createFreeStyleProject();
    p.getBuildersList().add(new Maven("a",null,"a.pom","c=d","-e",true));
    Maven m=p.getBuildersList().get(Maven.class);
    assertNotNull(m);
    assertEquals(DefaultSettingsProvider.class,m.getSettings().getClass());
    assertEquals(DefaultGlobalSettingsProvider.class,m.getGlobalSettings().getClass());
  }
{
    GlobalMavenConfig globalMavenConfig=GlobalMavenConfig.get();
    assertNotNull("No global Maven Config available",globalMavenConfig);
    globalMavenConfig.setSettingsProvider(new FilePathSettingsProvider("/tmp/settings.xml"));
    globalMavenConfig.setGlobalSettingsProvider(new FilePathGlobalSettingsProvider("/tmp/global-settings.xml"));
    FreeStyleProject p=j.createFreeStyleProject();
    p.getBuildersList().add(new Maven("b",null,"b.pom","c=d","-e",true));
    Maven m=p.getBuildersList().get(Maven.class);
    assertEquals(FilePathSettingsProvider.class,m.getSettings().getClass());
    assertEquals("/tmp/settings.xml",((FilePathSettingsProvider)m.getSettings()).getPath());
    assertEquals("/tmp/global-settings.xml",((FilePathGlobalSettingsProvider)m.getGlobalSettings()).getPath());
  }
}
