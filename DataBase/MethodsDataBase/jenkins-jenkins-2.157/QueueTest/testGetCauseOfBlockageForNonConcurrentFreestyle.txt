@Test public void testGetCauseOfBlockageForNonConcurrentFreestyle() throws Exception {
  Queue queue=r.getInstance().getQueue();
  FreeStyleProject t1=r.createFreeStyleProject("project");
  t1.getBuildersList().add(new SleepBuilder(TimeUnit.SECONDS.toMillis(30)));
  t1.setConcurrentBuild(false);
  t1.scheduleBuild2(0).waitForStart();
  t1.scheduleBuild2(0);
  queue.maintain();
  assertEquals(1,r.jenkins.getQueue().getBlockedItems().size());
  CauseOfBlockage actual=r.jenkins.getQueue().getBlockedItems().get(0).getCauseOfBlockage();
  CauseOfBlockage expected=new BlockedBecauseOfBuildInProgress(t1.getFirstBuild());
  assertEquals(expected.getShortDescription(),actual.getShortDescription());
}
