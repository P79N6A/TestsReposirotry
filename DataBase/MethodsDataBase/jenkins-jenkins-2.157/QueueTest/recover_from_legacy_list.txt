/** 
 * Make sure the queue can be reconstructed from a List queue.xml. Prior to the Queue.State class, the Queue items were just persisted as a List.
 */
@LocalData @Test public void recover_from_legacy_list() throws Exception {
  Queue q=r.jenkins.getQueue();
  assertEquals(1,q.getItems().length);
  assertEquals(3,Queue.WaitingItem.getCurrentCounterValue());
}
