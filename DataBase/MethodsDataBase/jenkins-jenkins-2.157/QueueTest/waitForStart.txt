@Test public void waitForStart() throws Exception {
  final OneShotEvent ev=new OneShotEvent();
  FreeStyleProject p=r.createFreeStyleProject();
  p.getBuildersList().add(new TestBuilder(){
    @Override public boolean perform(    AbstractBuild<?,?> build,    Launcher launcher,    BuildListener listener) throws InterruptedException, IOException {
      ev.block();
      return true;
    }
  }
);
  QueueTaskFuture<FreeStyleBuild> v=p.scheduleBuild2(0);
  FreeStyleBuild b=v.waitForStart();
  assertEquals(1,b.getNumber());
  assertTrue(b.isBuilding());
  assertSame(p,b.getProject());
  ev.signal();
  FreeStyleBuild b2=r.assertBuildStatusSuccess(v);
  assertSame(b,b2);
}
