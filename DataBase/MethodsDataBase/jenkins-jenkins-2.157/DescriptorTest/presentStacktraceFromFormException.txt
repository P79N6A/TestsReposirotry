@Test public void presentStacktraceFromFormException() throws Exception {
  NullPointerException cause=new NullPointerException();
  final Descriptor.FormException fe=new Descriptor.FormException("My Message",cause,"fake");
  try {
    rule.executeOnServer(new Callable<Void>(){
      @Override public Void call() throws Exception {
        fe.generateResponse(Stapler.getCurrentRequest(),Stapler.getCurrentResponse(),Jenkins.getInstance());
        return null;
      }
    }
);
    fail();
  }
 catch (  FailingHttpStatusCodeException ex) {
    String response=ex.getResponse().getContentAsString();
    assertThat(response,containsString(fe.getMessage()));
    assertThat(response,containsString(cause.getClass().getCanonicalName()));
    assertThat(response,containsString(getClass().getCanonicalName()));
  }
}
