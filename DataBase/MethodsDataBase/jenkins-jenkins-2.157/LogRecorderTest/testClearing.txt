@Test public void testClearing() throws IOException {
  LogRecorder lr=new LogRecorder("foo");
  LogRecorder.Target t=new LogRecorder.Target("",Level.FINE);
  lr.targets.add(t);
  LogRecord record=createLogRecord("jenkins",Level.INFO,"message");
  lr.handler.publish(record);
  assertEquals(lr.handler.getView().get(0),record);
  assertEquals(1,lr.handler.getView().size());
  lr.doClear();
  assertEquals(0,lr.handler.getView().size());
}
