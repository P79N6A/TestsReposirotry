@Test @Issue("JENKINS-18678") public void renameJobLostBuilds() throws Exception {
  FreeStyleProject p=j.createFreeStyleProject("initial");
  j.assertBuildStatusSuccess(p.scheduleBuild2(0));
  assertEquals(1,p.getBuilds().size());
  p.renameTo("edited");
  p._getRuns().purgeCache();
  assertEquals(1,p.getBuilds().size());
  MockFolder d=j.jenkins.createProject(MockFolder.class,"d");
  Items.move(p,d);
  assertEquals(p,j.jenkins.getItemByFullName("d/edited"));
  p._getRuns().purgeCache();
  assertEquals(1,p.getBuilds().size());
  d.renameTo("d2");
  p=j.jenkins.getItemByFullName("d2/edited",FreeStyleProject.class);
  p._getRuns().purgeCache();
  assertEquals(1,p.getBuilds().size());
}
