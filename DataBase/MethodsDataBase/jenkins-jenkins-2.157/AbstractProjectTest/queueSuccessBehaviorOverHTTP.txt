/** 
 * Do the same as  {@link #testQueueSuccessBehavior()} but over HTTP
 */
@Test @Issue("JENKINS-18407") public void queueSuccessBehaviorOverHTTP() throws Exception {
  j.jenkins.setNumExecutors(0);
  FreeStyleProject p=j.createFreeStyleProject();
  JenkinsRule.WebClient wc=j.createWebClient();
  WebResponse rsp=wc.getPage(j.getURL() + p.getUrl() + "build").getWebResponse();
  assertEquals(201,rsp.getStatusCode());
  assertNotNull(rsp.getResponseHeaderValue("Location"));
  WebResponse rsp2=wc.getPage(j.getURL() + p.getUrl() + "build").getWebResponse();
  assertEquals(201,rsp2.getStatusCode());
  assertEquals(rsp.getResponseHeaderValue("Location"),rsp2.getResponseHeaderValue("Location"));
  p.makeDisabled(true);
  try {
    wc.getPage(j.getURL() + p.getUrl() + "build");
    fail();
  }
 catch (  FailingHttpStatusCodeException e) {
  }
}
