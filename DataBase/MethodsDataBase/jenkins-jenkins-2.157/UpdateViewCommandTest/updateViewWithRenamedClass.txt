/** 
 * This test shows that updating a view using an XML that will be converted by XStream via an alias will rightfully succeed.
 * @throws Exception
 */
@Test public void updateViewWithRenamedClass() throws Exception {
  ListView tv=new ListView("tView");
  j.jenkins.addView(tv);
  j.jenkins.XSTREAM2.addCompatibilityAlias("org.acme.old.Foo",ListView.class);
  final CLICommandInvoker.Result result=command.authorizedTo(View.READ,View.CONFIGURE,Jenkins.READ).withStdin(this.getClass().getResourceAsStream("/hudson/cli/testview-foo.xml")).invokeWithArgs("tView");
  assertThat(result,succeededSilently());
}
