/** 
 * Testing if the lazy loading can gracefully tolerate a RuntimeException during unmarshalling.
 */
@Issue("JENKINS-15533") @Test public void runtimeExceptionInUnmarshalling() throws Exception {
  FreeStyleProject p=r.createFreeStyleProject();
  FreeStyleBuild b=r.assertBuildStatusSuccess(p.scheduleBuild2(0));
  b.addAction(new BombAction());
  b.save();
  p._getRuns().purgeCache();
  b=p.getBuildByNumber(b.number);
  assertNotNull(b);
  assertNull(b.getAction(BombAction.class));
  assertTrue(bombed);
}
