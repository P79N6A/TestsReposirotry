@Issue("JENKINS-26940") @Test public void testMessageLoggedWhenNoInstallerFound() throws Exception {
  final CommandInstaller ci=new CommandInstaller("wrong1","echo hello","/opt/jdk");
  final BatchCommandInstaller bci=new BatchCommandInstaller("wrong2","echo hello","/opt/jdk2");
  InstallSourceProperty isp=new InstallSourceProperty(Arrays.asList(ci,bci));
  JDK jdk=new JDK("jdk",null,Collections.singletonList(isp));
  r.jenkins.getJDKs().add(jdk);
  FreeStyleProject p=r.createFreeStyleProject();
  p.setJDK(jdk);
  p.getBuildersList().add(Functions.isWindows() ? new BatchFile("echo %JAVA_HOME%") : new Shell("echo $JAVA_HOME"));
  FreeStyleBuild b1=r.buildAndAssertSuccess(p);
  r.assertLogContains(hudson.tools.Messages.CannotBeInstalled(ci.getDescriptor().getDisplayName(),jdk.getName(),r.jenkins.getDisplayName()),b1);
  r.assertLogContains(hudson.tools.Messages.CannotBeInstalled(bci.getDescriptor().getDisplayName(),jdk.getName(),r.jenkins.getDisplayName()),b1);
}
