@Test public void signup() throws Exception {
  HudsonPrivateSecurityRealm securityRealm=new HudsonPrivateSecurityRealm(true,false,null);
  j.jenkins.setSecurityRealm(securityRealm);
  JenkinsRule.WebClient wc=j.createWebClient();
  SignupPage signup=new SignupPage(wc.goTo("signup"));
  signup.enterUsername("alice");
  signup.enterPassword("alice");
  signup.enterFullName("Alice User");
  signup.enterEmail("alice@nowhere.com");
  HtmlPage success=signup.submit(j);
  assertThat(success.getElementById("main-panel").getTextContent(),containsString("Success"));
  assertThat(success.getAnchorByHref("/jenkins/user/alice").getTextContent(),containsString("Alice User"));
  assertEquals("Alice User",securityRealm.getUser("alice").getDisplayName());
}
