/** 
 * Makes sure  {@link RemoteLauncher} properly masks arguments.
 */
@Test @Email("http://n4.nabble.com/Password-masking-when-running-commands-on-a-slave-tp1753033p1753033.html") public void slaveMask() throws Exception {
  ArgumentListBuilder args=new ArgumentListBuilder();
  args.add("java");
  args.addMasked("-version");
  Slave s=j.createSlave();
  s.toComputer().connect(false).get();
  StringWriter out=new StringWriter();
  assertEquals(0,s.createLauncher(new StreamTaskListener(out)).launch().cmds(args).join());
  System.out.println(out);
  assertTrue(out.toString().contains("$ java ********"));
}
