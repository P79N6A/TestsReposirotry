@Test public void offlineNodeShouldSucceedOnMaster() throws Exception {
  final Computer masterComputer=Jenkins.getActiveInstance().getComputer("");
  final CLICommandInvoker.Result result=command.authorizedTo(Computer.DISCONNECT,Jenkins.READ).invokeWithArgs("");
  assertThat(result,succeededSilently());
  assertThat(masterComputer.isOffline(),equalTo(true));
  assertThat(masterComputer.isTemporarilyOffline(),equalTo(true));
  assertThat(masterComputer.getOfflineCause(),instanceOf(OfflineCause.ByCLI.class));
  assertThat(((OfflineCause.ByCLI)masterComputer.getOfflineCause()).message,equalTo(null));
}
