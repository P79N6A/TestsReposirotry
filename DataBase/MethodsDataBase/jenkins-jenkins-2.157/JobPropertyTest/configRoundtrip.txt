/** 
 * Make sure that the UI rendering works as designed.
 */
@Test public void configRoundtrip() throws Exception {
  logs.record(Descriptor.class,Level.ALL);
  FreeStyleProject p=j.createFreeStyleProject();
  JobPropertyWithConfigImpl before=new JobPropertyWithConfigImpl("Duke");
  p.addProperty(before);
  j.configRoundtrip((Item)p);
  JobPropertyWithConfigImpl after=p.getProperty(JobPropertyWithConfigImpl.class);
  assertNotSame(after,before);
  j.assertEqualDataBoundBeans(before,after);
  p.removeProperty(after);
  JobPropertyWithConfigImpl empty=new JobPropertyWithConfigImpl("");
  p.addProperty(empty);
  j.configRoundtrip((Item)p);
  assertNull(p.getProperty(JobPropertyWithConfigImpl.class));
}
