@Test @LocalData public void nestedUserReference() throws Exception {
  User user=User.get("nestedUserReference",false,emptyMap());
  assertThat("nested reference should be updated after jenkins start",user,nestedUserSet());
  SetUserUserProperty property=user.getProperty(SetUserUserProperty.class);
  File testFile=property.getInnerUserClass().userFile;
  List<String> fileLines=FileUtils.readLines(testFile);
  assertThat(fileLines,hasSize(1));
  j.configRoundtrip(user);
  user=User.get("nestedUserReference",false,Collections.emptyMap());
  assertThat("nested reference should exist after user configuration change",user,nestedUserSet());
  fileLines=FileUtils.readLines(testFile);
  assertThat(fileLines,hasSize(1));
}
