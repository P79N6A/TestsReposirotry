/** 
 * Test a Void response type - null being set as response.
 * @throws Exception
 */
@Test public void testVoidResponseTypeFireAndForgetCollapsing1() throws Exception {
  TestCollapserTimer timer=new TestCollapserTimer();
  TestCollapserWithVoidResponseType collapser1=new TestCollapserWithVoidResponseType(timer,1);
  Future<Void> response1=collapser1.queue();
  Future<Void> response2=new TestCollapserWithVoidResponseType(timer,2).queue();
  timer.incrementTime(100);
  assertEquals(null,response1.get(1000,TimeUnit.MILLISECONDS));
  assertEquals(null,response2.get(1000,TimeUnit.MILLISECONDS));
  assertEquals(1,HystrixRequestLog.getCurrentRequest().getAllExecutedCommands().size());
  Iterator<HystrixInvokableInfo<?>> cmdIterator=HystrixRequestLog.getCurrentRequest().getAllExecutedCommands().iterator();
  assertEquals(2,cmdIterator.next().getNumberCollapsed());
}
