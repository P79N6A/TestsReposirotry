@Test public void testGetUserById() throws ExecutionException, InterruptedException {
  Future<User> f1=userService.getUserById("1");
  Future<User> f2=userService.getUserById("2");
  Future<User> f3=userService.getUserById("3");
  Future<User> f4=userService.getUserById("4");
  Future<User> f5=userService.getUserById("5");
  assertEquals("name: 1",f1.get().getName());
  assertEquals("name: 2",f2.get().getName());
  assertEquals("name: 3",f3.get().getName());
  assertEquals("name: 4",f4.get().getName());
  assertEquals("name: 5",f5.get().getName());
  assertEquals(1,HystrixRequestLog.getCurrentRequest().getAllExecutedCommands().size());
  HystrixInvokableInfo<?> command=HystrixRequestLog.getCurrentRequest().getAllExecutedCommands().iterator().next();
  assertEquals("getUserByIds",command.getCommandKey().name());
  assertTrue(command.getExecutionEvents().contains(HystrixEventType.COLLAPSED));
  assertTrue(command.getExecutionEvents().contains(HystrixEventType.SUCCESS));
}
