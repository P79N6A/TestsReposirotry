/** 
 * Test support of multiple onNext events.
 */
@Test public void testExecutionSuccessWithMultipleEvents(){
  try {
    TestCommandWithMultipleValues command=new TestCommandWithMultipleValues();
    assertEquals(Arrays.asList(true,false,true),command.observe().toList().toBlocking().single());
    assertEquals(null,command.getFailedExecutionException());
    assertTrue(command.getExecutionTimeInMilliseconds() > -1);
    assertTrue(command.isSuccessfulExecution());
    assertCommandExecutionEvents(command,HystrixEventType.EMIT,HystrixEventType.EMIT,HystrixEventType.EMIT,HystrixEventType.SUCCESS);
    assertEquals(0,command.metrics.getCurrentConcurrentExecutionCount());
    assertSaneHystrixRequestLog(1);
    assertFalse(command.isExecutedInThread());
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail("We received an exception.");
  }
}
