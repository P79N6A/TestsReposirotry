/** 
 * Test that HystrixCommandKey can be passed in dynamically.
 */
@Test public void testDynamicKey(){
  try {
    DynamicOwnerAndKeyTestCommand command1=new DynamicOwnerAndKeyTestCommand(InspectableBuilder.CommandGroupForUnitTest.OWNER_ONE,InspectableBuilder.CommandKeyForUnitTest.KEY_ONE);
    assertEquals(true,command1.observe().toBlocking().single());
    DynamicOwnerAndKeyTestCommand command2=new DynamicOwnerAndKeyTestCommand(InspectableBuilder.CommandGroupForUnitTest.OWNER_ONE,InspectableBuilder.CommandKeyForUnitTest.KEY_TWO);
    assertEquals(true,command2.observe().toBlocking().single());
    assertNotSame(command1.getCircuitBreaker(),command2.getCircuitBreaker());
    assertFalse(command1.isExecutedInThread());
    assertEquals(2,HystrixRequestLog.getCurrentRequest().getAllExecutedCommands().size());
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail("We received an exception.");
  }
}
