@Test(expected=NotFoundException.class) public void testGetNonExistentUser() throws NotFoundException {
  try {
    userService.getUserById("4");
  }
  finally {
    assertEquals(1,HystrixRequestLog.getCurrentRequest().getAllExecutedCommands().size());
    com.netflix.hystrix.HystrixInvokableInfo getUserCommand=getHystrixCommandByKey(COMMAND_KEY);
    assertFalse(getUserCommand.getExecutionEvents().contains(HystrixEventType.FAILURE));
    verify(failoverService,never()).getDefUser();
  }
}
