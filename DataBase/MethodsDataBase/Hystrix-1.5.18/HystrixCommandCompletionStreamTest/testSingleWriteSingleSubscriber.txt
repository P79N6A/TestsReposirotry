@Test public void testSingleWriteSingleSubscriber() throws InterruptedException {
  CountDownLatch latch=new CountDownLatch(1);
  Subscriber<HystrixCommandCompletion> subscriber=getLatchedSubscriber(latch);
  commandStream.observe().take(1).subscribe(subscriber);
  ExecutionResult result=ExecutionResult.from(HystrixEventType.SUCCESS).setExecutedInThread();
  HystrixCommandCompletion event=HystrixCommandCompletion.from(result,commandKey,threadPoolKey);
  commandStream.write(event);
  assertTrue(latch.await(1000,TimeUnit.MILLISECONDS));
}
