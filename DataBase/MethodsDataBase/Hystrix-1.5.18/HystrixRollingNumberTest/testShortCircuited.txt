@Test public void testShortCircuited(){
  MockedTime time=new MockedTime();
  try {
    HystrixRollingNumber counter=new HystrixRollingNumber(time,200,10);
    counter.increment(HystrixRollingNumberEvent.SHORT_CIRCUITED);
    assertEquals(1,counter.buckets.size());
    assertEquals(1,counter.buckets.getLast().getAdder(HystrixRollingNumberEvent.SHORT_CIRCUITED).sum());
    assertEquals(1,counter.getRollingSum(HystrixRollingNumberEvent.SHORT_CIRCUITED));
    time.increment(counter.bucketSizeInMillseconds * 3);
    counter.increment(HystrixRollingNumberEvent.SHORT_CIRCUITED);
    assertEquals(4,counter.buckets.size());
    assertEquals(1,counter.buckets.getLast().getAdder(HystrixRollingNumberEvent.SHORT_CIRCUITED).sum());
    assertEquals(2,counter.getRollingSum(HystrixRollingNumberEvent.SHORT_CIRCUITED));
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail("Exception: " + e.getMessage());
  }
}
