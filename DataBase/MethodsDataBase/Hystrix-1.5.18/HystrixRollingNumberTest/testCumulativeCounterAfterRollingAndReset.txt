@Test public void testCumulativeCounterAfterRollingAndReset(){
  MockedTime time=new MockedTime();
  HystrixRollingNumberEvent type=HystrixRollingNumberEvent.SUCCESS;
  HystrixRollingNumber counter=new HystrixRollingNumber(time,20,2);
  assertEquals(0,counter.getCumulativeSum(type));
  for (int i=0; i < 20; i++) {
    counter.increment(type);
    try {
      time.increment(counter.bucketSizeInMillseconds);
    }
 catch (    Exception e) {
    }
    assertEquals(2,counter.getValues(type).length);
    counter.getValueOfLatestBucket(type);
    if (i == 5 || i == 15) {
      counter.reset();
    }
  }
  assertEquals(20,counter.getCumulativeSum(type));
}
