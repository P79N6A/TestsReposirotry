@Test public void testCreatesBuckets(){
  MockedTime time=new MockedTime();
  try {
    HystrixRollingNumber counter=new HystrixRollingNumber(time,200,10);
    assertEquals(200,counter.timeInMilliseconds);
    assertEquals(10,counter.numberOfBuckets);
    assertEquals(20,counter.bucketSizeInMillseconds);
    assertEquals(0,counter.buckets.size());
    for (int i=0; i < counter.numberOfBuckets; i++) {
      counter.increment(HystrixRollingNumberEvent.SUCCESS);
      time.increment(counter.bucketSizeInMillseconds);
    }
    assertEquals(10,counter.buckets.size());
    counter.increment(HystrixRollingNumberEvent.SUCCESS);
    assertEquals(10,counter.buckets.size());
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail("Exception: " + e.getMessage());
  }
}
