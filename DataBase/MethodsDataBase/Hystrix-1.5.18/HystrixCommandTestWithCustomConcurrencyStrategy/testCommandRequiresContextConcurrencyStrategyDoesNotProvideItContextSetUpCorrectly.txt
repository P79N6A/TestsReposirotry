/** 
 * HystrixConcurrencyStrategy useDefaultRequestContext : false HystrixCommand useRequestCache   : true useRequestLog     : true OUTCOME: RequestLog not set up in command, not available statically
 */
@Test public void testCommandRequiresContextConcurrencyStrategyDoesNotProvideItContextSetUpCorrectly(){
  HystrixConcurrencyStrategy strategy=new CustomConcurrencyStrategy(false);
  HystrixPlugins.getInstance().registerConcurrencyStrategy(strategy);
  HystrixRequestContext context=HystrixRequestContext.initializeContext();
  HystrixCommand<Boolean> cmd=new TestCommand(true,true);
  assertTrue(cmd.execute());
  printRequestLog();
  assertNull(HystrixRequestLog.getCurrentRequest());
  assertNull(HystrixRequestLog.getCurrentRequest(strategy));
  assertNull(cmd.currentRequestLog);
  context.shutdown();
}
