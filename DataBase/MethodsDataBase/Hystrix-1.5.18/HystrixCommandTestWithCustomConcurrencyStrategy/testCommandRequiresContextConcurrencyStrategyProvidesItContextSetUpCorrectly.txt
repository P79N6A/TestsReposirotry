/** 
 * HystrixConcurrencyStrategy useDefaultRequestContext : true HystrixCommand useRequestCache   : true useRequestLog     : true OUTCOME: RequestLog set up properly in command
 */
@Test public void testCommandRequiresContextConcurrencyStrategyProvidesItContextSetUpCorrectly(){
  HystrixConcurrencyStrategy strategy=new CustomConcurrencyStrategy(true);
  HystrixPlugins.getInstance().registerConcurrencyStrategy(strategy);
  HystrixRequestContext context=HystrixRequestContext.initializeContext();
  HystrixCommand<Boolean> cmd=new TestCommand(true,true);
  assertTrue(cmd.execute());
  printRequestLog();
  assertNotNull(HystrixRequestLog.getCurrentRequest().getExecutedCommandsAsString());
  assertNotNull(cmd.currentRequestLog);
  context.shutdown();
}
