/** 
 * * ****************************  * * TEST FALLBACK COMMANDS *  * **************************** 
 */
@Test public void testGetUserAsyncWithFallbackCommand() throws ExecutionException, InterruptedException {
  Future<User> f1=userService.getUserAsyncFallbackCommand(" ","name: ");
  assertEquals("def",f1.get().getName());
  assertEquals(3,HystrixRequestLog.getCurrentRequest().getAllExecutedCommands().size());
  HystrixInvokableInfo<?> getUserAsyncFallbackCommand=getHystrixCommandByKey("getUserAsyncFallbackCommand");
  com.netflix.hystrix.HystrixInvokableInfo firstFallbackCommand=getHystrixCommandByKey("firstFallbackCommand");
  com.netflix.hystrix.HystrixInvokableInfo secondFallbackCommand=getHystrixCommandByKey("secondFallbackCommand");
  assertEquals("getUserAsyncFallbackCommand",getUserAsyncFallbackCommand.getCommandKey().name());
  assertTrue(getUserAsyncFallbackCommand.getExecutionEvents().contains(HystrixEventType.FAILURE));
  assertTrue(firstFallbackCommand.getExecutionEvents().contains(HystrixEventType.FAILURE));
  assertTrue(secondFallbackCommand.getExecutionEvents().contains(HystrixEventType.FALLBACK_SUCCESS));
}
