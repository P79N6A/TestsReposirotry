@Test public void testAsyncCommandWithAsyncFallbackCommand() throws ExecutionException, InterruptedException {
  Future<User> userFuture=userService.asyncCommandWithAsyncFallbackCommand("","");
  User user=userFuture.get();
  assertEquals("def",user.getId());
  assertEquals(2,HystrixRequestLog.getCurrentRequest().getAllExecutedCommands().size());
  HystrixInvokableInfo<?> asyncCommandWithAsyncFallbackCommand=getHystrixCommandByKey("asyncCommandWithAsyncFallbackCommand");
  com.netflix.hystrix.HystrixInvokableInfo asyncFallbackCommand=getHystrixCommandByKey("asyncFallbackCommand");
  assertTrue(asyncCommandWithAsyncFallbackCommand.getExecutionEvents().contains(HystrixEventType.FAILURE));
  assertTrue(asyncCommandWithAsyncFallbackCommand.getExecutionEvents().contains(HystrixEventType.FALLBACK_SUCCESS));
  assertTrue(asyncFallbackCommand.getExecutionEvents().contains(HystrixEventType.SUCCESS));
}
