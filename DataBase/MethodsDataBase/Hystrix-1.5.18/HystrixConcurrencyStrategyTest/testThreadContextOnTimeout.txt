@Test public void testThreadContextOnTimeout(){
  final AtomicBoolean isInitialized=new AtomicBoolean();
  new TimeoutCommand().toObservable().doOnError(new Action1<Throwable>(){
    @Override public void call(    Throwable throwable){
      isInitialized.set(HystrixRequestContext.isCurrentThreadInitialized());
    }
  }
).materialize().toBlocking().single();
  System.out.println("initialized = " + HystrixRequestContext.isCurrentThreadInitialized());
  System.out.println("initialized inside onError = " + isInitialized.get());
  assertEquals(true,isInitialized.get());
}
