@Test public void testNonBlockingCommandQueueFiresTimeout() throws Exception {
  final TestHystrixCommand<Integer> cmd=getCommand(ExecutionIsolationStrategy.THREAD,AbstractTestHystrixCommand.ExecutionResult.SUCCESS,200,AbstractTestHystrixCommand.FallbackResult.SUCCESS,50);
  new Thread(){
    @Override public void run(){
      cmd.queue();
    }
  }
.start();
  Thread.sleep(200);
  assertTrue(cmd.isExecutionComplete());
  assertTrue(cmd.isResponseTimedOut());
  assertEquals(0,cmd.metrics.getCurrentConcurrentExecutionCount());
}
