/** 
 * Test a successful command execution (asynchronously).
 */
@Test public void testQueueSuccess() throws Exception {
  TestHystrixCommand<Integer> command=getCommand(ExecutionIsolationStrategy.THREAD,AbstractTestHystrixCommand.ExecutionResult.SUCCESS);
  Future<Integer> future=command.queue();
  assertEquals(FlexibleTestHystrixCommand.EXECUTE_VALUE,future.get());
  assertTrue(command.getExecutionTimeInMilliseconds() > -1);
  assertTrue(command.isSuccessfulExecution());
  assertCommandExecutionEvents(command,HystrixEventType.SUCCESS);
  assertNull(command.getExecutionException());
  assertEquals(0,command.getBuilder().metrics.getCurrentConcurrentExecutionCount());
  assertSaneHystrixRequestLog(1);
}
