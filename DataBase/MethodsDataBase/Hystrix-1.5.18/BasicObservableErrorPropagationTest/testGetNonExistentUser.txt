@Test public void testGetNonExistentUser() throws NotFoundException {
  try {
    TestSubscriber<User> testSubscriber=new TestSubscriber<User>();
    userService.getUserById("4").subscribe(testSubscriber);
    testSubscriber.assertError(NotFoundException.class);
  }
  finally {
    assertEquals(1,HystrixRequestLog.getCurrentRequest().getAllExecutedCommands().size());
    com.netflix.hystrix.HystrixInvokableInfo getUserCommand=getHystrixCommandByKey(COMMAND_KEY);
    assertFalse(getUserCommand.getExecutionEvents().contains(HystrixEventType.FAILURE));
    verify(failoverService,never()).getDefUser();
  }
}
