@Test public void failsOptionalRootViewBinding() throws Exception {
  JavaFileObject source=JavaFileObjects.forSourceString("test.Test","" + "package test;\n" + "import android.content.Context;\n"+ "import android.view.View;\n"+ "import butterknife.OnClick;\n"+ "import butterknife.Optional;\n"+ "public class Test extends View {\n"+ "  @Optional @OnClick void doStuff() {}\n"+ "  public Test(Context context) {\n"+ "    super(context);\n"+ "  }\n"+ "}");
  assertAbout(javaSource()).that(source).processedWith(new ButterKnifeProcessor()).failsToCompile().withErrorContaining("ID-free binding must not be annotated with @Optional. (test.Test.doStuff)").in(source).onLine(7);
}
