@Test public void library(){
  JavaFileObject source=JavaFileObjects.forSourceString("test.Test","" + "package test;\n" + "import butterknife.BindInt;\n"+ "public class Test {\n"+ "  @BindInt(R2.integer.res) int one;\n"+ "}");
  JavaFileObject bindingSource=JavaFileObjects.forSourceString("test/Test_ViewBinding","" + "// Generated code from Butter Knife. Do not modify!\n" + "package test;\n"+ "import android.content.Context;\n"+ "import android.content.res.Resources;\n"+ "import android.view.View;\n"+ "import androidx.annotation.CallSuper;\n"+ "import androidx.annotation.UiThread;\n"+ "import butterknife.Unbinder;\n"+ "import java.lang.Deprecated;\n"+ "import java.lang.Override;\n"+ "public class Test_ViewBinding implements Unbinder {\n"+ "  /**\n"+ "   * @deprecated Use {@link #Test_ViewBinding(Test, Context)} for direct creation.\n"+ "   *     Only present for runtime invocation through {@code ButterKnife.bind()}.\n"+ "   */\n"+ "  @Deprecated\n"+ "  @UiThread\n"+ "  public Test_ViewBinding(Test target, View source) {\n"+ "    this(target, source.getContext());\n"+ "  }\n"+ "  @UiThread\n"+ "  public Test_ViewBinding(Test target, Context context) {\n"+ "    Resources res = context.getResources();\n"+ "    target.one = res.getInteger(R.integer.res);\n"+ "  }\n"+ "  @Override\n"+ "  @CallSuper\n"+ "  public void unbind() {\n"+ "  }\n"+ "}");
  assertAbout(javaSources()).that(asList(source,NON_FINAL_R,R2)).withCompilerOptions("-Xlint:-processing").processedWith(new ButterKnifeProcessor()).compilesWithoutWarnings().and().generatesSources(bindingSource);
}
