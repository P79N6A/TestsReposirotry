@Test public void testRefCursor2() throws IOException {
  try (SqlSession sqlSession=sqlSessionFactory.openSession()){
    OrdersMapper mapper=sqlSession.getMapper(OrdersMapper.class);
    Map<String,Object> parameter=new HashMap<String,Object>();
    parameter.put("orderId",1);
    mapper.getOrder2(parameter);
    assertNotNull(parameter.get("order"));
    @SuppressWarnings("unchecked") List<Order> orders=(List<Order>)parameter.get("order");
    assertEquals(1,orders.size());
    Order order=orders.get(0);
    assertEquals(3,order.getDetailLines().size());
  }
 }
