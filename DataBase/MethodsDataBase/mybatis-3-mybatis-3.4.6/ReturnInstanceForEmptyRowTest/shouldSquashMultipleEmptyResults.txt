@Test public void shouldSquashMultipleEmptyResults(){
  SqlSession sqlSession=sqlSessionFactory.openSession();
  try {
    Mapper mapper=sqlSession.getMapper(Mapper.class);
    Parent parent=mapper.getTwoCollections(2);
    assertEquals(1,parent.getPets().size());
    assertNotNull(parent.getPets().get(0));
  }
  finally {
    sqlSession.close();
  }
}
