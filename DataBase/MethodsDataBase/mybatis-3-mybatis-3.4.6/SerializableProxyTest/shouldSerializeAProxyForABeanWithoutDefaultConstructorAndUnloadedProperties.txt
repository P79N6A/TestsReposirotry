@Test public void shouldSerializeAProxyForABeanWithoutDefaultConstructorAndUnloadedProperties() throws Exception {
  AuthorWithoutDefaultConstructor author=new AuthorWithoutDefaultConstructor(999,"someone","!@#@!#!@#","someone@somewhere.com","blah",Section.NEWS);
  ArrayList<Class<?>> argTypes=new ArrayList<Class<?>>();
  argTypes.add(Integer.class);
  argTypes.add(String.class);
  argTypes.add(String.class);
  argTypes.add(String.class);
  argTypes.add(String.class);
  argTypes.add(Section.class);
  ArrayList<Object> argValues=new ArrayList<Object>();
  argValues.add(999);
  argValues.add("someone");
  argValues.add("!@#@!#!@#");
  argValues.add("someone@somewhere.com");
  argValues.add("blah");
  argValues.add(Section.NEWS);
  ResultLoaderMap loader=new ResultLoaderMap();
  loader.addLoader("id",null,null);
  Object proxy=proxyFactory.createProxy(author,loader,new Configuration(),new DefaultObjectFactory(),argTypes,argValues);
  Object proxy2=deserialize(serialize((Serializable)proxy));
  assertEquals(author,proxy2);
}
