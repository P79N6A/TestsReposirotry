@Test public void shouldUpdateAuthor() throws Exception {
  Executor executor=createExecutor(new JdbcTransaction(ds,null,false));
  try {
    Author author=new Author(101,"someone","******","someone@apache.org",null,Section.NEWS);
    MappedStatement updateStatement=ExecutorTestHelper.prepareUpdateAuthorMappedStatement(config);
    MappedStatement selectStatement=ExecutorTestHelper.prepareSelectOneAuthorMappedStatement(config);
    int rows=executor.update(updateStatement,author);
    List<Author> authors=executor.query(selectStatement,101,RowBounds.DEFAULT,Executor.NO_RESULT_HANDLER);
    executor.flushStatements();
    executor.rollback(true);
    assertEquals(1,authors.size());
    assertEquals(author.toString(),authors.get(0).toString());
    assertTrue(1 == rows || BatchExecutor.BATCH_UPDATE_RETURN_VALUE == rows);
  }
  finally {
    executor.rollback(true);
    executor.close(false);
  }
}
