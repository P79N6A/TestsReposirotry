@Test public void shouldSelectTwoSetsOfAuthorsViaProc() throws Exception {
  Executor executor=createExecutor(new JdbcTransaction(ds,null,false));
  try {
    MappedStatement selectStatement=ExecutorTestHelper.prepareSelectTwoSetsOfAuthorsProc(config);
    List<List<Author>> authorSets=executor.query(selectStatement,new HashMap<String,Object>(){
{
        put("id1",101);
        put("id2",102);
      }
    }
,RowBounds.DEFAULT,Executor.NO_RESULT_HANDLER);
    assertEquals(2,authorSets.size());
    for (    List<Author> authors : authorSets) {
      assertEquals(2,authors.size());
      for (      Object author : authors) {
        assertTrue(author instanceof Author);
      }
    }
  }
  finally {
    executor.rollback(true);
    executor.close(false);
  }
}
