@Test public void shouldExtractSet(){
  final List list=Arrays.asList(1,2,3);
  final Class<Set> targetType=Set.class;
  final Set set=new HashSet();
  final MetaObject metaObject=mock(MetaObject.class);
  when(objectFactory.isCollection(targetType)).thenReturn(true);
  when(objectFactory.create(targetType)).thenReturn(set);
  when(configuration.newMetaObject(set)).thenReturn(metaObject);
  final Set result=(Set)resultExtractor.extractObjectFromList(list,targetType);
  assertThat(result).isSameAs(set);
  verify(metaObject).addAll(list);
}
