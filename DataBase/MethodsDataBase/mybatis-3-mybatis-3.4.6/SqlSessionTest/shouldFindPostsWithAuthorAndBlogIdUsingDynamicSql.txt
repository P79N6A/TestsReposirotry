@Test public void shouldFindPostsWithAuthorAndBlogIdUsingDynamicSql() throws Exception {
  SqlSession session=sqlMapper.openSession();
  try {
    List<Post> posts=session.selectList("org.apache.ibatis.domain.blog.mappers.PostMapper.findPost",new HashMap<String,Object>(){
{
        put("ids",new ArrayList<Integer>(){
{
            add(1);
            add(2);
            add(3);
          }
        }
);
        put("blog_id",1);
      }
    }
);
    assertEquals(2,posts.size());
  }
  finally {
    session.close();
  }
}
