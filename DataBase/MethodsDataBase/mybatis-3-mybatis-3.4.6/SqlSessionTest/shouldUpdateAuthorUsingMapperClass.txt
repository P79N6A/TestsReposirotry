@Test public void shouldUpdateAuthorUsingMapperClass() throws Exception {
  SqlSession session=sqlMapper.openSession();
  try {
    AuthorMapper mapper=session.getMapper(AuthorMapper.class);
    Author expected=mapper.selectAuthor(101);
    expected.setUsername("NewUsername");
    int count=mapper.updateAuthor(expected);
    assertEquals(1,count);
    Author actual=mapper.selectAuthor(101);
    assertEquals(expected.getUsername(),actual.getUsername());
  }
  finally {
    session.close();
  }
}
