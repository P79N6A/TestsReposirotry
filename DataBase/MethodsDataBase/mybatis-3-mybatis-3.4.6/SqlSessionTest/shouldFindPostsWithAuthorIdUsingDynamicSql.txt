@Test public void shouldFindPostsWithAuthorIdUsingDynamicSql() throws Exception {
  SqlSession session=sqlMapper.openSession();
  try {
    List<Post> posts=session.selectList("org.apache.ibatis.domain.blog.mappers.PostMapper.findPost",new HashMap<String,Integer>(){
{
        put("author_id",101);
      }
    }
);
    assertEquals(3,posts.size());
  }
  finally {
    session.close();
  }
}
