@Test public void shouldCacheAllAuthors() throws Exception {
  int first=-1;
  int second=-1;
  SqlSession session=sqlMapper.openSession();
  try {
    List<Author> authors=session.selectList("org.apache.ibatis.builder.CachedAuthorMapper.selectAllAuthors");
    first=System.identityHashCode(authors);
    session.commit();
  }
  finally {
    session.close();
  }
  session=sqlMapper.openSession();
  try {
    List<Author> authors=session.selectList("org.apache.ibatis.builder.CachedAuthorMapper.selectAllAuthors");
    second=System.identityHashCode(authors);
  }
  finally {
    session.close();
  }
  assertEquals(first,second);
}
