@Test public void shouldSucceedWhenFullyQualifiedButFailDueToAmbiguity(){
  Configuration c=new Configuration();
  final String name1="com.mycache.MyCache";
  final PerpetualCache cache1=new PerpetualCache(name1);
  c.addCache(cache1);
  final String name2="com.other.MyCache";
  final PerpetualCache cache2=new PerpetualCache(name2);
  c.addCache(cache2);
  final String shortName="MyCache";
  assertEquals(cache1,c.getCache(name1));
  assertEquals(cache2,c.getCache(name2));
  try {
    c.getCache(shortName);
    fail("Exception expected.");
  }
 catch (  Exception e) {
    assertTrue(e.getMessage().contains("ambiguous"));
  }
}
