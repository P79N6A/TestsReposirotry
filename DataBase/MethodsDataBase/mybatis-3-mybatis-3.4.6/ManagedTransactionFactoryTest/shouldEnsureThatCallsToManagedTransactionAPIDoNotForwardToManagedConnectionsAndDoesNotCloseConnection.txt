@Test public void shouldEnsureThatCallsToManagedTransactionAPIDoNotForwardToManagedConnectionsAndDoesNotCloseConnection() throws Exception {
  TransactionFactory tf=new ManagedTransactionFactory();
  Properties props=new Properties();
  props.setProperty("closeConnection","false");
  tf.setProperties(props);
  Transaction tx=tf.newTransaction(conn);
  assertEquals(conn,tx.getConnection());
  tx.commit();
  tx.rollback();
  tx.close();
  verifyNoMoreInteractions(conn);
}
