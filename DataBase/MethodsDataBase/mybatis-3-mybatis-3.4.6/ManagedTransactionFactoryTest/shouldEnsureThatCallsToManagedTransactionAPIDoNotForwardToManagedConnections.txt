@Test public void shouldEnsureThatCallsToManagedTransactionAPIDoNotForwardToManagedConnections() throws Exception {
  TransactionFactory tf=new ManagedTransactionFactory();
  tf.setProperties(new Properties());
  Transaction tx=tf.newTransaction(conn);
  assertEquals(conn,tx.getConnection());
  tx.commit();
  tx.rollback();
  tx.close();
  verify(conn).close();
}
