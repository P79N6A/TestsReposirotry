@Test public void shouldInsertListAndRetrieveId() throws Exception {
  SqlSession sqlSession=sqlSessionFactory.openSession();
  try {
    CountryMapper mapper=sqlSession.getMapper(CountryMapper.class);
    List<Country> countries=new ArrayList<Country>();
    countries.add(new Country("China","CN"));
    countries.add(new Country("United Kiongdom","GB"));
    countries.add(new Country("United States of America","US"));
    mapper.insertList(countries);
    for (    Country country : countries) {
      assertNotNull(country.getId());
    }
  }
  finally {
    sqlSession.rollback();
    sqlSession.close();
  }
}
