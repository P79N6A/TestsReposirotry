@Test public void testDynamicSelectWithTypeHandler(){
  SqlSession sqlSession=sqlSessionFactory.openSession();
  try {
    List<Name> names=new ArrayList<Name>();
    Name name=new Name();
    name.setFirstName("Fred");
    name.setLastName("Flintstone");
    names.add(name);
    name=new Name();
    name.setFirstName("Barney");
    name.setLastName("Rubble");
    names.add(name);
    Parameter parameter=new Parameter();
    parameter.setNames(names);
    List<Map<String,Object>> answer=sqlSession.selectList("org.apache.ibatis.submitted.dynsql2.dynamicSelectWithTypeHandler",parameter);
    assertTrue(answer.size() == 2);
  }
  finally {
    sqlSession.close();
  }
}
