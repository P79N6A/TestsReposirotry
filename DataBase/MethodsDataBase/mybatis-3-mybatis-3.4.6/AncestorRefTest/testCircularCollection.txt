@Test public void testCircularCollection(){
  SqlSession sqlSession=sqlSessionFactory.openSession();
  try {
    Mapper mapper=sqlSession.getMapper(Mapper.class);
    User user=mapper.getUserCollection(2);
    assertEquals("User2",user.getFriends().get(0).getName());
    assertEquals("User3",user.getFriends().get(1).getName());
  }
  finally {
    sqlSession.close();
  }
}
