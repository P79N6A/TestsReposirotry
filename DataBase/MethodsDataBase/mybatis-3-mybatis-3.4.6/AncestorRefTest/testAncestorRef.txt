@Test public void testAncestorRef(){
  SqlSession sqlSession=sqlSessionFactory.openSession();
  try {
    Mapper mapper=sqlSession.getMapper(Mapper.class);
    Blog blog=mapper.selectBlog(1);
    assertEquals("Author1",blog.getAuthor().getName());
    assertEquals("Author2",blog.getCoAuthor().getName());
    assertEquals(blog,blog.getAuthor().getBlog());
    assertEquals(blog,blog.getCoAuthor().getBlog());
    assertEquals(blog.getAuthor(),blog.getAuthor().getReputation().getAuthor());
    assertEquals(blog.getCoAuthor(),blog.getCoAuthor().getReputation().getAuthor());
  }
  finally {
    sqlSession.close();
  }
}
