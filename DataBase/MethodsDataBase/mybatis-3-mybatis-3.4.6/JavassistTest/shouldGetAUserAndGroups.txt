@Test public void shouldGetAUserAndGroups(){
  SqlSession sqlSession=sqlSessionFactory.openSession();
  try {
    Mapper mapper=sqlSession.getMapper(Mapper.class);
    User user=mapper.getUser(1);
    Assert.assertEquals("User1",user.getName());
    assertTrue(user instanceof Proxy);
    Assert.assertEquals(1,user.getGroups().size());
  }
  finally {
    sqlSession.close();
  }
}
