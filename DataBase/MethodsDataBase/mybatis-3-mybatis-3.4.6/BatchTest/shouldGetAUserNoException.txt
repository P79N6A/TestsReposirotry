@Test public void shouldGetAUserNoException(){
  SqlSession sqlSession=sqlSessionFactory.openSession(ExecutorType.BATCH,false);
  try {
    Mapper mapper=sqlSession.getMapper(Mapper.class);
    User user=mapper.getUser(1);
    user.setId(2);
    user.setName("User2");
    mapper.insertUser(user);
    Assert.assertEquals("Dept1",mapper.getUser(2).getDept().getName());
  }
 catch (  Exception e) {
    Assert.fail(e.getMessage());
  }
 finally {
    sqlSession.commit();
    sqlSession.close();
  }
}
