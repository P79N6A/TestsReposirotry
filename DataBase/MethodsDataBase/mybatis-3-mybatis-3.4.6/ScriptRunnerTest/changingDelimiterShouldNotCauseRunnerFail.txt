@Test public void changingDelimiterShouldNotCauseRunnerFail() throws Exception {
  DataSource ds=createUnpooledDataSource(JPETSTORE_PROPERTIES);
  Connection conn=ds.getConnection();
  ScriptRunner runner=new ScriptRunner(conn);
  runner.setAutoCommit(false);
  runner.setStopOnError(true);
  runner.setErrorLogWriter(null);
  runner.setLogWriter(null);
  runJPetStoreScripts(runner);
  String resource="org/apache/ibatis/jdbc/ScriptChangingDelimiter.sql";
  Reader reader=Resources.getResourceAsReader(resource);
  try {
    runner.runScript(reader);
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
  reader.close();
  conn.close();
}
