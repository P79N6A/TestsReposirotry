@Test public void shouldConditionallyChooseSecond() throws Exception {
  final String expected="SELECT * FROM BLOG WHERE CATEGORY = 'NONE'";
  DynamicSqlSource source=createDynamicSqlSource(new TextSqlNode("SELECT * FROM BLOG"),new ChooseSqlNode(new ArrayList<SqlNode>(){
{
      add(new IfSqlNode(mixedContents(new TextSqlNode("WHERE CATEGORY = ?")),"false"));
      add(new IfSqlNode(mixedContents(new TextSqlNode("WHERE CATEGORY = 'NONE'")),"true"));
    }
  }
,mixedContents(new TextSqlNode("WHERE CATEGORY = 'DEFAULT'"))));
  BoundSql boundSql=source.getBoundSql(null);
  assertEquals(expected,boundSql.getSql());
}
