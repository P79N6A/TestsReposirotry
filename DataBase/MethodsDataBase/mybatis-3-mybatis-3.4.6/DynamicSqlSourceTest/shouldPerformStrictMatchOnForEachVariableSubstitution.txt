@Test public void shouldPerformStrictMatchOnForEachVariableSubstitution() throws Exception {
  final Map<String,Object> param=new HashMap<String,Object>();
  final Map<String,String> uuu=new HashMap<String,String>();
  uuu.put("u","xyz");
  List<Bean> uuuu=new ArrayList<Bean>();
  uuuu.add(new Bean("bean id"));
  param.put("uuu",uuu);
  param.put("uuuu",uuuu);
  DynamicSqlSource source=createDynamicSqlSource(new TextSqlNode("INSERT INTO BLOG (ID, NAME, NOTE, COMMENT) VALUES"),new ForEachSqlNode(new Configuration(),mixedContents(new TextSqlNode("#{uuu.u}, #{u.id}, #{ u,typeHandler=org.apache.ibatis.type.StringTypeHandler}," + " #{u:VARCHAR,typeHandler=org.apache.ibatis.type.StringTypeHandler}")),"uuuu","uu","u","(",")",","));
  BoundSql boundSql=source.getBoundSql(param);
  assertEquals(4,boundSql.getParameterMappings().size());
  assertEquals("uuu.u",boundSql.getParameterMappings().get(0).getProperty());
  assertEquals("__frch_u_0.id",boundSql.getParameterMappings().get(1).getProperty());
  assertEquals("__frch_u_0",boundSql.getParameterMappings().get(2).getProperty());
  assertEquals("__frch_u_0",boundSql.getParameterMappings().get(3).getProperty());
}
