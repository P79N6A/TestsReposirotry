@Test public void shouldDemonstrateObjectsBeingCollectedAsNeeded(){
  final int N=3000000;
  WeakCache cache=new WeakCache(new PerpetualCache("default"));
  for (int i=0; i < N; i++) {
    cache.putObject(i,i);
    if (cache.getSize() < i + 1) {
      break;
    }
    if ((i + 1) % 100000 == 0) {
      System.gc();
    }
  }
  assertTrue(cache.getSize() < N);
}
