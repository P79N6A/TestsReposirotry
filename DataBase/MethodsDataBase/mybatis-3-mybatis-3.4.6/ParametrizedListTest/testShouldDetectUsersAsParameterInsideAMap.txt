@Test public void testShouldDetectUsersAsParameterInsideAMap() throws Exception {
  SqlSession sqlSession=sqlSessionFactory.openSession();
  try {
    Mapper mapper=sqlSession.getMapper(Mapper.class);
    Map<Integer,User<String>> map=mapper.getAMapOfUsers();
    Assert.assertEquals(User.class,map.get(1).getClass());
  }
  finally {
    sqlSession.close();
  }
}
