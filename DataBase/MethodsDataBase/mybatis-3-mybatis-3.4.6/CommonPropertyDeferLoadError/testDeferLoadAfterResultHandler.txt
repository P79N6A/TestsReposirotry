@Test public void testDeferLoadAfterResultHandler(){
  SqlSession sqlSession=sqlSessionFactory.openSession();
  try {
class MyResultHandler implements ResultHandler {
      List<Child> children=new ArrayList<Child>();
      @Override public void handleResult(      ResultContext context){
        Child child=(Child)context.getResultObject();
        children.add(child);
      }
    }
    ;
    MyResultHandler myResultHandler=new MyResultHandler();
    sqlSession.select("org.apache.ibatis.submitted.deferload_common_property.ChildMapper.selectAll",myResultHandler);
    for (    Child child : myResultHandler.children) {
      assertNotNull(child.getFather());
    }
  }
  finally {
    sqlSession.close();
  }
}
