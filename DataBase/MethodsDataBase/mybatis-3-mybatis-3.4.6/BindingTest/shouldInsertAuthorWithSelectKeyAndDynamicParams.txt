@Test public void shouldInsertAuthorWithSelectKeyAndDynamicParams(){
  SqlSession session=sqlSessionFactory.openSession();
  try {
    BoundAuthorMapper mapper=session.getMapper(BoundAuthorMapper.class);
    Author author=new Author(-1,"cbegin","******","cbegin@nowhere.com","N/A",Section.NEWS);
    int rows=mapper.insertAuthorDynamic(author);
    assertEquals(1,rows);
    assertFalse(-1 == author.getId());
    Author author2=mapper.selectAuthor(author.getId());
    assertNotNull(author2);
    assertEquals(author.getEmail(),author2.getEmail());
    session.rollback();
  }
  finally {
    session.close();
  }
}
