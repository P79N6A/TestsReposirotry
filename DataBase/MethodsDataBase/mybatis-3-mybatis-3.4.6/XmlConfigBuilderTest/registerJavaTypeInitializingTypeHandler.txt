@Test public void registerJavaTypeInitializingTypeHandler(){
  final String MAPPER_CONFIG="<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n" + "<!DOCTYPE configuration PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n" + "<configuration>\n"+ "  <typeHandlers>\n"+ "    <typeHandler javaType=\"org.apache.ibatis.builder.XmlConfigBuilderTest$MyEnum\"\n"+ "      handler=\"org.apache.ibatis.builder.XmlConfigBuilderTest$EnumOrderTypeHandler\"/>\n"+ "  </typeHandlers>\n"+ "</configuration>\n";
  XMLConfigBuilder builder=new XMLConfigBuilder(new StringReader(MAPPER_CONFIG));
  builder.parse();
  TypeHandlerRegistry typeHandlerRegistry=builder.getConfiguration().getTypeHandlerRegistry();
  TypeHandler<MyEnum> typeHandler=typeHandlerRegistry.getTypeHandler(MyEnum.class);
  assertTrue(typeHandler instanceof EnumOrderTypeHandler);
  assertArrayEquals(MyEnum.values(),((EnumOrderTypeHandler)typeHandler).constants);
}
