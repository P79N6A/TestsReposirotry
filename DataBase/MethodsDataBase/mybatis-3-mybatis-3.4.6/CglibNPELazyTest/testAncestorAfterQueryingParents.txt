@Test public void testAncestorAfterQueryingParents(){
  SqlSession sqlSession=sqlSessionFactory.openSession();
  PersonMapper personMapper=sqlSession.getMapper(PersonMapper.class);
  Person expectedAncestor=personMapper.selectById(1);
  Person person=personMapper.selectById(3);
  Assert.assertNotNull("Persons must not be null",person);
  Assert.assertNotNull("Parent must not be null",person.getParent());
  Assert.assertNotNull("Grandparent must not be null",person.getParent().getParent());
  Assert.assertEquals("Ancestor must be John Smith sr.",expectedAncestor,person.getAncestor());
  sqlSession.close();
}
