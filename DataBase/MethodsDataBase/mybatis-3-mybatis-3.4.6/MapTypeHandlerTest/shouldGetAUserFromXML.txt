@Test(expected=PersistenceException.class) public void shouldGetAUserFromXML(){
  SqlSession sqlSession=sqlSessionFactory.openSession();
  try {
    Mapper mapper=sqlSession.getMapper(Mapper.class);
    Map<String,Object> params=new HashMap<String,Object>();
    params.put("id",1);
    params.put("name","User1");
    User user=mapper.getUserXML(params);
    Assert.assertEquals("User1",user.getName());
  }
  finally {
    sqlSession.close();
  }
}
