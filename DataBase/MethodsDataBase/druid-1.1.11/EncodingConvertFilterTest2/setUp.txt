protected void setUp() throws Exception {
  dataSource=new DruidDataSource();
  dataSource.setUrl("jdbc:mock:xxx");
  dataSource.setFilters("encoding");
  dataSource.setDriver(new MockDriver(){
    public ResultSet createResultSet(    MockPreparedStatement stmt){
      return new MyResultSet(stmt);
    }
    public ResultSet executeQuery(    MockStatementBase stmt,    String sql) throws SQLException {
      return new MyResultSet(stmt);
    }
  }
);
  dataSource.getConnectProperties().put("clientEncoding",CLIENT_ENCODING);
  dataSource.getConnectProperties().put("serverEncoding",SERVER_ENCODING);
  dataSource.init();
}
