@SuppressWarnings("deprecation") public void test_connection() throws Exception {
  Connection conn=null;
  PreparedStatement pstmt=null;
  Statement stmt=null;
  ResultSet rs=null;
  try {
    conn=DriverManager.getConnection(create_url);
    conn.setCatalog(conn.getCatalog());
    conn.setClientInfo(conn.getClientInfo());
    conn.setHoldability(conn.getHoldability());
    conn.setReadOnly(conn.isReadOnly());
    conn.setTransactionIsolation(conn.getTransactionIsolation());
    conn.setTypeMap(conn.getTypeMap());
    try {
      conn.setClientInfo("name","value");
    }
 catch (    SQLClientInfoException ex) {
    }
    try {
      conn.createArrayOf("VARCHAR",new String[]{"A","B"});
    }
 catch (    SQLFeatureNotSupportedException ex) {
    }
    try {
      conn.createNClob();
    }
 catch (    SQLFeatureNotSupportedException ex) {
    }
    try {
      conn.createSQLXML();
    }
 catch (    SQLFeatureNotSupportedException ex) {
    }
    try {
      conn.createStruct("VARCHAR",new String[]{"A","B"});
    }
 catch (    SQLFeatureNotSupportedException ex) {
    }
    conn.setAutoCommit(false);
    Savepoint savePoint=conn.setSavepoint("XX");
    conn.releaseSavepoint(savePoint);
    pstmt=conn.prepareStatement("INSERT INTO T_BLOB (ID, DATA) VALUES (?, ?)");
    Blob blob=conn.createBlob();
    blob.setBytes(1,new byte[100]);
    pstmt.setInt(1,1);
    pstmt.setBlob(2,blob);
    int updateCount=pstmt.executeUpdate();
    Assert.assertEquals(1,updateCount);
    stmt=conn.createStatement();
    conn.nativeSQL("SELECT ID, DATA FROM T_BLOB");
    rs=stmt.executeQuery("SELECT ID, DATA FROM T_BLOB");
    rs.getStatement();
    while (rs.next()) {
      Blob readBlob=rs.getBlob(2);
      readBlob.length();
      readBlob.getBinaryStream(1,100).close();
      readBlob.getBinaryStream().close();
      readBlob.free();
      try {
        rs.getUnicodeStream(1).close();
      }
 catch (      SQLFeatureNotSupportedException ex) {
      }
      try {
        rs.getUnicodeStream("DATA").close();
      }
 catch (      SQLFeatureNotSupportedException ex) {
      }
    }
    JdbcUtils.close(rs);
    rs=stmt.executeQuery("SELECT ID, DATA FROM T_BLOB");
    while (rs.next()) {
      rs.getBinaryStream(2).close();
    }
    JdbcUtils.close(rs);
    rs=stmt.executeQuery("SELECT ID, DATA FROM T_BLOB");
    while (rs.next()) {
      rs.getBinaryStream("DATA").close();
    }
    JdbcUtils.close(rs);
    rs=stmt.executeQuery("SELECT ID, DATA FROM T_BLOB");
    while (rs.next()) {
      rs.getBytes(2);
    }
    JdbcUtils.close(rs);
    rs=stmt.executeQuery("SELECT ID, DATA FROM T_BLOB");
    while (rs.next()) {
      rs.getBytes("DATA");
    }
    JdbcUtils.close(rs);
    conn.setAutoCommit(true);
  }
  finally {
    JdbcUtils.close(rs);
    JdbcUtils.close(stmt);
    JdbcUtils.close(pstmt);
    JdbcUtils.close(conn);
  }
}
