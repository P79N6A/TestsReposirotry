public void test_prepare() throws Exception {
  Connection conn=dataSource.getConnection();
{
    DruidPooledConnection wrap=conn.unwrap(DruidPooledConnection.class);
    Assert.assertTrue(conn.isWrapperFor(DruidPooledConnection.class));
    Assert.assertNotNull(wrap);
  }
{
    Statement wrap=conn.unwrap(Statement.class);
    Assert.assertTrue(!conn.isWrapperFor(Statement.class));
    Assert.assertNull(wrap);
  }
  conn.setAutoCommit(false);
  conn.setAutoCommit(false);
  Statement stmt=conn.createStatement();
  stmt.execute("SELECT 1");
  stmt.close();
  Assert.assertEquals(1,dataSource.getActiveConnectionStackTrace().size());
  Assert.assertEquals(1,dataSource.getActiveConnections().size());
  conn.rollback();
  conn.close();
  Assert.assertEquals(1,dataSource.getStartTransactionCount());
  Assert.assertEquals(0,dataSource.getCommitCount());
  Assert.assertEquals(1,dataSource.getRollbackCount());
  Assert.assertEquals(0,dataSource.getActiveConnectionStackTrace().size());
  Assert.assertEquals(0,dataSource.getActiveConnections().size());
}
