public void testValidate() throws Exception {
  validate.set(false);
  Exception error=null;
  try {
    dataSource.getConnection();
  }
 catch (  SQLException e) {
    error=e;
  }
  Assert.assertNotNull(error);
  validate.set(true);
  Connection conn=dataSource.getConnection();
  conn.close();
}
