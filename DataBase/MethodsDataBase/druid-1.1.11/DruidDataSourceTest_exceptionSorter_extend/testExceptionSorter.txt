/** 
 * 测试继承自com.mysql.jdbc.Driver的子类可以设置sorter
 * @throws Exception
 */
public void testExceptionSorter() throws Exception {
  DruidDataSource dataSource1=new DruidDataSource();
  try {
    dataSource1.setDriverClassName(SubDriver.class.getName());
    dataSource1.init();
    Assert.assertNotNull(dataSource1.getExceptionSorter());
    Assert.assertEquals(MySqlExceptionSorter.class.getName(),dataSource1.getExceptionSorter().getClass().getName());
  }
  finally {
    JdbcUtils.close(dataSource1);
  }
}
