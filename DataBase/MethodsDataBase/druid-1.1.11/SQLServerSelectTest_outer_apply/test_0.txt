public void test_0() throws Exception {
  String sql="SELECT DeptID, DeptName, DeptMgrID, EmpID, EmpLastName, EmpSalary FROM Departments d OUTER APPLY dbo.GetReports(d.DeptMgrID)";
  SQLServerStatementParser parser=new SQLServerStatementParser(sql);
  List<SQLStatement> statementList=parser.parseStatementList();
  SQLStatement stmt=statementList.get(0);
  SQLSelectStatement selectStmt=(SQLSelectStatement)stmt;
  SQLSelect select=selectStmt.getSelect();
  Assert.assertNotNull(select.getQuery());
  SQLServerSelectQueryBlock queryBlock=(SQLServerSelectQueryBlock)select.getQuery();
  Assert.assertNull(queryBlock.getGroupBy());
  String fomatSQL=SQLUtils.toSQLString(statementList,JdbcUtils.SQL_SERVER);
  Assert.assertEquals(1,statementList.size());
  SQLServerSchemaStatVisitor visitor=new SQLServerSchemaStatVisitor();
  stmt.accept(visitor);
  Assert.assertEquals(1,visitor.getTables().size());
  Assert.assertEquals(7,visitor.getColumns().size());
  Assert.assertEquals(0,visitor.getConditions().size());
  Assert.assertEquals(0,visitor.getOrderByColumns().size());
  String expected="SELECT DeptID, DeptName, DeptMgrID, EmpID, EmpLastName" + "\n\t, EmpSalary" + "\nFROM Departments d"+ "\n\tOUTER APPLY dbo.GetReports(d.DeptMgrID)";
  Assert.assertEquals(expected,fomatSQL);
}
