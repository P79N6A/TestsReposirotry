public void test_pstmt_batch() throws Exception {
  Connection conn=null;
  Statement stmt=null;
  PreparedStatement pstmt=null;
  ResultSet rs=null;
  try {
    conn=DriverManager.getConnection(create_url);
    stmt=conn.createStatement();
    pstmt=conn.prepareStatement("INSERT INTO T_USER (ID, NAME, BIRTHDATE) VALUES (?, ?, ?)");
    pstmt.setInt(1,1);
    pstmt.setString(2,"A");
    pstmt.setTimestamp(3,new java.sql.Timestamp(System.currentTimeMillis()));
    pstmt.addBatch();
    pstmt.setInt(1,2);
    pstmt.setString(2,"B");
    pstmt.setTimestamp(3,new java.sql.Timestamp(System.currentTimeMillis()));
    pstmt.addBatch();
    int[] updateCounts=pstmt.executeBatch();
    Assert.assertArrayEquals(new int[]{1,1},updateCounts);
    pstmt.setFetchDirection(stmt.getFetchDirection());
    pstmt.setFetchSize(pstmt.getFetchSize());
    ResultSet keys=stmt.getGeneratedKeys();
    JdbcUtils.close(keys);
    stmt.getConnection();
    stmt.setMaxFieldSize(stmt.getMaxFieldSize());
    stmt.setMaxRows(stmt.getMaxRows());
    stmt.getQueryTimeout();
    stmt.getResultSetConcurrency();
    stmt.getResultSetHoldability();
    stmt.getResultSetType();
    stmt.setPoolable(true);
    stmt.getWarnings();
    pstmt.getMetaData();
    pstmt.getParameterMetaData();
    pstmt.getWarnings();
    stmt.execute("SELECT * FROM T_USER");
    for (; ; ) {
      rs=stmt.getResultSet();
      rs.getWarnings();
      if (rs != null) {
        JdbcUtils.printResultSet(rs,System.out);
        JdbcUtils.close(rs);
      }
      if ((stmt.getMoreResults() == false) && (stmt.getUpdateCount() == -1)) {
        break;
      }
    }
  }
  finally {
    JdbcUtils.close(rs);
    JdbcUtils.close(stmt);
    JdbcUtils.close(pstmt);
    JdbcUtils.close(conn);
  }
}
