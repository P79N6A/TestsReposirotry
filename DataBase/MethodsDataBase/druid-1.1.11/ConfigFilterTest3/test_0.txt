public void test_0() throws Exception {
  String password="abcdefg1234";
  String[] keys=ConfigTools.genKeyPair(1024);
  File file=File.createTempFile("MyTest",Long.toString(System.nanoTime()));
  Properties properties=new Properties();
  properties.put(DruidDataSourceFactory.PROP_URL,"jdbc:mock:xx0");
  properties.put(DruidDataSourceFactory.PROP_USERNAME,"sa");
  properties.put(DruidDataSourceFactory.PROP_PASSWORD,ConfigTools.encrypt(keys[0],password));
  properties.put(ConfigFilter.CONFIG_DECRYPT,"true");
  properties.store(new FileOutputStream(file),"");
  dataSource.getConnectProperties().put(ConfigFilter.CONFIG_KEY,keys[1]);
  dataSource.getConnectProperties().put(ConfigFilter.CONFIG_FILE,"file://" + file.getAbsolutePath());
  dataSource.init();
  Assert.assertEquals("jdbc:mock:xx0",dataSource.getUrl());
  Assert.assertEquals("sa",dataSource.getUsername());
  Assert.assertEquals(password,dataSource.getPassword());
}
