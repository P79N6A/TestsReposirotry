protected void setUp() throws Exception {
  dataSource=new DruidDataSource();
  dataSource.setUrl("jdbc:mock:xxx");
  dataSource.setTestOnBorrow(false);
  dataSource.setInitialSize(1);
  dataSource.getProxyFilters().add(new FilterAdapter(){
    public boolean callableStatement_wasNull(    FilterChain chain,    CallableStatementProxy statement) throws SQLException {
      if (throwError) {
        throw new SQLException();
      }
 else {
        return chain.callableStatement_wasNull(statement);
      }
    }
  }
);
}
