@Test public void testByNameGet() throws Exception {
  HighAvailableDataSource haDataSource=new HighAvailableDataSource();
  Map<String,DataSource> map=new HashMap<String,DataSource>();
  map.put("foo",new MockDataSource("foo"));
  map.put("bar",new MockDataSource("bar"));
  haDataSource.setDataSourceMap(map);
  haDataSource.setSelector("byname");
  haDataSource.init();
  haDataSource.setTargetDataSource("foo");
  assertNotNull(haDataSource.getConnection());
}
