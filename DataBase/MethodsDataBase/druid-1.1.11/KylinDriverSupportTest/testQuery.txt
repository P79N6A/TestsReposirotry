@Test public void testQuery() throws SQLException {
  DruidDataSource dataSource=new DruidDataSource();
  try {
    dataSource=new DruidDataSource();
    dataSource.setUrl(URL);
    dataSource.setUsername(USER_NAME);
    dataSource.setPassword(PASSWORD);
    dataSource.setValidationQuery(VALIDATION_QUERY);
    Connection conn=dataSource.getConnection();
    PreparedStatement state=conn.prepareStatement(VALIDATION_QUERY);
    ResultSet resultSet=state.executeQuery();
    Assert.assertThat("check result",resultSet,IsNull.notNullValue());
  }
  finally {
    dataSource.close();
  }
}
