/** 
 * Node has capacity for 1024 MB and 8 cores. Saturate the node. When full the hasResourceAvailable should return false.
 */
@Test public void testHasResourcesAvailable(){
  AllocationBasedResourceUtilizationTracker tracker=new AllocationBasedResourceUtilizationTracker(mockContainerScheduler);
  Container testContainer=mock(Container.class);
  when(testContainer.getResource()).thenReturn(Resource.newInstance(512,4));
  for (int i=0; i < 2; i++) {
    Assert.assertTrue(tracker.hasResourcesAvailable(testContainer));
    tracker.addContainerResources(testContainer);
  }
  Assert.assertFalse(tracker.hasResourcesAvailable(testContainer));
}
