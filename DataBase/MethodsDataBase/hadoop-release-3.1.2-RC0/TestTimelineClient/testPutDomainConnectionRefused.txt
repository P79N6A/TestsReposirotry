@Test public void testPutDomainConnectionRefused() throws Exception {
  mockDomainClientResponse(spyTimelineWriter,null,true);
  try {
    client.putDomain(generateDomain());
    Assert.fail("RuntimeException is expected");
  }
 catch (  RuntimeException re) {
    Assert.assertTrue(re instanceof ClientHandlerException);
  }
}
