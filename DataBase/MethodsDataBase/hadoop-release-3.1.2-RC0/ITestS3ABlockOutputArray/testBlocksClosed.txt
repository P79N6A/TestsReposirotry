@Test public void testBlocksClosed() throws Throwable {
  Path dest=path("testBlocksClosed");
  describe(" testBlocksClosed");
  FSDataOutputStream stream=getFileSystem().create(dest,true);
  S3AInstrumentation.OutputStreamStatistics statistics=S3ATestUtils.getOutputStreamStatistics(stream);
  byte[] data=ContractTestUtils.dataset(16,'a',26);
  stream.write(data);
  LOG.info("closing output stream");
  stream.close();
  assertEquals("total allocated blocks in " + statistics,1,statistics.blocksAllocated());
  assertEquals("actively allocated blocks in " + statistics,0,statistics.blocksActivelyAllocated());
  LOG.info("end of test case");
}
