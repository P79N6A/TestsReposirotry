/** 
 * Test that the client doesn't ever try to DNS-resolve the logical URI. Regression test for HADOOP-9150.
 */
@Test public void testDoesntDnsResolveLogicalURI() throws Exception {
  FileSystem fs=HATestUtil.configureFailoverFs(cluster,conf);
  NameService spyNS=spyOnNameService();
  String logicalHost=fs.getUri().getHost();
  Path qualifiedRoot=fs.makeQualified(new Path("/"));
  fs.getCanonicalServiceName();
  fs.listStatus(qualifiedRoot);
  Mockito.verify(spyNS,Mockito.never()).lookupAllHostAddr(Mockito.eq(logicalHost));
}
