@Test public void testRevertCommit() throws Throwable {
  Path destFile=methodPath("part-0000");
  S3AFileSystem fs=getFileSystem();
  touch(fs,destFile);
  CommitOperations actions=newCommitOperations();
  SinglePendingCommit commit=new SinglePendingCommit();
  commit.setDestinationKey(fs.pathToKey(destFile));
  fullThrottle();
  actions.revertCommit(commit);
  resetFailures();
  assertPathExists("parent of reverted commit",destFile.getParent());
}
