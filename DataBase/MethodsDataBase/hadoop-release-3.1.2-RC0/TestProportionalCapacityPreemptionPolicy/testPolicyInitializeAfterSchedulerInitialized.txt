@Test public void testPolicyInitializeAfterSchedulerInitialized(){
  @SuppressWarnings("resource") MockRM rm=new MockRM(conf);
  rm.init(conf);
  CapacityScheduler cs=(CapacityScheduler)rm.getResourceScheduler();
  SchedulingMonitorManager smm=cs.getSchedulingMonitorManager();
  Service service=smm.getAvailableSchedulingMonitor();
  if (service instanceof SchedulingMonitor) {
    ProportionalCapacityPreemptionPolicy policy=(ProportionalCapacityPreemptionPolicy)((SchedulingMonitor)service).getSchedulingEditPolicy();
    assertNotNull(policy.getResourceCalculator());
    return;
  }
  fail("Failed to find SchedulingMonitor service, please check what happened");
}
