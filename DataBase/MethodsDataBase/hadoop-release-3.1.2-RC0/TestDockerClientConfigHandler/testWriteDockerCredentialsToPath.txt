@Test public void testWriteDockerCredentialsToPath() throws Exception {
  File outFile=File.createTempFile("docker-client-config","out");
  outFile.deleteOnExit();
  Credentials credentials=DockerClientConfigHandler.readCredentialsFromConfigFile(new Path(file.toURI()),conf,APPLICATION_ID);
  assertTrue(DockerClientConfigHandler.writeDockerCredentialsToPath(outFile,credentials));
  assertTrue(outFile.exists());
  String fileContents=FileUtils.readFileToString(outFile);
  assertTrue(fileContents.contains("auths"));
  assertTrue(fileContents.contains("registry.example.com"));
  assertTrue(fileContents.contains("https://index.docker.io/v1/"));
  assertTrue(fileContents.contains("foobarbaz"));
  assertTrue(fileContents.contains("bazbarfoo"));
}
