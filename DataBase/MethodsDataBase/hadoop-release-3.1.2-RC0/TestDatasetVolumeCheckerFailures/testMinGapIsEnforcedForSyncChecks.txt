@Test(timeout=60000) public void testMinGapIsEnforcedForSyncChecks() throws Exception {
  final List<FsVolumeSpi> volumes=TestDatasetVolumeChecker.makeVolumes(1,VolumeCheckResult.HEALTHY);
  final FsDatasetSpi<FsVolumeSpi> dataset=TestDatasetVolumeChecker.makeDataset(volumes);
  final DatasetVolumeChecker checker=new DatasetVolumeChecker(conf,timer);
  checker.checkAllVolumes(dataset);
  assertThat(checker.getNumSyncDatasetChecks(),is(1L));
  checker.checkAllVolumes(dataset);
  assertThat(checker.getNumSyncDatasetChecks(),is(1L));
  assertThat(checker.getNumSkippedChecks(),is(1L));
  timer.advance(MIN_DISK_CHECK_GAP_MS);
  checker.checkAllVolumes(dataset);
  assertThat(checker.getNumSyncDatasetChecks(),is(2L));
  assertThat(checker.getNumSkippedChecks(),is(1L));
}
