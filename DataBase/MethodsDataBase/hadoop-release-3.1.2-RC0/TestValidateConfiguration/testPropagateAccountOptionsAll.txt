@Test public void testPropagateAccountOptionsAll(){
  Configuration conf=new Configuration(false);
  conf.set("fs.adl.oauth2.client.id","defaultClientId");
  conf.set("fs.adl.oauth2.credential","defaultCredential");
  conf.set("some.other.config","someValue");
  conf.set("fs.adl.account.dummy1.oauth2.client.id","dummyClientId1");
  conf.set("fs.adl.account.dummy1.oauth2.credential","dummyCredential1");
  conf.set("fs.adl.account.dummy2.oauth2.client.id","dummyClientId2");
  conf.set("fs.adl.account.dummy2.oauth2.credential","dummyCredential2");
  Configuration propagatedConf=AdlFileSystem.propagateAccountOptions(conf,"dummy1");
  assertEquals("dummyClientId1",propagatedConf.get(AZURE_AD_CLIENT_ID_KEY));
  assertEquals("dummyCredential1",propagatedConf.get(AZURE_AD_CLIENT_SECRET_KEY));
  assertEquals("someValue",propagatedConf.get("some.other.config"));
  propagatedConf=AdlFileSystem.propagateAccountOptions(conf,"dummy2");
  assertEquals("dummyClientId2",propagatedConf.get(AZURE_AD_CLIENT_ID_KEY));
  assertEquals("dummyCredential2",propagatedConf.get(AZURE_AD_CLIENT_SECRET_KEY));
  assertEquals("someValue",propagatedConf.get("some.other.config"));
  propagatedConf=AdlFileSystem.propagateAccountOptions(conf,"anotherDummy");
  assertEquals("defaultClientId",propagatedConf.get(AZURE_AD_CLIENT_ID_KEY));
  assertEquals("defaultCredential",propagatedConf.get(AZURE_AD_CLIENT_SECRET_KEY));
  assertEquals("someValue",propagatedConf.get("some.other.config"));
}
