@Test public void testUpdateReadonlyUserGroupPermissionMountable() throws Exception {
  String nsId="ns0";
  String src="/test-updateReadonlyUserGroupPermissionMountTable";
  String dest="/UpdateReadonlyUserGroupPermissionMountTable";
  String[] argv=new String[]{"-add",src,nsId,dest};
  assertEquals(0,ToolRunner.run(admin,argv));
  stateStore.loadCache(MountTableStoreImpl.class,true);
  GetMountTableEntriesRequest getRequest=GetMountTableEntriesRequest.newInstance(src);
  GetMountTableEntriesResponse getResponse=client.getMountTableManager().getMountTableEntries(getRequest);
  MountTable mountTable=getResponse.getEntries().get(0);
  assertEquals(src,mountTable.getSourcePath());
  assertEquals(nsId,mountTable.getDestinations().get(0).getNameserviceId());
  assertEquals(dest,mountTable.getDestinations().get(0).getDest());
  assertFalse(mountTable.isReadOnly());
  String testOwner="test_owner";
  String testGroup="test_group";
  argv=new String[]{"-update",src,nsId,dest,"-readonly","-owner",testOwner,"-group",testGroup,"-mode","0455"};
  assertEquals(0,ToolRunner.run(admin,argv));
  stateStore.loadCache(MountTableStoreImpl.class,true);
  getResponse=client.getMountTableManager().getMountTableEntries(getRequest);
  mountTable=getResponse.getEntries().get(0);
  assertEquals(src,mountTable.getSourcePath());
  assertEquals(nsId,mountTable.getDestinations().get(0).getNameserviceId());
  assertEquals(dest,mountTable.getDestinations().get(0).getDest());
  assertTrue(mountTable.isReadOnly());
  assertEquals(testOwner,mountTable.getOwnerName());
  assertEquals(testGroup,mountTable.getGroupName());
  assertEquals((short)0455,mountTable.getMode().toShort());
}
