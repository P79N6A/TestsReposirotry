@Test public void testExternalApplication() throws IOException {
  Service ext=createValidApplication("comp1");
  SliderFileSystem sfs=ServiceTestUtils.initMockFs(ext);
  Service app=createValidApplication(null);
  Artifact artifact=new Artifact();
  artifact.setType(Artifact.TypeEnum.SERVICE);
  artifact.setId("id");
  app.setArtifact(artifact);
  app.addComponent(ServiceTestUtils.createComponent("comp2"));
  try {
    ServiceApiUtil.validateAndResolveService(app,sfs,CONF_DNS_ENABLED);
  }
 catch (  IllegalArgumentException e) {
    Assert.fail(NO_EXCEPTION_PREFIX + e.getMessage());
  }
  assertEquals(1,app.getComponents().size());
  assertNotNull(app.getComponent("comp2"));
}
