@Test public void testExternalComponent() throws IOException {
  Service ext=createValidApplication("comp1");
  SliderFileSystem sfs=ServiceTestUtils.initMockFs(ext);
  Service app=createValidApplication("comp2");
  Artifact artifact=new Artifact();
  artifact.setType(Artifact.TypeEnum.SERVICE);
  artifact.setId("id");
  app.setArtifact(artifact);
  try {
    ServiceApiUtil.validateAndResolveService(app,sfs,CONF_DNS_ENABLED);
  }
 catch (  IllegalArgumentException e) {
    Assert.fail(NO_EXCEPTION_PREFIX + e.getMessage());
  }
  assertEquals(1,app.getComponents().size());
  assertNotNull(app.getComponent("comp2"));
  app.getComponent("comp2").setArtifact(artifact);
  try {
    ServiceApiUtil.validateAndResolveService(app,sfs,CONF_DNS_ENABLED);
  }
 catch (  IllegalArgumentException e) {
    Assert.fail(NO_EXCEPTION_PREFIX + e.getMessage());
  }
  assertEquals(1,app.getComponents().size());
  assertNotNull(app.getComponent("comp1"));
}
