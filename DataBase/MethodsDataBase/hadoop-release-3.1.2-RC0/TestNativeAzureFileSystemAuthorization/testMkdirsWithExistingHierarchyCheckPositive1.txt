/** 
 * Positive test for mkdirs -p with existing hierarchy
 * @throws Throwable
 */
@Test public void testMkdirsWithExistingHierarchyCheckPositive1() throws Throwable {
  Path testPath=new Path("/testMkdirsWithExistingHierarchyCheckPositive1");
  authorizer.addAuthRuleForOwner("/",WRITE,true);
  fs.updateWasbAuthorizer(authorizer);
  try {
    fs.mkdirs(testPath);
    ContractTestUtils.assertIsDirectory(fs,testPath);
    authorizer.deleteAllAuthRules();
    authorizer.addAuthRuleForOwner(testPath.getParent().toString(),READ,true);
    fs.mkdirs(testPath);
    ContractTestUtils.assertIsDirectory(fs,testPath);
  }
  finally {
    allowRecursiveDelete(fs,testPath.toString());
    fs.delete(testPath,true);
  }
}
