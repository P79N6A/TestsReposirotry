@Test public void testFindRedirectUrl() throws Exception {
  final String rm1="rm1";
  final String rm2="rm2";
  final String rm1Url=startHttpServer();
  final String rm2Url="host2:8088";
  TestAmIpFilter filter=new TestAmIpFilter();
  TestAmIpFilter spy=Mockito.spy(filter);
  spy.proxyUriBases=new HashMap<>();
  spy.proxyUriBases.put(rm1,rm1Url);
  spy.proxyUriBases.put(rm2,rm2Url);
  spy.rmUrls=new String[]{rm1,rm2};
  assertEquals(spy.findRedirectUrl(),rm1Url);
}
