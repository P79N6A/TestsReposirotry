@Test public void testGetHomeSubcluster() throws YarnException {
  ApplicationSubmissionContext applicationSubmissionContext=mock(ApplicationSubmissionContext.class);
  when(applicationSubmissionContext.getQueue()).thenReturn(queue1);
  Assert.assertTrue(routerFacade.globalPolicyMap.containsKey(defQueueKey) && routerFacade.globalPolicyMap.size() == 1);
  SubClusterId chosen=routerFacade.getHomeSubcluster(applicationSubmissionContext,null);
  Assert.assertTrue(subClusterIds.contains(chosen));
  Assert.assertTrue(routerFacade.globalPolicyMap.size() == 2);
  Assert.assertTrue(routerFacade.globalPolicyMap.get(queue1) instanceof UniformRandomRouterPolicy);
  routerFacade.reset();
  Assert.assertTrue(routerFacade.globalPolicyMap.containsKey(defQueueKey) && routerFacade.globalPolicyMap.size() == 1);
}
