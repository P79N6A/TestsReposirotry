@Test(timeout=30000) public void testRefreshNodesNN1UpNN2Down() throws Exception {
  setUpHaCluster(false);
  cluster.getDfsCluster().shutdownNameNode(1);
  int exitCode=admin.run(new String[]{"-refreshNodes"});
  assertNotEquals(err.toString().trim(),0,exitCode);
  String message="Refresh nodes successful for.*" + newLine + "Refresh nodes failed for.*"+ newLine;
  assertOutputMatches(message);
}
