@Test public void testNeverRestartPolicy() throws Exception {
  NeverRestartPolicy restartPolicy=NeverRestartPolicy.getInstance();
  Component component=mock(Component.class);
  when(component.getNumSucceededInstances()).thenReturn(new Long(1));
  when(component.getNumFailedInstances()).thenReturn(new Long(2));
  when(component.getNumDesiredInstances()).thenReturn(3);
  ComponentInstance instance=mock(ComponentInstance.class);
  when(instance.getComponent()).thenReturn(component);
  ContainerStatus containerStatus=mock(ContainerStatus.class);
  assertEquals(false,restartPolicy.isLongLived());
  assertEquals(false,restartPolicy.allowUpgrades());
  assertEquals(true,restartPolicy.hasCompleted(component));
  assertEquals(false,restartPolicy.hasCompletedSuccessfully(component));
  assertEquals(false,restartPolicy.shouldRelaunchInstance(instance,containerStatus));
  assertEquals(true,restartPolicy.isReadyForDownStream(component));
}
