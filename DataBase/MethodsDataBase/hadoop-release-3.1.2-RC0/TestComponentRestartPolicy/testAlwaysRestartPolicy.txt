@Test public void testAlwaysRestartPolicy() throws Exception {
  AlwaysRestartPolicy alwaysRestartPolicy=AlwaysRestartPolicy.getInstance();
  Component component=mock(Component.class);
  when(component.getNumReadyInstances()).thenReturn(1);
  when(component.getNumDesiredInstances()).thenReturn(2);
  ComponentInstance instance=mock(ComponentInstance.class);
  when(instance.getComponent()).thenReturn(component);
  ContainerStatus containerStatus=mock(ContainerStatus.class);
  assertEquals(true,alwaysRestartPolicy.isLongLived());
  assertEquals(true,alwaysRestartPolicy.allowUpgrades());
  assertEquals(false,alwaysRestartPolicy.hasCompleted(component));
  assertEquals(false,alwaysRestartPolicy.hasCompletedSuccessfully(component));
  assertEquals(true,alwaysRestartPolicy.shouldRelaunchInstance(instance,containerStatus));
  assertEquals(false,alwaysRestartPolicy.isReadyForDownStream(component));
}
