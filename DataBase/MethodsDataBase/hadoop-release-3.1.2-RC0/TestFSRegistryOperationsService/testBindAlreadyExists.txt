@Test public void testBindAlreadyExists() throws IOException {
  ServiceRecord record1=createRecord("1");
  ServiceRecord record2=createRecord("2");
  System.out.println("Bind record1");
  registry.bind("test/registryTestNode",record1,1);
  Assert.assertTrue(fs.exists(new Path("test/registryTestNode/_record")));
  System.out.println("Bind record2, overwrite = 1");
  registry.bind("test/registryTestNode",record2,1);
  Assert.assertTrue(fs.exists(new Path("test/registryTestNode/_record")));
  ServiceRecord readRecord=registry.resolve("test/registryTestNode");
  Assert.assertTrue(readRecord.equals(record2));
  System.out.println("Bind record3, overwrite = 0");
  try {
    registry.bind("test/registryTestNode",record1,0);
    Assert.fail("Should not overwrite record");
  }
 catch (  IOException e) {
  }
  readRecord=registry.resolve("test/registryTestNode");
  Assert.assertTrue(readRecord.equals(record2));
}
