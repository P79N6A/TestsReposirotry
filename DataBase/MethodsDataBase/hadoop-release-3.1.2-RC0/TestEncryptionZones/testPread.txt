@Test public void testPread() throws Exception {
  Path zonePath=new Path("/TestEncryptionZone");
  fsWrapper.mkdir(zonePath,FsPermission.getDirDefault(),false);
  dfsAdmin.createEncryptionZone(zonePath,TEST_KEY,NO_TRASH);
  final Path encryptedFilePath=new Path("/TestEncryptionZone/foo");
  WebHdfsFileSystem webfs=WebHdfsTestUtil.getWebHdfsFileSystem(conf,WebHdfsConstants.WEBHDFS_SCHEME);
  DFSTestUtil.createFile(webfs,encryptedFilePath,1024,(short)1,0xFEED);
  byte[] data=DFSTestUtil.readFileAsBytes(fs,encryptedFilePath);
  FSDataInputStream in=webfs.open(encryptedFilePath);
  for (int i=0; i < 1024; i++) {
    in.seek(i);
    Assert.assertEquals((data[i] & 0XFF),in.read());
  }
}
