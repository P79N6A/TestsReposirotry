@SuppressWarnings("deprecation") @Test public void testRMAppSubmitAMContainerResourceRequest() throws Exception {
  asContext.setResource(Resources.createResource(1024));
  asContext.setAMContainerResourceRequests(null);
  ResourceRequest req=ResourceRequest.newInstance(Priority.newInstance(0),ResourceRequest.ANY,Resources.createResource(1025),1,true);
  req.setNodeLabelExpression(RMNodeLabelsManager.NO_LABEL);
  asContext.setAMContainerResourceRequest(cloneResourceRequest(req));
  Assert.assertEquals(req,asContext.getAMContainerResourceRequest());
  Assert.assertEquals(req,asContext.getAMContainerResourceRequests().get(0));
  Assert.assertEquals(1,asContext.getAMContainerResourceRequests().size());
  RMApp app=testRMAppSubmit();
  Assert.assertEquals(Collections.singletonList(req),app.getAMResourceRequests());
}
