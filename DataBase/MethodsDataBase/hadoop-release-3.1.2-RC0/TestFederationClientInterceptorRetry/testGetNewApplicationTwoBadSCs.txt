/** 
 * This test validates the correctness of GetNewApplication in case the cluster is composed of only 2 bad SubClusters.
 */
@Test public void testGetNewApplicationTwoBadSCs() throws YarnException, IOException, InterruptedException {
  System.out.println("Test getNewApplication with two bad SubClusters");
  setupCluster(Arrays.asList(bad1,bad2));
  try {
    interceptor.getNewApplication(GetNewApplicationRequest.newInstance());
    Assert.fail();
  }
 catch (  Exception e) {
    System.out.println(e.toString());
    Assert.assertTrue(e.getMessage().equals(FederationPolicyUtils.NO_ACTIVE_SUBCLUSTER_AVAILABLE));
  }
}
