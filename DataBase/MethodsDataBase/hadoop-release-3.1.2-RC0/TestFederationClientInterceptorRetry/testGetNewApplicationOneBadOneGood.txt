/** 
 * This test validates the correctness of GetNewApplication in case the cluster is composed of only 1 bad SubCluster and 1 good one.
 */
@Test public void testGetNewApplicationOneBadOneGood() throws YarnException, IOException, InterruptedException {
  System.out.println("Test getNewApplication with one bad, one good SC");
  setupCluster(Arrays.asList(good,bad2));
  GetNewApplicationResponse response=null;
  try {
    response=interceptor.getNewApplication(GetNewApplicationRequest.newInstance());
  }
 catch (  Exception e) {
    Assert.fail();
  }
  Assert.assertEquals(Integer.parseInt(good.getId()),response.getApplicationId().getClusterTimestamp());
}
