@Test public void testGetBucketPasswordFromProviderShort() throws Throwable {
  final Configuration conf=confWithProvider();
  URI bucketURI=new URI("s3a://" + BUCKET + "/");
  setProviderOption(conf,SECRET_KEY,"unbucketed");
  String bucketedKey=String.format(BUCKET_PATTERN,BUCKET,"secret.key");
  setProviderOption(conf,bucketedKey,SECRET);
  assertSecretKeyEquals(conf,BUCKET,SECRET,"");
  assertSecretKeyEquals(conf,bucketURI.getHost(),SECRET,"");
  assertSecretKeyEquals(conf,bucketURI.getHost(),"overidden","overidden");
}
