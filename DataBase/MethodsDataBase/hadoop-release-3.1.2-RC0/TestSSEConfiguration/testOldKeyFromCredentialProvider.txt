/** 
 * Very that the old key is picked up via the properties.
 * @throws Exception failure
 */
@Test public void testOldKeyFromCredentialProvider() throws Exception {
  final Configuration conf=confWithProvider();
  String key="provisioned";
  setProviderOption(conf,OLD_S3A_SERVER_SIDE_ENCRYPTION_KEY,key);
  String sseKey=getServerSideEncryptionKey(BUCKET,conf);
  assertNotNull("Proxy password should not retrun null.",sseKey);
  assertEquals("Proxy password override did NOT work.",key,sseKey);
}
