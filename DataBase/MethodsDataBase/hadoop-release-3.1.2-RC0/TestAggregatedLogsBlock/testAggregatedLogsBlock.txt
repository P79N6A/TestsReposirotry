/** 
 * Reading from logs should succeed and they should be shown in the AggregatedLogsBlock html.
 * @throws Exception
 */
@Test public void testAggregatedLogsBlock() throws Exception {
  FileUtil.fullyDelete(new File("target/logs"));
  Configuration configuration=getConfiguration();
  writeLogs("target/logs/logs/application_0_0001/container_0_0001_01_000001");
  writeLog(configuration,"admin");
  ByteArrayOutputStream data=new ByteArrayOutputStream();
  PrintWriter printWriter=new PrintWriter(data);
  HtmlBlock html=new HtmlBlockForTest();
  HtmlBlock.Block block=new BlockForTest(html,printWriter,10,false);
  TFileAggregatedLogsBlockForTest aggregatedBlock=getTFileAggregatedLogsBlockForTest(configuration,"admin","container_0_0001_01_000001","localhost:1234");
  aggregatedBlock.render(block);
  block.getWriter().flush();
  String out=data.toString();
  assertTrue(out.contains("test log1"));
  assertTrue(out.contains("test log2"));
  assertTrue(out.contains("test log3"));
}
