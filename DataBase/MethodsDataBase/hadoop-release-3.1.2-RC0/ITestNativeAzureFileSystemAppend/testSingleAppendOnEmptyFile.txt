@Test public void testSingleAppendOnEmptyFile() throws Throwable {
  FSDataOutputStream appendStream=null;
  try {
    createBaseFileWithData(0,testPath);
    int appendDataSize=20;
    byte[] appendDataBuffer=getTestData(appendDataSize);
    appendStream=fs.append(testPath,10);
    appendStream.write(appendDataBuffer);
    appendStream.close();
    assertTrue(verifyAppend(appendDataBuffer,testPath));
  }
  finally {
    if (appendStream != null) {
      appendStream.close();
    }
  }
}
