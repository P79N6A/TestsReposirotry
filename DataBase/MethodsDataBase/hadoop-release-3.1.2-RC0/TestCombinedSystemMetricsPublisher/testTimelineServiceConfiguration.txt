@Test(timeout=10000) public void testTimelineServiceConfiguration() throws Exception {
  Configuration config=new Configuration(false);
  config.setBoolean(YarnConfiguration.TIMELINE_SERVICE_ENABLED,true);
  config.set(YarnConfiguration.TIMELINE_SERVICE_VERSIONS,"2.0,1.5");
  config.set(YarnConfiguration.TIMELINE_SERVICE_VERSION,"2.0");
  Assert.assertTrue(YarnConfiguration.timelineServiceV2Enabled(config));
  Assert.assertTrue(YarnConfiguration.timelineServiceV15Enabled(config));
  Assert.assertTrue(YarnConfiguration.timelineServiceV1Enabled(config));
  config.set(YarnConfiguration.TIMELINE_SERVICE_VERSIONS,"2.0,1");
  config.set(YarnConfiguration.TIMELINE_SERVICE_VERSION,"1.5");
  Assert.assertTrue(YarnConfiguration.timelineServiceV2Enabled(config));
  Assert.assertFalse(YarnConfiguration.timelineServiceV15Enabled(config));
  Assert.assertTrue(YarnConfiguration.timelineServiceV1Enabled(config));
  config.set(YarnConfiguration.TIMELINE_SERVICE_VERSIONS,"2.0");
  config.set(YarnConfiguration.TIMELINE_SERVICE_VERSION,"1.5");
  Assert.assertTrue(YarnConfiguration.timelineServiceV2Enabled(config));
  Assert.assertFalse(YarnConfiguration.timelineServiceV15Enabled(config));
  Assert.assertFalse(YarnConfiguration.timelineServiceV1Enabled(config));
}
