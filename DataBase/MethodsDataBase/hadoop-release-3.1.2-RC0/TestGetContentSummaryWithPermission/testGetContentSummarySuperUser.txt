/** 
 * Test getContentSummary for super user. For super user, whatever permission the directories are with, always allowed to access
 * @throws Exception
 */
@Test public void testGetContentSummarySuperUser() throws Exception {
  final Path foo=new Path("/fooSuper");
  final Path bar=new Path(foo,"barSuper");
  final Path baz=new Path(bar,"bazSuper");
  dfs.mkdirs(bar);
  DFSTestUtil.createFile(dfs,baz,10,REPLICATION,0L);
  ContentSummary summary;
  summary=cluster.getNameNodeRpc().getContentSummary(foo.toString());
  verifySummary(summary,2,1,10);
  dfs.setPermission(foo,new FsPermission((short)0));
  summary=cluster.getNameNodeRpc().getContentSummary(foo.toString());
  verifySummary(summary,2,1,10);
  dfs.setPermission(bar,new FsPermission((short)0));
  summary=cluster.getNameNodeRpc().getContentSummary(foo.toString());
  verifySummary(summary,2,1,10);
  dfs.setPermission(baz,new FsPermission((short)0));
  summary=cluster.getNameNodeRpc().getContentSummary(foo.toString());
  verifySummary(summary,2,1,10);
}
