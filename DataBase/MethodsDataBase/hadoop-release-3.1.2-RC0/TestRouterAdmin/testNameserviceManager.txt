@Test public void testNameserviceManager() throws IOException {
  RouterClient client=routerContext.getAdminClient();
  NameserviceManager nsManager=client.getNameserviceManager();
  Set<String> disabled=getDisabledNameservices(nsManager);
  assertTrue(disabled.isEmpty());
  DisableNameserviceRequest disableReq=DisableNameserviceRequest.newInstance("ns0");
  DisableNameserviceResponse disableResp=nsManager.disableNameservice(disableReq);
  assertTrue(disableResp.getStatus());
  disabled=getDisabledNameservices(nsManager);
  assertEquals(1,disabled.size());
  assertTrue(disabled.contains("ns0"));
  EnableNameserviceRequest enableReq=EnableNameserviceRequest.newInstance("ns0");
  EnableNameserviceResponse enableResp=nsManager.enableNameservice(enableReq);
  assertTrue(enableResp.getStatus());
  disabled=getDisabledNameservices(nsManager);
  assertTrue(disabled.isEmpty());
  disableReq=DisableNameserviceRequest.newInstance("nsunknown");
  disableResp=nsManager.disableNameservice(disableReq);
  assertFalse(disableResp.getStatus());
}
