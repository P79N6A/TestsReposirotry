@Test public void testDockerRmOnWhenExited() throws Exception {
  env.put(DockerLinuxContainerRuntime.ENV_DOCKER_CONTAINER_DELAYED_REMOVAL,"false");
  conf.set(YarnConfiguration.NM_DOCKER_ALLOW_DELAYED_REMOVAL,"true");
  DockerLinuxContainerRuntime runtime=new DockerLinuxContainerRuntime(mockExecutor,mockCGroupsHandler);
  builder.setExecutionAttribute(RUN_AS_USER,runAsUser).setExecutionAttribute(USER,user);
  runtime.initialize(enableMockContainerExecutor(conf),null);
  runtime.reapContainer(builder.build());
  verify(mockExecutor,times(1)).executePrivilegedOperation(anyList(),any(),any(File.class),anyMap(),anyBoolean(),anyBoolean());
}
