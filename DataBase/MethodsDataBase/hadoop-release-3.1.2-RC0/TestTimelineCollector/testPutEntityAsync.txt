/** 
 * Test TimelineCollector's interaction with TimelineWriter upon putEntityAsync() calls.
 */
@Test public void testPutEntityAsync() throws IOException {
  TimelineWriter writer=mock(TimelineWriter.class);
  TimelineCollector collector=new TimelineCollectorForTest(writer);
  TimelineEntities entities=generateTestEntities(1,1);
  collector.putEntitiesAsync(entities,UserGroupInformation.createRemoteUser("test-user"));
  verify(writer,times(1)).write(any(TimelineCollectorContext.class),any(TimelineEntities.class),any(UserGroupInformation.class));
  verify(writer,never()).flush();
}
