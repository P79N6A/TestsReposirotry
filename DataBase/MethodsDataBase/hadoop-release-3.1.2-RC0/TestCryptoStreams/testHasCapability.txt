/** 
 * This tests  {@link StreamCapabilities#hasCapability(String)} for thethe underlying streams.
 */
@Test(timeout=120000) public void testHasCapability() throws Exception {
  CryptoOutputStream cos=(CryptoOutputStream)getOutputStream(defaultBufferSize,key,iv);
  assertTrue(cos instanceof StreamCapabilities);
  assertTrue(cos.hasCapability(StreamCapabilities.HFLUSH));
  assertTrue(cos.hasCapability(StreamCapabilities.HSYNC));
  assertTrue(cos.hasCapability(StreamCapabilities.DROPBEHIND));
  assertFalse(cos.hasCapability(StreamCapabilities.READAHEAD));
  assertFalse(cos.hasCapability(StreamCapabilities.UNBUFFER));
  CryptoInputStream cis=(CryptoInputStream)getInputStream(defaultBufferSize,key,iv);
  assertTrue(cis instanceof StreamCapabilities);
  assertTrue(cis.hasCapability(StreamCapabilities.DROPBEHIND));
  assertTrue(cis.hasCapability(StreamCapabilities.READAHEAD));
  assertTrue(cis.hasCapability(StreamCapabilities.UNBUFFER));
  assertFalse(cis.hasCapability(StreamCapabilities.HFLUSH));
  assertFalse(cis.hasCapability(StreamCapabilities.HSYNC));
}
