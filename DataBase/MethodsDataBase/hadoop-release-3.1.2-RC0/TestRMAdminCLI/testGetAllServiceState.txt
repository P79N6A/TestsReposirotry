@Test public void testGetAllServiceState() throws Exception {
  HAServiceStatus standbyStatus=new HAServiceStatus(HAServiceState.STANDBY).setReadyToBecomeActive();
  Mockito.doReturn(standbyStatus).when(haadmin).getServiceStatus();
  ByteArrayOutputStream dataOut=new ByteArrayOutputStream();
  rmAdminCLIWithHAEnabled.setOut(new PrintStream(dataOut));
  String[] args={"-getAllServiceState"};
  assertEquals(0,rmAdminCLIWithHAEnabled.run(args));
  assertTrue(dataOut.toString().contains(String.format("%-50s %-10s",(HOST_A + ":" + 12346),standbyStatus.getState())));
  assertTrue(dataOut.toString().contains(String.format("%-50s %-10s",(HOST_B + ":" + 12346),standbyStatus.getState())));
  rmAdminCLIWithHAEnabled.setOut(System.out);
}
