/** 
 * Unit test for  {@link OutlierDetector#computeMad(List)}.
 */
@Test public void testMadsFromTestMatrix(){
  for (  Map.Entry<List<Double>,Pair<Double,Double>> entry : medianTestMatrix.entrySet()) {
    final List<Double> inputList=new ArrayList<>(entry.getKey());
    Collections.sort(inputList);
    final Double mad=OutlierDetector.computeMad(inputList);
    final Double expectedMad=entry.getValue().getRight();
    if (entry.getKey().size() > 1) {
      final Double errorPercent=Math.abs(mad - expectedMad) * 100.0 / expectedMad;
      assertTrue("Set " + entry.getKey() + "; Expected M.A.D.: "+ expectedMad+ ", got: "+ mad,errorPercent < 0.001);
    }
 else {
      final Double epsilon=0.000001;
      assertTrue("Set " + entry.getKey() + "; Expected M.A.D.: "+ expectedMad+ ", got: "+ mad,mad < epsilon);
    }
  }
}
