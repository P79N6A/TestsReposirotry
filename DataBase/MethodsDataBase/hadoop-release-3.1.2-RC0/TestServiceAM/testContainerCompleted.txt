@Test public void testContainerCompleted() throws TimeoutException, InterruptedException {
  ApplicationId applicationId=ApplicationId.newInstance(123456,1);
  Service exampleApp=new Service();
  exampleApp.setId(applicationId.toString());
  exampleApp.setVersion("v1");
  exampleApp.setName("testContainerCompleted");
  exampleApp.addComponent(createComponent("compa",1,"pwd"));
  MockServiceAM am=new MockServiceAM(exampleApp);
  am.init(conf);
  am.start();
  ComponentInstance compa0=am.getCompInstance("compa","compa-0");
  am.feedContainerToComp(exampleApp,1,"compa");
  am.waitForCompInstanceState(compa0,ComponentInstanceState.STARTED);
  LOG.info("Fail the container 1");
  am.feedFailedContainerToComp(exampleApp,1,"compa");
  am.feedContainerToComp(exampleApp,2,"compa");
  am.waitForCompInstanceState(compa0,ComponentInstanceState.INIT);
  Assert.assertEquals(1,am.getComponent("compa").getPendingInstances().size());
  am.stop();
}
