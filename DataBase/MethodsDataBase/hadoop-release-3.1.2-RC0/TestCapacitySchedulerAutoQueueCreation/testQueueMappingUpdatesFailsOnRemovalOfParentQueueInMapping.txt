@Test(timeout=10000) public void testQueueMappingUpdatesFailsOnRemovalOfParentQueueInMapping() throws Exception {
  MockRM newMockRM=setupSchedulerInstance();
  try {
    CapacityScheduler newCS=(CapacityScheduler)newMockRM.getResourceScheduler();
    setupQueueMapping(newCS,CURRENT_USER_MAPPING,"c",CURRENT_USER_MAPPING);
    newCS.updatePlacementRules();
    try {
      setupQueueMapping(newCS,CURRENT_USER_MAPPING,"",CURRENT_USER_MAPPING);
      newCS.updatePlacementRules();
      fail("Expected invalid parent queue mapping failure");
    }
 catch (    IOException e) {
      assertTrue(e.getMessage().contains("invalid parent queue []"));
    }
  }
  finally {
    if (newMockRM != null) {
      ((CapacityScheduler)newMockRM.getResourceScheduler()).stop();
      newMockRM.stop();
    }
  }
}
