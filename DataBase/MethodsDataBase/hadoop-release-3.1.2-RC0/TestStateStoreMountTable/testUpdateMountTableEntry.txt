@Test public void testUpdateMountTableEntry() throws IOException {
  List<MountTable> entries=createMockMountTable(nameservices);
  MountTable entry0=entries.get(0);
  String srcPath=entry0.getSourcePath();
  String nsId=entry0.getDefaultLocation().getNameserviceId();
  AddMountTableEntryRequest request=AddMountTableEntryRequest.newInstance(entry0);
  AddMountTableEntryResponse response=mountStore.addMountTableEntry(request);
  assertTrue(response.getStatus());
  mountStore.loadCache(true);
  MountTable matchingEntry0=getMountTableEntry(srcPath);
  assertNotNull(matchingEntry0);
  assertEquals(nsId,matchingEntry0.getDefaultLocation().getNameserviceId());
  Map<String,String> destMap=Collections.singletonMap("testnameservice","/");
  MountTable replacement=MountTable.newInstance(srcPath,destMap);
  UpdateMountTableEntryRequest updateRequest=UpdateMountTableEntryRequest.newInstance(replacement);
  UpdateMountTableEntryResponse updateResponse=mountStore.updateMountTableEntry(updateRequest);
  assertTrue(updateResponse.getStatus());
  mountStore.loadCache(true);
  MountTable matchingEntry1=getMountTableEntry(srcPath);
  assertNotNull(matchingEntry1);
  assertEquals("testnameservice",matchingEntry1.getDefaultLocation().getNameserviceId());
}
