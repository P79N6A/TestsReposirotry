@Test(timeout=60000) public void testClientAccessPrivilegeForRemove() throws Exception {
  config.set("dfs.nfs.exports.allowed.hosts","* ro");
  Nfs3 nfs=new Nfs3(config);
  nfs.startServiceInternal(false);
  RpcProgramNfs3 nfsd=(RpcProgramNfs3)nfs.getRpcProgram();
  HdfsFileStatus status=nn.getRpcServer().getFileInfo(testdir);
  long dirId=status.getFileId();
  int namenodeId=Nfs3Utils.getNamenodeId(config);
  XDR xdr_req=new XDR();
  FileHandle handle=new FileHandle(dirId,namenodeId);
  handle.serialize(xdr_req);
  xdr_req.writeString("f1");
  REMOVE3Response response=nfsd.remove(xdr_req.asReadOnlyWrap(),securityHandler,new InetSocketAddress("localhost",1234));
  assertEquals("Incorrect return code",Nfs3Status.NFS3ERR_ACCES,response.getStatus());
}
