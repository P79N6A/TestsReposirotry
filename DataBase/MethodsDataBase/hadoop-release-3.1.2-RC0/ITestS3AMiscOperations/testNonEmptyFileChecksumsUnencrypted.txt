/** 
 * Verify that on an unencrypted store, the checksum of two non-empty (single PUT) files is the same if the data is the same. This will fail if the bucket has S3 default encryption enabled.
 * @throws Throwable failure
 */
@Test public void testNonEmptyFileChecksumsUnencrypted() throws Throwable {
  Assume.assumeTrue(encryptionAlgorithm().equals(S3AEncryptionMethods.NONE));
  final S3AFileSystem fs=getFileSystem();
  final EtagChecksum checksum1=fs.getFileChecksum(mkFile("file5",HELLO),0);
  assertNotNull("file 3 checksum",checksum1);
  assertEquals("checksums",checksum1,fs.getFileChecksum(mkFile("file6",HELLO),0));
}
