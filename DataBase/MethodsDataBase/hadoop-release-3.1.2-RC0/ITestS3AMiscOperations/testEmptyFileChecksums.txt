/** 
 * The assumption here is that 0-byte files uploaded in a single PUT always have the same checksum, including stores with encryption.
 * @throws Throwable on a failure
 */
@Test public void testEmptyFileChecksums() throws Throwable {
  final S3AFileSystem fs=getFileSystem();
  Path file1=touchFile("file1");
  EtagChecksum checksum1=fs.getFileChecksum(file1,0);
  LOG.info("Checksum for {}: {}",file1,checksum1);
  assertNotNull("Null file 1 checksum",checksum1);
  assertNotEquals("file 1 checksum",0,checksum1.getLength());
  assertEquals("checksums",checksum1,fs.getFileChecksum(touchFile("file2"),0));
}
