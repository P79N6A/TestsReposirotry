@Test public void testDisableLocalCache() throws IOException {
  Configuration conf=new Configuration();
  conf.setBoolean(FEDERATION_MOUNT_TABLE_CACHE_ENABLE,false);
  conf.setStrings(DFS_ROUTER_DEFAULT_NAMESERVICE,"0");
  MountTableResolver tmpMountTable=new MountTableResolver(conf);
  Map<String,String> map=getMountTableEntry("1","/");
  tmpMountTable.addEntry(MountTable.newInstance("/",map));
  map=getMountTableEntry("2","/tmp");
  tmpMountTable.addEntry(MountTable.newInstance("/tmp",map));
  try {
    tmpMountTable.getCacheSize();
    fail("getCacheSize call should fail.");
  }
 catch (  IOException e) {
    GenericTestUtils.assertExceptionContains("localCache is null",e);
  }
  assertEquals("2->/tmp/tesfile1.txt",tmpMountTable.getDestinationForPath("/tmp/tesfile1.txt").toString());
}
