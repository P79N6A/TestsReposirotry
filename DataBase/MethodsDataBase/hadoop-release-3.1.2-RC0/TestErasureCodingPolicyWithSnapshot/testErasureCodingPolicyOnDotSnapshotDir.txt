@Test public void testErasureCodingPolicyOnDotSnapshotDir() throws IOException {
  final Path ecDir=new Path("/ecdir");
  fs.mkdirs(ecDir);
  fs.allowSnapshot(ecDir);
  fs.setErasureCodingPolicy(ecDir,ecPolicy.getName());
  final Path snap=fs.createSnapshot(ecDir,"snap1");
  ErasureCodingPolicy ecSnap=fs.getErasureCodingPolicy(snap);
  assertEquals("Got unexpected erasure coding policy",ecPolicy,ecSnap);
  final Path ecDotSnapshotDir=new Path(ecDir,".snapshot");
  ErasureCodingPolicy ecSnap1=fs.getErasureCodingPolicy(ecDotSnapshotDir);
  assertNull("Got unexpected erasure coding policy",ecSnap1);
}
