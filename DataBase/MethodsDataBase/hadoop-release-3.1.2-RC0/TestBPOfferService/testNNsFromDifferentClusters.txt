/** 
 * Ensure that, if the two NNs configured for a block pool have different block pool IDs, they will refuse to both register.
 */
@Test public void testNNsFromDifferentClusters() throws Exception {
  Mockito.doReturn(new NamespaceInfo(1,"fake foreign cluster",FAKE_BPID,0)).when(mockNN1).versionRequest();
  BPOfferService bpos=setupBPOSForNNs(mockNN1,mockNN2);
  bpos.start();
  try {
    waitForOneToFail(bpos);
  }
  finally {
    bpos.stop();
    bpos.join();
  }
}
