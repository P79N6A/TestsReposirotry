@Test public void testProxyGetDatanodeStorageReport() throws IOException, InterruptedException, URISyntaxException {
  DatanodeStorageReport[] combinedData=routerProtocol.getDatanodeStorageReport(DatanodeReportType.ALL);
  Set<String> individualData=new HashSet<>();
  for (  String nameservice : cluster.getNameservices()) {
    NamenodeContext n=cluster.getNamenode(nameservice,null);
    DFSClient client=n.getClient();
    ClientProtocol clientProtocol=client.getNamenode();
    DatanodeStorageReport[] data=clientProtocol.getDatanodeStorageReport(DatanodeReportType.ALL);
    for (    DatanodeStorageReport report : data) {
      DatanodeInfo dn=report.getDatanodeInfo();
      individualData.add(dn.toString());
    }
  }
  assertEquals(combinedData.length,individualData.size());
}
