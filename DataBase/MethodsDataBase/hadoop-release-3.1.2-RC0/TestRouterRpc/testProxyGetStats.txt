@Test public void testProxyGetStats() throws Exception {
  Supplier<Boolean> check=new Supplier<Boolean>(){
    @Override public Boolean get(){
      try {
        long[] combinedData=routerProtocol.getStats();
        long[] individualData=getAggregateStats();
        int len=Math.min(combinedData.length,individualData.length);
        for (int i=0; i < len; i++) {
          if (combinedData[i] != individualData[i]) {
            LOG.error("Stats for {} don't match: {} != {}",i,combinedData[i],individualData[i]);
            return false;
          }
        }
        return true;
      }
 catch (      Exception e) {
        LOG.error("Cannot get stats: {}",e.getMessage());
        return false;
      }
    }
  }
;
  GenericTestUtils.waitFor(check,500,5 * 1000);
}
