/** 
 * This test validates the correctness of {@link RMWebServiceProtocol#getAppState()} inside Router.
 */
@Test(timeout=2000) public void testAppStateXML() throws Exception {
  String appId=submitApplication();
  List<AppState> responses=performGetCalls(RM_WEB_SERVICE_PATH + format(APPS_APPID_STATE,appId),AppState.class,null,null);
  AppState routerResponse=responses.get(0);
  AppState rmResponse=responses.get(1);
  assertNotNull(routerResponse);
  assertNotNull(rmResponse);
  assertEquals(rmResponse.getState(),routerResponse.getState());
}
