/** 
 * This test validates the correctness of {@link RMWebServiceProtocol#updateAppState()} inside Router.
 */
@Test(timeout=2000) public void testUpdateAppStateXML() throws Exception {
  String appId=submitApplication();
  String pathApp=RM_WEB_SERVICE_PATH + format(APPS_APPID_STATE,appId);
  ClientResponse badResponse=performCall(pathApp,null,null,null,POST);
  assertEquals(SC_INTERNAL_SERVER_ERROR,badResponse.getStatus());
  AppState appState=new AppState("KILLED");
  ClientResponse response=performCall(pathApp,null,null,appState,PUT);
  assertEquals(SC_ACCEPTED,response.getStatus());
  AppState ci=response.getEntity(AppState.class);
  assertNotNull(ci);
}
