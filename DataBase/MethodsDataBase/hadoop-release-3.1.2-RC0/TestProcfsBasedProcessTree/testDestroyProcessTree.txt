/** 
 * Verifies ProcfsBasedProcessTree.checkPidPgrpidForMatch() in case of 'constructProcessInfo() returning null' by not writing stat file for the mock process
 * @throws IOException if there was a problem setting up the fake procfs directories or files.
 */
@Test(timeout=30000) public void testDestroyProcessTree() throws IOException {
  String pid="100";
  File procfsRootDir=new File(TEST_ROOT_DIR,"proc");
  try {
    setupProcfsRootDir(procfsRootDir);
    createProcessTree(pid,procfsRootDir.getAbsolutePath(),SystemClock.getInstance());
    Assert.assertTrue(ProcfsBasedProcessTree.checkPidPgrpidForMatch(pid,procfsRootDir.getAbsolutePath()));
  }
  finally {
    FileUtil.fullyDelete(procfsRootDir);
  }
}
