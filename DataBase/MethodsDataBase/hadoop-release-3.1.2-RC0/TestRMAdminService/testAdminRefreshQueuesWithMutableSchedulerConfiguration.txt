@Test public void testAdminRefreshQueuesWithMutableSchedulerConfiguration(){
  configuration.set(YarnConfiguration.SCHEDULER_CONFIGURATION_STORE_CLASS,YarnConfiguration.MEMORY_CONFIGURATION_STORE);
  try {
    rm=new MockRM(configuration);
    rm.init(configuration);
    rm.start();
  }
 catch (  Exception ex) {
    fail("Should not get any exceptions");
  }
  try {
    rm.adminService.refreshQueues(RefreshQueuesRequest.newInstance());
    fail("Expected exception while calling refreshQueues when scheduler" + " configuration is mutable.");
  }
 catch (  Exception ex) {
    assertTrue(ex.getMessage().endsWith("Scheduler configuration is " + "mutable. refreshQueues is not allowed in this scenario."));
  }
}
