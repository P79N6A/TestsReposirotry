@Test public void testUpdateRouterStatus() throws IllegalStateException, IOException {
  long dateStarted=Time.now();
  String address="testaddress";
  RouterHeartbeatRequest request=RouterHeartbeatRequest.newInstance(RouterState.newInstance(address,dateStarted,RouterServiceState.RUNNING));
  assertTrue(routerStore.routerHeartbeat(request).getStatus());
  GetRouterRegistrationRequest getRequest=GetRouterRegistrationRequest.newInstance(address);
  RouterState record=routerStore.getRouterRegistration(getRequest).getRouter();
  assertNotNull(record);
  assertEquals(RouterServiceState.RUNNING,record.getStatus());
  assertEquals(address,record.getAddress());
  assertEquals(FederationUtil.getCompileInfo(),record.getCompileInfo());
  assertFalse(record.getVersion().isEmpty());
}
