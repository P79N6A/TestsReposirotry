@Test public void testLoadIllegalProfiles() throws Exception {
  Configuration conf=new Configuration();
  conf.setBoolean(YarnConfiguration.RM_RESOURCE_PROFILES_ENABLED,true);
  String[] badProfiles={"profiles/illegal-profiles-1.json","profiles/illegal-profiles-2.json","profiles/illegal-profiles-3.json"};
  for (  String file : badProfiles) {
    ResourceProfilesManager manager=new ResourceProfilesManagerImpl();
    conf.set(YarnConfiguration.RM_RESOURCE_PROFILES_SOURCE_FILE,file);
    try {
      manager.init(conf);
      Assert.fail("Bad profile '" + file + "' is not valid");
    }
 catch (    IOException ie) {
    }
  }
}
