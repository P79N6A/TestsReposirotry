@Test public void testImplicitDirectory() throws Exception {
  Path path=new Path("/dir");
  String key=path.toUri().getPath().substring(1);
  when(s3.getObjectMetadata(argThat(correctGetMetadataRequest(BUCKET,key)))).thenThrow(NOT_FOUND);
  when(s3.getObjectMetadata(argThat(correctGetMetadataRequest(BUCKET,key + "/")))).thenThrow(NOT_FOUND);
  setupListMocks(Collections.singletonList("dir/"),Collections.emptyList());
  FileStatus stat=fs.getFileStatus(path);
  assertNotNull(stat);
  assertEquals(fs.makeQualified(path),stat.getPath());
  assertTrue(stat.isDirectory());
  ContractTestUtils.assertNotErasureCoded(fs,path);
  assertTrue(path + " should have erasure coding unset in " + "FileStatus#toString(): "+ stat,stat.toString().contains("isErasureCoded=false"));
}
