@Test public void testErasureCodingPolicyMissingOptionalFields() throws Exception {
  HdfsProtos.ECSchemaProto schemaProto=PBHelperClient.convertECSchema(StripedFileTestUtil.getDefaultECPolicy().getSchema());
  try {
    PBHelperClient.convertErasureCodingPolicy(HdfsProtos.ErasureCodingPolicyProto.newBuilder().setId(14).setSchema(schemaProto).setCellSize(123).build());
  }
 catch (  IllegalArgumentException e) {
    GenericTestUtils.assertExceptionContains("Missing",e);
  }
  try {
    PBHelperClient.convertErasureCodingPolicy(HdfsProtos.ErasureCodingPolicyProto.newBuilder().setId(14).setName("testpolicy").setCellSize(123).build());
  }
 catch (  IllegalArgumentException e) {
    GenericTestUtils.assertExceptionContains("Missing",e);
  }
  try {
    PBHelperClient.convertErasureCodingPolicy(HdfsProtos.ErasureCodingPolicyProto.newBuilder().setId(14).setName("testpolicy").setSchema(schemaProto).build());
  }
 catch (  IllegalArgumentException e) {
    GenericTestUtils.assertExceptionContains("Missing",e);
  }
}
