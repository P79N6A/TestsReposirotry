@Test public void testPositiveRefCount(){
  ConcurrentMap<LocalResourceRequest,LocalizedResource> publicRsrc=new ConcurrentHashMap<LocalResourceRequest,LocalizedResource>();
  LocalResourceRequest survivor=addResource(publicRsrc,"/pub-resource1.txt",1,20,1);
  addResource(publicRsrc,"/pub-resource2.txt",5,20,0);
  ConcurrentMap<String,LocalResourcesTracker> privateRsrc=new ConcurrentHashMap<String,LocalResourcesTracker>();
  ResourceLocalizationService rls=createLocService(publicRsrc,privateRsrc,0);
  LocalCacheCleanerStats stats=rls.handleCacheCleanup();
  StubbedLocalResourcesTrackerImpl resources=(StubbedLocalResourcesTrackerImpl)rls.publicRsrc;
  assertEquals(1,resources.getLocalRsrc().size());
  assertTrue(resources.getLocalRsrc().containsKey(survivor));
  assertEquals(20,stats.getTotalDelSize());
  assertEquals(20,rls.metrics.getTotalBytesDeleted());
  assertEquals(20,stats.getPublicDelSize());
  assertEquals(20,rls.metrics.getPublicBytesDeleted());
  assertEquals(0,stats.getPrivateDelSize());
  assertEquals(0,rls.metrics.getPrivateBytesDeleted());
  assertEquals(40,rls.metrics.getCacheSizeBeforeClean());
}
