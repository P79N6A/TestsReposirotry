@Test(timeout=30000) public void testCount() throws Exception {
  FsShell shell=new FsShell(dfs.getConf());
  String root=createTree(dfs,"count");
  runCount(root,2,4,shell);
  runCount(root + "2",2,1,shell);
  runCount(root + "2/f1",0,1,shell);
  runCount(root + "2/sub",1,0,shell);
  final FileSystem localfs=FileSystem.getLocal(dfs.getConf());
  Path localpath=new Path(TEST_ROOT_DIR,"testcount");
  localpath=localpath.makeQualified(localfs.getUri(),localfs.getWorkingDirectory());
  localfs.mkdirs(localpath);
  final String localstr=localpath.toString();
  System.out.println("localstr=" + localstr);
  runCount(localstr,1,0,shell);
  assertEquals(0,runCmd(shell,"-count",root,localstr));
}
