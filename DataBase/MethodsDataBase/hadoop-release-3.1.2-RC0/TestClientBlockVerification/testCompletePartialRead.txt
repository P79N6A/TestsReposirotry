/** 
 * Test that if we ask for a half block, and read it all, we *do send CHECKSUM_OK. The DN takes care of knowing whether it was the whole block or not.
 */
@Test public void testCompletePartialRead() throws Exception {
  BlockReaderRemote reader=(BlockReaderRemote)spy(util.getBlockReader(testBlock,0,FILE_SIZE_K * 1024 / 2));
  util.readAndCheckEOS(reader,FILE_SIZE_K * 1024 / 2,true);
  verify(reader).sendReadResult(Status.CHECKSUM_OK);
  reader.close();
}
