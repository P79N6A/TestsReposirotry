/** 
 * With the custom provider configured, verify file status attributes. A superuser can bypass permission check while resolving paths. So, verify file status for both superuser and non-superuser.
 */
@Test public void testCustomProvider() throws Exception {
  final UserGroupInformation[] users=new UserGroupInformation[]{UserGroupInformation.createUserForTesting(System.getProperty("user.name"),new String[]{"supergroup"}),UserGroupInformation.createUserForTesting("normaluser",new String[]{"normalusergroup"})};
  for (  final UserGroupInformation user : users) {
    user.doAs((PrivilegedExceptionAction<Object>)() -> {
      verifyFileStatus(user);
      return null;
    }
);
  }
}
