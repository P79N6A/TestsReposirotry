@Test public void testInvalidTags() throws Exception {
  PrintStream output=System.out;
  try {
    ByteArrayOutputStream bytes=new ByteArrayOutputStream();
    System.setOut(new PrintStream(bytes));
    out=new BufferedWriter(new FileWriter(CONFIG));
    startConfig();
    appendPropertyByTag("dfs.cblock.trace.io","false","MYOWNTAG,TAG2");
    endConfig();
    Path fileResource=new Path(CONFIG);
    conf.addResource(fileResource);
    conf.getProps();
    List<String> tagList=new ArrayList<>();
    tagList.add("REQUIRED");
    tagList.add("MYOWNTAG");
    tagList.add("TAG2");
    Properties properties=conf.getAllPropertiesByTags(tagList);
    assertEq(0,properties.size());
    assertFalse(properties.containsKey("dfs.cblock.trace.io"));
    assertFalse(bytes.toString().contains("Invalid tag "));
    assertFalse(bytes.toString().contains("Tag"));
  }
  finally {
    System.setOut(output);
  }
}
