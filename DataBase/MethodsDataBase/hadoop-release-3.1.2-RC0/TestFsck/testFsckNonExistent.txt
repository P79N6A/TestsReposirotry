@Test public void testFsckNonExistent() throws Exception {
  DFSTestUtil util=new DFSTestUtil.Builder().setName("TestFsck").setNumFiles(20).build();
  FileSystem fs=null;
  conf.setLong(DFSConfigKeys.DFS_BLOCKREPORT_INTERVAL_MSEC_KEY,10000L);
  File builderBaseDir=new File(GenericTestUtils.getRandomizedTempPath());
  cluster=new MiniDFSCluster.Builder(conf,builderBaseDir).numDataNodes(4).build();
  fs=cluster.getFileSystem();
  util.createFiles(fs,"/srcdat");
  util.waitReplication(fs,"/srcdat",(short)3);
  String outStr=runFsck(conf,0,true,"/non-existent");
  assertEquals(-1,outStr.indexOf(NamenodeFsck.HEALTHY_STATUS));
  System.out.println(outStr);
  util.cleanup(fs,"/srcdat");
}
