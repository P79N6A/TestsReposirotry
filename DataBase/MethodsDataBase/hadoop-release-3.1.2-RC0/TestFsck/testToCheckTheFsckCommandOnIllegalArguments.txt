/** 
 * Test for checking fsck command on illegal arguments should print the proper usage.
 */
@Test public void testToCheckTheFsckCommandOnIllegalArguments() throws Exception {
  File builderBaseDir=new File(GenericTestUtils.getRandomizedTempPath());
  cluster=new MiniDFSCluster.Builder(conf,builderBaseDir).build();
  String fileName="/test.txt";
  Path filePath=new Path(fileName);
  FileSystem fs=cluster.getFileSystem();
  DFSTestUtil.createFile(fs,filePath,1L,(short)1,1L);
  DFSTestUtil.waitReplication(fs,filePath,(short)1);
  String outStr=runFsck(conf,-1,true,fileName,"-thisIsNotAValidFlag");
  System.out.println(outStr);
  assertTrue(!outStr.contains(NamenodeFsck.HEALTHY_STATUS));
  outStr=runFsck(conf,-1,true,"/",fileName);
  System.out.println(outStr);
  assertTrue(!outStr.contains(NamenodeFsck.HEALTHY_STATUS));
  fs.delete(filePath,true);
}
