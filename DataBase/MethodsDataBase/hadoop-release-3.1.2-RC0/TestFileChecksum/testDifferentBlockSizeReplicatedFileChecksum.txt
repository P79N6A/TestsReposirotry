@Test(timeout=90000) public void testDifferentBlockSizeReplicatedFileChecksum() throws Exception {
  byte[] fileData=StripedFileTestUtil.generateBytes(fileSize);
  String replicatedFile1="/replicatedFile1";
  String replicatedFile2="/replicatedFile2";
  DFSTestUtil.writeFile(fs,new Path(replicatedFile1),fileData,blockSize);
  DFSTestUtil.writeFile(fs,new Path(replicatedFile2),fileData,blockSize / 2);
  FileChecksum checksum1=getFileChecksum(replicatedFile1,-1,false);
  FileChecksum checksum2=getFileChecksum(replicatedFile2,-1,false);
  if (expectComparableDifferentBlockSizeReplicatedFiles()) {
    Assert.assertEquals(checksum1,checksum2);
  }
 else {
    Assert.assertNotEquals(checksum1,checksum2);
  }
}
