@Test(timeout=30000) public void testNamenodeRestart() throws Exception {
  createImage(new FSTreeWalk(providedPath,conf),nnDirPath,FixedBlockResolver.class);
  startCluster(nnDirPath,3,null,new StorageType[][]{{StorageType.PROVIDED,StorageType.DISK},{StorageType.PROVIDED,StorageType.DISK},{StorageType.DISK}},false);
  verifyFileLocation(numFiles - 1,2);
  cluster.restartNameNodes();
  cluster.waitActive();
  verifyFileLocation(numFiles - 1,2);
}
