@Test public void testFairConfiguration() throws Exception {
  CapacitySchedulerConfiguration testConf=new CapacitySchedulerConfiguration();
  String tproot=ROOT + "." + "testPolicyRoot"+ System.currentTimeMillis();
  OrderingPolicy<FiCaSchedulerApp> schedOrder=testConf.<FiCaSchedulerApp>getAppOrderingPolicy(tproot);
  String policyType=CapacitySchedulerConfiguration.PREFIX + tproot + "."+ CapacitySchedulerConfiguration.ORDERING_POLICY;
  testConf.set(policyType,CapacitySchedulerConfiguration.FAIR_APP_ORDERING_POLICY);
  schedOrder=testConf.<FiCaSchedulerApp>getAppOrderingPolicy(tproot);
  FairOrderingPolicy fop=(FairOrderingPolicy<FiCaSchedulerApp>)schedOrder;
  assertFalse(fop.getSizeBasedWeight());
  String sbwConfig=CapacitySchedulerConfiguration.PREFIX + tproot + "."+ CapacitySchedulerConfiguration.ORDERING_POLICY+ "."+ FairOrderingPolicy.ENABLE_SIZE_BASED_WEIGHT;
  testConf.set(sbwConfig,"true");
  schedOrder=testConf.<FiCaSchedulerApp>getAppOrderingPolicy(tproot);
  fop=(FairOrderingPolicy<FiCaSchedulerApp>)schedOrder;
  assertTrue(fop.getSizeBasedWeight());
}
