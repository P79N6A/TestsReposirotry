@Test public void testGpuDiscover() throws YarnException {
  Assume.assumeTrue(Boolean.valueOf(System.getProperty("runGpuDiscoverUnitTest")));
  Configuration conf=new Configuration(false);
  GpuDiscoverer plugin=new GpuDiscoverer();
  plugin.initialize(conf);
  GpuDeviceInformation info=plugin.getGpuDeviceInformation();
  Assert.assertTrue(info.getGpus().size() > 0);
  Assert.assertEquals(plugin.getGpusUsableByYarn().size(),info.getGpus().size());
}
