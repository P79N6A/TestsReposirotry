/** 
 * Test to validate correct exception is thrown for Multithreaded read scenario for block blobs.
 */
@Test(expected=FileNotFoundException.class) public void testMultiThreadedBlockBlobReadScenario() throws Throwable {
  AzureBlobStorageTestAccount testAccount=createTestAccount();
  NativeAzureFileSystem fs=testAccount.getFileSystem();
  Path base=methodPath();
  Path testFilePath1=new Path(base,"test1.dat");
  Path renamePath=new Path(base,"test2.dat");
  getInputStreamToTest(fs,testFilePath1);
  Thread renameThread=new Thread(new RenameThread(fs,testFilePath1,renamePath));
  renameThread.start();
  renameThread.join();
  byte[] readBuffer=new byte[512];
  inputStream.read(readBuffer);
}
