@Test public void testListenerInitialization() throws Exception {
  NodeManager nodeManager=new NodeManager();
  Configuration conf=new Configuration();
  conf.set(YarnConfiguration.NM_CONTAINER_STATE_TRANSITION_LISTENERS,DummyCSTListener1.class.getName() + "," + DummyCSTListener2.class.getName());
  initCalls=0;
  preCalls=0;
  postCalls=0;
  NodeManager.NMContext nmContext=nodeManager.createNMContext(null,null,null,false,conf);
  Assert.assertEquals(2,initCalls);
  nmContext.getContainerStateTransitionListener().preTransition(null,null,null);
  nmContext.getContainerStateTransitionListener().postTransition(null,null,null,null);
  Assert.assertEquals(2,preCalls);
  Assert.assertEquals(2,postCalls);
}
