/** 
 * Test the case when a custom record delimiter is specified using the textinputformat.record.delimiter configuration property
 * @throws IOException
 * @throws InterruptedException
 * @throws ClassNotFoundException
 */
@Test public void testCustomRecordDelimiters() throws IOException, InterruptedException, ClassNotFoundException {
  Configuration conf=new Configuration();
  conf.set("textinputformat.record.delimiter","\t\n");
  FileSystem localFs=FileSystem.getLocal(conf);
  localFs.delete(workDir,true);
  createInputFile(conf);
  createAndRunJob(conf);
  String expected="0\tabc\ndef\n9\tghi\njkl\n";
  assertEquals(expected,readOutputFile(conf));
}
