@Test public void testChangeRootDirEcPolicy() throws Exception {
  final int numBlocks=1;
  final int fileLen=blockGroupSize * numBlocks;
  final Path rootPath=new Path("/");
  final Path ec63FilePath=new Path(rootPath,"ec_6_3_file");
  final Path ec32FilePath=new Path(rootPath,"ec_3_2_file");
  final ErasureCodingPolicy ec32Policy=SystemErasureCodingPolicies.getByID(SystemErasureCodingPolicies.RS_3_2_POLICY_ID);
  fs.unsetErasureCodingPolicy(rootPath);
  fs.setErasureCodingPolicy(rootPath,ecPolicy.getName());
  DFSTestUtil.createFile(fs,ec63FilePath,fileLen,(short)1,0L);
  fs.setErasureCodingPolicy(rootPath,ec32Policy.getName());
  DFSTestUtil.createFile(fs,ec32FilePath,fileLen,(short)1,0L);
  ErasureCodingPolicy tempEcPolicy=fs.getErasureCodingPolicy(ec63FilePath);
  Assert.assertTrue("Erasure coding policy mismatch!",tempEcPolicy.getName().equals(ecPolicy.getName()));
  tempEcPolicy=fs.getErasureCodingPolicy(ec32FilePath);
  Assert.assertTrue("Erasure coding policy mismatch!",tempEcPolicy.getName().equals(ec32Policy.getName()));
  tempEcPolicy=fs.getErasureCodingPolicy(rootPath);
  Assert.assertTrue("Directory should have erasure coding policy!",tempEcPolicy.getName().equals(ec32Policy.getName()));
  fs.delete(rootPath,true);
}
