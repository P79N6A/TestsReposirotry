/** 
 * Test if data directory is not readable/writable, DataNode won't start.
 */
@Test(timeout=120000) public void testDNFailToStartWithDataDirNonWritable() throws Exception {
  assumeNotWindows();
  final File readOnlyDir=new File(dataDir,"nonWritable");
  assertTrue("Set the data dir permission non-writable",readOnlyDir.mkdir() && readOnlyDir.setReadOnly());
  startNewDataNodeWithDiskFailure(new File(readOnlyDir,"newDir1"),false);
}
